---

title: Systems and methods for providing dynamic network authorization, authentication and accounting
abstract: Systems and methods for selectably controlling and customizing source access to a network, where the source is associated with a source computer, and wherein the source computer has transparent access to the network via a gateway device and no configuration software need be installed on the source computer to access the network. A user may be prevented access from a particular destination or site based upon the user's authorization while being permitted to access to other sites that the method and system deems accessible. The method and system can identify a source without that source's knowledge, and can access customizable access rights corresponding to that source in a source profile database. The source profile database can be a remote authentication dial-in user service (RADIUS) or a lightweight directory access protocol (LDAP) database. The method and system use source profiles within the source profile database to dynamically authorize source access to networks and destinations via networks.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08266266&OS=08266266&RS=08266266
owner: NOMADIX, Inc.
number: 08266266
owner_city: Agoura Hills
owner_country: US
publication_date: 20100111
---
This application is a continuation of copending U.S. patent application Ser. No. 11 427 143 filed on Jun. 28 2006 which is a continuation of U.S. patent application Ser. No. 09 693 060 filed on Oct. 20 2000 now U.S. Pat. No. 7 194 554 which is a continuation in part of U.S. patent application Ser. No. 09 458 569 now U.S. Pat. No. 6 636 894 titled Systems And Methods For Redirecting Users Having Transparent Computer Access To A Network Using A Gateway Device Having Redirection Capability which claims the benefit of the filing date and priority to U.S. Provisional Application Ser. No. 60 111 497 filed on Dec. 8 1998. U.S. patent application Ser. No. 09 693 060 is also a continuation in part of U.S. application Ser. No. 09 458 602 filed Dec. 8 1999 titled Systems and Methods For Authorizing Authenticating and Accounting Users Having Transparent Computer Access To A Network Using A Gateway Device. U.S. application Ser. No. 09 693 060 also claims the benefit of U.S. Provisional Application Ser. No. 60 161 182 filed Oct. 22 1999 titled Systems and Methods for Dynamic Bandwidth Management on a Per Subscriber Basis in a Computer Network U.S. Provisional Application Ser. No. 60 160 890 filed Oct. 22 1999 titled Systems and Methods for Creating Subscriber Tunnels by a Gateway Device in a Computer Network U.S. Provisional Application Ser. No. 60 161 139 filed Oct. 22 1999 titled Information And Control Console For Use With A Network Gateway Interface U.S. Provisional Application Ser. No. 60 161 189 filed Oct. 22 1999 titled Systems and Methods for Transparent Computer Access and Communication with a Service Provider Network Using a Network Gateway Device U.S. Provisional Application Ser. No. 60 160 973 filed Oct. 22 1999 titled Systems and Methods for Enabling Network Gateway Devices to Communicate with Management Systems to Facilitate Subscriber Management U.S. Provisional Application Ser. No. 60 161 181 filed Oct. 22 1999 titled Gateway Device Having an XML Interface and Associated Method and U.S. Provisional Application Ser. No. 60 161 093 filed Oct. 22 1999 titled Location Based Identification and Authorization for use With a Gateway Device. All of the above applications are incorporated by reference in their entirety.

The present invention relates generally to systems and methods for controlling network access and more particularly to systems and methods for establishing dynamic user network access.

User access to computer networks has traditionally been based upon a two step authentication process that either provides a user total network access or refuses the user any access whatsoever. In the first step of the process a user establishes a communication link with a network via a telephone line dedicated network connection e.g. Broadband Digital Signal Line DSL or the like. In the second step of the authentication process the user must input identification information to gain access to the network. Typically the input identification information includes a user name and password. Using this information the network or service provider verifies that the user is entitled to access the network by determining whether the identification information matches subscriber information contained in a subscriber table or database that stores identification information for all users authorized to access the network. Where user input information matches subscriber data in the subscriber table the user is authorized to access any and all services on the network. On the other hand if the user input identification information fails to match subscriber data in the table the user will be denied access to the network. Thus once a user s identity is compared to data stored within a subscription table the user is either entitled network access or denied access altogether. Furthermore where the user is authorized access to the network the user is typically authorized to access any destination accessible via the network. Therefore conventional authentication of users is based on an all or nothing approach to network access.

In many conventional network access applications such as in conventional Internet access applications the subscriber database or table not only stores data corresponding to the identity of subscribers authorized to access the network but also stores information that can vary based upon the particular subscriber. For instance the subscriber database can include subscriber profiles that indicate the type of access a subscriber should receive and other related information such as the fees due by the subscriber for network access. Although information in the subscriber database may vary from user to user information unique to the database is generally used for billing or network maintenance purposes. For instance conventional subscriber databases typically include data such as the cost the subscriber is paying for network access and the amount of time the subscriber has accessed the network. Thus where a subscriber to an Internet Service Provider ISP has purchased Internet access a source profile database may contain information that enables a user to be authenticated and tracks the user s access for accounting purposes such as maintaining a log of the user s time on the network.

Additionally in conventional network access systems in order for a user to connect to on line services e.g. the Internet the user must install client side software onto the user s computer. Client side software is typically provided by a network administrator or network access provider such as an ISP with whom the user has subscribed for Internet access and enables the client to configure his or her computer to communicate with that network access provider. Continuing with the illustrative example of a user accessing the Internet via an ISP the user must install ISP software on the client computer and thereafter establish an account with the ISP for Internet access. Typically a user subscribes to an ISP such as AMERICA ONLINE EARTHLINK COMPUSERVE or the like by contracting directly with the ISP for Internet access. Usually the user pays for such Internet access on a monthly fixed fee basis. Regardless of the user s location the user may dial up an access number provided by the ISP and obtain Internet access. The connection is often achieved via a conventional telephone modem cable modem DSL connection or the like.

Because users accessing networks through conventional methods such as through ISPs are either allowed or denied access to a network in an all or nothing approach users cannot be dynamically authorized access to a network such that the user s access and authorization to particular networks or sites is customizable. What is needed is a method and system that allows users dynamic and customizable access that may vary based upon any number of variables associated with a user such as a user location user name or password user computer or other attributes. For example it would be advantageous for some users to be authorized access to all Internet sites while others may be denied access to particular sites. In addition to authorizing user access to a network it would be advantageous for a network such as an ISP or enterprise network to selectively permit users a range of authorization such that the user s access is not based upon an all or nothing approach.

In addition user digital communications addresses such as internet or IP addresses are conventionally associated with a fixed physical location such as a user s business telephone line. However portable communications devices such as laptop computers are becoming increasingly popular and it is common for a user to access the internet from locations as diverse as hotel rooms and airplanes.

Digital communications networks are set up to route communications addressed to a communication address to the associated physical location. Thus if a laptop computer is connected to a remote location communications to and from the computer will not be associated with the user s communications address.

In order for a computer host to communicate across a network e.g. the internet software protocols e.g. Transport Control Protocol Internet Protocol TCP IP must be loaded into the host. A host computer sends information i.e. packets of data to devices on the network routers which receive the packets and send the packets back to the destination host.

The destination host will route replies back using a similar process. Each host computer and router must be configured so it will know who to send the packets of data to. A router will receive the packets only if the host computers specifically send address the packets to that router. If a host is configured incorrectly bad address then the host computer and router will be unable to communicate.

With the advent of mobile computers laptops and the desire to plug them into various networks to gain access to the resources on the network and internet a mobile computer must be configured for each network it plugs into. Traditionally this new configuration can be done either i manually in software on the mobile computer usually causing the mobile computer to be restarted to load in the new configuration or ii with a new set of protocols which must be utilized on the mobile computer to obtain the configuration information from a device on the network to which the computer is being connected. When new services protocols are created to add functionality to the host computers these new protocols must be updated in the host computers or routers depending upon the type of new functionality being added.

The present invention includes a method and system for selectively implementing and enforcing Authentication Authorization and Accounting AAA of users accessing a network via a gateway device. According to the present invention a user may first be authenticated to determine the identity of the user. The authentication capability of the system and method of the present invention can be based upon a user ID computer location or one or more additional attributes identifying a source e.g. a particular user computer or location requesting network access. Once authenticated an authorization capability of the system and method of the present invention is customized based upon the identity of the source such that sources have different access rights based upon their identity and the content and or destination requested. For instance access rights permit a first source to access a particular Internet destination address while refusing a second source access to that same address. In addition the authorization capability of the system and method of the present invention can be based upon the other information contained in the data transmission such as a destination port Internet address TCP port network or similar destination address. Moreover the AAA of the present invention can be based upon the content type or protocol being transmitted. By authenticating users in this manner each packet can be filtered through the selective AAA process so that a user can be identified and authorized access to a particular destination. Thus each time the user attempts to access a different destination the user is subject to the AAA so that the user may be prevented access from a particular site the AAA system and method deem inaccessible to the user based upon the user s authorization while permitting access to other sites that the AAA method and system deem accessible. Additionally according to one embodiment of the invention source access to the network may be tracked and logged by the present invention for accounting and historical purposes.

According to one embodiment of the invention there is disclosed a method for selectably controlling and customizing source access to a network wherein the source is associated with a source computer and wherein the source computer has transparent access to the network via a gateway device and no configuration software need be installed on the source computer to access the network. The method includes receiving at the gateway device a request from the source computer for access to the network identifying an attribute associated with the source based upon a packet transmitted from the source computer and received by the gateway device and accessing a source profile corresponding to the source and stored in a source profile database wherein the source profile is accessed based upon the attribute and wherein the source profile database is located external to the gateway device and in communication with the gateway device. The method also includes determining the access rights of the source based upon the source profile wherein access rights define the rights of the source to access the network.

According to one aspect of the invention determining the access rights of the source based upon the source profile includes determining the access rights of the source based upon the source profile wherein the access rights define the rights of the source to access a requested network destination. According to another aspect of the invention the method includes assigning a location identifier to the location from which requests for access to the network are transmitted and the location identifier is the attribute associated with the source. Furthermore according to the invention accessing a source profile corresponding to the source can include accessing a source profile stored in a source profile database where the source profile database includes a remote authentication dial in user service RADIUS or a lightweight directory access protocol LDAP database.

According to yet another aspect of the invention the method includes updating the source profile database when a new source accesses the network. Additionally the method can include maintaining in the source profile database a historical log of the source s access to the network. Moreover the attribute associated with the source can be based upon a MAC address User ID or VLAN ID associated with the source computer from which the request for access to the network was transmitted. According to yet another aspect of the invention receiving at the gateway device a request from a source for access can include the step of receiving a destination address from the source.

According to another embodiment of the invention there is disclosed a system for selectably controlling and customizing access to a network by a source where the source is associated with a source computer and wherein the source computer has transparent access to the network via a gateway device and no configuration software need be installed on the source computer to access the network. The system includes a gateway device for receiving a request from the source for access to the network and a source profile database in communication with the gateway device and located external to the gateway device wherein the source profile database stores access information identifiable by an attribute associated with the source and wherein the attribute is identified based upon a data packet transmitted from the source computer and received by the gateway device. The system also includes a AAA server in communication with the gateway device and source profile database wherein the AAA server determines if the source is entitled to access the network based upon the access information stored within the source profile database and wherein the AAA server determines the access rights of the source with the access rights defining the rights of the source to access destination sites via the network.

According to one aspect of the invention the packet received by the gateway device includes at least one of VLAN ID a circuit ID and a MAC address. Additionally according to another aspect of the invention the source profile database includes a remote authentication dial in user service RADIUS or a lightweight directory access protocol LDAP database. Further more the source profile database can include a plurality of source profiles wherein each respective source profile of the plurality of source profiles contains access information. According to the invention each respective source profile can also contain historical data relating to the duration of network access for use in determining the charges due for the network access. According to yet another aspect of the invention the source profile database can be located within the AAA server.

According to another embodiment of the present invention there is disclosed a method for redirecting a source attempting to access a destination through a gateway device wherein source is associated with a source computer and wherein the gateway device enables the source to communicate with a network without requiring the source computer to include network software configured for the network. The method includes receiving at the gateway device a request from the source to access the network identifying the source based upon an attribute associated with the source and accessing a source profile database located external to the gateway device where the source profile database stores access rights of the source. The method further includes determining the access rights of the source based upon the identification of the source wherein the access rights define the rights of the source to access destination sites via the network.

According to one aspect of the invention accessing a source profile database includes accessing a source profile database that includes a remote authentication dial in user service RADIUS or a lightweight directory access protocol LDAP database. According to another aspect of the invention the method can include assigning a location identifier to the location from which requests for access to the network are transmitted wherein the location identifier is the attribute associated with the source. The method can also include updating the source profile database when a new source accesses the network and maintaining in an accounting database a historical log of the source s access to the network wherein the accounting database is in communication with the source profile database.

According to yet another aspect of the invention receiving at the gateway device a request from a source for access can include the step of receiving a destination address from the source. Moreover determining if the source computer is entitled to access the destination address can further include denying the source computer access where the source profile indicates that the source computer is denied access. Determining if the source is entitled to access the network can also further include directing the source to a login page when the source profile is not located within the source profile database.

According to yet another embodiment of the invention there is disclosed a system for enabling transparent communication between a computer and a service provider network. The system includes a computer and a network gateway device in communication with the computer for connecting the computer to a computer network where the network gateway device receives source data that represents a user attempting to access said computer network. The system also includes a service provider network in communication with the network gateway device where the service provider network includes an authentication server located external to the network gateway device and in communication with the network gateway device. The authentication server has therein a source profile database comprising source profiles that represent users authorized to access said computer network and compares the source data to said source profiles to determine if the user attempting to access the computer network can access the computer network.

According to one aspect of the invention the system can include an accounting system for maintaining historical data concerning use of the service provider network. According to another aspect of the invention the authentication server includes a remote authentication dial in user service RADIUS or a lightweight directory access protocol LDAP database. Furthermore the source profile database can include a plurality of source profiles where each respective source profile of the plurality of source profiles contains access information. According to yet another aspect of the invention the source data includes an attribute associated with the computer and transmitted from the computer to the gateway device. According to anther aspect of the invention the source data includes login information associated with a respective user.

The Authentication Authorization and Accounting method and system according to the present invention enable users transparent access to a computer network employing a gateway device. Therefore each user may have differing rights to access services sites or destinations via the network. Thus the present invention differs from conventional AAA methods and systems by offering dynamic AAA services which authenticate users and offer those users varying degrees of authorization to utilize the accessed network. Furthermore the source profile database of the present invention can be located external to the gateway device and on a network non local to the network from which access is requested. An external source profile database is desirable because each gateway device allows a finite number of users to access the network so that multiple gateway devices may be required. Additionally administering and maintaining one consolidated database of authentication data is easier than multiple smaller databases. Moreover locating the database external to the local network allows an ISP or third party provider to maintain the confidentiality of the information stored within the database and maintain and control the database in any manner the third party provider so desires.

The present invention also comprises a method and system for redirecting users to a portal page where users have transparent access to a computer network utilizing a gateway device. The method and system advantageously operates in a manner transparent to the user since the user need not reconfigure their computer and no additional software need be added to the computer for reconfiguration purposes.

According to the invention users accessing the gateway device are redirected to a portal page. Where stored user profiles permit the users access to the destination network the users can be forwarded to the destination network or a portal page established by the network user or another entity. Otherwise users are directed to a login page in which the users must input user information so that the users can obtain access to networks and online services. The redirection function according to the present invention can be utilized to direct new or existing users to customized homepages established by the gateway device or individual users.

A method for dynamically creating new users having transparent computer access to a destination network is disclosed wherein the users otherwise have access to a home network through home network settings resident on the users computers and wherein the users can access the destination network without altering the home network settings. The method includes receiving at a gateway device a request from a user for access to a destination network determining if the user is entitled access to the destination network based upon a user profile corresponding to the user and stored within a user profile database in communication with the gateway device and redirecting the user to a login page when the user profile does not include rights to access the destination network. Furthermore the method of the present invention can include the step of forwarding the user to the destination network when the user profile includes rights to access the destination network. The method can also include the step of automatically redirecting the user to a portal page following receipt of a request for access to the destination network prior to determining if the user is entitled access to the destination network.

According to one aspect of the invention the method can include the step of establishing a login page on a webserver local to the gateway device prior to redirecting the user to the login page. The method can also include accepting user information at the login page which is thereafter utilized by the gateway device to authorize the user access to the destination network. The user profile database can be updated with the user information.

According to another aspect of the invention the user may be forwarded from the login page and returned to a portal page or directed to a destination address which can be an Internet destination address. Redirecting the user to a login page can include redirecting a browser located on the user s computer to the login page. Furthermore redirecting the browser located on the user s computer can include receiving a Hyper Text Transfer Protocol HTTP request for the destination address and responding with an HTTP response corresponding to the login page.

According to another embodiment of the invention a system for dynamically creating new users having transparent computer access to a destination network is disclosed wherein the users otherwise have access to a home network through home network settings resident on the users computers and wherein the users can access the destination network without altering the home network settings. The system includes a gateway device for receiving a request from a user for access to the destination network and a user profile database comprising stored access information and in communication with the gateway device. The system further includes an Authentication Authorization and Accounting AAA server in communication with the gateway device and user profile database where the AAA server determines if a user is entitled to access the destination network based upon the access information stored within the user profile database and wherein the AAA server redirects the user to a login page where the access information does not indicate the user s right to access the destination network. The system can also direct the user to a portal page upon the user s access to the network prior to determining the access rights of the user.

According to one aspect of the invention the login page is maintained local to the gateway device. The user profile database and AAA server can also be located within the gateway device. Furthermore the user profile database can be located within the AAA server.

According to another embodiment of the invention the user profile database includes a plurality of user profiles wherein each respective user profile of the plurality of user profiles contains access information. In addition each respective user profile may contain historical data relating to the duration of destination network access for use in determining the charges due for the destination network access.

According to another embodiment of the invention a method for redirecting users having transparent computer access to a destination network is disclosed wherein the users otherwise have access to a home network through home network settings resident on the users computers and wherein the users can access the destination network without altering the home network settings. The method includes receiving at a gateway device a request from a user for access to a destination address such as an Internet address and redirecting the user to a portal page wherein the user computer remains configured for accessing the home network and wherein no additional configuration software need be installed on the user s computer. Furthermore redirecting the user to a portal page can comprise redirecting the user to a portal page created by an administrator associated with the portal page or redirecting the user to a portal page customized by the user.

According to another embodiment of the invention a system for redirecting users having transparent computer access to a destination network is disclosed where the users otherwise have access to a home network through home network settings resident on the users computers and wherein the users can access the destination network without altering the home network settings. The system includes a gateway device for receiving a request from a user for access to the destination network and an AAA server in communication with the gateway device where the AAA server intercepts the request from the user for access to the destination network and redirects the user to a portal page wherein the user s computer remains configured for accessing the home network and wherein no additional configuration software need be installed on the user s computer. According to one aspect of the invention the AAA server is located entirely within the gateway device. The portal page of the system can also be maintained on a server local to the gateway device.

A unique advantage of the transparent redirection of users to a portal page and in certain circumstances from the portal page to a login page where users subscribe for network access is that a user can obtain access to networks or online services without installing any software onto the user s computer. On the contrary the entire process is completely transparent to the user. As such the method and apparatus of the present invention facilitates transparent access to destination networks without requiring a user to reconfigure the home network settings resident on the user computer and without having to install reconfiguration software.

The method and system of the various embodiments facilitate transparent access to a destination network. According to one embodiment the method and system facilitate the addition of new subscribers to the network. According to another embodiment all users can be redirected to a portal page which can include advertising without requiring reconfiguration of the users computers or new software to be added on the users computers.

According to another embodiment a portable Nomadic router or translator is provided. The nomadic router enables a laptop computer or other portable terminal which is configured to be connected to a local home network to be connected to any location on the internet or other digital data communication system. The nomadic router automatically and transparently re configures the terminal to its new location and processes outgoing and incoming data.

The nomadic router includes a processor which appears as the home network to the terminal and appears as the terminal to the communication system. The terminal has a permanent address the nomadic router has a router address and the terminal transmits outgoing data to the system including the permanent address as a source address. The processor translates the outgoing data by replacing the permanent address with the router address as the source address. The terminal receives incoming data from the system including the router address as a destination address and the processor translates the incoming data by replacing the router address with the permanent address as the destination address.

The terminal can be directly connected to a point on a local network and the nomadic router connected to another point in the network. The nomadic router can be employed to implement numerous applications including nomadic e mail network file synchronizer database synchronizer instant network nomadic internet mobile virtual private network and trade show router and can also be utilized as a fixed nomadic router.

The nomadic router can be implemented as software and or hardware. The nomadic router establishes location and device transparency for a digital communication terminal such as a laptop computer. The terminal can be connected to any of a variety of networks and locations which can employ a variety of communication interface devices.

The nomadic router automatically converts the actual location address to a unique communication address for the user such as an internet address such that the terminal performs communications originating from the communication address regardless of the physical location of the terminal.

The nomadic router also automatically configures the terminal to utilize a selected one of the interface devices and switches from one to another if the first device malfunctions or becomes otherwise unavailable.

The nomadic router includes software and services which can be packaged in a personal portable device to support a rich set of computing and communications capabilities and services to accommodate the mobility of nomads users in a transparent integrated and convenient form. This is accomplished by providing device transparency and location transparency to the user.

There is a vast array of communication device alternatives such as Ethernet Wireless LAN and dialup modem among which the users switches when in the office moving around the office or on the road such as at a hotel airport or home . The device transparency in the nomadic router provides seamless switching among these devices easily transparently intelligently and without session loss. The location transparency support in the nomadic router prevents users from having to reconfigure e.g. IP and gateway address their network device laptop each time they move to a new network or subnetwork.

The present nomadic router provides a separation of location and identity by providing a permanent IP address to the network device host . The nomadic router provides independence between the location communication device and the host operating system. There are no new standards need to be adopted by the networking community. All specialized processing is stored internally to the nomadic router with standard interfaces to the host device and various communication devices.

The nomadic router supports the migration to Network Computers by providing identity and security services for the user. The nomadic router also supports multiple parallel communication paths across the communications network for soft handoff increased throughput and fault tolerance by supporting multiple communication substrates.

A portable router for enabling a data communication terminal to be location and device transparent according to the present invention comprises a first module for storing a digital communication address of a user a second module for detecting a data communication network location to which the terminal is connected a third module for detecting communication devices that are connected to the terminal a fourth module for establishing data communication between the terminal and the network such that the communication address of the location from the second module is automatically converted to the communication address of the user from the first module and a fifth module for automatically selecting a communication device which was detected by the third module for use by the fourth module.

The present nomadic router utilizes a unique process embodied in a self contained apparatus which manipulates the packets of data being sent between the host computers and routers. This process provides an intelligent active universal translation of the content of the packets being transmitted between the host computer and nomadic router. The translation allows the host computer to communicate with the nomadic router even when the host computer is not configured to communicate with the nomadic router.

This is achieved by the nomadic router pretending to be the router which the host is configured for and by the nomadic router pretending to be the host which the router expects to communicate with. Therefore the nomadic router supports the mobility of computers in that it enables these computers to plug into the network at different locations location independence without having to install configure or utilize any new protocols on the mobile computer.

The mobile computer continues to operate without being aware of the change in location or new configuration and the nomadic router translates the data allowing the host to think that it is communicating with the router. By putting this process in a self contained apparatus the deployment of new protocols can be performed independently of the host computer and its operating system host independent .

All specialized processing and translation is stored internally in the nomadic router with standard interfaces to the host device and various communication devices. Thus no new standards need be adopted. By removing the complexity of supporting different network environments out of the mobile computer and into this self contained apparatus the nomadic router allows the host computer to maintain a very minimal set of software protocols and functionality e.g. the minimum functionality typically installed in network computers to communicate across the network.

The nomadic router translation ability also enables the use of alternate communication paths device independence without the host computer being aware of any new communication device that utilizes an alternate communication path. The translation of the packets is done not just at the physical link or network layer of the protocol stack but at the transport and application layers as well. This allows the network card protocol stack and application running on the host computer to be independent of the network environment and configuration.

As an example of the communication device independence the translation allows soft handoff increased throughput and fault tolerance by supporting multiple communication substrates. In addition the nomadic router translation ability provides a flexible process for deploying enhanced nomadic and mobile computing software and services such as filtering of packets and determining which packets should be allowed to be transmitted between the mobile computer and the nomadic router or local area network Internal Firewall .

The router apparatus can be i carried with the mobile user e.g. using an external box ii attached to the mobile computer e.g. PCMCIA card iii installed inside the mobile computer e.g. a chip in the laptop iv or installed into the network infrastructure so it will already be there when the mobile computer user arrives e.g. a box which plugs into the local area network translating packets being sent between the host and nomadic router or a chip which is installed in routers on the network . The nomadic router can also be provided in the form of software which is loaded into and run in the mobile computer or another computer or router on a network.

These and other features and advantages of the present invention will be apparent to those skilled in the art from the following detailed description taken together with the accompanying drawings in which like reference numerals refer to like parts.

According to another embodiment a portable Nomadic router or translator is provided. The nomadic router enables a laptop computer or other portable terminal which is configured to be connected to a local home network to be connected to any location on the internet or other digital data communication system. The nomadic router automatically and transparently re configures the terminal to its new location and processes outgoing and incoming data 

The nomadic router includes a processor which appears as the home network to the terminal and appears as the terminal to the communication system. The terminal has a permanent address the nomadic router has a router address and the terminal transmits outgoing data to the system including the permanent address as a source address. The processor translates the outgoing data by replacing the permanent address with the router address as the source address. The terminal receives incoming data from the system including the router address as a destination address and the processor translates the incoming data by replacing the router address with the permanent address as the destination address.

The terminal can be directly connected to a point on a local network and the nomadic router connected to another point in the network. The nomadic router can be employed to implement numerous applications including nomadic e mail network file synchronizer database synchronizer instant network nomadic internet mobile virtual private network and trade show router and can also be utilized as a fixed nomadic router.

The nomadic router can be implemented as software and or hardware. The nomadic router establishes location and device transparency for a digital communication terminal such as a laptop computer. The terminal can be connected to any of a variety of networks and locations which can employ a variety of communication interface devices.

The nomadic router automatically converts the actual location address to a unique communication address for the user such as an internet address such that the terminal performs communications originating from the communication address regardless of the physical location of the terminal.

The nomadic router also automatically configures the terminal to utilize a selected one of the interface devices and switches from one to another if the first device malfunctions or becomes otherwise unavailable.

The nomadic router includes software and services which can be packaged in a personal portable device to support a rich set of computing and communications capabilities and services to accommodate the mobility of nomads users in a transparent integrated and convenient form. This is accomplished by providing device transparency and location transparency to the user.

There is a vast array of communication device alternatives such as Ethernet Wireless LAN and dialup modem among which the users switches when in the office moving around the office or on the road such as at a hotel airport or home . The device transparency in the nomadic router provides seamless switching among these devices easily transparently intelligently and without session loss. The location transparency support in the nomadic router prevents users from having to reconfigure e.g. IP and gateway address their network device laptop each time they move to a new network or subnetwork.

The present nomadic router provides a separation of location and identity by providing a permanent IP address to the network device host . The nomadic router provides independence between the location communication device and the host operating system. There are no new standards need to be adopted by the networking community. All specialized processing is stored internally to the nomadic router with standard interfaces to the host device and various communication devices.

The nomadic router supports the migration to Network Computers by providing identity and security services for the user. The nomadic router also supports multiple parallel communication paths across the communications network for soft handoff increased throughput and fault tolerance by supporting multiple communication substrates.

A portable router for enabling a data communication terminal to be location and device transparent according to the present invention comprises a first module for storing a digital communication address of a user a second module for detecting a data communication network location to which the terminal is connected a third module for detecting communication devices that are connected to the terminal a fourth module for establishing data communication between the terminal and the network such that the communication address of the location from the second module is automatically converted to the communication address of the user from the first module and a fifth module for automatically selecting a communication device which was detected by the third module for use by the fourth module.

The present nomadic router utilizes a unique process embodied in a self contained apparatus which manipulates the packets of data being sent between the host computers and routers. This process provides an intelligent active universal translation of the content of the packets being transmitted between the host computer and nomadic router. The translation allows the host computer to communicate with the nomadic router even when the host computer is not configured to communicate with the nomadic router.

This is achieved by the nomadic router pretending to be the router which the host is configured for and by the nomadic router pretending to be the host which the router expects to communicate with. Therefore the nomadic router supports the mobility of computers in that it enables these computers to plug into the network at different locations location independence without having to install configure or utilize any new protocols on the mobile computer.

The mobile computer continues to operate without being aware of the change in location or new configuration and the nomadic router translates the data allowing the host to think that it is communicating with the router. By putting this process in a self contained apparatus the deployment of new protocols can be performed independently of the host computer and its operating system host independent .

All specialized processing and translation is stored internally in the nomadic router with standard interfaces to the host device and various communication devices. Thus no new standards need be adopted. By removing the complexity of supporting different network environments out of the mobile computer and into this self contained apparatus the nomadic router allows the host computer to maintain a very minimal set of software protocols and functionality e.g. the minimum functionality typically installed in network computers to communicate across the network.

The nomadic router translation ability also enables the use of alternate communication paths device independence without the host computer being aware of any new communication device that utilizes an alternate communication path. The translation of the packets is done not just at the physical link or network layer of the protocol stack but at the transport and application layers as well. This allows the network card protocol stack and application running on the host computer to be independent of the network environment and configuration.

As an example of the communication device independence the translation allows soft handoff increased throughput and fault tolerance by supporting multiple communication substrates. In addition the nomadic router translation ability provides a flexible process for deploying enhanced nomadic and mobile computing software and services such as filtering of packets and determining which packets should be allowed to be transmitted between the mobile computer and the nomadic router or local area network Internal Firewall .

The router apparatus can be i carried with the mobile user e.g. using an external box ii attached to the mobile computer e.g. PCMCIA card iii installed inside the mobile computer e.g. a chip in the laptop iv or installed into the network infrastructure so it will already be there when the mobile computer user arrives e.g. a box which plugs into the local area network translating packets being sent between the host and nomadic router or a chip which is installed in routers on the network . The nomadic router can also be provided in the form of software which is loaded into and run in the mobile computer or another computer or router on a network.

These and other features and advantages of the present invention will be apparent to those skilled in the art from the following detailed description taken together with the accompanying drawings in which like reference numerals refer to like parts.

The present invention now will be described more fully hereinafter with reference to the accompanying drawings in which preferred embodiments of the invention are shown. This invention may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those skilled in the art. Like numbers refer to like elements throughout.

Referring now to a computer system is illustrated in block diagram form. The computer system includes a plurality of computers that can communicate with one or more online services or networks via a gateway device providing the interface between the computers and the various networks or online services . One embodiment of such a gateway device has been described in U.S. patent application Ser. No. 08 816 174 referred to herein as the Gateway Device Application the contents of which are incorporated herein by reference. Briefly the gateway device facilitates transparent computer access to the online services or networks such that the computers can access any networks via the device regardless of their network configurations. Additionally the gateway device includes the ability to recognize computers attempting to access a network the location of computers attempting to access a network the identity of users attempting to gain network access and additional attributes as will be discussed below with respect to the dynamic AAA methods and systems of the present invention.

As illustrated in the computer system also includes an access concentrator positioned between the computers and the gateway device for multiplexing the signals received from the plurality of computers onto a link to the gateway device . Depending upon the medium by which the computers are connected to the access concentrator the access concentrator can be configured in different manners. For example the access concentrator can be a digital subscriber line access multiplexer DSLAM for signals transmitted via regular telephone lines a cable head end a Cable Modem Termination Shelf CMTS for signals transmitted via coaxial cables a wireless access point WAP for signals transmitted via a wireless network a switch or the like.

The computer system further includes a AAA server that dynamically authenticates and authorizes user access as explained in detail below such that users are subjected to a AAA process upon attempting to gain access to a network through the gateway device . Finally as is shown in the computer system typically includes one or more routers and or servers not shown in to control or direct traffic to and from a plurality of computer networks or other online services . While the computer system is depicted to have a single router the computer system can have a plurality of routers switches bridges or the like that are arranged in some hierarchical fashion in order to appropriately route traffic to and from the various networks or online services . In this regard the gateway device typically establishes a link with one or more routers. The routers in turn establish links with the servers of the networks or online services based upon the user s selection. It will be appreciated by one of ordinary skill in the art that one or more devices illustrated in may be combinable. For example although not shown the router may be located entirely within the gateway device .

Users and computers attempting to access a network or online service via the gateway device are referred to hereinafter as sources. According to AAA methods and systems of the present invention a source attempting to access a network via the gateway device is authenticated based on attributes associated therewith. These attributes can include the identity of a particular user or computer location through which access is requested requested network or destination and the like. As is explained in detail in the Gateway Device Application these attributes are identified by data packets transmitted to the gateway device from the computers through which access is requested. According to one embodiment methods and systems of the present invention provide dynamic authentication authorization and accounting based upon these attributes. Generally as used herein authentication refers to the identification of the source authorization refers to the determination of permittable source access and accounting refers to the tracking of a source s access to a network.

Referring now to the authentication function of systems and methods of present invention it will be appreciated that authenticating a source attempting to access the network is often crucial to network administration as network access and services are not typically laid open for all users regardless of identity or payment. As stated above a source may be identified by the gateway device by one or more attributes contained within data packets transmitted to the device from the computer associated with the source attempting to access a network or service referred to hereinafter as the source computer. For instance where the source is a user the source computer is the computer through which the user is attempting to access a network or network destination. On the other hand where the source is a computer through which one or more user may request access to a network the source computer is that computer through which access is requested.

According to one aspect of the invention a source computer attempting to access a network via the gateway device may be identified one or more attributes that include a circuit ID MAC address user name ID and or password or particular location e.g. a communications port in a hotel room or the like transmitted to the gateway device via data packets generated by the source computer as described in U.S. Provisional Application Ser. No. 60 161 093 titled Location Based Identification and Authorization for use With a Gateway Device. It will be appreciated that one or more of these attributes can be used in the present invention to identify the source accessing the network. By means of an illustrative example where sources are different users having dissimilar authentication and authorization rights the users may identify themselves by their respective login information e.g. user name and password such that they will be independently identified despite the use of the same equipment such as the same computer. On the other hand where the source is a computer diverse users using the computer will have like authentication and authorization rights regardless of the individual rights of each user as the rights are associated with the computer e.g. identified by MAC address rather than with the respective users.

The authentication of sources via an attribute associated with the source is performed by the AAA server illustrated in . The AAA server stores source profiles corresponding to sources identified by the AAA server . According to one aspect of the present invention the AAA server is located entirely within the gateway device . According to another aspect of the invention the AAA server can comprise a plurality of components at least some of which are external to the gateway device or alternatively the AAA server can be located entirely external to the gateway device . For example the location of the AAA server may be such that the gateway device communicates with the AAA server via internet protocol. According to one embodiment of the invention the AAA server can be maintained by an ISP which identifies sources authorized to communicate with the network via the ISP. Therefore it will be appreciated that the AAA server may be located at any internet address and stored on any computer accessible via internet protocol.

According to one aspect of the invention a separate source profile exists for each source accessing the system. Source profiles are maintained in a source profile database which may be an internal component of the AAA server an external component of the AAA server or a separate component in communication with the AAA server . Preferably the source profile database is located external to the gateway device and network to alleviate administrative burden on the network so that the network does not have to set up and maintain separate authentication databases on each network or gateway device. This is also preferable because each gateway device allows a finite number of users to access the network which requires multiple gateway devices to accommodate a large number of sources. Secondly administering and maintaining one consolidated database of authentication data is easier than multiple smaller databases. Lastly locating the source profile database external to the local network can allow an ISP or third party provider to maintain the confidentiality of the information stored within the database and maintain and control the database in any manner the third party provider so desires.

The source profile includes one or more names passwords addresses VLAN tags MAC addresses and other information pertinent to identify and if so desired bill a source. Upon a source s attempt to access a network via the gateway device the AAA server attempts to authenticate the source by comparing stored source profiles in the source profile database with the attributes received from the gateway device or source to determine the source identity. As an illustrative example where a user attempts to access the network by entering a user ID and password the user ID and password are compared against all IDs and passwords stored in the source profile database to determine the identity of the user. As such the source profile database generally comprises a database or data storage means in communication with processing means located within the AAA server or gateway device where the source profile database and processor work in conjunction to compare received attributes to stored source profile information as is well known in the art.

The source profile database may comprise programmable storage hardware or like means located on a conventional personal computer mainframe computer or another suitable storage device known in the art. Additionally the means for comparing the received data to the data within the database can comprise any software such as an executable software program which can compare data. For example the AAA server may store source profiles on a hard drive of a personal computer and the means for comparing the received source data to the source profiles resident on the computer can include computer software such as Microsoft Excel Microsoft Excel is a trademark of Microsoft Corporation Redmond Wash. . According to another embodiment of the invention the AAA server or source profile database can comprise a Remote Authentication Dial In User Service RADIUS or a Lightweight Directory Access Protocol LDAP database which are well known to those of skill in the art.

If a source fails to correspond to a source profile in the AAA server at the time of authentication the source will not be permitted access to the network. When this occurs a user or user associated with a non user source may be requested to input source profile information to the AAA server so that the AAA server can add the source s profile to the AAA server and more specifically to the source profile database. For example this may occur the first time a user attempts to access the gateway device . According to another aspect of the invention where the source cannot be identified the source may be directed to a login page in order to gather additional information to identify the source. For instance the information may be entered with the aid of a webpage a pop up control panel or user interface which can open when the source initially connects to the gateway device as effectuated by a home page redirection capability described herein and in U.S. patent application Ser. No. 09 458 569 filed Dec. 8 1999 entitled Systems And Methods For Redirecting Users Having Transparent Computer Access To A Network Using A Gateway Device Having Redirection Capability referred to hereinafter as the Redirection Application and in U.S. patent application Ser. No. 09 458 579 filed Dec. 8 1999 entitled Systems And Methods For Redirecting Users Having Transparent Computer Access To A Network Using A Gateway Device Having Redirection Capability the contents of each of which are incorporated herein by reference.

According to one aspect of the invention the AAA server can identify the source in communication with the gateway device in a manner that is transparent to computer users. That is according to one aspect of the invention a user will not be required to input identification information reconfigure the source computer or otherwise change the source computer s primary network settings. Furthermore no additional configuration software will have to be added to the source computer. After a packet is received by the gateway device attributes identified by the data packet can be compared with the data contained in the source profile database. Therefore in addition to not requiring the reconfiguration of computers accessing the network AAA servers of the present invention have the ability to authenticate sources without requiring interactive steps by the computer user such as the entering of a user ID. For instance the AAA server may automatically identify the source based upon a MAC address so that authorization of the source can be readily determined. Therefore it will be appreciated that the AAA server can determine the user computer or location from which access is requested by comparing the attributes associated with the received data packet such as in a header of the data packet with data drawn from the source profile database. As will be described below the access rights associated with the source may also be stored within the source profile database so that the system and method of the present invention can dynamically authorize access to particular services or destinations.

Once the source has established the network service connection via the authentication process discussed above and a tunnel has been opened to facilitate a communication line between the source computer and a network the gateway device communicates with the AAA server to assemble source profile information or source specific data. The source profile information that the gateway device assembles may include a MAC address name or ID circuit ID billing scheme related data service level data user profile data remote site related data and like data related to the source. As such the AAA server can transmit to the gateway device any requisite information relating to the source s authorization rights and use of the network as is next explained in detail.

In addition to authenticating users the AAA server of the present invention provides an authorization function in which the source access rights are determined. The present invention enables dynamic authorization of sources such that each source might have different respective network usage or access rights. After authentication the AAA server compares the attributes of the source with the access rights of the source associated with the user computer location or attribute s . The access rights may be stored within the source profile database or within a separate subscription database located internal or external to the gateway device . Therefore separate databases may be utilized where one stores identification information on sources for authentication and another database stores the access rights of those sources that have been authenticated. However because the profiles of all sources identified by attribute or a combination of attributes are stored in a source profile database it may be advantageous to locate information regarding access rights in the source profile database which already contains information regarding each authenticated source as described above.

According to one aspect of the invention the source profile database stores information defining the access rights of a source. For example a source profile database may contain information indicating that a source having a particular MAC address has purchased pre paid access or that a given circuit ID has free access or unlimited access. Guests in a particular room or rooms of a hotel for example suites and penthouses may receive free unlimited Internet access. Therefore access rights can be available contingent upon the source s location e.g. room or location status e.g. suite . In this event no further identification is required as the location from which the source is requesting access is known to the gateway device and stored in the source profile database.

In addition to storing information concerning what each source is authorized to access the source profile database can also include specialized access information associated with a particular source such as the bandwidth of the source s access or a homepage to which the source should be directed. For example a user accessing the network from a penthouse may receive a higher access baud rate than someone accessing the network from a typical hotel room. For example where a user is transparently accessing the gateway device from a hotel room the hotel network administrator may enter user access information into the source profile database based upon access rights associated with a room in the hotel. This can also be done automatically by the gateway device or a local management system such as a hotel property management system when the user checks into his or her room. Additionally the user may establish the information to be contained within the source profile database upon first accessing the gateway device. For instance a new user may be directed to enter a credit card number e wallet account information pre paid calling card number or like billing information to obtain access to the system. A source profile can also include historical data relating to a source s access to the network including the amount of time a source has accessed the network. Specialized access or accounting information contained within the source profile database may be established by the system administrator or by the source who has purchased or otherwise established access to the network.

According to one aspect of the invention the authorization capability of the AAA server can be based upon the type of services the source is attempting to access such as a destination address identified by the gateway device based upon data received from the source computer. The destination can be a destination port Internet address TCP port network or the like. Moreover the authorization capability of the AAA server can be based upon the content type or protocol being transmitted. According to the system and method of the present invention each packet can be filtered through the selective AAA process so that any or all sources can be authorized access to a particular destination based on the access rights associated with the respective sources. Therefore according to the present invention each time the source attempts to access a different destination the source is subject to the AAA so the source may be prevented access from a particular site the AAA server deems inaccessible to the source based upon the source s authorization. Alternatively the AAA method according to the present invention allows some or all sources to connect directly to a specific site such as credit card or billing servers for collecting billing information which can collect payment or billing information so that the source profile can be updated and the source thereafter authorized access to networks. According to the system and method of the present invention a source s authorization can also depend upon objective criteria such as a specific time so that the session can be terminated at a specific time after a specific time has elapsed or according to other dynamic information determined by the network provider. Furthermore authorization can be associated with a combination of attributes. For example a user may be authorized access to a network where the user has input the user s identification and has accessed the network from a particular room. Such a requirement could prevent unauthorized users also staying in a particular room from obtaining network access. Therefore AAA can be based upon the origination destination and type of traffic.

By way of further explanation a flow chart of the operation of the AAA server will be described with respect to according to one aspect of the invention. In operation a source computer requests block access to a network destination service or the like. Upon receiving a packet transmitted to the AAA server the AAA server examines the packet to determine the identity of the source block . The attributes transmitted via the packet are temporarily stored in the source profile database so that the data can be examined for use in determining authorization rights of the source. The attributes contained in the packet can include network information source IP address source port link layer information source MAC address VLAN tag circuit ID destination IP address destination port protocol type packet type and the like. After this information is identified and stored access requested from a source is matched against the authorization of that source block .

Once a source profile has been determined by accessing the authorization rights stored in the source profile database three possible actions can result. Specifically once a source s authorization rights have been retrieved the AAA server may determine a source to have access to be pending or in progress or to not have access . First a source is deemed valid i.e. to have access where the source profile database so states. If a source is determined to be valid the source s traffic can be allowed to proceed out of the gateway device to the networks or online services the user associated with the source wishes to access block . Alternatively the source may be redirected to a portal page as described in the Redirecting Application prior to being allowed access to the requested network. For example a user may be automatically forwarded to a user input destination address such as an Internet address for example where a user has free access associated with the user s hotel room. Alternatively this may occur where the user has already purchased access and the user has not exhausted available access time. Furthermore an accounting message may be initiated to log the amount of time the user is utilizing the gateway device such that the user or location may be billed for access.

If the second scenario occurs in which the source is deemed pending or in progress the source may take steps to become authenticated block so that the source information is recorded in the source profile database. For example a user may have to enter into a purchase agreement requiring the user to enter a credit card number. If the user needs to purchase access or if the system needs additional information about the user the user can be redirected from the portal page via Home Page Redirect HPR and Stack Address Translation SAT to a location such as a login page established to validate new users. SAT and HPR can intervene to direct the user to a webserver external or internal where the user has to login and identify themselves. This process is described in detail in the Redirecting Application. After inputting any necessary and sufficient information the user is then be permitted access to a destination address block . Where the information provided is insufficient the user will not be authorized access block . Finally a third scenario can occur in which a source is deemed not to have access so that the user is not permitted to access a destination via the network block .

Referring now to the accounting function of systems and methods of the present invention upon authorizing a source network access the AAA server can register an accounting start to identify that the source is accessing the network. Similarly when the source logs off or terminated the network session an accounting stop can be registered by the AAA server . Accounting starts or stops can be identified by the gateway device or by the AAA server upon a source s authentication or authorization to access a desired destination. Furthermore accounting starts or stops can be registered in the source profile or can be stored in a database separate from the AAA server and located external to the network. Typically accounting starts and stops include time stamps that indicate the amount of time a source has been accessing the network. Using this data the time between the accounting start and accounting stop can be tallied so that the source s total connection time may be computed. Such information is valuable where the source is charged by an increment of time such as an hour. A billing package as are well known in the art could then tally a user s total time accessing the network over a set period such as each month so that a bill can be created for the source. Because networks and ISPs often may charge a set rate for a specific duration of time i.e. flat rate pricing such as a month regardless how much time is being spent accessing the network accounting stops and starts may not be required for billing purposes. Nevertheless accounting starts and stops may generally be recorded by the network provider or ISP for usage statistics.

An ISP or similar access provider would additionally benefit from being able to track subscriber s use of the ISP to establish bills historical reports and other relevant information. Preferably the AAA server is in communication with one or more processors for determining any fees which may be charged to the source or due from the source for network access or services. The AAA server retrieves the historical accounting data in a real time basis or after a specific interval of time has elapsed. Preferably the AAA server retains such data in an easily accessible and manipulatable format such that the access provider e.g. ISP can produce reports representative of any desired type of historical data. For example to project future use of the access provider the AAA server produces reports tallying the number of users accessing the Internet at certain time periods and from specific locales. Moreover where the access provider provides alternative access to users such as charging for faster connections i.e. higher baud rate for additional fees the access provider may wish to analyze historical data using the AAA server to best meet future customer demands. Such data may relate to network sessions currently on going the duration of those sessions the bandwidth currently being used the number of bytes that have been transferred and any other pertinent information. The AAA server may be implemented using well known programs such as Eclipse Internet Billing System Kenan Broadband Internet Billing Software manufactured by Lucent Technologies or TRU RADIUS Accountant.

It will be appreciated that the AAA server can dynamically account source access to a network in the same manner in which access is customizable on a source by source basis. That is the AAA server can maintain accounting records that vary depending upon the identity of a source source location source requested destination or the like. Like the access or authorization rights this information can be maintained in the source profile database or a similar accounting database. For instance the AAA server may determine that a particular source is only charged for accessing particular sites and will only register an accounting site when those particular sites are accessed. Therefore the AAA server will identify account information stored in the subscriber s source profile to determine accounting starts accounting stops billing rates and the like.

Referring again to in describing another embodiment of the invention a computer system including a gateway device is depicted in block diagram form. The computer system typically includes a plurality of computers that access a computer network in order to gain access to networks or other online services . For example the computers can be plugged into ports that are located in different rooms of a hotel business or a multi dwelling unit. Alternatively the computers can be plugged into ports in an airport an arena or the like. The gateway device provides an interface between the plurality of computers and the various networks or other online services . One embodiment of a gateway device has been described by the aforementioned U.S. patent application Ser. No. 08 816 174.

Most commonly the gateway device is located near the computers at a relatively low position in the overall network i.e. the gateway device will be located within the hotel multi unit residence airport etc. . However the gateway device can be located at a higher position in the system by being located closer to the various networks or other online services if so desired. For example the gateway device could be located at a network operating center or could be located before or after a router in the computer network. Although the gateway device can be physically embodied in many different fashions the gateway device typically includes a controller and a memory device in which software is stored that defines the operational characteristics of the gateway device . Alternatively the gateway device can be embedded within another network device such as an access concentrator or a router . Moreover the software that defines the functioning of the gateway device can be stored on a PCMCIA card that can be inserted into a computer of the plurality of computers in order to automatically reconfigure the computer to communicate with a different computer system such as the networks and online services .

The computer system typically includes an access concentrator positioned between the computers and the gateway device for multiplexing the signals received from the plurality of computers onto a link to the gateway device . Depending upon the medium by which the computers are connected to the access concentrator the access concentrator can be configured in different manners. For example the access concentrator can be a digital subscriber line access multiplexer DSLAM for signals transmitted via regular telephone lines a cable head end for signals transmitted via coaxial cables a wireless access point WAP for signals transmitted via a wireless network a cable modem termination shelf CMTS a switch or the like. As also shown in the computer system typically includes one or more routers and or servers not shown in to control or direct traffic to and from a plurality of computer networks or other online services . While the computer system is depicted to have a single router the computer system can have a plurality of routers switches bridges or the like that are arranged in some hierarchical fashion in order to appropriately route traffic to and from the various networks or online services . In this regard the gateway device typically establishes a link with one or more routers. The routers in turn establish links with the servers of other networks or other online service providers such as Internet service providers based upon the user s selection. It will be appreciated by one of ordinary skill in the art that one or more devices illustrated in may be combinable. For example although not shown the router may be located entirely within the gateway device .

The gateway device of the present invention is specifically designed to adapt to the configuration of each of the computers that log onto the computer system in a manner that is transparent to the user and the computer networks or online services . In the embodiment shown in the computer system employs dynamic host configuration protocol DHCP service which is a protocol well known to those of skill in the art and currently implemented in many computer networks. In DHCP networks an EP address is assigned to an individual computer of the plurality of computers when the computer logs onto the computer network through communication with the gateway device . The DHCP service can be provided by an external DHCP server or it can be provided by an internal DHCP server located within the gateway device.

In order to allow a user of the computer to communicate transparently with computer networks or online services the gateway device must be able to communicate with the user computer as well as the various online services or networks . In order to support this communication the gateway device generally performs a packet translation flnction that is transparent to both the user and the network. In this regard for outbound traffic from a computer to a network or on line service the gateway device changes attributes within the packet coming from the user such as the source address checksum and application specific parameters to meet the criteria of the network to which the user has accessed. In addition the outgoing packet includes an attribute that will direct all incoming packets from the accessed network to be routed through the gateway device. In contrast the inbound traffic from the computer network or other online service that is routed through the gateway device undergoes a translation function at the gateway device so that the packets are properly formatted for the user s host computer. In this manner the packet translation process that takes place at the gateway device is transparent to the host which appears to send and receive data directly from the accessed computer network. By implementing the gateway device as an interface between the user and the computer network or other online service however the user will eliminate the need to re configure their computer upon accessing subsequent networks as well as the need to load special configuration software on their computer to support the reconfiguration.

The communications device can be part of any type of communication system to which the host computer can be connected. Such communication systems include but are not limited to local networks wide area networks dial up and direct internet connections etc. In a typical application the communications device will connect the host computer to a local network which itself is connected to the internet. Thus the host device is able to communicate with an unlimited number of networks and nodes which are themselves interconnected with routers switches bridges etc. in any known manner.

The present router includes a terminal interface which normally is used to connect the router to the host device and a system interface which connects the router to the communications device . As will be further described below the router generally includes a processor consisting of hardware and or software which implements the required functionality. The router is further configured to operate in an alternate mode in which the host device is connected directly to a network and the router is also connected to a point in the network via the system interface . In this case the terminal interface as is unused.

Although the device is described herein as being a router it will be understood that the router is not a conventional router in that it includes the capability for providing interconnectability between networks. Instead the present router is essentially a translator which enables the host device to be automatically and transparently connected to any communications device and process incoming and outgoing data for the device .

The host device is provided with a permanent internet address which is conveniently not changed in accordance with the present invention. The device is also initially configured to communicate with a particular gateway or other home device at its base location. The gateway has a home address which the device attempts to locate when it is connected to any communication system. Without the functionality of the present nomadic router the host device would not be able to operate at a remote location because it would not find its gateway.

It will be understood that the term home does not relate to a residence but is the network gateway or other communication device or system to which the terminal is normally connected and which corresponds to the home Internet or IP address.

The present router operates with host computers routers and other network devices through well defined standard interfaces such as specified by the IETF Internet Engineering Task Force and IEEE standardization committees. These standards specify the packet format content and physical communication characteristics. As shown in host computers have to be configured at various layers of the protocol stack depending on the communication capabilities and configuration of the current network being attached to.

Hubs as shown in provide a well defined interface to connect host computers and network devices by transmitting packets across multiple physical connections. Hubs do not provide any manipulate or translation of the content of the packets being transmitted.

Bridges or switches as shown in provide an intelligent filtering mechanism by which they only transmit packets across multiple physical connection based upon which physical connection the device is connected to according to the link layer addressing Media Access Control Address . Bridges and switches do not manipulate the content of the packet and do not provide any higher layer protocol functionality.

Routers as shown in accept packets based upon the destination address at the network layer in the packet. The host computer must explicitly address the packet at the link layer to the router. The router will then retransmit the packet across the correct physical connection based upon how it is configured. No modification or translation of the packet is performed at any layer of the protocol stack other than the network layer.

Firewalls as shown in filter packets at the network and transport layers to only allow certain packets to be retransmitted on to the other physical connection. Firewalls do not manipulate the content of the packet only forward it on to the next hop in the network if it passes the transport port or network IP address filter.

Proxys and gateways as show in only receive packets explicitly addressed to them by host computers. They only manipulate packets at the application level. The present nomadic outer as shown in manipulates the content of the jackets at the link network transport and application layers of the protocol stack to provide a translation between how the host computer is configured and the configuration of the network the host computer is currently attached to.

Unlike all other devices shown in to the router will automatically intercept and translate packets without the other devices being aware of the router or have to be configured to use it. The translation algorithms in the router which provide this location independence are provided completely internal to the router . Thus no new standards need to be developed accepted or implemented in host computers or routers to deploy new network services when using the nomadic router.

Whenever a new or different communication device which includes the link and physical layers is utilized in a host computer the host computer s network layer must be aware of this new communication device. Since the router has its own network interface to the communication device alternate communication devices can be utilized in the router which the host computer can utilize but does not have to be configured to use.

Today we communicate with individuals in terms of the location of their communications instruments for instance their computer s IP address or their fax machine s phone number . In order to support mobility and changing communication environments and devices it is necessary to create an environment where people communicate with other people and not specifically with the devices they use. To transparently support mobility and adaptivity in a wireless potentially ad hoc communication internetwork a common virtual network must be provided by an intelligent device or agent which supports the various computing hosts and communication devices.

The present nomadic router provides the mapping between the location based IP address used in the Internet today and the permanent user based address housed in the host CPU in the device . This is illustrated in as IP Mapping . This mapping is done without support or knowledge of such mapping by the host CPU or user.

The Internet RFC 2002 Mobile IP protocol specifies the mapping between permanent and temporary IP addresses. The unique aspect of the nomadic router is that the Mobile IP protocols are not necessarily running in or supported by the host CPU but rather are internal to the nomadic router. The host configuration information such as its IP number are discovered or determined as illustrated in and stored in the nomadic router as illustrated in as Host Info. This configuration process is overviewed in .

As illustrated in the nomadic router can provide off load communication processing for the host CPU by being physically separate from the host device . The adaptation selection and transportation of information across the network is performed by the nomadic router . This allows the host terminal or device to utilize the network without having to directly support the network protocols. By having the nomadic router be responsible for adapting to the current network substrate the host CPU can maintain a higher performance by not having to run the routing adaptation packetization etc. algorithms or packet processing.

The nomadic router can also queue transmit and receive data independent of whether or not the host device is available or even attached. The CPU built into the nomadic router provides all necessary computing routines to be a fully functional network co processor independent of the host CPU. This will allow increased battery for the user since the nomadic router does not have numerous user I O devices as does the host device .

The instant network nomadic router provides the ability to provide ubiquitous and reliable support in a location independent fashion. This removes any burden on the user for device reconfiguration e.g. IP address configuration gateway or next hop router address netmask link level parameters and security permissions or data transmission.

The problem with existing protocol stacks is that communicating devices have to be reconfigured every time the communication environment changes. TCP IP requires a new network node and gateway number. Appletalk will automatically choose an unused node number and discover the network number but all open communications are lost and services have to be restarted to begin using the new information.

This occurs for example when a PowerBook is plugged into a network put to sleep and then powered up in a different network. All network services are restarted upon wakeup and network applications get confused if they are not restarted. The nomadic router solves this problem by providing temporary as well as permanent network and node numbers similar to that provided by Mobile IP. However the nomadic router will also work with other protocol stacks e.g. AppleTalk .

Mobile IP provides location independence at the network level and not at the link level. All link level parameters which are device specific will be automatically configured as illustrated in when a new communications network interface device is attached to the nomadic router. The nomadic router completely eliminates the need for manual configuration by adaptively supporting device independence.

A problem with existing routers today is that they require manual configuration and exist external to the node. To overcome this the nomadic router can support automatic configuration and full router functionality internally. This allows a mobile or nomadic node to adapt to various communication and network devices dynamically such as when the user plugs in a PCMCIA card or attaches a communications device to the serial port.

Once the nomadic router becomes aware of the available communication devices and activates them the transport of data across the multiple communication substrates can take place. The unique algorithm and protocol in the nomadic router which chooses the most appropriate device to use is shown in and as part of the nomadic router Device Checker through the nomadic router Device Selection across each interface.

There are numerous factors that can affect the selection of utilizing one or more devices. Such factors typically include available bandwidth cost to initiate and maintain connection power requirements and availability and user s preference.

Another feature of the nomadic router is the support for alternate or simultaneous use of various communication substrates. This is performed as part of step in when the source address is that of the communication substrate that the nomadic router is going to send the packet out on. Host computers will now indirectly be able to utilize two or more communication substrates either to increase throughput or to provide soft handoff capability.

This functionality is not supported in today s typical protocol stacks e.g. TCP IP or AppleTalk . Once the nomadic router becomes aware of the available communication devices and activates them the transport of data across the multiple communication substrates can take place. The unique algorithm and protocol in the nomadic router which chooses the most appropriate device to use is part of the nomadic router Device Checker through the nomadic router Device Selection across each interface.

There are numerous factors that can affect the selection of utilizing one or more devices. Such factors typically include available bandwidth cost to initiate and maintain connection power requirements and availability and user s preference.

As described above the nomadic router can be packaged in several different hardware configurations. The nomadic router can be embedded in the host computer or network device such as a switch or router. It can also be implemented as a PCMCIA card which plugs into the host computer or as self contained external box.

Each nomadic router can have from one to many interfaces. If the router is put into the network infrastructure it doesn t have to be carried around with the mobile user. As shown in the nomadic router is attached to a Local Area Network LAN of the network infrastructure which constitutes the communications device through the system interface . The LAN is connected through a conventional router to the internet . In this case the host computer interface of the nomadic router is not needed since packets from the host computer are received through the LAN .

To provide a secure interface between the host computer and network to prevent host computers from being able to watch sniff packets on the network the nomadic router can have one interface to the host computer terminal interface and a second interface to the network as shown in and provide filtering to which packets and retransmitted between the various interfaces thus providing a firewall type of security device but which operates internally on the network.

In order to support multiple host computers . . . with a single nomadic router the nomadic router may have multiple host interfaces as shown in and in and a network or system interface

If the nomadic router is carried around by the mobile user it can take the form of a PCMCIA card. In the nomadic router is implemented as a PCMCIA card. The processing and translation capability is stored inside the card and the interface to the host computer is through a PCMCIA BUS interface or communication card .

As shown in the PCMCIA card can fit in a type III slot where there is a connector on the nomadic router which accepts the communication card a type II PCMCIA card. In this mode the nomadic router doesn t not have to have the communication device specific components inside the PCMCIA card.

The nomadic router can also take the form of a type II PCMCIA card. In this form the communication device or card plugs into the opposite end of the nomadic router card as illustrated in .

The nomadic router initialization and self configuration process provides the means by which the nomadic router is able to learn about the host computer and network so it knows what translation is necessary.

The nomadic router is able to learn about how the host computer is configured by looking at the content of the packets being sent from the host computer . Rather than the host computer sending packets directly to the router or other network device which is what it is initially configured to do the nomadic router is able redirect all outbound packets from the host computer to itself. This redirection can be accomplished in several ways as described below.

Whenever a host computer has an IP packet which it needs to send to a router or other network device it uses the Address Resolution Protocol ARP to obtain the link layer Media Access Control address MAC address . As illustrated in when the host computer broadcasts and ARP request for the MAC address of a destination node the nomadic router receives this ARP request broadcast and responds with its MAC address not that of the destination node .

When the host computer receives this ARP reply from the nomadic router which contains the MAC address of the nomadic router the host computer will cache this MAC address in the host computer and send all packets destined for the configured router or network device to the nomadic router . The host computer will think that the MAC address is that of the configured IP network device but in reality the nomadic router is pretending proxying to be the device its home gateway that the host computer expects to find.

The nomadic router is also able to reconfigure and intercept return packets from a router or other network device using the same process.

Since the MAC address is cached in the host computer for a short period of time the host computer will not send out a new ARP request to obtain the MAC address again unless a timeout period occurs or the cache is cleared such as when the computer is restarted.

When a conventional network device receives or hears a packet with a MAC address which does not match its own it will ignore or drop the packet. Since it is possible to rapidly switch from one network environment to another using a portable computer the nomadic router must be able to intercept packets even when the MAC address is not that of the nomadic router s home gateway or device.

This is accomplished by placing the nomadic router s network connection in promiscuous mode. In this mode the network connection on the nomadic router accepts all packets being transmitted. on the communication link not just ones being broadcasted or addressed specifically to it.

A host computer is able to utilize the DHCP service to obtain the configuration information rather than being manually configured. The host computer utilizing the DHCP service requires that a DHCP server be installed on the network segment to which it is currently attached. If the host computer is utilizing this service and requests configuration information using DHCP the nomadic router will intercept these requests and respond with configuration information for the host computer to use.

The nomadic router is able to learn about the network environment it is currently attached using several different methods as described below.

Whenever a different network connection is connected on the nomadic router it will broadcast a DHCP request to obtain configuration information for the current network. If no DHCP service is available on the network it will switch to another method to learn about the network configuration.

Routers on the network will periodically broadcast router information packets which are used to build routing tables and allow routers to adapt to changes in the network. The nomadic router will listen on the network for these router information packets. When one is received it will extract out the configuration information from these packets.

By placing the nomadic router s network connection in promiscuous mode where is receives all packets not just ones destined for it it is able to examine all packets on the network to discover how the network is configured. It is also able to determine the IP addresses used on the local area network and which machines are routers by the final destination address not being the next hop address.

Using this method the nomadic router is passively able to learn how the network is configured and will elect to use an unused IP address. If that IP address does become used by another network device it will switch over to another unused IP address.

The network configuration information can be manually configured in the nomadic router . This information can be set using an embedded web server Simple Network Management Protocol SNMP tools an application running on one of the computers in the network or other suitable means. When manual configuration is used to set the network information the nomadic router will still learn about the host information automatically and provide all the translation capabilities so the host computers do not have to be aware of the correct network information of the LAN to which they are currently connected.

The nomadic router s packet translation function provides a mapping between location and service dependent configurations used by the host computer and that used by the network to which it is currently attached. For outbound traffic from the host computer to the network the translation function changes the content of the packet such as the source address checksum and application specific parameters causing all packets sent out to the network be directed back to the nomadic router rather than to the host computer .

The inbound traffic from the network arriving at the nomadic router which is really for the host computer is passed through the translation function so the host computer thinks that the replies were sent directly to it. The host computer will be completely unaware of all the translation being performed by the nomadic router .

The translation functions works as illustrated in and . In these figures the operations performed in the OSI ISO model application transport network link and physical layers are illustrated in rows opposite the layer designations. The operations performed by the host computer nomadic router and network are illustrated in columns below the device designations.

The host computer will generate network packets using the current configuration stored in the host computer using the standard protocol stack as shown in step . This configuration information is either manually configured in the host computer or obtained using DHCP.

As shown in step when the host computer addresses the link level destination address the address automatically obtained using the Proxy ARP packet interception routine described earlier this will cause the host computer to send the packet to the network address of its standard router or home gateway device but using the link level address of the nomadic router .

In step the packet is transmitted across the standard physical connection between the host computer and nomadic router . As shown in step the nomadic router will receive the packet at the link level either due to the Proxy ARP function which reconfigured the host computer s MAC address or the nomadic router will have the link level in promiscuous mode which it will cause it to receive the packet even if destined to a different MAC address.

Once the packet is passed to the network layer shown in step the nomadic router translation function will modify the content of the packet to change the source address to that match of the nomadic router s address instead of the host computer s address. It will also translate other location dependent information such as the name of the local Domain Name Service DNS server. When translating the DNS packet it will change the source address to that of the nomadic router s address and the destination address to that of a local DNS server.

Once the network layer translation is complete the packet can be translated at the application and transport layers. The application layer is translated next as shown in step since the transport layer requires a pseudo network layer header which includes the source and destination addresses and the content from the application layer.

At the application layer translation any addresses which describe the source address of the host computer such as with FTP are translated to be that of the nomadic router s address. Any application layer destination addresses such as a local proxy server are translated to match that of the server running on the current network.

Once this application translation is complete the transport layer as shown in step can complete the checksum and any port number manipulation. The port number is manipulated if more than one host computer is attached to the nomadic router . Each host computer when it sends out a request using a specific port is translated to match an available inbound port on the nomadic router .

The port number assigned for use with each host computer is stored in a table in the nomadic router and is utilized with the reply packet described later. Finally the packet is sent out over the network in step .

When a reply packet comes in from the network as shown in step the nomadic router will receive the packet. In step the nomadic router will perform the reverse network layer translation to set the destination address to that of the host computer rather than the nomadic router s address and any source address to that replaced by the nomadic router in step .

Once this network translation is complete the packet is translated at the application layer as shown in step to change the destination address to that of the host computer and the source address to the original destination address stored from step . In step any port manipulation performed in step is changed to the original setting and a new checksum is computed. Finally as shown in step the packet is sent to the host computer which then processes the packet normally.

By way of motivation many communication infrastructures are varied and fragmented and this problem is likely to be exacerbated as more technologies are introduced. For example high performance LANs wireless services cellular telephony satellite ubiquitous paging networks all provide varying degrees of coverage cost and bandwidth delay characteristics.

The Nomadic Intranet provides all network server type services for users who which to dynamically create an ad hoc network. This is similar to the instant network nomadic router except the nomadic intranet is a single device with multiple ports into which laptop devices can be plugged. The instant network nomadic router is distributed to one per each host device. The nomadic intranet not only provides ad hoc networking but can also provide services such as temporary file storage protocol conversion act as a print server and provide other services described as part of the Basic nomadic router.

The Fixed nomadic router provides the same basic functionality and architecture as the portable nomadic router but is stored in one location. The fixed nomadic router acts as a surrogate or Home Agent for the user when he she is away on travel. When the user wishes to register or utilize their host device elsewhere in the network the portable nomadic router will register with the fixed nomadic router where it is temporarily attached to the network so information can be forwarded to the user s new location. The fixed nomadic router can also be used to house the master copy of the user s E mail for the nomadic E mail service or files for the nomadic file synchronizer.

The nomadic router provides the mapping between the location based IP address used in the interne today and the permanent user based address housed in the host CPU. This mapping is done without support or knowledge of such mapping by the host CPU or user. The Internet RFC 2002 Mobile IP protocol specifies the mapping between permanent and temporary IP addresses. The unique aspect of the nomadic router is that the Mobile IP protocols are not necessarily running in or supported by the host CPU but rather are internal to the nomadic router.

By implementing this protocol as part of the translation function in the nomadic router the nomadic router can encapsulate packets from the host computer and transmit them back to the fixed nomadic router which are sent out un encapsulated on the native home network. Replies from the home network are received by the fixed nomadic router and are encapsulated and sent back to the nomadic router. When packets are transmitted between the nomadic router and fixed nomadic router the packets are encrypted and sent using the Internet Tunneling Protocol.

Since the nomadic router provides location independence and the fixed nomadic router forwards all packets from a corresponding host to the host computer via the nomadic router any changes in the location failure of a network link or attachment point of the mobile host computer does not cause any open session to be lost. This session loss prevention is possible since the fixed nomadic router pretends to be the mobile host computer and the nomadic router pretends to be the home network. The fixed nomadic router and nomadic router translation functions hide the link and network loss from the transport and application session.

Communication between users and networks or online services may be effectuated through ports for example located within hotel rooms or multi dwelling units or through conventional dial up communications such as through the use of telephone or cable modems. According to one aspect of the invention users can be are redirected to a portal page as described below. After being redirected to the portal page the user is subjected to a AAA process. Based upon the AAA process the user may be permitted transparent access to the destination network or may be redirected to a login page in order to gather additional information to identify the user.

Identifying the user is crucial in authorizing access to networks or online services as such services are typically provided for a fee and may be customized based upon the user user s location or user s computer. As discussed below the user s identification may be used to direct the user to a specific portal page which can be a particular webpage. As such the system of the present invention includes means for identifying a user based upon an attribute associated with the user that is contained within the packet transmitted from the user s computer. Attributes can include any data well known in the art for identifying the user the user s location and or the user s computer. In general identifying a user s computer that accesses a network can be done by a media access control MAC associated with the computer. Identifying a computer based upon a MAC address is well known to those of skill in the art and will not be discussed in detail herein. Additionally the attribute can be based upon a user name ID or according to one advantageous embodiment described below a particular location such as from a communications port in a hotel room. As such the location of the user can be the identifiable attribute.

According to one embodiment of the present invention after a user accesses the computer network using a computer in communication with the gateway device as described above the user is directed to a portal page. The portal page may be maintained by an ISP or an enterprise network or by any entity maintaining a webpage on the Internet. According to one aspect of the invention the portal page can be a webpage containing any information whatsoever and can be created by the ISP enterprise network administrator or user. The portal page can contain information specific to the user accessing the network as discussed in detail below.

Regardless of whether a user accessing the computer network is authorized access to the network the user is redirected to a portal page. After being redirected to a portal page the gateway device of the present invention determines the authorization and access rights of the user based upon an Authentication Authorization and Accounting method.

According to one aspect of the invention a user may be identified and authorized access to the network or online services based upon attributes associated with the user such as the user s location or the user s computer. When this occurs the user can be forwarded to a portal page unique to that user. As described below and also above the user may be identified without being queried to input any identification information so that upon accessing the computer network the user is automatically directed to a generic portal page or a portal page established specifically for and unique to that user. According to another aspect of the invention a user may be identified and authorized access based upon the user s identity after being redirected to the portal page. The user may have to enter a login name and password while at the portal page or after being directed to a login page so that the ISP or other entity maintaining the gateway device can identify the user. After entering identifying data the user may be directed to a particular portal page as in the first aspect described above. According to a third aspect of the invention the user is not authorized access to the network. Where this occurs the user will be directed from the portal page to a login page where the user will have to input identification information such as the user s name address credit card number and other relevant data so that the user may be authorized to access the network. After the user enters sufficient login data to establish authorization the user may be redirected to a portal page.

The redirection is accomplished by a Home Page Redirect HPR performed by the gateway device a AAA server or by a portal page redirect unit located internal to or external to the gateway device. To accomplish the redirection of a user to a portal page HPR utilizes a Stack Address Translation SAT operation to direct the user to the portal page which is preferably local to the gateway device so that the redirection will be efficient and fast. This is accomplished by redirecting the user to a protocol stack using network and port address translation to the portal server that can be internal to the computer network or gateway device. More specifically the gateway device AAA server or portal page redirect unit receives the user s HTTP request for a web page and sends back the HTTP response reversing the network and port address translation the portal server essentially acting as a transparent go between to the user and portal server. It will be appreciated however that to receive the HTTP request the gateway device AAA server or portal page redirect unit must initially open a Transmission Control Protocol TCP connection to a server in line with the user requested Internet address.

According to one aspect of the present invention when a user initially attempts to access a destination location the gateway device AAA server or portal page redirect unit receives this request and routes the traffic to a protocol stack on a temporary server which can be local to the gateway device. This can occur where a user initially opens a web browser resident on the user s computer and attempts to access a destination address such as an Internet site. The destination address can also include any address accessible via the network or an online service and can include the portal page. The protocol stack can pretend to be the user entered destination location long enough to complete a connection or handshake . Thereafter this protocol stack directs the user to the portal server which can be local to the gateway device to facilitate higher speed communication. The redirection to the portal server can be accomplished by redirecting web pages only rather than all traffic including E mails FTPs or any other traffic. Therefore once authorized if a user does not attempt to access a webpage through the user s Internet browser the gateway device can forward the communication transparently to the user s requested destination without requiring the user to access the portal page. Furthermore according to one aspect of the invention specific user input destination addresses may be authorized to pass through the gateway device without being redirected.

The portal page can also be specialized based on the user user s location user s computer or any combination thereof. For example assuming that the user has been authenticated and has authorization the gateway device can present users with a portal page that identifies among other things the online services or other computer networks that are accessible via the gateway device. In addition the portal page presented by the gateway device can provide information regarding the current parameters or settings that will govern the access provided to the particular user. As such the gateway administrator can readily alter the parameters or other settings in order to tailor the service according to their particular application. Typically changes in the parameters or other settings that will potentially utilize additional resources of the computer system will come at a cost such that the gateway administrator will charge the user a higher rate for their service. For example a user may elect to increase the transfer rate at which signals are transmitted across the computer network and pay a correspondingly higher price for the expedited service.

The portal page may include advertising tailored to the specific needs of the user. The gateway device would be capable of tailoring the material based upon user profiles in the network. The portal page may also incorporate surveys or links to surveys to provide the network provider with beneficial statistical data. As an ancillary benefit the user who responds to the surveys may be rewarded with network access credit or upgraded quality. Additionally the service provided could offer additional services to the user by way of the portal page or links to these services may be offered on the portal page. These services offered by the network service provider are not limited to the services related to the network connection. For example a hotel may desire to offer the user in room food service or a multi unit dwelling may want to offer house cleaning service.

The portal page may also comprise information related to the status of the current network session. By way of example this information may include current billing structure data the category level of service that the user has chosen the bandwidth being provided to the user the bytes of information currently sent or received the current status of network connection s and the duration of the existing network connection s . It is to be understood by those skilled in the art to which this invention relates that all conceivable useful information relating to the current network session could be displayed to the user in a multitude of combinations as defined by the user and or the gateway administrator. The gateway administrator will have the capability to dynamically change the information supplied in the portal page based on many factors including the location of the user the profile of the user and the chosen billing scheme and service level. The information provided in the portal page may prompt the user to adjust any number of specific parameters such as the billing scheme the routing the level of service and or other user related parameters.

The portal page may be implemented with an object oriented programming language such as Java developed by Sun Microsystems Incorporated of Mountain View Calif. The code that defines the portal page can be embodied within the gateway device while the display monitor and the driver are located with the host computers that are in communication with the gateway device. The object oriented programming language that is used should be capable of creating executable content i.e. self running applications that can be easily distributed through networking environments. The object oriented programming language should be capable of creating special programs typically referred to as applets that can be incorporated in portal pages to make them interactive. In this invention the applets take the form of the portal pages. It should be noted that the chosen object oriented programming language would require that a compatible web browser be implemented to interpret and run the portal page. It is also possible to implement the portal page using other programming languages such as HTML SGML and XML however these languages may not be able to provide all the dynamic capabilities that languages such as Java provide.

By re directing the user to the portal page the gateway administrator or network operator is provided the opportunity to present the user with updated information pertaining to the remote location i.e. the hotel the airport etc. . By way of example the portal page may provide for links to the corporate home page a travel site on the Internet an Internet search engine and a network provider home page. Additionally the buttons or any other field within the portal page may include other types of information options such as advertising fields or user specific links or fields based upon data found in the user s profile or inputted by the user.

It will be appreciated that the portal page is not limited to supplying information related to the user s billing and service plans. It is also possible to configure the portal page to include information that is customized to the user or the location site from which the user is remotely located. For example the user may be located at a hotel for the purpose of attending a specific convention or conference either in the hotel or within the immediate vicinity of the hotel. The gateway device may have learned this information about the user through an initial log on profile inquiry or the gateway administer may have inputted this information into a database.

The gateway device can store user profile information within a user specific AAA database as described below or it can store and retrieve data from external databases. The gateway device can be configured to recognize these profiles and to customize the portal page accordingly. In the hotel scenario the portal page may include a link for convention or conference services offered by the hotel.

In another example of location specific portal page data the user may be remotely accessing the gateway device while located in a specific airport terminal. The gateway device will be configured so that it is capable of providing ready access to information related to that specific airport terminal i.e. information pertaining to the current flights scheduled to depart and arrive that terminal the retail services offered in that specific terminal etc. In this manner the portal page may include a link for terminal specific flight information and or terminal specific retail services available to the user.

It will also be appreciated that the HPR may be configured so a user is redirected to a portal page upon specific default occurrences such as a time out or according to preset time. For example the portal page may act as a screen saver where the user is redirected to a portal page after a given period of inactivity. These functions may be established by the ISP or enterprise network administrator.

Customization of the information comprising the portal page is not limited to the gateway administrator or the network operator. The user may also be able to customize the information that is provided in the portal page. The user customization may be accomplished either directly by the user configuring the portal page manually or indirectly from the gateway device configuring the portal page in response to data found in the user specific profile. In the manual embodiment the user may be asked to choose which information or type of information they would like supplied in the portal page for that specific network session. For instance the user may require an alarm clock counter to insure an appointment is met or the user may require periodical updates of a specific stock quote. The information that a user customizes for the portal page may be network session specific may be associated with the duration of a gateway subscription or may be stored in a user profile for an indefinite period of time. The gateway device s ability to communicate with numerous user databases provides the basis for storing user specific profiles for extended periods of time.

As explained above the portal page presented to the user can be dependent upon an attribute associated with the user such as the user s identification the user s location an address associated with the user s computer or a combination thereof. The means in which a user is identified and access rights are determined is based upon an Authentication Authorization and Accounting AAA method implemented by the AAA server.

One function of the AAA server is to identify the user in communication with the gateway device in a manner that is transparent to the user. That is the user will not be required to reconfigure the computer or otherwise change the home network settings and no additional configuration software will have to be added to the computer. According to one embodiment of the present invention after a user is directed to a portal page the AAA server can be accessed to authorize and authenticate the user. Therefore upon accessing the network the user may be forwarded to a generic portal page and after the user may be authenticated the user can be forwarded via HPR and SAT to a specialized portal page as described above.

After receiving a request for access from a user forwarding the user to a portal page and identifying the user or location the AAA server then determines the access rights of the particular user. In addition to storing whether users have valid access rights the user profile database can also include specialized access information particular to a specific location or user such as the bandwidth of the user s access or a portal page to which a user should be directed. For example a user accessing the network from a penthouse may receive a higher access band rate than someone accessing the destination network from a typical hotel room. Additionally a user profile can include historical data relating to a user s access to the network including the amount of time a user has accessed the network. Such historical information can be used to determine any fees which may be charged to the user or due from the user for access. Specialized access information contained within the user profile may be established by the system administrator or by the user who has purchased or otherwise established access to the network. For example where a user is transparently accessing the gateway device from a hotel room the hotel network administrator may enter user access information into the profile database based upon access rights associated with a room in the hotel. This can also be done automatically by the gateway device or a local management system such as a hotel property management system when the user checks into his or her room.

Assuming that a user does not have a subscription for access to the network a login page enables new users to subscribe to the computer network so that they may subsequently obtain access to networks or online services transparently through the gateway device. The user may take steps to become authenticated so that the user s information may be recorded in the user profile database and the user is deemed valid. For example a user may have to enter into a purchase agreement requiring the user to enter a credit card number. If the user needs to purchase access or if the system needs additional information about the user the user is redirected from the portal page via HPR and SAT to a location such as a login page established to validate new users. SAT and HPR can intervene to direct the user to a webserver external or internal where the user has to login and identify themselves. Location based information and authorization as described in detail in U.S. patent application Ser. No. 60 161 093 incorporated herein by reference can be sent to the portal page as part of this redirection process. This enables the portal page to be customized to include customized information such as locale restaurant ads or train schedules.

Assuming that a user has not been authorized access to the network based upon location based identification or user input identification the user must provide the gateway device with sufficient information to become authorized access. Where the user is not authorized access the user is forwarded via HPR and SAT from the portal page to a login page. The login page enables new users to subscribe to the computer network so that they may subsequently obtain access to networks or online services transparently through the gateway device. To direct the users to a login page the AAA server calls upon the HPR function. The HPR directs the user to the login page and after the user has entered requisite information into the login page the AAA server adds the new information to the customer profile database and can direct the user to the user s desired destination such as an Internet address or can return the user to a portal page depending upon the design of the system. Thus new users can gain access to networks or online services without being predefined in the user profile database.

After receiving the user s login information the AAA server will create a user profile utilizing this information so that the user will be able to obtain immediate access to the network next time the user logs in without being required to enter login information again. The AAA server can create a profile for the user in a locally stored user profile database or can update the user profile in a database external to the gateway device. Regardless of the location of the user profile the next time the user attempts to login the user s profile will be located in the user profile database the user s access rights determined and the user allowed transparent access to networks or services.

Many modifications and other embodiments of the invention will come to mind to one skilled in the art to which this invention pertains having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore it is to be understood that the invention is not to be limited to the specific embodiments disclosed and that modifications and other embodiments are intended to be included within the scope of the appended claims. Although specific terms are employed herein they are used in a generic and descriptive sense only and not for purposes of limitation.

