---

title: Capacitive touchscreen system with reduced power consumption using modal focused scanning
abstract: Disclosed herein are various embodiments of a capacitive touchscreen system that is capable of sensing finger touches made on a capacitive touchscreen according to various scanning modes that reduce power consumption of the capacitive touchscreen system. The disclosed power saving scanning modes are modally focused, and can be used not only to reduce system power consumption, but also to enhance the user experience with the capacitive touchscreen system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09019230&OS=09019230&RS=09019230
owner: PixArt Imaging Inc.
number: 09019230
owner_city: Science-Based Industrial Park, Hsin-Chu
owner_country: TW
publication_date: 20101031
---
Various embodiments of the invention described herein relate to the field of capacitive sensing input devices generally and more specifically to means and methods for reducing power consumption of such devices during operation.

Two principal capacitive sensing and measurement technologies are currently employed in most touchpad and touchscreen devices. The first such technology is that of self capacitance. Many devices manufactured by SYNAPTICS employ self capacitance measurement techniques as do integrated circuit IC devices such as the CYPRESS PSOC. Self capacitance involves measuring the self capacitance of a series of electrode pads using techniques such as those described in U.S. Pat. No. 5 543 588 to Bisset et al. entitled Touch Pad Driven Handheld Computing Device dated Aug. 6 1996.

Self capacitance may be measured through the detection of the amount of charge accumulated on an object held at a given voltage Q CV . Self capacitance is typically measured by applying a known voltage to an electrode and then using a circuit to measure how much charge flows to that same electrode. When external objects are brought close to the electrode additional charge is attracted to the electrode. As a result the self capacitance of the electrode increases. Many touch sensors are configured such that the grounded object is a finger. The human body is essentially a capacitor to a surface where the electric field vanishes and typically has a capacitance of around 100 pF.

Electrodes in self capacitance touchpads are typically arranged in rows and columns. By scanning first rows and then columns the locations of individual disturbances induced by the presence of a finger for example can be determined. To effect accurate multi touch measurements in a touchpad however it may be required that several finger touches be measured simultaneously. In such a case row and column techniques for self capacitance measurement can lead to inconclusive results.

One way in which the number of electrodes can be reduced in a self capacitance system is by interleaving the electrodes in a saw tooth pattern. Such interleaving creates a larger region where a finger is sensed by a limited number of adjacent electrodes allowing better interpolation and therefore fewer electrodes. Such patterns can be particularly effective in one dimensional sensors such as those employed in IPOD click wheels. See for example U.S. Pat. No. 6 879 930 to Sinclair et al. entitled Capacitance touch slider dated Apr. 12 2005.

The second primary capacitive sensing and measurement technology employed in touchpad and touchscreen devices is that of mutual capacitance where measurements are performed using a crossed grid of electrodes. See for example U.S. Pat. No. 5 861 875 to Gerpheide entitled Methods and Apparatus for Data Input dated Jan. 19 1999. Mutual capacitance technology is employed in touchpad devices manufactured by CIRQUE. In mutual capacitance measurement capacitance is measured between two conductors as opposed to a self capacitance measurement in which the capacitance of a single conductor is measured and which may be affected by other objects in proximity thereto.

In some mutual capacitance measurement systems an array of sense electrodes is disposed on a first side of a substrate and an array of drive electrodes is disposed on a second side of the substrate that opposes the first side a column or row of electrodes in the drive electrode array is driven to a particular voltage the mutual capacitance to a single row or column of the sense electrode array is measured and the capacitance at a single row column intersection is determined. By scanning all the rows and columns a map of capacitance measurements may be created for all the nodes in the grid. When a user s finger or other electrically conductive object approaches a given grid point some of the electric field lines emanating from or near the grid point are deflected thereby decreasing the mutual capacitance of the two electrodes at the grid point. Because each measurement probes only a single grid intersection point no measurement ambiguities arise with multiple touches as in the case of some self capacitance systems. Moreover it is possible to measure a grid of m n intersections with only 2n pins on an IC.

It is well known that capacitive touchscreen systems owing to their frequent use in battery operated mobile electronic devices present formidable challenges to reducing the power consumption thereof.

In one embodiment there is provided a method of reducing power consumption in a capacitive touchscreen system comprising providing under control of a touchscreen processor drive signals to a first plurality of electrically conductive drive traces a second plurality of electrically conductive sense traces being located in proximity to the first plurality of drive traces such that mutual capacitances are developed between the first and second pluralities of traces by the drive signals at locations where the first and second pluralities of traces intersect to form pixels such mutual capacitances changing in the presence of one or more fingers hands or touch devices brought into proximity thereto at touch locations on the touchscreen sensing under control of the touchscreen processor mutual capacitances along each of the second plurality of sense traces during at least first and second frames the second frame following the first frame during the first frame detecting and determining in the touchscreen processor a first touch location on the touchscreen associated with a first touch on the basis of sensed mutual capacitances during the second frame detecting and determining in the touchscreen processor a second touch location on the touchscreen associated with a second touch on the basis of sensed mutual capacitances and determining in the touchscreen processor on the basis of the first and second locations a predicted third touch location on the touchscreen associated with a third touch that has not yet occurred.

In another embodiment there is provided a capacitive touchscreen system featuring reduced power consumption comprising means for providing under control of a touchscreen processor drive signals to a first plurality of electrically conductive drive traces a second plurality of electrically conductive sense traces located in proximity to the first plurality of drive traces such that mutual capacitances are developed between the first and second pluralities of traces by the drive signals provided thereto at locations where the first and second pluralities of traces intersect to form pixels such mutual capacitances changing in the presence of one or more fingers hands or touch devices brought into proximity thereto at touch locations on the touchscreen means for sensing under control of the touchscreen processor mutual capacitances along each of the second plurality of sense traces during at least first and second frames the second frame following the first frame wherein the touchscreen processor is configured to detect and determine in during the first frame a first touch location on the touchscreen associated with a first touch on the basis of sensed mutual capacitances to detect and determine during the second frame a second touch location on the touchscreen associated with a second touch on the basis of sensed mutual capacitances and to determine a predicted third touch location on the touchscreen associated with a third touch that has not yet occurred on the basis of the first and second locations.

In yet another embodiment there is provided a method of reducing power consumption in a capacitive touchscreen system comprising providing under control of a touchscreen processor drive signals to a first plurality of electrically conductive drive traces a second plurality of electrically conductive sense traces being located in proximity to the first plurality of drive traces such that mutual capacitances are developed between the first and second pluralities of traces by the drive signals at locations where the first and second pluralities of traces intersect to form pixels such mutual capacitances changing in the presence of one or more fingers hands or touch devices brought into proximity thereto at touch locations on the touchscreen sensing at a first fractional scan rate in a full scan mode over a first predetermined period of time corresponding to a no touch timer and under control of the touchscreen processor mutual capacitances along the second plurality of sense traces if touches are detected on the touchscreen within the first predetermined period of time resetting the no touch timer to zero and continuing to sense at the first full scan rate in the full scan mode mutual capacitances along the second plurality of sense traces if no touches are detected on the touchscreen within the first predetermined period of time sensing at a second reduced scan rate in a first rest mode over a second predetermined period of time corresponding to a first rest timer if touches are detected on the touchscreen within the second predetermined period of time resetting the no touch timer to zero and resuming sensing at the first full scan rate in the full scan mode the mutual capacitances along the second plurality of sense traces if no touches are detected on the touchscreen within the second predetermined period of time sensing at a third reduced scan rate in a second rest mode over a third predetermined period of time corresponding to a second rest timer the third reduced scan rate being lower than the second reduced scan rate if touches are detected on the touchscreen within the third predetermined period of time resetting the no touch timer to zero and resuming sensing at the first full scan rate in the full scan mode the mutual capacitances along the second plurality of sense traces if no touches are detected on the touchscreen within the third predetermined period of time entering a locked mode in which a reduced number of the second plurality of traces are sensed.

Further embodiments are disclosed herein or will become apparent to those skilled in the art after having read and understood the specification and drawings hereof.

The drawings are not necessarily to scale. Like numbers refer to like parts or steps throughout the drawings.

As illustrated in a capacitive touchscreen system typically consists of an underlying LCD or OLED display an overlying touch sensitive panel or touchscreen a protective cover or dielectric plate disposed over the touchscreen and a touchscreen controller micro processor application specific integrated circuit ASIC or CPU . Note that image displays other than LCDs or OLEDs may be disposed beneath display . The navigation hardware controller portion of touchscreen controller or CPU carries out navigation control and helps effect power consumption reduction more about which is said below.

Capacitive touchscreens or touch panels shown in can be formed by applying a conductive material such as Indium Tin Oxide ITO to the surface s of a dielectric plate which typically comprises glass plastic or another suitable electrically insulative and preferably optically transmissive material and which is usually configured in the shape of an electrode grid. The capacitance of the grid holds an electrical charge and touching the panel with a finger presents a circuit path to the user s body which causes a change in the capacitance.

Touchscreen controller senses and analyzes the coordinates of these changes in capacitance. When touchscreen is affixed to a display with a graphical user interface on screen navigation is possible by tracking the touch coordinates. Often it is necessary to detect multiple touches. The size of the grid is driven by the desired resolution of the touches. Typically there is an additional cover plate to protect the top ITO layer of touchscreen to form a complete touch screen solution see e.g. .

One way to create a touchscreen is to apply an ITO grid on one side only of a dielectric plate or substrate. When the touchscreen is mated with a display there is no need for an additional protective cover. This has the benefit of creating a thinner display system with improved transmissivity 90 enabling brighter and lighter handheld devices. Applications for touchscreen controller include but are not limited to smart phones portable media players mobile internet devices MIDs and GPS devices.

Referring now to in one embodiment the touchscreen controller includes an analog front end with 12 drive signal lines and 20 sense lines connected to an ITO grid on a touchscreen. Touchscreen controller applies an excitation such as a square wave meander signal or other suitable type of drive signal to the drive electrodes that may have a frequency selected by way of example from a range between about 40 kHz and about 200 kHz. The AC signal is coupled to the sense lines via mutual capacitance. Touchscreen with a finger disposed thereon or in proximity thereto alters the capacitance at the location of the touch. Touchscreen controller can resolve and track multiple touches simultaneously. A high refresh rate allows the host to track rapid touches and any additional movements without appreciable delay. The embedded processor filters the data identifies the touch coordinates and reports them to the host. The embedded firmware can be updated via patch loading. Other numbers of drive and sense lines are of course contemplated such as 9 16 and 8 12 arrays.

Touchscreen controller and the navigation hardware controller thereof feature multiple operating modes with varying levels of power consumption. In rest mode controller periodically looks for touches at a rate programmed by the rest rate registers. There are multiple rest modes each with successively lower power consumption. In the absence of a touch for a certain interval controller automatically shifts to the next lowest power consumption mode. However as power consumption is reduced the response time to touches may increase.

According to one embodiment and as shown in and an ITO grid on the touchscreen comprises sense rows and drive columns where the sense rows are operably connected to sense circuits of and the drive columns are operably connected to drive circuits of . One configuration for routing ITO drive and sense lines to touchscreen controller is shown in .

Note that the rows in a touchscreen may be configured to operate as sense lines and the columns in a touchscreen may be configured to operate as drive lines. Drive lines may also be selectably switched to operate as sense lines and sense lines may be selectably switched to operate as drive lines under the control of appropriate multiplexing and control circuitry. Moreover drive and sense lines may be configured in patterns other than rows and columns or other than orthogonal rows and columns. Those skilled in the art will understand that touchscreen controllers micro processors ASICs or CPUs other than a modified AMRI 5000 chip or touchscreen controller may be employed in touchscreen system and that different numbers of drive and sense lines and different numbers and configurations of drive and sense electrodes other than those explicitly shown herein may be employed without departing from the scope or spirit of the various embodiments of the invention.

In one embodiment the angle between traces and is about 90 degrees as shown for example in but may be any suitable angle such as by way of example about 15 degrees about 30 degrees about 45 degrees about 60 degrees or about 75 degrees. Electrically conductive traces and may be disposed in substantially parallel but vertically offset first and second planes respectively or may be disposed in substantially the same plane. In one embodiment electrically conductive traces and comprise indium tin oxide ITO or any other suitable electrically conductive material. A liquid crystal display may be disposed beneath electrically conductive traces and or any other suitable image display. Electrically conductive traces and are preferably disposed on a substrate comprising an electrically insulative material that is substantially optically transparent.

Note that touchscreen system may be incorporated into or form a portion of an LCD a computer display a laptop computer a personal data assistant PDA a mobile telephone a radio an MP3 player a portable music player a stationary device a television a stereo an exercise machine an industrial control a control panel an outdoor control device a household appliance or any other suitable electronic device.

In a capacitive touchscreen system an m row by n column touch grid is typically continuously sampled at all of m n cells or pixels at the same sampling rate. As the number of touches at any given time is only a small percentage of the total number of cells the power consumption and system performance can be significantly improved if only those cells or pixels relevant to touches on the touchscreen are sampled. This goal can be achieved by adaptively configuring the touchscreen controller and its corresponding navigation hardware controller to operate in various modes in which individual groups of cells or pixels are selectively sampled at a variable sampling rate and or frame rate.

In one embodiment of a method of reducing power consumption in a capacitive touchscreen system and under control of touchscreen processor and the navigation hardware controller drive signals are provided to a first plurality of electrically conductive drive traces where a second plurality of electrically conductive sense traces is located in proximity to the first plurality of drive traces such that mutual capacitances are developed between the first and second pluralities of traces by the drive signals at locations where the first and second pluralities of traces intersect to form cells or pixels. The mutual capacitances change in the presence of one or more fingers hands or touch devices brought into proximity thereto at touch locations on touchscreen Under control of the touchscreen processor mutual capacitances are sensed along each of the second plurality of sense traces during at least first and second frames where the second frame follows the first frame. During the first frame a first touch location on touchscreen associated with a first touch is detected and determined in touchscreen processor on the basis of sensed mutual capacitances. This first touch is represented by touch location A on touchscreen of . During the second frame a second touch location B on touchscreen associated with a second touch is detected and determined in touchscreen processor on the basis of sensed mutual capacitances. On the basis of the first and second locations A and B a predicted third touch location C on touchscreen associated with a third touch is calculated by controller and the navigation hardware controller. Velocity vector may be calculated by touchscreen controller and the navigation hardware controller between touch locations A and B to more accurately predict the third touch location C. Velocity vector may also be calculated by touchscreen controller and the navigation hardware controller between touch locations B and C to more accurately predict a fourth touch location not shown in . Note that as used herein the first second and third frames may be separated by other intervening frames or scans.

When referring to first second and third touches herein and to avoid confusion it is important to note the first second and third touches can be made in different ways and therefore have different meanings. In one embodiment the first second and third touches mean first second and third discrete and separate touches made by a user upon touchscreen where the user s finger touches the touchscreen at the first location to make the first touch the user s finger is then lifted off touchscreen from the first location and moved above touchscreen to the second location where the second touch on touchscreen is then made by the user s finger and the user s finger is subsequently lifted off touchscreen from the second location and moved above touchscreen to the third location where the third touch on touchscreen is then made by the user s finger and further where the first second and third touches are detected during different frames. In another embodiment the first second and third touches mean a single continuous finger touch on touchscreen where the user s finger moves between the first second and third locations without the user s finger being lifted away from contact with touchscreen and where the first second and third touches are detected during different frames. In still another embodiment the first second and third touches mean a combination of discrete and continuous finger touches where the user s finger moves for example between the first and second locations without lifting away from contact with touchscreen but subsequently does lift away from contact with touchscreen between the second and third locations and where the first second and third touches are detected during different frames.

Adjusting the frame rate for sensing in a neighborhood of cells or pixels of interest only when touches have been detected in such neighborhood can introduce tracking latency. Progressively turning up the frame or scan rate in the neighborhood of pixels or cells of interest indicated by detected touches can reduce or eliminate such tracking latency and can be accomplished by calculating velocity vectors corresponding to a given touch or touches. Calculating velocity vectors allows more accurate prediction of where a future touch is likely to occur when the next or subsequent frame scan takes place. Accordingly higher frame or scan rates can be programmed in touchscreen controller and the navigation hardware controller for application in the neighborhood of cells or pixels surrounding the predicted future touch location thereby eliminating tracking latency. Similarly lower frame or scan rates or no scanning can be programmed in touchscreen controller and the navigation hardware controller for application in the neighborhood of cells or pixels that do not surround the predicted future touch location and that are some predetermined distance on touchscreen away from the future touch location thereby reducing the power consumption of the capacitive touchscreen system.

Note that the pixels or cells in the vicinity or neighborhood of the predicted third touch location can form by way of example 3 3 or 5 5 pixel or arrays of cells. Arrays of other sizes may also be employed. In one embodiment the full frame rate can range between about 60 frames per second and about 250 frames per second and the reduced frame rate can range between about 5 frames per second and about 60 frames per second. Other full and reduced frame rates are also contemplated. Moreover decimation ratios between a sample rate and a rate at which frames are acquired for touchscreen can be reduced in those portions of touchscreen where frame rates scanning is reduced and correspondingly may be increased in those portions of touchscreen where frame rates or scanning is increased. Frame rates can also be maintained at a current rate if the number of touches on the touchscreen is determined in the touchscreen processor to be neither substantially increasing nor substantially decreasing. To further decrease power consumption of the capacitive touchscreen system frames corresponding to different portions of the touchscreen can be acquired sequentially. For example the different portions of the touchscreen can correspond to one of one eighth one fourth one third one half or any other fraction of the touchscreen where such portions are scanned sequentially or according to some other predetermined scanning pattern.

Set forth below is one embodiment of an illustrative pseudo code computer program corresponding to the method of . Note that all the pseudo code programs disclosed herein are preferably implemented in the navigation hardware controller module of touchscreen controller of although other means and methods of implementing such pseudo code are contemplated.

Referring now to there is shown another embodiment of a method for reducing power consumption in a capacitive touchscreen system. The system starts up in Full Scan Mode by scanning the entire touchscreen at a fractional frame rate. Note that the fractional frame or scan rate is less than the full or maximum frame or scan rate which helps reduce power consumption. If touches are detected the system enters into Run Mode if no touches are detected for the duration of time defined by a No Touch Timer the system enters into Rest 1 Mode. In Rest 1 Mode and in one embodiment a fraction such as of the total number of cells or pixels of touchscreen is scanned per frame and at a frame rate that is reduced to a fraction of the maximum or full frame rate.

In one embodiment the four quarters of touchscreen are sequentially and cyclically scanned on a per frame basis. Consequently a full scan of the entire touchscreen only results after 4 such frames. Each selected cell array of cells or neighborhood of cells that is scanned requires activating and energizing corresponding pairs of column drive and row sense channels. As such not scanning all cells or pixels in touchscreen during a given frame in combination with much slower frames rate than those corresponding to the Run Mode achieves a balance between power consumption reduction and touch detection responsiveness.

As further shown in a heartbeat timer paces scanning. At the end of each scan if touches are detected the system immediately transitions out of Rest 1 Mode into Full Scan Mode. With a separate timer the system also keeps track of how long it has been in Rest 1 Mode. If the separate timer indicates that a programmable timing threshold has been exceeded then the system enters into the next stage of rest or Rest 2 Mode. In Rest 2 Mode the system operates in similar fashion to Rest 1 Mode but at an even slower frame rate and with a higher threshold for transitioning into the next stage of rest. As determined by current use mode requirements and practicality of implementation there can be more stages of Rest Modes with one or more of progressively slower frame rates higher thresholds for transitioning smaller sample windows and windows with coarser spatial sampling. At the last stage in a chain of Rest Modes if the timer expires with no touches detected the system enters into Locked Mode.

Continuing to refer to in Locked Mode an even smaller fraction of touchscreen is scanned than in the various Rest Modes and at a further reduced fraction of the full or maximum frame rate. The portion of touchscreen that is to be scanned in Locked Mode is predetermined and programmable. For example in the Locked Mode scanning can be limited to the rightmost or leftmost three columns of cells on touchscreen . Other configurations of cells that are to be scanned in the Locked Mode are also contemplated. A timer provides pacing for the Locked Mode of operation. To exit the Locked Mode a user is required to apply a certain predefined gesture touch pattern or sequence of touches which may be limited to predetermined locations on touchscreen . Upon exiting the Locked Mode the system enters into Full Scan Mode.

Continuing to refer to while the touchscreen system is operating in RUN mode only a small number of cells or pixels such a 3 3 array for example neighboring or in the vicinity of the cell or cells where a touch is detected are scanned at the full or maximum frame rate while the remaining cells are scanned at a reduced or fractional frame or rate of the full or maximum frame rate such as at by way of example one half the full scan rate. Other reduced scan rates are also contemplated. A newly detected touch in an area of touchscreen that is being scanned at a reduced or lowered frame rate results in a switch to the full or maximum frame rate in the vicinity of such newly detected touch. Touchscreen controller can also be programmed such that a moving touch arriving in a neighborhood of cells or pixels that is being scanned at a reduced frame rate results in a switch to the full or maximum frame rate in the vicinity of such neighborhood of cells. Touchscreen controller can further be programmed such that a touch that is detected to be leaving a particular neighborhood of cells or pixels where a full or maximum scan rate is being employed results in a lower frame rate for such particular neighborhood of cells.

In addition the method described above in connection with may be modified or supplemented by detecting the number of simultaneous touches occurring on touchscreen at any given time and then adjusting the frame rate on the basis of the detected number of simultaneous touches. If the number of simultaneous touches on touchscreen is high the frame rate is increased. If the number of simultaneous touches on touchscreen is low the frame rate is decreased. If the number of simultaneous touches on touchscreen remains the same as in one or more previous frames the frame rate is maintained at its current level.

Set forth below is one embodiment of an illustrative pseudo code computer program corresponding to method of . Note that all the pseudo code programs disclosed herein are preferably implemented in the navigation hardware controller module of touchscreen controller although other means and methods of implementing such pseudo code are contemplated.

Referring now to there is shown another embodiment of method for reducing power consumption in a capacitive touchscreen system and which may also be employed to enhance the user experience while the system is operating in the RUN mode described above in connection with method of . It is known that a capacitive touchscreen system s signal to noise ratio SNR can directly affect the user experience and is inversely related to the number of simultaneous touches being tracked. As the number of simultaneous touches on touchscreen increases the SNR must be increased if all the simultaneous touches are to be detected accurately. Method of increases the SNR of the capacitive touchscreen system and permits multiple simultaneous touches on touchscreen to be better differentiated from one another and to be more accurately detected.

Continuing to refer to at step touchscreen controller determines whether the number of touches on touchscreen is increasing. If the number of touches on touchscreen is determined to be increasing the sampling rate and decimation ratio are increased. By sampling rate we mean the rate at which the A D converter of touchscreen controller is sampling acquired frames. The decimation ratio is the ratio of the sampling rate to the frame or scan rate. Note that the frame or scan rate can be different from the report rate which is the rate at which detected touches or no touches are reported to host controller . In one embodiment the report rate is about 200 Hz and the frame or scan rate ranges between about 5 Hz and about 200 Hz depending on the particular operating mode being employed at any given time. If the number of touches on touchscreen is determined to be decreasing then the sampling rate and decimation ratio are decreased at step . Otherwise that is if the number of touches on touchscreen is determined by touchscreen controller to be neither increasing substantially nor decreasing substantially decimation ratios and sampling are maintained at their current levels. Method of permits the signal to noise ration SNR of the capacitive touchscreen system to adjust on the fly by varying the decimation ratio between the sampling rate and the frame rate and thereby maximizes performance of the capacitive touchscreen system according to the current number of touches being detected.

Set forth below is one embodiment of an illustrative pseudo code computer program corresponding to method of . Note that all the pseudo code programs disclosed herein are preferably implemented in the navigation hardware controller module of touchscreen controller although other means and methods of implementing such pseudo code are contemplated.

Referring now to we discuss some further specific means methods and embodiments for reducing the portions of touchscreen that are to be scanned with the objective of reducing the power consumption of the capacitive touchscreen system. One method to detect touches is perform a raster scan of the entire array of cells in touchscreen . The run time of such an algorithm is linear. However if the presence of a touch or touches on touchscreen can be inexpensively and quickly localized to a subset of the overall pixel or cell array before the detailed or fine detection of touches takes place then the run time can be significantly reduced and power consumption can be reduced. In one such embodiment the overall pixel or cell array is divided into four quadrants. A sum of all cell or pixel values within each quadrant is calculated. If the sum of a given quadrant is above a predetermined threshold then that quadrant is flagged as containing touches see . In one embodiment these summing and flagging operations are implemented in hardware so that they are fast and efficient. The flags corresponding to the four quadrants can then be read by firmware to determine in which quadrants fine touch detection is to be carried out. And depending on the size of the touch grid each quadrant can be further divided into smaller regions in which the summing and flagging are also implemented. In such a method the run time of touch detection is logarithmic. Furthermore firmware can be used to flag and quickly decide which drive lines should be deactivated and are unnecessary. For example if the left half of touchscreen is flagged as containing no touches firmware can turn off the drive lines that are associated with the left half of touchscreen .

Other scanning modes patterns and timing are also contemplated such as that shown in where only a portion of the pixels or cells of touchscreen is illustrated and where it will be seen that the pixels or cells on touchscreen are scanned according to a predetermined staggered sequence and pattern of cells and pixels that may shift up down or sideways or in diagonal fashion across touchscreen . Those skilled in the art will now appreciate that many different sequences and patterns for scanning in such fashion are possible.

Other special modes of operation in which only a fraction of touchscreen is required to be activated can also be defined such as for a keypad. Drive lines outside of the area of interest on touchscreen are turned off resulting in power savings. Alternatively active drives inside the area of interest on touchscreen can be driven at a higher sampling rate to enhance user experience. In another embodiment a keyboard entry mode can be invoked via a register setting from touchscreen controller . When the keyboard entry mode is activated touchscreen controller focuses scanning activity on a sub set of row and column locations that define a QWERTY type keyboard input matrix while host controller of displays a picture of the keyboard layout on an LCD for the user to view. Touchscreen controller then switches to a simplified less precise scanning mode where an interpolation scanning algorithm tracks new key presses and reports key codes rather than precise finger locations. This provides benefit to the user by lowering power consumption and increasing touch panel typing accuracy. There is also a benefit provided to the system designer in that key presses are determined by touchscreen controller thereby reducing the computational and power load of the system CPU by eliminating the need to precisely map finger touch locations when operating in keyboard entry mode.

The QWERTY type keyboard input matrix described above is only one example. Other examples of how an application subsystem can specify input modes at specified times and panel locations to the scanning subsystem include a various other keyboard input configurations b make key press detection or make and break key press detection c button press area or force detection or binary only press d no press detection e swipe detection in a specific axis and direction e limiting detection to a smaller number of fingers hands or touch devices than the maximum system capacity detection of pinch or un pinch gestures f limiting spatial or temporal resolution or granularity or g limiting detection to a specify sub region on a panel. For each of these examples or any other application specified scanning mode or a combination of such limiting constraints and modes the scanning subsystem will realize power saving by reducing both the electrical scanning requirements and the CPU load imposed by taking algorithmic advantage of any such constrained scanning mode.

Note that many different means and methods for implementing the methods and devices disclosed herein are contemplated such as through the use of software or firmware loaded in a computer readable medium or by implementing such means and methods in hardware such as in an Application Specific Integrated Circuit ASIC . The various embodiments are not limited to applications in capacitive touchscreen system and may be employed in other types of sensing devices and systems. Moreover the various embodiments described herein are not limited to applications involving discrete finger touches but are intended to include applications which employ gestures and multiple touches.

Note further that the various teachings presented herein may be applied to optically transmissive or non optically transmissive touchpads disposed for example on a printed circuit board a flex board or other suitable substrate. While the primary use of capacitive touchscreen is believed likely to be in the context of relatively small portable devices and touchpads or touchscreens therefore it may also be of value in the context of larger devices including for example keyboards associated with desktop computers or other less portable devices such as exercise equipment industrial control panels household appliances and the like. Similarly while many embodiments of the invention are believed most likely to be configured for manipulation by a user s fingers some embodiments may also be configured for manipulation by other mechanisms or body parts. For example the invention might be located on or in the hand rest of a keyboard and engaged by the heel of the user s hand. Furthermore various embodiments of capacitive touchscreen system and capacitive touchscreen are not limited in scope to drive electrodes disposed in rows and sense electrodes disposed in columns. Instead rows and columns are interchangeable in respect of sense and drive electrodes. Various embodiments of capacitive touchscreen system and capacitive touchscreen are also capable of operating in conjunction with a stylus such that stylus touches on touchscreen are detected. System and touchscreen may further be configured to permit the detection of both of finger touches and stylus touches.

Note still further that included within the scope of the present invention are methods of making and having made the various components devices and systems described herein.

The above described embodiments should be considered as examples of the present invention rather than as limiting the scope of the invention. In addition to the foregoing embodiments of the invention review of the detailed description and accompanying drawings will show that there are other embodiments of the present invention. Accordingly many combinations permutations variations and modifications of the foregoing embodiments of the present invention not set forth explicitly herein will nevertheless fall within the scope of the present invention.

