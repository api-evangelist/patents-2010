---

title: Systems, methods, and media for identifying matching audio
abstract: System, methods, and media that: receive a first piece of audio content; identify a first plurality of atoms that describe at least a portion of the first piece of audio content using a Matching Pursuit algorithm; form a first group of atoms from at least a portion of the first plurality of atoms, the first group of atoms having first group parameters; form at least one first hash value for the first group of atoms based on the first group parameters; compare the at least one first hash value with at least one second hash value, wherein the at least one second hash value is based on second group parameters of a second group of atoms associated with a second piece of audio content; and identify a match between the first piece of audio content and the second piece of audio content based on the comparing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08706276&OS=08706276&RS=08706276
owner: The Trustees of Columbia University in the City of New York
number: 08706276
owner_city: New York
owner_country: US
publication_date: 20101012
---
This application claims the benefit of U.S. Provisional Patent Application No. 61 250 096 filed Oct. 9 2009 which is hereby incorporated by reference herein in its entirety.

This invention was made with government support under Grant No. 0716203 awarded by the National Science Foundation. The government has certain rights to the invention.

Audio and audio video recordings and electronically generated audio and audio video files are ubiquitous in the digital age. Such pieces of audio and audio video can be captured with a variety of electronic devices including tape recorders MP3 player recorders video recorders mobile phones digital cameras personal computers digital audio recorders and the like. These pieces of audio and audio video can easily be stored transported and distributed through digital storage devices email Web sites etc.

There are many examples of sounds which may be heard multiple times in the same recording or across different recordings. These are easily identifiable to a listener as instances of the same sound although they may not be exact repetitions at the waveform level. The ability to identify recurrences of perceptually similar sounds has applications in a number of audio and or audio video recognition and classification tasks.

With the proliferation of audio and audio video recording devices and public sharing of audio and audio video footage there is an increasing likelihood of having access to multiple recordings of the same event. Manually discovering these alternate recordings however can be difficult and time consuming. Automatically discovering these alternate recordings using visual information when available can be very difficult because different recordings are likely to be taken from entirely different viewpoints and thus have different video content.

Systems methods and media for identifying matching audio are provided. In some embodiments systems for identifying matching audio are provided the systems comprising a processor that receives a first piece of audio content identifies a first plurality of atoms that describe at least a portion of the first piece of audio content using a Matching Pursuit algorithm forms a first group of atoms from at least a portion of the first plurality of atoms the first group of atoms having first group parameters forms at least one first hash value for the first group of atoms based on the first group parameters compares the at least one first hash value with at least one second hash value wherein the at least one second hash value is based on second group parameters of a second group of atoms associated with a second piece of audio content and identifies a match between the first piece of audio content and the second piece of audio content based on the comparing.

In some embodiments methods for identifying matching audio are provided the methods comprising receiving a first piece of audio content identifying a first plurality of atoms that describe at least a portion of the first piece of audio content using a Matching Pursuit algorithm forming a first group of atoms from at least a portion of the first plurality of atoms the first group of atoms having first group parameters forming at least one first hash value for the first group of atoms based on the first group parameters comparing the at least one first hash value with at least one second hash value wherein the at least one second hash value is based on second group parameters of a second group of atoms associated with a second piece of audio content and identifying a match between the first piece of audio content and the second piece of audio content based on the comparing.

In some embodiments computer readable media containing computer executable instructions that when executed by a processor cause the processor to perform a method for identifying matching audio are provided the method comprising receiving a first piece of audio content identifying a first plurality of atoms that describe at least a portion of the first piece of audio content using a Matching Pursuit algorithm forming a first group of atoms from at least a portion of the first plurality of atoms the first group of atoms having first group parameters forming at least one first hash value for the first group of atoms based on the first group parameters comparing the at least one first hash value with at least one second hash value wherein the at least one second hash value is based on second group parameters of a second group of atoms associated with a second piece of audio content and identifying a match between the first piece of audio content and the second piece of audio content based on the comparing.

In some embodiments matching audio can be identified by first identifying atoms that describe one or more portions of the audio. In some embodiments these atoms can be Gabor atoms or any other suitable atoms. These atoms can then be pruned so the unimportant atoms are removed from subsequent processing in some embodiments. Groups of atoms such as pairs can next be formed. These groups of atoms may define a given sound at a specific instance in time. Hashing such as locality sensitive hashing LSH can next be performed on group parameters of each group such as center frequency for each atom in the group and difference in time for pairs of atoms in the group . The hash values produced by this hashing can next be used to form bins of groups of atoms and a hash table for each bin. These hash tables can then be stored in a database and used for subsequent match searching on the same audio source e.g. the same audio file a different audio source e.g. different audio files and or the same and or a different audio video source e.g. a video with a corresponding audio component . The hash tables for each bin can then be searched to identify matching identical and or similar groups of atoms in the same bin. Matching groups can then be identified as matching audio in the audio and or audio video sources.

Hardware can be implemented in any suitable form. For example hardware can be implemented as a Web server that receives audio audio video from a user analyzes the audio audio video and provides identifiers for matching audio audio video to the user. As other examples hardware can be implemented as a user computer a portable media recorder player a camera a mobile phone a tablet computing device an email device etc. that receives audio audio video from a user analyzes the audio audio video and provides identifiers for matching audio audio video to the user.

Turning to an example of a process for identifying repeating or closely similar sounds in accordance with some embodiments is illustrated. As shown after process begins at the process can receive audio content at . This audio content can include any suitable content. For example this audio content can contain multiple instances of the same or a closely similar sound and or include one or more sounds that match sounds in another piece of audio and or audio video content.

This audio content can be received in any suitable manner. For example the audio content can be received in digital format as a digital file e.g. a .MP3 file a .WAV file etc. as a digital stream as digital content in a storage device e.g. memory a database etc. etc. As another example the audio content can be received as an analog signal which is then converted to digital format using an analog to digital converter. Such an analog signal can be received through a microphone a line in input etc. In some embodiments this audio content can be included with or be part of audio video content e.g. in a .MPG file a .WMV file etc. .

Next at process can identify atoms that describe the audio content. Any suitable atoms can be used. A set of atoms can be referred to as a dictionary and each atom in the dictionary can have associated dictionary parameters that define for example the atom s center frequency length scale translation and or any other suitable characteristic s .

In some embodiments these atoms can be Gabor atoms. As is known in the art Gabor atoms are Gaussian windowed sinusoid functions that correspond to concentrated bursts of energy localized in time and frequency but span a range of time frequency tradeoffs and that can be used to describe an audio signal. Any suitable Gabor atoms can be used in some embodiments. For example in some embodiments long Gabor atoms with narrowband frequency resolution and short Gabor atoms well localized in time with wideband frequency coverage can be used. As another example in some embodiments a dictionary of Gabor atoms that can be used can contain atoms at nine length scales incremented by powers of two. For data sampled at 22.05 kHz this corresponds to lengths ranging from 1.5 to 372 ms. These lengths can each be translated by increments of one eighth of the atom length over the duration of the signal.

As another example in some embodiments atoms based on time asymmetric windows can be used. In comparison to a Gabor atom an asymmetric window may make a better match to transient or resonant sounds which often have a fast attack and a longer exponential decay. There are many ways to parameterize such a window for instance by calculating a Gaussian window on a log time axis where tsets the time of the maximum of the envelope and k controls its overall duration and where a longer window will be increasingly asymmetric.

Atoms can be identified at using any suitable technique in some embodiments. For example in some embodiments atoms can be identified using a Matching Pursuit algorithm such as is embodied in the Matching Pursuit Toolkit available from R. Gribonval and S. Krstulovic MPTK The Matching Pursuit Toolkit http mptk.irisa.fr . When using a Matching Pursuit algorithm atoms can be iteratively selected in a greedy fashion to maximize the energy that they would remove from the audio content received at . This iterative selection may then result in a sparse representation of the audio content. The atoms selected in this way can be defined by their dictionary parameters e.g. center frequency length scale translation and by audio signal parameters of the audio signal being described e.g. amplitude phase .

Any suitable number of atoms can be selected in some embodiments. For example in some embodiments a few hundred atoms can be selected per second.

When atoms are selected using a greedy algorithm such as the Matching Pursuit algorithm the first highest energy atom selected for a portion of the audio content is the most locally descriptive atom for that portion of the audio content. Subsequent lower energy atoms that are selected are less locally descriptive and are used to clean up imperfections in the description provided by earlier higher energy atoms. However such subsequent lower energy atoms are often redundant of earlier higher energy atoms in terms of describing key time frequency components of the audio content. Moreover because the limitations of human hearing can cause the perceptual prominence provided by a burst of energy to be only weakly related to local energy lower energy atoms close in frequency to higher energy atoms may be entirely undetectable by human hearing. Such lower energy atoms thus need not be included to describe the audio content in some embodiments.

A related effect is that of temporal masking which perceptually masks energy close in frequency and occurring shortly before backward masking or after forward masking a higher energy signal. Typically such forward masking has a longer duration while such backward masking is negligible.

In order to reduce the number of atoms used to describe the audio content and hence improve storage and processing performance statistics while retaining the perceptually important elements the atoms selected at can be pruned based on psychoacoustic masking principles in some embodiments.

For example in some embodiments masking surfaces in the time frequency plane based on the higher energy atoms can be created in some embodiments. These masking surfaces can be created with center frequencies and peak amplitudes that match those of corresponding atoms and the amplitudes of these masks can fall off from the peak amplitudes with frequency difference. In some embodiments this fall off in frequency can be Gaussian on log frequency that is matched to measured perceptual sensitivities of typical humans. Additionally in some embodiments the masking curves can persist while decaying for a brief time around 100 ms to provide forward temporal masking. This masking curve can fall off in time in an exponential decay in some embodiments. Reverse temporal masking can also be provided in some embodiments. This reverse temporal masking can be exponential in some embodiments.

Atoms with amplitudes that fall below this masking surface can thus be pruned because they may be too weak to be perceived in the presence of their stronger neighbors. This can have the effect of only retaining the atoms with the highest perceptual prominence relative to their local time frequency neighborhood.

Next at groups of atoms can be formed. Any suitable approach to grouping atoms can be used and any suitable number of groups of atoms can be formed in some embodiments.

In some embodiments prior to forming groups of atoms audio content can be split into sub portions of any suitable length. For example the sub portions can be five seconds or any other suitable time span long. This can be useful when looking for multiple similar sounds in multiple pieces of audio video content for example.

For example atoms whose centers fall within a relatively short time window of each other can be grouped. In some embodiments this relatively short time window can be 70 ms wide or any other suitable amount of time which can be based on application . In this example any suitable number of atoms can be used to form a group in some embodiments. For example in some embodiments two atoms can be used to form a pair of atoms.

As another example of an approach to grouping atoms in some embodiments for every block of 32 time steps around one second when each time step is 32 ms long the 15 highest energy atoms can be selected to each form a group of atoms. Each of these atoms can be grouped with other atoms only in a local target area of the frequency time plane of the atom. For example each atom can be grouped with up to three others atoms. If there are more than three atoms in the target area the closest three atoms in time can be selected. The target area can be any suitable size in some embodiments. For example in some embodiments the target area can be defined as the frequency of the initial atom in a group plus or minus 667 Hz and up to 64 time steps after the initial atom in the group.

Each group can have associated group parameters. Such group parameters can include for example the center frequency of each atom in the group and the time spacing between each pair of atoms in the group. In some embodiments bandwidth data atom length amplitude difference between atoms in the group and or any other suitable characteristic can also be included in the group parameters. In some embodiments the energy level of atoms can be included or excluded from the group parameters. By excluding the energy level of atoms from the group parameters variations in energy level and channel characteristics can be prevented from impacting subsequent processing. In some embodiments these values of these group parameters can be quantized to allow efficient matching between groups of atoms. For example in some embodiments the time resolution can be quantized to 32 ms intervals and the frequency resolution can be quantized to 21.5 Hz with only frequencies up to 5.5 kHz considered which can result in 256 discrete frequencies .

In some embodiments groups of atoms having one or more common atom can be merged to form larger groups of atoms.

The group parameters for each group can next be normalized at . In some embodiments such normalization can be performed by calculating the mean and standard deviation of each of the group parameters across all groups of atoms and then subtracting these mean and variance estimates from the corresponding group parameter values in each group.

Then one or more hash values can be formed for each group based on the group parameters at . The hash values can be formed using any suitable technique. For example in some embodiments locality sensitive hashing LSH can be performed on the group parameters for each of the groups at . LSH makes multiple random normalized projections of the group parameters onto a one dimensional axis as hash values. Groups of atoms that lie within a certain radius in the original space e.g. the frequency time space will fall within that distance in the hash values formed by LSH whereas distant groups of atoms in the original space will have only a small chance of falling close together in the projections.

As another example of a technique for forming hash values at in some embodiments for each group a hash value can be formed from a hash of 20 bits eight bits for the frequency of the first atom six bits for the frequency difference between them and six bits for the time difference between the atoms.

Next at the hash values can be quantized into bins such that near neighbors will tend to fall into the same quantization bin and a hash table is formed for each bin so that each hash value in that bin is an index to an identifier for the corresponding group of atoms. The identifier can be any suitable identifier. For example in some embodiments the identifier can be an identification number from the originating audio audio video and a time offset value which can be the time location of the earliest atom in the corresponding group relative to the start of the audio audio video.

In some embodiments using LSH at by using multiple hash values formed by LSH to bin groups of atoms at risks associated with chance co occurrences e.g. due to unlucky projections and nearby groups of atoms straddling a quantization boundary can be averaged out.

These hash tables can then be stored in a database or any other suitable storage mechanism at . This database can also include hash tables previously stored during other iterations of process for other audio audio video content.

At the hash tables in the database can next be queried with the hash value for each group of atoms in that table each a query group of atoms to identify identical or similar groups of atoms. Each identical or similar group of atoms may be a repetition of the same sound or a similar sound. Identical or similar groups of atoms can be identified as groups having the same hash values or hash values within a given range from the hash value being searched. This range can be determined manually or can be automatically adjusted so that a given number of matches are found e.g. when it is known that certain audio content contains a certain number of repetitions of the same sound . In some embodiment this range can be 0.085 when LSH hashing is used or any other suitable value. Identical or similar groups of atoms and corresponding query groups of atoms can be referred to as matching groups of atoms.

In some embodiments two or more matching groups of sounds can be statistically analyzed across multiple pieces of audio and or audio video content to determine if the matching groups are frequently found together. In some embodiments the criteria for identifying matches e.g. the range of hash values that will qualify as a match for a certain group of atoms can be modified e.g. increased or decreased based on the commonality of those groups of atoms in generic audio audio video audio audio video for a specific event type etc.

In some embodiments for example when the techniques described herein are used to match two or more pieces of audio video based on audio content associated with those pieces of audio video the time difference t t between a group of atoms G in a first piece of audio and a matching group of atoms G in a second piece of audio can be compared to the time difference t t of one or more other matching pairs of groups G and G of atoms in the first piece of audio and the second piece of audio. Identical or similar time differences e.g. t t t t can be indicative of multiple portions of the audio audio video that match between two sources. Such indications can reflect a higher probability of a true match between the two sources. In some embodiments multiple matching portions of the audio audio video that have the same time difference can be merged and be considered to be the same portion.

In some embodiments matches between two audio audio video sources can be determined based on the percentage of groups of atoms in a query source that match groups of atoms in another source. For example when 5 15 or any suitable number of groups of atoms in a query source match groups of atoms in another source the two sources can be considered a match.

In some embodiments a match between two sources of audio audio video can be ignored when all or substantially all of the matching groups of atoms between those sources occur in the same hash bin.

In some embodiments the techniques for identifying matching audio in audio audio video can be used for any suitable application. For example in some embodiments these techniques can be used to identify a repeating sound in a single piece of audio e.g. a single audio file . As another example in some embodiments these techniques can be used to identify an identical or similar sound in two or more pieces of audio e.g. two or more audio files . As still another example in some embodiments these techniques can be used to identify an identical or similar sound in two or more pieces of audio video e.g. two or more audio video files . As yet another example in some embodiments these techniques can be used to identify two or more pieces of audio and or audio video as being recorded at the same event based on matching audio content in the pieces. Such pieces may be made available on a Web site. Such pieces may be made available on an audio video sharing Web site such as YOUTUBE.COM. Such pieces may include a speech portion. Such pieces may include a music portion. Such pieces may be of a public event.

In some embodiments any suitable computer readable media can be used for storing instructions for performing the functions described herein. For example in some embodiments computer readable media can be transitory or non transitory. For example non transitory computer readable media can include media such as magnetic media such as hard disks floppy disks etc. optical media such as compact discs digital video discs Blu ray discs etc. semiconductor media such as flash memory electrically programmable read only memory EPROM electrically erasable programmable read only memory EEPROM etc. any suitable media that is not fleeting or devoid of any semblance of permanence during transmission and or any suitable tangible media. As another example transitory computer readable media can include signals on networks in wires conductors optical fibers circuits any suitable media that is fleeting and devoid of any semblance of permanence during transmission and or any suitable intangible media.

Although the invention has been described and illustrated in the foregoing illustrative embodiments it is understood that the present disclosure has been made only by way of example and that numerous changes in the details of implementation of the invention can be made without departing from the spirit and scope of the invention which is only limited by the claims which follow. Features of the disclosed embodiments can be combined and rearranged in various ways.

