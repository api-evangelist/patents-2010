---

title: Systems and methods for capturing electronic messages
abstract: A system and method of using the system for capturing and storing electronic messages is disclosed. The system includes a client device and a remote server in communication with the client device. The client device comprises a first processor, software running on the processor, a storage device, and a transmitter. The software captures electronic messages sent and received by the client device. The server comprises a processor, software running on the processor, a storage device and an output device. The software archives the electronic messages received from the client device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08849925&OS=08849925&RS=08849925
owner: Dexrex, LLC
number: 08849925
owner_city: Westford
owner_country: US
publication_date: 20100504
---
This application claims priority to U.S. Provisional Application Ser. No. 61 288 499 filed Dec. 21 2009 entitled Systems and Methods for Capturing Electronic Messages which is hereby specifically and entirely incorporated by reference.

The invention is directed to systems for capturing electronic messages and methods of their use and in particularly methods and systems of capturing instant messages IMs .

There are several methods of communicating via IM. The first scheme uses a centralized network in which subscribers are connected to one another through a series of network servers. The individual servers are linked together to form a large centralized network. In this architecture each server keeps track of the presence information and connections for each user connected to the network. When a subscriber sends a message the server determines the location of the recipient s computer by contacting all of the other network servers and routes the message through the network servers until it reaches the recipient. This particular method is used by Microsoft Network MSN Messenger IM service.

A second scheme of transmitting instant messages uses a peer to peer architecture favored by systems using ICQ protocol pronounced I seek you such as the Yahoo . Messenger IM service. In the peer to peer approach the central ICQ server keeps track of which subscribers are currently online and records their Internet Protocol IP based IM addresses. Once a subscriber logs on to the ICQ server the ICQ server scans the subscriber s contact list and displays to the subscriber the Internet IM protocol address of every person on the contact list currently logged onto the IM server. When the subscriber wants to send a message to a recipient on the ICQ server the subscriber simply selects the name of the recipient types a message and transmits the message. Because the ICQ client on the subscriber s computer has the Internet Protocol IM address of the recipient the message is sent directly to the ICQ client residing on the recipient s computer without involving the ICQ server. This method has an advantage over the centralized network system because the messages do no travel through the entire network which speeds the transfers of large files such as documents and images because they are not slowed by network traffic.

When the conversation is complete the subscriber exits the IM program at which point the ICQ client on the subscriber s computer generates a message to the ICQ server to terminate the session. The ICQ client then sends a message to each ICQ client on the subscriber s contact list that are currently logged onto the ICQ server indicating that the subscriber has terminated his session.

A third method of transmitting instant messages is using a hybrid system that combines the centralized network approach with the peer to peer approach. America On Line s AOL s Instant Messaging AIM service currently uses this method. The AOL AIM Service uses the centralized network approach for transmitting text messages and performing presence management. Because text messages are usually small transmitting them over the network does not noticeably slow their delivery. However for large files such as document and images AOL AIM service uses ICQ protocol to establish a peer to peer connection between the subscriber and the recipient of the message.

As the above described methods of communication are becoming more popular the need to track and record conversations conducted via SMS IM etc. is increasing. Businesses often need to keep track of employee conversations for archival and compliance purposes. Thus there is a need to capture structure and export such conversations into easily maintained and retrievable data records.

The present invention overcomes the problems and disadvantages associated with current strategies and designs and provides new systems and methods of capturing and recording electronic messages.

One embodiment of the invention is directed to a system for capturing and storing electronic messages. The system comprises a client device. The client device comprises a first processor software executing on the first processor a first data storage device coupled to the first processor storing electronic messages captured by the software and a transmitter coupled to the first processor adapted to transmit the stored electronic messages. The software executing on the first processor captures electronic messages sent and received by the client device. The system also comprises a remote server in communication with the client device adapted to receive transmissions from the transmitter. The remote server comprises a second processor software executing on the second processor a second data storage device coupled to the second processor storing the archived electronic messages and an output device outputting the stored archived electronic messages. The software executing on the second processor archives the electronic messages.

In preferred embodiments there is a plurality of client devices. The client device can be one of a personal computer a workstation a mobile telephone a personal digital assistant PDA a laptop computer a smartphone an iPhone a Blackberry a Wifi enabled device. In preferred embodiments the client device further comprises a network interface card and a network monitor wherein the network monitor captures messages. The software executing on the first processor can include a plug in program to capture messages.

In the preferred embodiment the client device further comprises at least one of a power source an input device and an output device and the server further comprises at least one of a power source an input device and an output device. In the preferred embodiment the client device and the remote server communicate over a wireless network. The server can be a plurality of computer devices connected over a network. The plurality of computer devices can be connected remotely from each other.

Another embodiment of the invention is directed to a method of capturing and storing electronic messages received and sent by a client device. The method comprises the steps of capturing the new electronic messages sent or received by the client device transmitting the new electronic messages to a remote server archiving the new electronic messages storing the structured electronic messages and exporting the stored electronic messages to a location remote from the client device.

In the preferred embodiment the method further comprises at least one of waiting for an IM event or deciphering network traffic for IM events. The method preferably further comprising establishing a TCP connection between the client device and the remote server. Messages are queued on the client device if a TCP connection is not established.

In the preferred embodiment the new messages are transmitted in a message payload. The method preferably includes checking for duplicate messages. The stored electronic messages can be exported to a monitor or as an electronic mail. Communications between the client device and the server are preferably via short XML messages. The communications between the client device and the server can be message uploads or server client syncing data. In the preferred embodiment the method further comprises creating new message owner handle e.g. an alias for a user on a chat network reference if such a reference does not exist.

Other embodiments and advantages of the invention are set forth in part in the description which follows and in part may be obvious from this description or may be learned from the practice of the invention.

As embodied and broadly described herein the disclosures herein provide detailed embodiments of the invention. However the disclosed embodiments are merely exemplary of the invention that may be embodied in various and alternative forms. Therefore there is no intent that specific structural and functional details should be limiting but rather the intention is that they provide a basis for the claims and as a representative basis for teaching one skilled in the art to variously employ the present invention.

A problem in the art capable of being solved by the embodiments of the present invention is capturing and recording electronic messages received or sent by a device. It has been surprisingly discovered that installing software on devices or monitoring a network allows for the capturing and subsequent recording of electronic messages at a location remote from the device.

Client device is a device capable of sending and receiving messages remotely. For example client device can be a personal computer a workstation a mobile telephone a personal digital assistant PDA a laptop computer a smartphone an iPhone a Blackberry a WiFi enabled device. Each client device has a processor . The functions of processor can be provided by a single processor or multiple processors. Use of the term processor should not be construed to refer exclusively to hardware capable of executing software. Illustrative embodiments may comprise microprocessor and or digital signal processor DSP hardware read only memory ROM for storing software performing the operations discussed herein and random access memory RAM for storing results. Very large scale integration VLSI hardware embodiments as well as custom VLSI circuitry in combination with a general purpose DSP circuit may also be provided.

Processor is in communication with a data storage device . Data storage device is preferably a semiconductor based memory i.e. a flash memory device . However other types of data storage devices can be used for example magnetic storage devices and optical storage devices. In the preferred embodiment data storage device is a fixed storage device. However in other embodiments removable storage devices can be used. Data storage device can retain data necessary for the functioning of client device incoming or outgoing message data and or software that can be executed by processor . Additionally processor is in communication with a transmitter . Transmitter is a device capable of transmitting messages from client device to server . In the preferred embodiment transmitter is capable of bi directional communications. In the preferred embodiment transmitter is the same device client device uses to send and receive messages. However in other devices transmitter is a separate device. Transmitter can be capable of communication over one or more of the above mentioned networks. Transmitter can include a network interface card. The incoming and outgoing network traffic routed through the network interface card is preferably monitored by a network monitor preferably at the Data Link Layer.

Other aspects of client device can include a power source an input device and an output device . Power source is a device capable of powering the client device . For example power source can be a battery a solar cell AC or DC power sources biological power sources fly wheels wind turbines and kinetic motion power sources. Input device is a device capable of providing information to the client device . For example input device can be a key pad a touch screen and or a voice activated device. Output device is a device capable of providing information to a user. For example output device can be a screen a printer a sound producing device and or a vibration producing device.

Server is a device capable of receiving data from client device structuring the data storing the data and outputting the data as required. For example server can be a personal computer a network of remotely connected computing devices e.g. cloud computing a series of computing devices connected over a network e.g. a company network and or a portable computing device. In the preferred embodiment there are multiple servers . However in other embodiments there can just one server . In the preferred embodiment server has a processor . The functions of processor can be provided by a single processor or multiple processors. Use of the term processor should not be construed to refer exclusively to hardware capable of executing software. Illustrative embodiments may comprise microprocessor and or digital signal processor DSP hardware read only memory ROM for storing software performing the operations discussed below and random access memory RAM for storing results. Very large scale integration VLSI hardware embodiments as well as custom VLSI circuitry in combination with a general purpose DSP circuit may also be provided.

Processor is in communication with a data storage device . Data storage device is preferably a device able to store large amounts of data for example semiconductor storage devices magnetic storage devices and or optical storage devices. In the preferred embodiment data storage device is a fixed storage device. However in other embodiments removable storage devices can be used. Data storage device can retain data necessary for the functioning of server incoming or outgoing message data and or software that can be executed by processor . In the preferred embodiment there is one data storage device . However in other embodiments there is more than one data storage device . Additionally processor can be in communication with a receiver . Receiver is a device capable of receiving transmissions from client device . In the preferred embodiment receiver is capable of bi directional communications. Receiver can be capable of communication over one or more of the above mentioned networks.

Other aspects of server can include a power source an input device and an output device . Power source is a device capable of powering the server . For example power source can be a battery a solar cell AC or DC power sources biological power sources fly wheels wind turbines and kinetic motion power sources. Input device is a device capable of providing information to server . For example input device can be a key pad a mouse a touch screen and or a voice activated device. Output device is a device capable of providing information to a user. For example output device can be a screen a sound producing device a printer an emailing device and or a vibration producing device.

If a secure connection to the server cannot be established at step the messages are queued in data storage device until a time when a secure connection can be made. In the preferred embodiment the client can store tens of thousands of messages at a time. If at any time during the lifetime of the undelivered messages the system or client device is shut down all messages are written to disk as backup to be uploaded when the system or client device is turned back on. Messages stored in this way are loaded into local memory immediately upon restart of the service or client device.

The XML communication between the client and server can expand and change as needed. There are at least four communications that can be transmitted through the protocol client updates time syncs client notification messages and message uploads.

Client updates compare the active version of the client s software to the version of the client software running on the client device. If it is determined that a client device is running out of date software a new version of the client software is sent through the open connection. The client device preferably will install the new version of the software if it receives one during a client update

Time syncs are intended to normalize the time between the client device time and the server time. This prevents tampering of the client device system clock which would cause messages to be reported at different times than they actually occurred.

Client notification messages are messages that preferably include information to the controller of the device that message capture is occurring.

Message requests are used to upload messages to the server. A single message request can upload numerous messages at a time. Preferably a single message request is for between 1 and 10 messages.

Referring to at step server listens on a predetermined port know both to client device and server . Server waits for incoming TCP connections from the client device s software. When a secure connection has been established communication between server and client device can begin.

At step a collector service receives an XML message from the client device . If the XML message is anything other than a request containing IM SMS message payloads it parses the request and synchronously sends a response otherwise it queues the IM SMS message payload into local memory and sends a response to the client devices that the messages have been captured by the server. At step a threaded application pulls messages off the message payload one by one and attempts to insert them into remote database storage. When a single message is pulled off the raw message queue relevant screen name workstation and or client data is pulled from the application s local cache. If data cannot be found in the cache then the database is queried to find the appropriate data or lack thereof.

Before a message is inserted into remote database every participant of the message must be determined i.e. the sending handle e.g. an alias for a user on a chat network and all receiving handles. If a handle cannot be found then a new handle representation is created in the database for future reference. For example handles that have not been captured from a monitored device are created this way. If a client device reference cannot be loaded from the cache or from the database a new reference can also be created.

At step after the pertinent information related to the message has been loaded or created the message is inserted into the remote database for archival. If there is an error in inserting the message or loading the data the payload of the message and server communication is inserted into a log. This ensures messages can be recovered if the client device deletes the messages from local memory and the server is initially unable to insert the message into the database.

Once a message has been archived to the database a duplication check is conducted at step . Duplicate massages can be a symptom of redundant message capture client side. Since certain message protocols can be captured through network monitoring and through the plug in redundant messages occur often. To ensure lossless capture both messages are uploaded to the server. A message is considered a duplicate if the message payload the content of the message not the encasing html markup is identical and the message timestamp is within a predetermined period of time. The period of time is preferably less than one second. When a duplicate message is discovered it is marked as such and is excluded from all reports and interfaces where messages are reported for review. In the preferred embodiment messages captured by the network monitor are considered duplicates while the messages captured by the plug in higher fidelity are considered originals.

At step the stored messages are exported. Exportation can be automatic e.g. once a day once a month or after a certain number of messages have been stored or on demand e.g. upon request by a user . Additionally exportation can be for a certain period of time for a certain recipient sender or other collection. In the preferred embodiment retrieval is via email. For example the messages can be emailed in XML or plain text and sent in the body of the email or as an attachment. Additionally the exported messages can be displayed on a monitor outputted to a printer or outputted to another device.

Other embodiments and uses of the invention will be apparent to those skilled in the art from consideration of the specification and practice of the invention disclosed herein. All references cited herein including all publications U.S. and foreign patents and patent applications are specifically and entirely incorporated by reference. It is intended that the specification and examples be considered exemplary only with the true scope and spirit of the invention indicated by the following claims. Furthermore the term comprising includes the terms consisting of and consisting essentially of and the terms comprising including and containing are not intended to be limiting.

