---

title: Data transmission apparatus and method, data receiving apparatus and method, and data transmission and reception system and method
abstract: The protection of data against illicit transfer with respect to specific data can be ensured. An integrated receiver decoder determines whether or not ATRAC (Adaptive Transform Acoustic Coding) data requiring authentication is contained in selected piece-of-music data in accordance with determination data added into transmitted data. When ATRAC data requiring authentication is contained, the integrated receiver decoder performs an authentication process between it and a storage which is a transfer destination of the ATRAC data, and performs downloading of the ATRAC data after confirming that the storage is a valid apparatus to which the downloading may be performed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07996915&OS=07996915&RS=07996915
owner: Sony Corporation
number: 07996915
owner_city: Tokyo
owner_country: JP
publication_date: 20100712
---
This application is a continuation of U.S. application Ser. No. 12 434 171 filed May 1 2009 which is a continuation of U.S. application Ser. No. 10 899 692 filed Jul. 27 2004 now U.S. Pat. No. 7 548 555 which is a division of U.S. application Ser. No. 09 356 095 filed Jul. 16 1999 now U.S. Pat. No. 6 792 007 the entire contents of which are hereby incorporated by reference. This application also claims priority under 35 U.S.C. 119 to Japanese Application No. P10 204006 filed Jul. 17 1998.

The present invention relates to a data transmission apparatus and method a data receiving apparatus and method and a data transmission and reception system and method which are used for transmission and reception of data.

In recent years digital signals are becoming increasingly used for transmission and recording of audio and image data. For example in digital satellite broadcasts digital signals are compressed and transmitted through the use of satellites. The digital satellite broadcast is highly resistant to noise and fading and can transmit higher quality signals in comparison with existing analog broadcasts. Also recently as typified by optical disks magneto optic disks etc. recording media capable of recording digital signals have been developed in increasing numbers. As a result for example it has become possible to digitally record digital signals transmitted by the above mentioned digital satellite broadcast in an ordinary household. Furthermore it is also possible to digitally record digital signals played back from a recording medium such as an optical disk for digital data through a bus etc.

In the meantime in digital signals since signal deterioration barely occurs during the transmission of signals it is possible to copy data at a quality which is essentially equivalent to that of the original. For this reason the risk of illicit data copying is high and protection of copyrights might not be ensured.

Accordingly methods for protecting digital data have been conventionally proposed. For example there is a method for setting a flag which prohibits copying of data in data to be transmitted. This is such that on the data transmission side when data from which copying should be prohibited is to be transmitted data is transmitted with the flag which prohibits copying being set and in the recording apparatus on the receiving side apparatus control is performed such that recording of data is prohibited according to the setting or non setting of the flag. In this case for example at the first copying of data the flag for copying prohibition is not set and for example the flag is set when a recording medium in which data is copied is copied onto another recording medium. As a result one time only copying is possible but copying of data is not possible from the copied recording medium to a second or subsequent medium.

However in the method for setting a flag in data in a manner as described above there is a problem in that protection of data cannot be sufficiently ensured unless the recording apparatus on the receiving side is designed to handle processing of the flag. That is when there is an apparatus which can receive data without recognizing the flag and which can record the data the protection of the copyright cannot be ensured. Also if the flag is rewritten by using a computer any number of copies can be made.

In the meantime in recording media for digital data which are commercially available a method is adopted in which data is compressed by a predetermined compression method and is recorded. When such digital signals recorded in recording media are to be digitally recorded on another recording medium through a bus etc. usually compressed data is once decoded into non compressed data on the data transmission side and the data is compressed again on the data receiving side and digital recording is performed. When compression of data is repeated several times in this manner deterioration of data may occur depending upon the performance of the apparatus which compresses the data.

However in recent years a method has been proposed in which received compressed data is digitally recorded on a recording medium as it is without decoding or compressing the data. In the case of this method since a data compression process needs not be performed on the recording side signal deterioration barely occurs in practice during the recording of the data. Therefore with regard to such a method in particular it is necessary to focus on protecting copyrights.

The present invention has been achieved in view of such problems. An object of the present invention is to provide a data transmission apparatus and method a data receiving apparatus and method and a data transmission and reception system and method which are capable of ensuring the protection of data with respect to illicit transfer of specific data.

In accordance with an embodiment of the present invention a signal processing method is provided. The methods comprises receiving a multiplexed signal selecting a program from the received multiplexed signal obtaining a program map table associated with the program obtaining packet identification information of image data associated with the program obtaining packet identification information of audio data associated with the program obtaining packet identification information of user interface data associated with the program from the program map table and outputting the user interface data the image data and the audio data.

In one alternative outputting the image data includes displaying the image data on a display. In another alternative outputting the audio data includes playing the audio data through an output terminal. In yet another alternative the program is an audio program. In this case the image data is preferably selected from the group consisting of jacket image data artist profile information and lyrics data. In a further alternative the method further comprises downloading the program to an external storage device. In this case the method preferably further comprising enabling a user to preview the program prior to the downloading step.

In accordance with another embodiment of the present invention a signal processing method is provided. The method comprises receiving a multiplexed signal at a receiving apparatus selecting an audio program from among a plurality of programs in the received multiplexed signal obtaining identification information for the selected audio program from user interface data in the received multiplexed signal searching for a descriptor corresponding to the identification information from a program map table of an audio channel selecting a portion of the program map table associated with the selected audio program determining whether authentication is required before downloading the selected audio program to an external storage device and downloading the selected audio program.

In one alternative if it is determined that authentication is required the method further comprises performing authentication between the receiving apparatus and the external storage device. In another alternative the selected audio program is in an ATRAC format. In a further alternative the selected audio program is in an MPEG format.

In the data transmission apparatus and method in accordance with the present invention a plurality of types of data for transmission are created and when specific data which requires in a transmission destination an authentication process for confirming the validity of an apparatus of a data transfer destination is contained in this data for transmission determination data used to determine that the specific data is contained is created and the created data is transmitted.

In the data receiving apparatus and method in accordance with the present invention a plurality of types of data for transmission are received and when specific data which requires in a transmission destination an authentication process for confirming the validity of an apparatus of a data transfer destination is contained in this data for transmission determination data used to determine that the specific data is contained is received and it is determined whether or not the specific data is contained in the data for transmission on the basis of the received determination data.

In the data transmission and reception system and method in accordance with the present invention a plurality of types of data for transmission are created and when specific data which requires in a transmission destination an authentication process for confirming the validity of an apparatus of a data transfer destination is contained in this data for transmission determination data used to determine that the specific data is contained is created the created data is transmitted the transmitted data is received and it is determined whether or not the specific data is contained in the data for transmission on the basis of the determination data contained in the received data.

The above and further objects aspects and novel features of the invention will become more apparent from the following detailed description when read in connection with the accompanying drawings.

The system of the present invention is one in which a music program is broadcast by a digital satellite broadcast and audio data for this music program is streamed making it possible for a viewer listener to test listen it and furthermore when there is a piece of music that the viewer listener likes after test listening that piece of music can be purchased easily and immediately.

The music content streaming system further comprises receiving equipment for example for each household for receiving signals transmitted from the ground station via the satellite . The receiving equipment comprises a parabolic antenna for receiving signals from the satellite a low noise block downconverter hereinafter referred to as an LNB which is a converter for converting signals received by this parabolic antenna into signals of a predetermined frequency an integrated receiver decoder hereinafter referred to as an IRD as a receiver which inputs an output signal of this LNB and a storage device and a television receiver which are connected to this IRD . The IRD is connected to the account server through for example a telephone line .

In the music content streaming system constructed in this manner material for a television program broadcast from the television program material server material for piece of music data from the piece of music material server additional audio information from the additional audio information server and GUI data from the GUI data server are sent to the ground station for a digital satellite broadcast.

The television program material server is a server which provides material for normal music broadcast programs. The materials of a music broadcast sent from this television program material server are moving pictures and audio. In a normal music broadcast program for example moving pictures and audio for the promotion of a new piece of music introduction are broadcast and the count down of up to date hit songs is broadcast.

The piece of music material server is a server which provides an audio program by using audio channels. The material for this audio program is audio only. This piece of music material server sends the materials of the audio programs of a plurality of audio channels to the ground station . In the program broadcasts in each audio channel the same piece of music is repeatedly broadcast at a predetermined unit time. The respective audio channels are independent of each other and various methods of use thereof are conceivable. For example in one audio channel a recommended piece of music of current Japanese pop may be repeatedly broadcast for a predetermined time in another audio channel a recommended piece of music of current American pop may be repeatedly broadcast for a predetermined time and in still another audio channel a recommended piece of music of jazz may be repeatedly broadcast for a predetermined time. Also a plurality of pieces of music of the same artist may be divided between the respective audio channels and may be repeatedly broadcast.

The additional audio information server provides additional audio information. This additional audio information is time information of the piece of music output from the piece of music material server specifically information of the total performance time of the piece of music and the time elapsed after the performance of the piece of music has started.

The GUI data server provides data for forming a screen for a list page of pieces of music to be streamed and an information page for each piece of music data for forming still image data for a record jacket data for the lyrics of the piece of music to be streamed data for forming a screen for an electric program guide hereinafter referred to as an EPG etc. As the details will be described later in the system of the present invention by operating GUI on the screen the lyrics for the piece of music to be streamed concert information for artists etc. can be displayed on the screen. Also by operating GUI on the screen a piece of music can be selected downloaded reserved etc. Data for that purpose is sent from the GUI data server . For this GUI data for example an MHEG Multimedia and Hypermedia Information Coding Experts Group method is used.

The ground station multiplexes video data and audio data which are material of a music program broadcast from the television program material server audio data which is material for an audio channel from the piece of music material server additional audio information from the additional audio information server and GUI data from the GUI data server and transmits it. At this time the video data for the television program broadcast is compressed by for example an MPEG2 Moving Picture Experts Group method and the audio data for a television program broadcast is compressed by an MPEG audio method. The audio data of each audio channel is compressed by two different methods for example an MPEG audio method and an ATRAC Adaptive Transform Acoustic Coding method. Also this data is encrypted during multiplexing using key information from the key information server .

The signal from the ground station is received for example by the parabolic antenna for the receiving equipment of each household via the satellite . This received signal is converted into a predetermined frequency by the LNB and is supplied to the IRD .

The IRD selects a signal of a predetermined channel from the received signal in order to perform demodulation of video data and audio data. Also the IRD forms a list page of pieces of music to be streamed an information page for each piece of music and a screen for an EPG. The output signal of the IRD is supplied to the television receiver .

The storage device is used to store downloaded audio data. For example as the storage device an MD Mini Disk recorder player a DAT digital audio tape recorder player a DVD digital video disk or digital versatile disk recorder player etc. may be used. Furthermore it is also possible to use a personal computer as the storage device and to store audio data on a hard disk or a CD R recordable compact disk thereof.

The IRD is connected to the account server via for example the telephone line . An IC card storing various information is inserted into the IRD . When the download of audio data of a piece of music is performed the information is stored in the IC card. The information in this IC card is sent to the account server via for example the telephone line . The account server performs appropriate accounting on the basis of this download information and charges the viewer listener. In this manner by performing appropriate accounting it is possible to protect the copyright of the piece of music to be downloaded.

In a manner as described above in the system of the present invention the ground station multiplexes video data and audio data which are material for a music program broadcast from the television program material server audio data which is material for an audio channel from the piece of music material server additional audio information from the additional audio information server and GUI data from the GUI data server and transmits it. Then when this broadcast is received by the receiving equipment of each household a music program can be viewed and furthermore a GUI screen is displayed based on the received GUI data. By performing a necessary operation while viewing this GUI screen the viewer listener can view the information page for each piece of music and also can test listen each piece of music. Furthermore by performing necessary operations while viewing the GUI screen it is possible for the viewer listener to download the audio data of a desired piece of music and to store it in the storage device .

Next a more detailed description is given of an operation by a viewer listener on the receiving equipment .

When the above mentioned music program broadcast is received by the receiving equipment of each household a GUI screen such as that shown in is displayed on the television receiver . In a television program display area A in the upper left portion of this screen a moving picture based on a music program provided from the television program material server is displayed. In the upper right portion of the screen a list B of the pieces of music of each channel broadcast in an audio channel is displayed. Also in the lower left portion of the screen a text display area C and a jacket display area D are set. Furthermore on the right side of the screen a lyrics display button a profile display button an information display button a programming to record button a programmed to record list display button a program history display button and a download button are displayed.

The viewer listener looks for a piece of music the viewer listener is interested in while viewing the names of the pieces of music displayed in the list B. Then when the viewer listener finds a piece of music the viewer listener is interested in after the cursor is set to the piece of music by operating the arrow keys of the remote controller the enter key of the remote controller attached to the IRD is pressed. This makes it possible to test listen the piece of music on which the cursor is set. That is in each audio channel since the same piece of music is repeatedly broadcast within a predetermined unit of time switching is made to the audio channel of the piece of music with the screen of the television program display area A being maintained as it is and the piece of music can be listened to. At this time in the jacket display area D the still image of the MD jacket of the piece of music is displayed.

When the cursor is set to the lyrics display button in this state and the enter key is pressed hereinafter the operation of setting the cursor to the button and pressing the enter key is referred to as pressing the button the lyrics of the piece of music are displayed in the text display area C at a timing synchronized with the audio data. In a similar manner when the profile display button or the information display button is pressed the profile of the artist concert information etc. corresponding to the piece of music are displayed in the text display area C. In a manner as described above it is possible for the viewer listener to be informed of what kind of piece of music is being streamed currently and to be informed of the detailed information of each piece of music.

When the viewer listener wishes to purchase the piece of music the viewer listener has test listened the viewer listener presses the download button . When the download button is pressed the audio data of the selected piece of music is downloaded and stored in the storage device . Together with the audio data of the piece of music the lyrics data thereof the profile information of the artist the still image data of the jacket etc. can also be downloaded. Each time a piece of music is downloaded the information is stored in the IC card within the IRD . The information stored in the IC card is stored by the account server for example once a month. This makes it possible to protect the copyright of the pieces of music to be downloaded.

Furthermore when the viewer listener wants to program downloads the viewer listener presses the programming to record button . When this button is pressed the GUI screen is switched and a list of pieces of music which can be programmed to be recorded is displayed on the entire screen. It is possible for this list to display searched pieces of music in units of one hour one week by genre etc. When the viewer listener selects from this list a piece of music for which reservation of downloading is desired the information is entered into the IRD . Also when it is desired to confirm the piece of music for which reservation of downloading has already been made by pressing the programmed to record list display button the list of the reserved pieces of music which are programmed to be recorded can be displayed on the entire screen. The piece of music reserved in this manner is downloaded by the IRD when the reserved time comes and is stored in the storage device .

When the viewer listener wants to confirm the downloaded piece of music by pressing the program history display button the list of pieces of music which have already been downloaded can be displayed on the entire screen.

In a manner as described above in the receiving equipment in the system of the present invention a list of pieces of music is displayed on the GUI screen of the television receiver . Then when the viewer listener selects a piece of music according to the display on the GUI screen the viewer listener can test listen the piece of music and further can be informed of the lyrics of the piece of music the profile of the artist etc. In addition the viewer listener can download a piece of music make a reservation therefor and display the history of downloading and the reserved pieces of music list etc. by using the GUI screen.

As has been described up to this point in the music content streaming system of the present invention a music broadcast program is streamed and audio data of a piece of music is streamed by using a plurality of audio channels. Then a desired piece of music can be searched for using a list of pieces of music being streamed etc. and the audio data can be stored easily in the storage device . Such a system is described below in more detail.

This ground station comprises a television program material entry system for entering material data from the television program material server a piece of music material entry system for entering audio data from the piece of music material server an additional audio information entry system for entering additional audio information from the additional audio information server and a material for GUI entry system for entering GUI data from the GUI data server .

The ground station further comprises an AV Audio Visual server for holding material data from the television program material entry system and a television program sending system for compressing material data held by this AV server forming it into packets and sending them.

The ground station further comprises an MPEG audio encoder A for encoding audio data from the piece of music material entry system by an MPEG audio method an MPEG audio server A for holding MPEG audio data which is obtained as a result of being encoded by this MPEG audio encoder A and an MPEG audio sending system A for forming the MPEG audio data held by this MPEG audio server A into packets and for sending them.

The ground station further comprises an ATRAC encoder B for encoding audio data from the piece of music material entry system by an ATRAC method an ATRAC audio server B for holding ATRAC data obtained as a result of being encoded by this ATRAC encoder B and an ATRAC audio sending system B for forming the ATRAC data held by this ATRAC audio server B into packets and for sending them.

The ground station further comprises an additional audio information database for holding additional audio information from the additional audio information entry system and an additional audio information sending system for forming the additional audio information held by this additional audio information database into packets and for sending them.

The ground station further comprises a GUI material database for holding GUI data from the material for GUI entry system and a GUI authoring system for processing GUI data held by this GUI material database for forming it into packets and for sending them.

The ground station further comprises a multiplexer for time axis multiplexing time division multiplexing each data and information from each of the systems A B and and for encrypting it by using key information from the key information server and a radio wave sending system for performing a predetermined process on the output of this multiplexer and then for transmitting it toward the satellite from an antenna not shown .

In the ground station constructed in this manner the material data from the television program material entry system is entered into the AV server . This material data is video data and audio data. The material data entered into the AV server is sent to the television program sending system whereby the video data is compressed by for example an MPEG2 method and the audio data is compressed by for example an MPEG audio method each being formed into packets. The output of the television program sending system is sent to the multiplexer .

Furthermore the audio data from the piece of music material entry system is supplied to the MPEG audio encoder A and the ATRAC encoder B whereby the audio data are each encoded after which the data is entered into each of the MPEG audio server A and the ATRAC audio server B. The MPEG audio data entered into the MPEG audio server A is sent to the MPEG audio sending system A whereby it is formed into packets after which these packets are sent to the multiplexer . The ATRAC data entered into the ATRAC audio server B is sent as 4 speed ATRAC data to the ATRAC audio sending system B whereby it is formed into packets after which these packets are sent to the multiplexer .

Furthermore the additional audio information from the additional audio information entry system is entered into the additional audio information database . The additional audio information entered into the additional audio information database is sent to the additional audio information sending system whereby the additional audio information is formed into packets after which these packets are sent to the multiplexer .

Furthermore the GUI data from the material for GUI entry system is entered into the GUI material database . The GUI data entered into the GUI material database is sent to the GUI authoring system whereby data for a screen for GUI is processed and formed into packets after which these packets are sent to the multiplexer . Here examples of the GUI data include the still image information of the jacket the lyrics information of the piece of music the concert information of the artist etc. Here the still image information is image data of 640 480 pixels which is compressed by for example a JPEG Joint Photographic Coding Experts Group method and the lyrics information is text data for example up to 800 characters the information being formed into packets.

In the multiplexer video packets and audio packets from the television program sending system audio packets from the MPEG audio sending system A 4 speed audio packets from the ATRAC audio sending system B additional audio information packets from the additional audio information sending system and GUI data packets from the GUI authoring system are time axis multiplexed and encrypted using key information from the key information server .

The output of the multiplexer is sent to the radio wave sending system whereby it is subjected to a process such as addition of an error correction code modulation frequency conversion etc. after which it is transmitted toward the satellite from the antenna not shown .

As shown in in the event from time t to time t a music program having a predetermined content A is broadcast in the normal program broadcast for moving pictures. Also in the event starting from time t a music program having a predetermined content A is broadcast. Moving pictures and audio are broadcast in this normal music program.

For the audio channels for example ten channels from channel CH to CH are prepared. At this time in each of the audio channels CH CH CH . . . CH the same piece of music is repeatedly transmitted during one event. That is in the event from time t to time t in the audio channel CH a piece of music B is repeatedly transmitted in the audio channel CH a piece of music C is repeatedly transmitted and hereafter in a similar manner in the audio channel CH a piece of music K is repeatedly transmitted. In the event starting from time t in the audio channel CH a piece of music B is repeatedly transmitted in the audio channel CH a piece of music C is repeatedly transmitted and hereafter in a similar manner in the audio channel CH a piece of music K is repeatedly transmitted. This is common to the MPEG audio channel and the 4 speed ATRAC audio channel.

In other words in those in which the numerals within the parentheses which are the channel numbers of the MPEG audio channel and the 4 speed ATRAC audio channel are related to the same piece of music. Also the numeral within the parenthesis which is the channel number of the additional audio information is additional audio information added to the audio data having the same channel number. Furthermore the still image data and the text data transmitted as GUI data are also formed for each channel.

Next a description is given of the receiving equipment in each household. As shown in as receiving equipment of each household the parabolic antenna the IRD the storage device and the television receiver are prepared.

Here it is assumed that as shown in the IRD comprises an analog audio output terminal Aout a digital audio output terminal Dout of IEC958 etc. which sends audio data through an optical cable and a digital interface terminal Dif of IEEE1394 etc. Therefore as the storage device as shown in a storage device comprising only an analog audio input terminal Ain may be connected as shown in a storage device comprising a PCM audio input terminal Din of IEC958 etc. may be connected and as shown in a storage device comprising a two way digital interface terminal Dif of IEEE1394 etc. may be connected.

As shown in when a storage device A comprising only the analog audio input terminal Ain is used as a storage device the analog output terminal Aout of the IRD is connected to the analog input terminal Ain of the storage device A through an analog cable A.

Furthermore as shown in when a storage device B comprising the PCM audio input terminal Din of IEC958 etc. is used as a storage device the section between the digital audio output terminal Dout of the IRD and the digital input terminal Din of the storage device B is connected by for example an optical cable B of IEC958.

Furthermore as shown in when a storage device C comprising the two way digital interface terminal Dif of IEEE1394 etc. is used as a storage device the section between the digital interface terminal Dif of the IRD and the digital interface terminal Dif of the storage device C is connected by for example a digital interface cable hereinafter referred to as an IEEE1394 bus C of IEEE1394.

As shown in when a storage device which does not comprise a digital input terminal is used as a storage device the downloaded MPEG audio data is subjected to a decoding process of MPEG within the IRD is further converted from digital to analog form and is output from the analog audio output terminal Aout. Then the data is sent to the storage device A from the IRD through the analog cable A. In this case the construction may also be formed in such a way that a control signal is exchanged between the IRD and the storage device A using wireless communication via infrared rays or using wired communication through cables and confirmation of the connection relationship and confirmation of the downloading operation are performed.

As shown in when the storage device B comprising the PCM audio input terminal Din is used as a storage device the downloaded MPEG audio data is subjected to a decoding process of MPEG within the IRD and is output as PCM audio data from the IRD . Then the data is sent from the IRD to the storage device B through for example the optical cable B of IEC958. Also in this case the construction may also be formed in such a way that a control signal is exchanged between the IRD and the storage device A using wireless communication via infrared rays or using wired communication through cables and confirmation of the connection relationship and confirmation of the downloading operation are performed.

As a specific example in the case shown in when an MD recorder player hereinafter referred to as an IEEE1394MD comprising the two way digital interface terminal Dif of IEEE1394 etc. is used as the storage device C the downloaded 4 speed ATRAC data is sent from the IRD as it is to the storage device C through the IEEE1394 bus C. Also the IEEE1394MD as the storage device C can store together with the audio data of the piece of music selected by the IRD text data such as the jacket data the lyrics data etc. In the following description the IEEE1394MD as the storage device C is also given the reference numeral C.

In a manner as described above as an apparatus used as the storage device there can be mentioned three types of apparatuses apparatuses for analog input apparatuses which input PCM audio data and apparatuses which input ATRAC data.

The input terminal T is a terminal to which is input a received signal which has been converted into a predetermined frequency by the LNB . The analog video output terminal T is a terminal which supplies an analog video signal to the television receiver . The analog audio output terminal T is a terminal which supplies an analog audio signal to the television receiver . The analog audio output terminal T is a terminal which supplies an analog audio signal to a storage device for analog input. The optical digital output interface which complies with the IEC958 sends PCM audio data to the optical cable B. The IEEE1394 interface sends video data audio data and various types of commands etc. to the IEEE1394 bus C. The man machine interface sends an input from the remote controller by the user to the controlling CPU . The IC card is inserted into the IC card slot . The modem is connected to the account server over the telephone line .

The IRD further comprises a tuner connected to the input terminal T a descrambler provided at a stage subsequent to this tuner a transport IC integrated circuit provided at a stage subsequent to this descrambler an MPEG audio decoder and an MPEG video decoder which are provided at a stage subsequent to this transport IC a digital analog converter provided at a stage subsequent to the MPEG audio decoder a one input two output switch SW provided at a stage subsequent to this digital analog converter and an NTSC National Television System Committee conversion block provided at a stage subsequent to the MPEG video decoder .

The output end of the NTSC conversion block is connected to the analog video output terminal T. Each output end of the switch SW is connected to the analog audio output terminals T and T respectively. Also the MPEG audio decoder is connected to the optical digital output interface . Also the transport IC is connected to the IEEE1394 interface .

The tuner selects a signal of a predetermined receiving frequency from among the received signals supplied from the analog terminal T in accordance with a setting signal from the controlling CPU further performs a demodulation process and an error correction process thereon and outputs an MPEG transport stream. The descrambler receives the MPEG transport stream from the tuner receives key data for descrambling stored in the IC card via the IC card slot and the controlling CPU and performs descrambling using this key data. The transport IC receives a command input from the remote controller by the user via the man machine interface and the controlling CPU and extracts MPEG video data and MPEG audio data of a desired television program from the transport stream. The MPEG video decoder converts the MPEG video data supplied from the transport IC into the video data before the data is compressed. The MPEG audio decoder converts the MPEG audio data supplied from the transport IC into the audio data PCM audio data before the data is compressed. The digital analog converter converts the audio data supplied from an MPEG audio decoder A into analog audio signals. The switch SW selectively supplies the analog audio signal supplied from the digital analog converter to the analog audio output terminals T and T.

The controlling CPU performs the processing of the entire IRD . Also the controlling CPU receives a command input to the controlling CPU by the user using the remote controller via the man machine interface . The modem is connected to the controlling CPU . Information required for accounting is stored in the IC card . The information in this IC card is sent to the account server using the modem via the telephone line

Furthermore the transport IC inputs additional audio information and GUI data shown in from the transport stream and sends them to the controlling CPU . Based on this data the controlling CPU forms a screen for a list page a screen for an information page of each piece of music screen data for an EPG etc. The screen data formed in this manner is written into a predetermined area of a buffer memory within the MPEG video decoder . As a result as shown in a screen for a list page of pieces of music being broadcast and an information page of each piece of music or a screen for an EPG can be displayed in a specified area on the screen.

In the IRD shown in when the channel of the music content streaming system which has been described thus far is selected by the user a GUI screen such as that shown in is displayed on the screen of the television receiver .

At this time the received signal input to the terminal T is supplied to the tuner . In the tuner a signal of a predetermined receiving frequency is selected from the received signals in accordance with the setting signal from the controlling CPU and further a demodulation process and an error correction process are performed thereon and an MPEG transport stream is output.

The output of the tuner is supplied to the descrambler . In the descrambler key data used for descrambling stored in the IC card is input via the IC card slot and the controlling CPU and descrambling of the MPEG transport stream is performed by using this key data. The descrambled MPEG transport stream is sent to the transport IC .

A command input from the remote controller by the user is input to the transport IC via the man machine interface and the controlling CPU . The transport IC extracts in accordance with the command the MPEG video data and the MPEG audio data of a desired television program from the transport stream and sends them to the MPEG video decoder and the MPEG audio decoder respectively.

The MPEG video data sent to the MPEG video decoder is converted hereby into the video data before the data is compressed next it is converted into a composite video signal by the NTSC conversion block after which it is output from the analog video output terminal T to the television receiver . The MPEG audio data sent to the MPEG audio decoder is converted hereby into the audio data before the data is compressed next it is converted into an analog audio signal by the digital analog converter after which it is output from the analog audio output terminal T to the television receiver .

In a case in which a piece of music is selected from the list B of the pieces of music on the GUI screen shown in and the audio data of the piece of music is to be test listened the MPEG audio data is extracted in the transport IC this MPEG audio data is decoded by the MPEG audio decoder and it is converted from digital to analog form by the digital analog converter after which it is passed through the switch SW and is output from the analog audio output terminal T to the television receiver .

Furthermore when the download button is pressed on the GUI screen shown in in order to download the audio data the audio data is extracted in the transport IC and the audio data is output from one of the analog audio output terminal T the optical digital output interface and the IEEE1394 interface .

Here as shown in in a case in which the IEEE1394MD C is connected to the IEEE1394 interface the digital interface terminal Dif 4 speed ATRAC data is extracted in the transport IC and is sent to the IEEE1394MD C via the IEEE1394 interface . Also at this time jacket data which is compressed by the JPEG method is extracted in the transport IC and is sent to the IEEE1394MD C via the IEEE1394 interface . Furthermore at this time text data such as the lyrics or the profile of the artist is extracted in the transport IC and is sent to the IEEE1394MD C via the IEEE1394 interface .

In a case in which a storage device B which is not provided with IEEE1394 interface is connected to the optical digital output interface MPEG audio data is extracted in the transport IC and is decoded by the MPEG audio decoder after which the PCM audio data is sent to the storage device B via the optical digital output interface digital output terminal Dout .

In a case in which a storage device A which can input only analog audio is connected to the analog audio output terminal T MPEG audio data is extracted in the transport IC is decoded by the MPEG audio decoder and is further converted from digital to analog form by the digital analog converter after which it is passed through the switch SW and is sent to the storage device A from the analog audio output terminal T audio output terminal Aout .

In this embodiment in a case in which ATRAC data as specific data is contained in the piece of music data and this ATRAC data is transferred to another apparatus the IRD performs an authentication process for confirming the validity of the apparatus of the transfer destination and sends the data to the apparatus of the transfer destination only when the validity is confirmed. The apparatus having the validity as a transfer destination of the ATRAC data is an apparatus for which transfer of data is permitted in advance and in this embodiment the IEEE1394MD C corresponds thereto.

In a case in which the IEEE1394 interface is connected to the IEEE1394 interface of the IRD shown in the audio data of the piece of music text data such as the lyrics and still image data such as the jacket which are sent from the IEEE1394 interface are input from the IEEE1394 interface and the audio data is recorded into the disk as it is by the recording and playback section . As will be described later at this time each of the data is recorded on the disk in accordance with an expansion MD format.

In a case in which PCM audio data is input to the optical digital input interface from an external source the input PCM audio data is encoded by the ATRAC encoder after which it is recorded on the disk by the recording and playback section .

In a case in which an analog audio signal is input to the analog audio input terminal T from the external source the input analog audio signal is converted from analog to digital form by the analog digital converter and is encoded by the ATRAC encoder after which it is recorded on the disk by the recording and playback section .

In other words in this IEEE1394MD C only in a case in which the section between it and the IRD is connected by the IEEE1394 bus together with the audio data of the piece of music the lyrics data thereof the still image data of the jacket etc. are recorded and in the case of the connection by optical digital interface or in the case of analog audio input only the audio data is recorded.

Furthermore in the IEEE1394MD C it is possible during playback to output a playback signal from the IEEE1394 interface or the analog audio output terminal T. Then in a case in which together with the audio data of the piece of music the lyrics data thereof the jacket data etc. are recorded on the disk when the playback signal is output from the IEEE1394 interface the piece of music data can be output to an audio apparatus amplifier etc. which conforms to the IEEE1394 and further the lyrics data the jacket data etc. can be displayed on a display which conforms to the IEEE1394 and can be printed by a printer which conforms to the IEEE1394.

In a manner as described above it is possible for the IEEE1394MD C of the present invention to record and play back the audio data of the piece of music the lyrics data thereof the jacket data etc.

Next referring to B and C a description is given of the structure of various types of data transmitted in this embodiment.

In this embodiment various types of data are transmitted by transport packets in an MPEG transport stream from the ground station to the receiving equipment . shows the data structure of this transport packet. The transport packet has a transport port header in which control information is stored and a payload in which information to be transmitted is stored. The payload in the transport packet is formed such that a packetized elementary stream hereinafter referred to as a PES is divided for each predetermined data length. shows the data structure of the PES packet which is a packet in this PES. The PES packet has a PES header in which control information is stored and a data part .

As shown in in the transport header of the transport packet packet identification information hereinafter referred to as a PID indicating the type of packet is described.

Next a description is given of accompanying information that accompanies a piece of music which can be downloaded in this embodiment.

In this embodiment examples of the accompanying information include the lyrics data of a piece of music the explanation data of the piece of music the explanation data of the artist data of images images such as the jacket photograph of the album in which the piece of music is recorded and photographs of the artist animation promotional images etc. related to the piece of music etc. Of these the lyrics data of the piece of music the explanation data of the piece of music and the explanation data of the artist are text data and the data of the images related to the piece of music is image data compressed by the JPEG method. This accompanying information is transmitted from the ground station to the receiving equipment by the accompanying data as a part of the GUI data.

The accompanying information is grouped into one file for example for each piece of music and for each type of data. In this embodiment this file is called a piece of music accompanying information file .

Next a description is given of a scheme for obtaining correspondence among the selected piece of music the additional audio information and accompanying information such as the lyrics data. The information used to make it possible to select a piece of music by operating GUI on the screen is provided by the GUI data. This GUI data contains a plurality of types of data the lyrics data of the piece of music the explanation data of the piece of music the explanation data of the artist the image data related to the piece of music etc. This plurality of types of data each contain data for each piece of music. A subprogram tag hereinafter referred to as a SPT which is identification information of a corresponding piece of music is added to each data for each piece of music the data for each piece of music being identified by this STP. Therefore in the IRD when a particular piece of music is selected by operating GUI on the screen an SPT corresponding to the piece of music is obtained. Then the IRD extracts the data the additional audio information and the accompanying information of the selected piece of music from among the received data in accordance with this SPT.

A description is given first of a method for extracting the data and the additional audio information of the selected piece of music in accordance with the SPT. In the transport stream in order to make it possible to take out a target channel program from among a plurality of channels programs a program association table hereinafter referred to as a PAT and a program map table hereinafter referred to as a PMT are multiplexed together.

A PID corresponding to the PMT for each channel is described in the PAT. The PID of the transport packet containing the PAT is set to 0 . In the PMT the PID for each type of data such as the video data the audio data etc. in the channel thereof is described.

Therefore it is possible for the IRD to obtain a PAT by extracting the transport packet whose PID is 0 . Furthermore it is possible for the IRD to obtain a PMT for each channel by extracting the transport packet of the PID corresponding to the PMT for each channel described in the PAT. The IRD can be informed of the PID for each type of data in each channel by this PMT for each channel. In this manner the IRD can extract the video data and the audio data in the selected channel as a result of being informed of the PID for each type of data in the selected channel and by extracting the transport packets of those PIDs.

Here a channel of a music broadcast which is capable of downloading piece of music data described up to this point is called a channel of EMD Electric Music Download . In this embodiment with regard to this channel of EMD in addition to the PMT a sub PMT hereinafter referred to as an SMT is defined. This SMT is prepared for each piece of music which can be downloaded.

Furthermore in this embodiment in addition to the PID for each type of data such as video data audio data GUI data etc. a PID of the SMT for each piece of music which can be downloaded is described in the PMT of the channel of the EMD. In this embodiment one which describes this PID of the SMT for each piece of music which can be downloaded is called a linkage descriptor .

The above described data such as the PAT the PMT the SMT etc. are created by control means not shown in the ground station .

By such a scheme for the PAT the PMT and the SMT the IRD is informed of the PID of the SMT of the piece of music selected from the PMT of the channel of the EMD in accordance with the SPT of the selected piece of music when a desired piece of music is selected from among a plurality of pieces of music which can be downloaded when a channel of an EMD is selected and is further informed of the PID for each of the MPEG audio data the ATRAC data and the additional audio data in the piece of music in accordance with the SMT corresponding to the PID by extracting the transport packet of those PIDs thereby making it possible to extract the MPEG audio data the ATRAC data and the additional audio data in the selected channel.

Furthermore when a desired piece of music is selected from among a plurality of pieces of music which can be downloaded when the channel of the EMD is selected the IRD extracts the accompanying information of the selected piece of music from the GUI data in accordance with the SPT of the selected piece of music.

In a manner as described above the selected piece of music the additional audio information and the accompanying information such as the lyrics data are made to correspond to each other in accordance with the SPT.

Next referring to the flowcharts of a description is given of the operation of downloading piece of music data in this embodiment.

Next the IRD determines whether or not the flag of the BIT described in the SMT has been set in order to determine whether or not ATRAC data requiring authentication is contained in the piece of music data step S . When it is determined here that the flag of the BIT has not been set N the IRD extracts the MPEG audio data in accordance with this PID obtains the PID of the MPEG audio data from the SMT step S and decodes the MPEG audio data step S . This decoded audio data is output from the optical digital output interface or from the analog audio output terminals T and T.

Furthermore when the flag of the BIT has been set Y the IRD performs an authentication process between it and the apparatus usually the IEEE1394MD C of the transfer destination of the ATRAC data and determines whether or not the apparatus of the transfer destination is a valid apparatus to which downloading may be performed step S . Here when the apparatus is not determined to be a valid apparatus N the IRD proceeds to the process of step S. Also when the apparatus is determined to be a valid apparatus Y the IRD further determines whether or not a selection for instructing that the ATRAC data be downloaded has been made by the user step S .

When a selection for instructing that the ATRAC data be downloaded has not been made N the IRD proceeds to the process of step S. Also when a selection for instructing that the ATRAC data be downloaded has been made Y the IRD extracts the PID of the ATRAC data from the SMT step S extracts the ATRAC data in accordance with this PID and starts downloading the ATRAC data step S .

Next a description is given of an authentication process performed between the IRD and the apparatus of the transfer destination for the ATRAC data in this embodiment. is an illustration showing an example of an authentication process. As a method for performing authentication in this embodiment for example a secret key encryption method may be used.

In the download of the ATRAC data digital recording of such a high quality as that in which deterioration of sound quality barely occurs is possible in practice and the protection of data is deemed to be particularly important. Therefore in this embodiment with the downloading of the ATRAC data for example an authentication process such as that described below is performed. In the following a description is given by assuming the apparatus of the transfer destination to be the storage device . As shown in initially the IRD transmits a command S requesting authentication to the storage device . Receiving the command S requesting authentication the storage device returns a command S as specific authentication information possessed by itself to the IRD . The IRD determines whether or not the storage device is a valid apparatus to which the data may be transferred in accordance with the command S from the storage device . The apparatus having the validity as a transfer destination is an apparatus to which the transfer of the ATRAC data is permitted and in this embodiment the IEEE1394MD C corresponds thereto. When the IRD confirms that the authentication information is correct information which is set up in advance and determines that the storage device is a valid apparatus the IRD transmits key information S then encrypts the ATRAC data in accordance with this transmitted key information S and transmits data DA to the storage device . The storage device decrypts the encrypted data DA in accordance with the key information S transmitted in advance from the IRD and records the ATRAC data.

With regard to this authentication in addition to the authentication method described in for example Japanese Unexamined Patent Publication No. 8 46948 a known authentication method which is in common use may be used and any method may be used.

As has been described up to this point according to this embodiment determination data used for determining that specific data ATRAC data requiring authentication is contained is added into the data structure of the SMT in which information for each piece of music is described and is transmitted and on the receiving side it is determined whether the specific data is contained in accordance with the determination data and the IRD performs a download process after performing an authentication process on the apparatus of the data transfer destination. This makes it possible to ensure the protection of the data with respect to the illicit transfer of the specific data.

Although in the above described embodiment determination data used for determining that specific data requiring authentication is contained is added before the PID of the ATRAC data described within the SMT this determination data may be added into another data structure. In this case it is preferable that this determination data be added to the place indicating that it is data for each piece of music in the data structure. In a case in which an EMD channel is simply selected it is also possible to determine whether or not there is a PID for the ATRAC data and to perform authentication when there is a PID for the ATRAC data.

Furthermore for example the present invention can also be applied to a system for downloading a piece of music streamed by a ground wave broadcast a system for downloading a piece of music streamed by a cable broadcast and a system for downloading a piece of music via the Internet.

As has been described up to this point according to the data transmission apparatus of the present invention and the data transmission method of the present invention a plurality of types of transmission data are created and when specific data requiring in the transmission destination an authentication process for confirming the validity of the apparatus of the data transfer destination is contained in this transmission data determination data used for determining that the specific data is contained is created and the created data is transmitted. This yields the advantage that the protection of data against illicit transfer with respect to the specific data can be ensured.

Furthermore according to the data receiving apparatus of the present invention and the data receiving method of the present invention a plurality of types of transmission data are received and when specific data requiring an authentication process for confirming the validity of the apparatus of the data transfer destination is contained in this transmission data determination data used for determining that the specific data is contained is received and a determination is made as to whether or not the specific data is contained in the transmission data in accordance with the received determination data. This yields the advantage that the protection of data against illicit transfer with respect to the specific data can be ensured.

Furthermore according to the data transmission and reception system of the present invention and the data transmission and reception method of the present invention a plurality of types of transmission data is created and when specific data requiring in the transmission destination an authentication process for confirming the validity of the apparatus of the data transfer destination is contained in this transmission data determination data used for determining that the specific data is contained is created the created data is transmitted the transmitted data is received and a determination is made as to whether or not the specific data is contained in the transmission data in accordance with the determination data contained in the received data. This yields the advantage that the protection of data against illicit transfer with respect to the specific data can be ensured.

Many different embodiments of the present invention may be constructed without departing from the spirit and scope of the present invention. It should be understood that the present invention is not limited to the specific embodiment described in this specification. To the contrary the present invention is intended to cover various modifications and equivalent arrangements included within the spirit and scope of the invention as hereafter claimed. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications equivalent structures and functions.

