---

title: Methods and systems for managing, controlling and monitoring medical devices via one or more software applications functioning in a secure environment
abstract: Systems and methods that include configurations of a medical device, user device and service platform are described. Embodiments may include a secure network to run medical applications that control and/or monitor the medical device. An online store may be provided for storing and distributing medical applications to the user device and medical device. A secure environment may be provided within the user device and medical device that protects the integrity of medical applications running on those devices. A service platform may provide a service that enables a medical authority to certify and monitor the medical applications. In some implementations, various third parties and the user of the user device may be allowed to manage and monitor the medical device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09656092&OS=09656092&RS=09656092
owner: 
number: 09656092
owner_city: 
owner_country: 
publication_date: 20100512
---
This application claims priority under 35 U.S.C. 119 e to U.S. Provisional Patent Application Ser. No. 61 177 495 entitled METHODS AND SYSTEMS FOR MANAGING CONTROLLING AND MONITORING MEDICAL DEVICES VIA ONE OR MORE SOFTWARE APPLICATIONS FUNCTIONING IN A SECURE ENVIRONMENT filed on May 12 2009 the content of which is incorporated by reference herein for all purposes.

The present invention is directed generally to systems for interacting with medical devices. More particularly but not exclusively embodiments may include methods and systems for managing controlling and monitoring medical devices via a software application functioning in a secure environment as well as associated networks for delivering approved software applications to a user device with the application then enabling the user device to exchange information with a medical device near carried on or implanted in a patient.

Medical technology can improve and even prolong people s lives while reducing long term health costs associated with complications and long term health care particularly for those with chronic diseases. Unfortunately use of such medical technology may be costly and inconvenient. For example a patient user may be required to have a medical device implanted worn carried or otherwise maintained near their person. Alternatively or in addition the user and or personnel of an institution e.g. hospital personal care home nursing home etc may need to maintain an additional device a medical controller for purposes of e.g. monitoring controlling reading from or updating information to the aforementioned medical device.

Because of strict regulatory requirements imposed on medical devices such medical controllers typically require a substantial amount of time money and risk to design develop test validate certify manufacture inventory distribute upgrade and receive reimbursement. When compared to the more rapid development pace of general user devices e.g. mobile devices laptops personal computers etc medical controllers tend to be technically inferior in relation to among other things processor speed amount of memory screen type and resolution connectivity security as well as other operational and performance characteristics.

Much of a user device s design development testing validation certification manufacturing inventory distribution upgrade capabilities and processes and reimbursement subsidization are already managed by various parties. For example parties that manage these aspects in a mobile device ecosystem include phone OEMs distributors wireless carriers network operators application developers as well as others. However mass market mobile devices have not been permitted to play the roll of a medical controller due to several considerations including but not limited to 

1 Technological constraints such as local radio frequency RF technology e.g. Bluetooth Bluetooth LE Zigbee ANT MICS MEDS WiFi Peanut etc. utilized by a mobile device and the power consumption required for communication with a medical device and 2 Safety and privacy constraints relating to requirements of for example the Food and Drug Administration FDA and the Health Insurance Portability and Accountability Act HIPAA .

Accordingly there is a need in the art for enhanced methods and systems to address these problems as well as others.

In one aspect the invention is directed to a computer implemented method of interacting with a medical device in conjunction with a user device comprising receiving at the user device a certified medical application storing the certified medical application in a secure memory segment of the user device wherein the secure memory segment is configured to be isolated from a nonsecure memory segment of the user device and wherein the nonsecure memory segment is configured to store one or more noncertified applications and initiating establishment of a communication link from the user device to the medical device wherein the communication link is configured to facilitate execution of the certified medical application. The method may further include sending to the medical device one or more instructions for execution on the medical device to implement a medical control or monitoring function and the method may further include receiving from the medical device a set of data associated with a control or monitoring function implemented on the medical device and storing in the secure memory segment the set of data. The set of data may be encrypted prior to storing.

In another aspect the invention is directed to a computer implemented method of operating a medical device comprising initiating establishment of a communications connection between a user device and the medical device sending from a secure segment of the user device to the medical device via the communications connection instructions for controlling or monitoring an operational function of the medical device receiving from the medical device data associated with operation of the medical device and storing the data associated with operation of the medical device in the secure segment. The sending may be initiated from a certified medical application and the data is received by a certified medical application. The method may further include sending from the user device the data associated with operation of the medical device to a service platform. The sending may further include sending a certified medical application to the medical device. The certified medical application may be received at the user device from a service platform in a secure environment of the user device and stored in the secure segment.

In another aspect the invention is directed to an apparatus for use in a user device comprising one or more processors configured to be coupled to a network communication interface and a medical device communication interface and a memory coupled to the one or more processors said memory configured to include an unsecured segment and a secure segment logically separated from the unsecured segment wherein the secured segment is configured to securely store a certified medical application disposed for execution on the processor to facilitate control and or monitoring of a medical device. The secure segment may be further configured to securely store a set of data provided from the medical device and the memory may further includes a secure communication application configured to receive from a service platform a certified medical application and store the certified medical application in the secure segment. The secure communication application may be further configured to verify in response to receipt of the medical application that the received medical application has been approved for operation with the medical device by a regulatory authority. The regulatory authority may be the FDA.

In another aspect the present invention is directed to a method of provisioning medical applications to a user device comprising receiving from a medical application developer a first medical application wherein the first medical application is configured to operate a specific medical device subject to a regulatory certification storing in a computer system the first medical application providing the first medical application to a regulatory authority for certification of the first medical application in conjunction with the specific medical device receiving from the regulatory authority a certified version of the first medical application and storing the certified version of the first medical application in a certified medical application repository. The method may further include providing the certified version of the first medical application to a user device via an electronic communications interface wherein the user device is configured to communicate with the medical device to facilitate medical device operation. The method may also include testing prior to the providing the first medical application to a regulatory authority the first medical application for compliance with one or more statutory or regulatory requirements. The method may further include providing the certified first medical application to an online applications store. The medical device may be an infusion pump a pacemaker a defibrillator a heart monitor a heart control device a blood glucose monitor a continuous blood glucose monitor a pulse sensor an oxygen saturation sensor or another medical device as described herein or known or developed in the art.

In another aspect the present invention is directed to a medical device comprising a medical monitoring or control apparatus disposed to monitor or control a patient medical function a network communication interface one or more processors configured to be coupled to the network communication interface and the medical monitoring or control apparatus and a memory coupled to the one or more processors said memory configured to include an unsecured segment and a secure segment logically separated from the unsecured segment wherein the secured segment is configured to securely store a certified medical application disposed for execution on the processor to facilitate control and or monitoring of the medical monitoring or control apparatus. The secure segment may be further configured to securely store a set of data provided from the medical monitoring or control apparatus. The memory may further include a secure communication application configured to receive from a service platform a certified medical application and store the certified medical application in the secure segment. The secure communication application may be further configured to verify in response to receipt of the medical application that the received certified medical application has been approved for operation with the medical device by a regulatory authority. The regulatory authority may be the FDA and the certified medical application may be certified by the FDA.

Additional aspects of the present invention are described below in conjunction with the appended Drawings.

The embodiments described below are provided for purposes of illustrating various features and functionality of the present invention. It is to be understood however that there is no intention to limit the invention to the forms described in the Detailed Description. One skilled in the art can recognize that there are numerous modifications equivalents and alternative constructions that fall within the spirit and scope of the invention as described and illustrated herein and as expressed in the claims.

In one aspect embodiments of the invention may provide systems and methods for downloading an application from a web based server to a user device wherein the application is downloaded to a secure environment within the user device. The secure environment may be used to facilitate control of the processes and functions described in further detail below to facilitate application quality control regulatory compliance security and other related features and functions.

In another aspect embodiments of the invention may provide systems and methods for running at least part of an application within a secure environment of a user device wherein the application manages controls and or monitors a medical device configured to be in communication with the user device.

In another aspect embodiments of the invention may provide systems and methods for uploading data and or an application to or from a web based server or client wherein the application may be made available to various network devices that may include a user device a medical authority an application developer and or other third parties. This access to other network devices may be done in a secure controlled fashion so at to comply with regulatory requirements and or statutory requirements such as HIPAA requirements.

In another aspect embodiments of the invention may provide systems and methods wherein a user device third party computing device and or web based server operates as a gateway via which a medical device receives and or sends information. This may be done in conjunction with a user device. This gateway functionality may be done in a secure controlled fashion so at to comply with regulatory requirements and or statutory requirements such as HIPAA requirements.

In another aspect embodiments of the invention may provide systems and methods wherein a user device third party computing device and or web based server executes an application thereby controlling a medical device in relation to the execution of the application. This may be done in conjunction with a user device. This functionality may be done in a secure controlled fashion so at to comply with regulatory requirements and or statutory requirements such as HIPAA requirements.

In another aspect embodiments of the invention may provides systems and methods wherein a user device third party computing device and or web based server executes an application thereby monitoring a medical device in relation to the execution of the application. This functionality may be done in a secure controlled fashion so at to comply with regulatory requirements and or statutory requirements such as HIPAA requirements.

In another aspect embodiments of the invention may provide enhanced functionality medical devices to allow them to interface with networks by incorporated functionality traditionally associated with user devices such as cellular phones. Some of these embodiments may incorporate this functionality as a thin client into the medical device to allow it to receive and or send certified medical applications updated applications user patient data as well as other applications or information. This may be done by using widely availably infrastructure such as the cellular network and or Internet.

One embodiment includes a computer implemented method of interacting with a medical device in conjunction with a user device comprising receiving at the user device a certified medical application storing the certified medical application in a secure memory segment of the user device wherein the secure memory segment is configured to be isolated from a nonsecure memory segment of the user device and wherein the nonsecure memory segment is configured to store one or more noncertified applications and initiating establishment of a communication link from the user device to the medical device wherein the communication link is configured to facilitate execution of the certified medical application. The method may further comprise sending to the medical device one or more instructions for execution on the medical device to implement a medical control or monitoring function and the method may further comprise receiving from the medical device a set of data associated with a control or monitoring function implemented on the medical device and storing in the secure memory segment the set of data. The set of data may be encrypted prior to storing.

The method may also include sending from the user device to a service platform the set of data and encrypting the set of data prior to the sending the set of data.

The method may further comprise verifying that the certified medical application conforms to one or more regulatory requirements and the verifying may include validating that the certified medical application conforms to a Food and Drug Administration FDA medical device compliance regulation.

Another embodiment of the invention includes a computer implemented method of operating a medical device comprising initiating establishment of a communications connection between a user device and the medical device sending from a secure segment of the user device to the medical device via the communications connection instructions for controlling or monitoring an operational function of the medical device receiving from the medical device data associated with operation of the medical device and storing the data associated with operation of the medical device in the secure segment. The sending may be initiated from a certified medical application and the data may be received by a certified medical application.

The method may further include sending from the user device the data associated with operation of the medical device to a service platform. The sending may further include sending a certified medical application to the medical device. The certified medical application may be received at the user device from a service platform in a secure environment of the user device and stored in the secure segment.

Another embodiment of the invention includes an apparatus for use in a user device comprising one or more processors configured to be coupled to a network communication interface and a medical device communication interface and a memory coupled to the one or more processors said memory configured to include an unsecured segment and a secure segment logically separated from the unsecured segment wherein the secured segment is configured to securely store a certified medical application disposed for execution on the processor to facilitate control and or monitoring of a medical device. The secure segment may be further configured to securely store a set of data provided from the medical device and the memory may further includes a secure communication application configured to receive from a service platform a certified medical application and store the certified medical application in the secure segment.

The secure communication application may be further configured to verify in response to receipt of the medical application that the received medical application has been approved for operation with the medical device by a regulatory authority. The regulatory authority may be the FDA.

The apparatus may include two processor cores and wherein a first of the two processor cores is coupled to the unsecure segment and the second of the two processor cores is coupled to the secure segment. The first processor core and the second processor core may be isolated from each other.

Another embodiment may include a method of provisioning medical applications to a user device comprising receiving from a medical application developer a first medical application wherein the first medical application is configured to operate a specific medical device subject to a regulatory certification storing in a computer system the first medical application providing the first medical application to a regulatory authority for certification of the first medical application in conjunction with the specific medical device receiving from the regulatory authority a certified version of the first medical application and storing the certified version of the first medical application in a certified medical application repository.

The method may further include providing the certified version of the first medical application to a user device via an electronic communications interface wherein the user device is configured to communicate with the medical device to facilitate medical device operation. The method may also include testing prior to the providing the first medical application to a regulatory authority the first medical application for compliance with one or more statutory or regulatory requirements.

The method may further include providing the certified first medical application to an online applications store.

The method may further include receiving from a second medical application developer a second medical application wherein the second medical application is configured to operate a second specific medical device subject to a regulatory certification storing in a computer system the second medical application providing the second medical application to a regulatory authority for certification of the second medical application in conjunction with the second specific medical device receiving from the regulatory authority a certified version of the second medical application and providing the certified version of the second medical application to a second user device via an electronic communications interface wherein the second user device is configured to communicate with the second medical device to facilitate medical device operation.

The medical device may be an infusion pump a pacemaker a defibrillator a heart monitor a heart control device a blood glucose monitor a continuous blood glucose monitor a pulse sensor an oxygen saturation sensor or another medical device as described herein or known or developed in the art.

The device may include data defining a collection of reference information associated with a monitoring function wherein the medical device is further configured to provide the data to a second medical device.

Another embodiment may include a medical device comprising a medical monitoring or control apparatus disposed to monitor or control a patient medical function a network communication interface one or more processors configured to be coupled to the network communication interface and the medical monitoring or control apparatus and a memory coupled to the one or more processors said memory configured to include an unsecured segment and a secure segment logically separated from the unsecured segment wherein the secured segment is configured to securely store a certified medical application disposed for execution on the processor to facilitate control and or monitoring of the medical monitoring or control apparatus.

The secure segment may be further configured to securely store a set of data provided from the medical monitoring or control apparatus. The memory may further include a secure communication application configured to receive from a service platform a certified medical application and store the certified medical application in the secure segment. The secure communication application may be further configured to verify in response to receipt of the medical application that the received certified medical application has been approved for operation with the medical device by a regulatory authority. The regulatory authority may be the FDA and the certified medical application may be certified by the FDA.

The device may include two processor cores wherein a first of the two processor cores is coupled to the unsecure segment and the second of the two processor cores is coupled to the secure segment. The first processor core and the second processor core may be isolated from each other.

Some embodiments of the invention may leverage advances in technology in order to overcome barriers e.g. shortcomings related to power consumption mentioned in the Background section as well as other barriers such as regulatory and statutory compliance requirements security quality assurance high reliability low probability of device error or failure as well as user and patient privacy. Such advances may include use of lower power RF technologies such as Bluetooth Low Energy and NFC security features that create secure zones for protecting critical features of user devices e.g. the RF link associated with wireless networks as well as other similar or equivalent features.

In some embodiments the security features may be especially important as user devices become a greater target for malicious activity. These security features include utilizing TrustZone by ARM virtualization techniques and or highly reliable Real Time Operating Systems RTOS by Open Kernel Labs such as but not limited to OKL4 VirtualLogics Green Hills Software Wind River etc. The advances in technology may also be utilized to increase functionality without dramatically increasing materials cost size and or power requirements.

As described below some embodiments of the invention enable user devices e.g. mobile devices such as cellphones and PDAs netbooks laptops computer devices or other similar devices with some or all of the operational functions of a medical controller or other medical device. As used herein a medical controller or medical device denotes a device that can be used in proximity to in contact with and or implanted in a patient to provide a medical function and exchange associated data. Examples include devices such as medical infusion pumps physiological monitoring devices heart controllers such as pacemakers and the like as well as other similar or equivalent devices known or developed in the art for medical diagnosis monitoring medication or other substance delivery electrical or other physiological control or other medical applications. A characteristic of these devices is that they are typically custom designed for a particular application or applications and are subject to regulatory review such as by the United States FDA or other regulatory authorities. In many cases regulatory approval includes strict constraints on hardware and software used in the devices which creates limitations as to how device software version control and testing must be done as well as how application can be incorporated or embedded in the medical devices or otherwise provided to them.

In accordance with one aspect of the present invention by providing access to and control of medical devices using more commonly available user devices patients users are provided with convenience as many people already own or have access to user devices choice as there is a large variety of user devices to choose from around the world affordability as user devices are produced in volumes that are orders of magnitude greater than existing medical devices and controllers and discretion as it would be difficult to impossible for a passerby to determine if someone was managing their disease or text messaging for example . Because of reliability standards imposed on medical devices as well as quality and version control and required regulatory testing approvals embodiments of the invention may also provide a secure environment in a controlled fashion so as to comply with regulatory and or statutory requirements such as for example U.S. Food and Drug Administration FDA requirements equivalent foreign governmental requirements statutory requirements such as those imposed under HIPAA or other similar or equivalent requirements within a user device so the user device can run a software application that controls a medical device while still maintaining regulatory and or statutory compliance even when the non secure environment is evolving such as with operating system updated firmware updated application additions and updates and the like as well as store and optionally encrypt a user s medical information in a secure environment.

As one example of potential security advantages of embodiments of the present invention it is important to recognize that existing user devices do not offer a secure and reliable solution that provides an alternative to posting Personal Health Record PHR data on one or more PHR servers for example. As used herein a PHR is any record including but not limited to Electronic Medical Records EMR that contains health information which may or may not be interpreted as personal and sensitive. A PHR is valuable only if information in the record is current and accurate. Some users do not trust the security of online PHR services which may be caused by well publicized breaches of such data. However some embodiments of the invention allow a user to store his or her PHR on a user device in a physically present secure reliable and encrypted such as but not limited to RSA cryptography manner that ensures uncompromised integrity of the data. Having a physically present PHR allows the user to share his or her PHR information on demand give the user the option to post via a secure manner such as but not limited to Secure Socket Layer SSL all or only the data they want to post in his or her Server PHR and enable synchronization of PHR data between the user device and PHR Server.

Embodiments of the present invention may include among other things processes and systems for managing controlling and monitoring medical devices via a software application functioning in a secure environment. In particular but not by way of limitation aspects of the invention pertain to one or more networks for delivering an approved software application to a user device the software application enabling the user device to exchange information with a medical device that is near carried worn or implanted in a biological environment e.g. a human body .

Some embodiments of the present invention relate to a secure system for delivery of medical applications to a user device and or a medical device. The secure system may further be used to manage approved medical applications and may further be used by developers of medical applications to act as an escrow or trusted third party service. In this case a medical application developer may submit a medical application to the trusted third party service electronically or via tangible storage media with the trusted third party service then providing the medical application to an appropriate regulatory authority such as the FDA for approval and then may further manage storage of the approved application and or delivery of the approved medical application to a user device and or medical device.

Some embodiments of the invention may be implemented in the form of computer executable instructions such as program modules being executed by a computing device server user device or medical device. Generally program modules include routines programs objects components data structures drivers Application Programming Interfaces APIs an operating environment or Operating System OS possibly a physically secure environment e.g. TrustZone secure element such as but not limited to a Secure SIM Secure micro SD etc. and or a virtualized environment e.g. OKL4 which may or may not host one or more Operating Systems and or allow applications such as but not limited to those based on C C Java BREW Android Linux Apple RIM Symbian HTML and or versions of any of them to run directly within or on top of a physically secure environment and or a virtualization layer and the like that perform particular tasks or implement particular abstract data types.

Embodiments of the invention may be practiced in single such as but not limited to 6xxx series chipsets from Qualcomm or multi core processor environments such as but not limited to 8xxx series chipsets from Qualcomm Embodiments may also be practiced on various processor core technologies such as but not limited to ARM x86 etc. Embodiments may also be practiced in environments with distributed processors where for example one or more processors process all some or none of the invention and one or more additional processors process the remainder of the invention. Embodiments may also be practiced in distributed computing environments where tasks are performed by remote processing devices or services that are linked through a communications network. In a distributed computing environment program modules may be located in both local and or remote computer storage media including but not limited to memory storage devices servers clouds for cloud computing and the like.

Attention is now directed to which depicts an embodiment of a network for managing and monitoring medical and user devices and delivery of medical application to such devices in accordance with the present invention. As shown includes a user device a medical device and a service platform . As those skilled in the art will appreciate various intermediary network routing and other elements between the user device and the devices depicted in have been omitted for the sake of simplicity however would be included by those of ordinary skill in the art in various implementations. Such intermediary elements may include for example wireless and or wired network devices gateways or other server devices and other network infrastructure provided by Mobile Network Operators MNO and Internet service providers ISP .

The user device is configured with hardware and or software shown in successive figures that implement various medical applications as further described below in conjunction with the medical device . The user device may include any of a variety of devices capable of operation in association with user interaction. In certain embodiments the user device includes mobile devices e.g. personal digital assistants PDAs cell phones other hand held devices and the like netbooks laptops or personal computers.

The medical device is configured with hardware and or software not shown that implement various applications as further described below. In particular the medical device is configured to communicate with the user device and or the service platform which control and or monitor the medical device .

The service platform is configured to send receive data to from the user device the medical device and other devices not shown but described below via a wireless or wired communication sub network not shown . The service platform may be further configured to provide the medical applications to the user device and or the medical device in a secure and or configuration controlled fashion via the communication sub network.

Attention is now directed to which illustrates one embodiment of an exemplary user device in this case a mobile or cellular phone which may correspond with user device of . It will be apparent that certain details and features of the user device have been omitted for clarity however in various implementations various additional features of a mobile device as are known will be included. User device includes one or more visual displays one or more network or wireless interfaces configured to provide a communications connection with a network such as the cellular network the Internet and or other local or wide area networks. In addition user device includes a user I O interface that may include a keypad touchscreen mouse or other user interface element configured to allow a user to interact with the user device and with one or more applications executing on the user device including medical applications. In addition user device includes a medical device communications interface configured to provide a communications connection to one or more medical devices. Interface may comprise a wired or wireless interface such as USB Bluetooth 802.11 ZigBee and or other similar or equivalent interfaces.

User device further includes one or more processors which are communicatively coupled to a memory space . Memory space may comprise one or more physical memory devices such as SRAM DRAM Flash hard drives or other memory devices. Memory space is further divided into a secure segment and an unsecure segment each of which may store operating system OS code application code and or data. In some implementations a single processor may be coupled with both the secure and unsecure segments whereas in other implementations two or more processors or processor cores may be respectively coupled to either the secure segment or unsecure segment so as to facilitate further segregation of the secure memory segment from the unsecured memory segment. The unsecure segment may be used to store standard or typical applications such as those commonly available for smart phones as well as associated data and operating systems for the user device. The secure segment may be used to store secure applications such as medical applications as described herein as well as associated data. Separate operating systems may be separately stored in and used by applications operating in the secure segment versus the unsecure segment. In some embodiments the secure segment may be provided with guaranteed processor and memory resources which may be done to protect against attacks on the device such as denial of service attacks or other ways of attempting to overload processing and or memory usage.

Attention is now directed to which illustrates additional details of embodiments of a user device and associated network which may correspond with user device . While details of various embodiments of the invention may vary and still be within the scope of the claimed invention shows a block diagram depicting a typical network for managing and monitoring medical devices in accordance with at least one embodiment of the present invention. The network is only one example of a suitable environment and is not intended to suggest any limitation as to the scope of use or functionality of the invention.

As is shown in the network includes a wired wireless communication sub network that enables communications among the user device the medical device and the service platform .

In accordance with communication between the user device and the service platform the communication sub network may include network infrastructure and communication pathways provided by MNOs and or Mobile Virtual Network Operators e.g. when the user device is a mobile device or ISPs when the user device is a laptop or personal computer . One of skill in the art will appreciate alternative configurations associated with the communication sub network that are within the scope and spirit of the invention including such configurations that make use of wireless transport technologies e.g. CDMA GSM GPRS EDGE WCDMA WiFi WiMAX HSxPA LTE etc and other communication services e.g. Internet Protocol Suite IPS Hypertext Transfer Protocol HTTP Secure Socket Layer SSL etc .

In accordance with communication between the user device and the medical device the communication sub network may include wired or wireless technologies such as for example Bluetooth Bluetooth Low Energy ANT MICS MEDS NFC RFID Zigbee WiFi WiMAX CDMA UMTS LTE spread spectrum frequency hopping paging USB Firewire proprietary etc.

In some embodiments communication among the user device medical device and service platform may utilize security technologies such as encryption decryption in an exemplary embodiment 128 bit encryption or higher cryptography including but not limited to that used in RSA encryption Internet Protocol Security IPSec Secure Socket Layer SSL Virtual Private Networks VPN firewalls and data management zones demilitarized zones DMZ cloud computing and the like. Additional embedded security technologies include those built into Bluetooth Bluetooth Low Energy NFC HTTPS and token based security e.g. challenge questions passwords private public keys static or rolling algorithms and the like. For example rolling algorithms may be utilized in relation to communication between the user device and the medical device . In such an embodiment medical device information e.g. Pacemaker information may be transferred using a custom tailored algorithm of divide the data by decimal 10. During a subsequent transfer of information a custom algorithm of multiply the data by 2 and take the square root may be used as two high level dynamic yet simplistic examples. The custom algorithms can and should be updated frequently.

Certain aspects of the network may require approval oversight and or certification by the Food and Drug Administration FDA or other medical and or government or industry regulatory authorities. For example modules and may require approval oversight and or certification by a medical authority to guarantee the integrity of the medical applications e.g. before the service platform grants permission to download the applications to the user device and also to ensure the secure collection and distribution of the medical information provided by the medical device . The user device may also or alternatively require approval oversight and or certification by a medical authority to guarantee the integrity of the operation of the medical applications e.g. after the service platform downloads the applications to the user device and also to ensure the secure collection and distribution of the medical information provided by the medical device . Embodiments of the present invention may facilitate compliance with these requirements as well as other statutory or regulatory requirements.

One of skill in the art will appreciate that the need for government based or industry based regulation on a complete one off system may be overcome or at least improved by adoption of a scalable industry standard which may be in accordance with the disclosure described herein. Such an industry standard may be adopted by manufacturers vendors and providers of the user device the medical device and service platform and the operations thereof. One of skill in the art will also appreciate that in accordance with some embodiments there may be no need for any regulation at all e.g. government based or commerce based .

The user device may be configured to serve as a slave master or a combination slave master to the medical device . In accordance with one embodiment the medical device may host and run some or all of a medical application e.g. run a preinstalled application installed from the factory for example and or a downloaded application to the medical device from the service platform via the user device acting as a gateway . In such an embodiment the medical device may only request allow the user device to respond to requests from the medical device that require user intervention and or to act as a gateway though which data from the medical device passes to service platform . In order to do this application space and or data memory space in the user device may be securely partitioned to insure security privacy reliability quality and or regulatory compliance.

In some embodiments the medical device may only run the lowest level logic necessary to make the medical device perform its most fundamental purpose s . Under such an embodiment higher level instruction may be managed and provided by the user device . In order to do this application space and or data memory space in the user device may be securely partitioned to insure security privacy reliability quality and or regulatory compliance. One of skill in the art will appreciate other embodiments regarding the interaction between a medical device and the user device that are within the scope and spirit of the invention.

In accordance with one embodiment the service platform is configured as a slave master or a combination slave master to the medical device and or medical device . Under this embodiment an authorized medical agent e.g. a physician nurse etc may using a computing device that may or may not be mobile communicate with the medical device via the user device and or the service platform . For example the service platform could allow a nurse to remotely update the settings of the medical device through a webpage cloud or back office software that has been integrated into the service platform . In an alternative embodiment the settings could be updated automatically based on a pre programmed software package that is compatible with the needs of the user patient s medical device . These embodiments each offer the advantage of eliminating a need for the medical agent to be physically near the medical device in order to update its settings. In order to do this some elements of the service platform may be configured with secured application and or data storage space memory so at to guarantee privacy ensure regulatory compliance manage application integrity and or provide other security quality or reliability features.

With appropriate authorization levels individuals such as users patients doctors nurses parents guardians etc could be granted access to the managing monitoring functions associated with the medical device through the service platform . The type of access may be restricted to receiving certain information or may provide for full remote control of the medical device . For example a user patient in Haiti may only be allowed access to view the usage history of the medical device while a physician who is located in the United States may be allowed the capability of remotely update settings to the medical device .

In other embodiments the user device is configured as a gateway that merely passes data to from each of the medical device and the service platform . In accordance with this embodiment the user device can open up an appropriate communication pathway e.g. an RF pathway to communicate with the medical device and the service platform . The user device may alternatively be configured as secure middleware that stores data transmitting between the medical device and the service platform . Such a configuration has the advantage of preserving data in case the connection between the medical device and the service platform becomes suspended. In order to do this application space and or data memory space in the user device may be securely partitioned to insure security privacy reliability quality and or regulatory compliance.

The user device can alternatively be configured to act as the device responsible for ensuring that data was completely and correctly transferred to from the medical device and service platform . The user device may be further configured to provide updates to each of the medical device and the service platform as to the status of a transmission. The user device may accept all of the transferred information from either the medical device or service platform before transmitting part or all of it to the service platform or medical device respectively. In order to do this application space and or data memory space in the user device may be securely partitioned to insure security privacy reliability quality and or regulatory compliance.

In accordance with yet another embodiment the user device is configured to receive user inputted health information regardless of whether the user has a medical device . Such health information may include nutrition facts medication information such as but not limited to compliance Personal Health Record PHR information etc. The user device may then provide a secure and reliable environment discussed below for such information. This embodiment provides a viable alternative for people that don t feel comfortable uploading part or all such information to the World Wide Web yet still provides such individuals with a readily available and secure access to the information. This embodiment may also provides a localized backup for server based PHR data in case something should happen to the data stored in server based solutions e.g. Google Health and Microsoft Vault . Synchronization between the user device and an online database or a medical agent s computer is also possible via fixed and or variable parameters e.g. frequency of synchronizations specific fields to sync not sync which remote databases to not to sync with etc. .

As described herein Medical Applications are software based solutions for managing monitoring and or controlling a medical device such as devices and shown in respectively. A medical application or applications may run on various components in the network either in its entirety or in a distributed fashion including on the user device and the medical device . In some embodiments the medical applications run on a computing device not shown operated by a third party e.g. a medical agent such as a doctor nurse or other medical care provider . In other embodiments the medical application runs on the service platform which is accessible to authorized individuals such as medical agents via the communication sub network e.g. based on a web based solution .

Medical applications may be developed by application developers manufacturers of the user device and or medical device or any other suitable entity. Various embodiments for developing and approving medical applications in accordance with aspects of the present invention are described below with respect to . In particular a medical application may be developed by a third party application developer managed by a trusted third party service provider associated with the service platform who may control and or manage regulatory approval of the application with a regulatory provider such as the FDA as well as control provision of the application in a secured reliable and or regulatorily compliant fashion to the user device .

In some embodiments medical applications may be downloaded directly from the service platform via the communication sub network . In accordance with one embodiment medical applications are downloaded from the service platform to the user device without any alteration to the medical applications on the user device . That is the medical application that leaves the service platform is the same medical application that operates on the user device . This may be done in a secure fashion so as to ensure reliability integrity and or quality of the downloaded application. The user device may include additional applications or other forms of executable programs to determine whether the downloaded medical application is appropriate for execution on the user device and or is compliant with required regulatory and or statutory requirements.

The service platform and user device may also be configured to confirm that a medical application was downloaded successfully prior to installing or executing the medical application. If the medical application did not download or install successfully part or all of the medical application may be removed from the user device and the user and the service platform may be notified so as to analyze any problems associated with the download or install. The service platform may also then forward such notifications with in some cases additional detail e.g. the time date user device make and model medical application version etc. to additional parties such as the developer of the medical application trusted third parties other quality assurance entities and or regulatory authorities for example.

A download may consist of an entire medical application e.g. a new or replacement upgrade or it may be a sub application for an existing application e.g. an upgrade perhaps with new features or a patch for example .

In an exemplary embodiment a user device includes a secure environment which may include a secure application operating environment secure data storage environment secure and or separate OS or combinations of these elements. The secure environment may be stored in a secure segment of a user device memory space such as secure segment as shown in . In some embodiments a medical application is downloaded to a secure environment on the recipient device e.g. the user device . In addition data associated with the medical application may be stored in the secured environment. Additional details of certain exemplary embodiments relating to secure environments are discussed in greater detail with respect to e.g. secure environment .

When downloading to the secure environment it is possible that the medical application never passes through the operating system OS and or memory of a non secure environment though it may be possible in some embodiments. Certain embodiments relating to non secure environments are discussed in greater detail with respect to see non secure environment .

Selection of a medical application may occur via a web browsing function on the user device a remote device or any other suitable method. The same methods for securely operating a medical application on a user device are available when downloading the medical application. Additional details are shown in and further described below.

In some embodiments medical applications may run within secure and or non secure environments e.g. physically secure element and or virtualized environment for example . However in accordance with an exemplary embodiment all of a medical application resides within a secure environment. In alternative embodiments a medical application may reside outside of the secure environment either completely or partially. Under circumstances when the medical application partially resides outside of the secure environment some form of a pointer interrupt may be used to call critical aspects of the medical application that reside within the secure environment. Such critical aspects may include changing settings within the medical device.

Medical applications on the user device are generally intended to perform at least the same or similar services that applications on medical controllers perform. As one example associated with a diabetic patient instead of the patient carrying around Insulet s OmniPod controller device to deliver a bolus or change their basal rate the patient would be provided with an interface to open an equivalent medical application on their user device e.g. a mobile device and perform the same functions without need for the controller. However it is apparent that ensuring the quality reliability and security of the equivalent medical application while operating on the user device rather than the dedicated controller is typically important.

Attention is now directed to which depicts embodiments of hardware and software architectures in relation to an embodiment of a user device and another embodiment of a user device collectively referred to herein as user device . The user device is configured to receive transmit data from to a medical device e.g. medical device and a service platform e.g. service platform . Though not required the user device may offer one or more services that include voice communications e.g. cellular Voice Over IP etc SMS text messaging email calendar camera video music social networking internet and intranet browsing location based services LBS application shopping and the like.

The user device may include a secure environment the collective notation for secure environments and and or a non secure environment the collective notation for non secure environments and . These secure environments may include memory segments and of and may include one processor or two or more processors . . . not shown . At a high level this architecture allows for the safe and secure coexistence of healthcare applications in the secure environment that may or may not require oversight from regulation agencies such as but not limited to the FDA and consumer centric applications in the non secure environment such as but not limited to phone calendar email internet browsing social networking VoIP SMS and MMS location based services mobile banking etc. This architecture also allows medical device companies to use software and tools that they may be more familiar with and or confident in within a secure environment while also protecting their proprietary knowledge from the benefits of open platforms e.g. Linux Android etc. for example as well as platform challenges and risks.

Secure environment may be configured to provide a secure reliable and separate operating environment for medical applications that are used to manage monitor a medical device not shown . The secure environment is configured to be as thin as possible in relation to managing tasks. For example the secure environment manages the downloading and running of medical applications which may or may not include Digital Rights Management DRM as is used to permit the playback of downloaded and paid for multimedia files on mobile devices for example or similar techniques without having to manage many additional tasks. In order to perform these tasks the secure environment may require access to a user interface UI that includes items such as a keyboard roller ball buttons screen touch screen RF components processor memory etc . The secure environment may be configured to be OS agnostic which allows any code to quickly be ported to other devices that support the secure environment .

For illustration purposes a mainstream operating system main OS is shown only in the non secure environment . The main OS manages and coordinates activities and the sharing of the limited resources of the user device . One of skill in the art will appreciate an arrangement in the user device that includes a similar main OS to that shown in the non secure environment . One of skill in the art will further appreciate that multiple Main OS s e.g. Android Apple BREW Java Linux RIM Symbian Windows CE Windows Mobile etc. may be deployed. Alternatives to the main OS include a Real Time Operating System RTOS and or native Application Programming Interfaces API . Optionally a mainstream operating system as described above may also serve as a Medical OS or RTOS in the secure environment . The medical OS or RTOS may not necessarily be a true OS or RTOS but instead any environment that allows applications to run and or requisite drivers etc. to be referenced e.g. an area that allows C Java HTML etc to run for example . HTML for example is beneficial due to the broad developer base. In one embodiment the secure environment would be able to reference one or more HTML based webpages which are maintaining the latest application in HTML format the secure environment would simply cache the webpage and run it or a version of it as the application in an existing or new cell.

Attention is now directed to the user device which is configured using a shared hardware architecture also referred to as a virtualization configuration . The shared hardware architecture may be configured with a single or multi core processor one or more memory components one or more Bluetooth and or NFC radio components for communicating with the medical device one or more radio components e.g. RFID Zigbee WiFi WiMAX CDMA UMTS LTE etc. for communicating with the Service Platform serial and or USB communication components display antennas battery power management external memory components headphone jack microphone speakers etc. any of which may be shared by the operations of the secure environment e.g. running medical applications described below and or the non secure environment e.g. running mainstream applications e.g. carrying out voice calls email calendar Bluetooth headset internet social networking etc .

The virtualization feature is configured to make elements above the hardware e.g. the OS and various applications operate as if those elements are running directly on top of the hardware . Moreover these elements may further operate as if they are exclusively on the hardware . The virtualization feature allows one or more environments e.g. the secure environment the non secure environment to share the hardware . For example two or more separate operating systems e.g. Windows Mobile and Linux could be running on the same device and perhaps without even knowing that the other operating system is present. One or more medical applications may run in serial by itself or parallel alongside other secure or unsecure applications in the Secure Environment . One or more Secure Environments may run in serial or parallel in the User Device . on one or more

Attention is now directed to the user device which is configured with a dedicated hardware architecture also referred to as a security kernel configuration . A dedicated hardware architecture may be configured with single or separate physical processors memories peripherals etc that are each dedicated to the operation of the secure environment e.g. running medical applications or the operation of the non secure environment e.g. running mainstream applications . For example the dedicated hardware architecture may utilize security kernel features that prevent unauthorized access to or use of the system resources used by the secure environment

By way of example the portion of the user device shown in includes a security monitor that sits underneath the security kernel in the secure environment . The security monitor looks for traffic on the user device that is flagged as requiring security. For example ARM TrustZone sets the 33bit low or high depending on whether particular traffic requires security. Traffic requiring security also referred to as secure traffic is identified by the security monitor and managed within the secure environment with the security kernel processes applications etc. By way of example a user may make use of a particular function e.g. making a phone call of the user device via an application running in relation to a main OS within the non secure environment e.g. the security monitor does not recognize any requirements for secure traffic . When user attempts to make use of a particular function e.g. via the same or different application that requires security e.g. controlling an internal defibrillator the security monitor identifies the security requirement and begins to manage the application within the secure environment . The application may be managed within the secure environment using any sort of secure code e.g. native secure code that has been approved by a medical authority like the FDA . After the particular function is carried out the security monitor will determine if any additional functions require security e.g. must be carried out in the secure environment . If there are no such functions that require security the security monitor allows the application to run in the non secure environment

In accordance with certain embodiments the secure environment uses one or more technologies that enhance security including virtualization e.g. a hypervisor Real Time Operating Systems RTOS virtual memory and or virtual machine management VMM . Technologies that enhance security may be provided via any viable source including those technologies provided by Open Kernel Labs Green Hills Software VirtualLogics Wind River ARM TrustZone etc.

One of skill in the art will appreciate hybrid architectures shared and dedicated hardware architectures that allow for the operation of the secure environment e.g. running medical applications on hardware dedicated to the purpose of running medical applications and hardware that is shared by the operations of the secure environment and the non secure environment .

In accordance with one embodiment of the present invention the user device must provide a reliable separate and secure either physically or virtually operating environment for medical applications that perform various functions discussed below . This can be accomplished by guaranteeing processor and memory allocation master bus control and or other techniques to the secure environment . The user device may also be configured to boot directly and securely into the secure environment e.g. into a secure OS instead of booting into a main OS. This design bypasses possible breach attempts from the main OS. In addition the design enables the secure environment to run even when the main OS becomes corrupted needs to restart is turned off for any reason during a flight for example etc.

Additional security features include limiting access to the functions of the secure environment based on user name password requirements and or public private keys. Such features protect the user information and potentially user s life as the user device can control a medical device such as an insulin pump and pacemaker for example . Additionally the secure environment may be configured to erase and wipe all or just health related data within it under certain circumstances e.g. if a wrong password is entered a predetermined number of times upon remote request via a service platform etc .

The secure environment may also be configured to offer rules and application programming interfaces API to communicate with a main OS RTOS etc. Examples of rules may include but are not limited to if how and when to exchange information derived from the Secure Environment to from other Secure Environments applications and or non Secure Environments priorities such as but not limited to what to do when delivering insulin and a low battery alert occurs and or a phone call and or email is received to the user device etc. . Examples of such APIs may include but are not limited to setting a basal rate of insulin or initiating a bolus delivery changing defibrillator settings etc. Such rules and APIs would be stored in a library within the medical device and or user device and or service platform . Such rules and APIs introduce the opportunity to certify with the FDA for example this portion of lower level logic rules and APIs once for many users medical device companies mobile device manufacturers etc. Rules and APIs may evolve create new edit delete over time. The rules may prohibit the secure environment from communicating with the main OS as an example. Alternatively the rules may provide for an Emergency Contact Triage medical application that automatically contacts authorized medical agents in a predefined order and manner under certain circumstances e.g. if a user s Blood Glucose Level BG drops or is trending to a dangerous level without the user acknowledging the concern after one or more warnings from the user device and or medical device and or service platform .

The secure environment may also be configured to authorize and grant deny access to a secure environment operating on a medical device. This feature prohibits unauthorized devices and or medical applications from communicating with the medical device. This configuration may be accomplished using standard and or custom methods. Standard methods may include Bluetooth s Health Device Profile HDP Bluetooth s embedded security features NFC s embedded and value added security features from third parties TCP IP with IPSec and or SSL a client on both the user device and the medical device to establish a VPN public private key pairs etc. Custom methods may include fixed message length custom algorithms as an initial intermediary or final encryption decryption step rolling algorithms and or public private keys managed internally within the user device the medical device and or the service platform etc.

The secure environment may also be configured in accordance with an industry standard framework e.g. API sets understood and used by application developers to quickly and consistently write safe secure and reliable medical applications that interact with medical devices. For example as Qualcomm s Binary Runtime Environment for Wireless BREW software development kit SDK offers a common API for sending an SMS text message across many user devices the secure environment may support common APIs depending on the task e.g. a task regarding the delivery of a Bolus in relation to multiple insulin pumps from Medtronic Abbott and J J .

The user device may be configured to support one or more secure environments and one or more medical applications within each secure environment . Each secure environment offers each medical application the same reliable separation from other medical applications as the secure environment has with other secure environments and other environments of the user device . This will benefit medical application developers in several ways. For example the developers can release a subset of a full featured medical application to get the product to market e.g. only the core functionality of delivering a bolus or changing the basal rate for a diabetic . That developer or another developer could subsequently release additional subsets of the full featured medical application e.g. a food library or pacemaker configurator for example . From a verification validation and overall safety and security perspective the subset of code can be reviewed and accepted faster and with greater confidence as it will reside alone with less code to validate in a reliably separate space from the other core medical application s .

The secure environment may offer rules for system priorities and exchanging information between medical applications. For example one rule may state that in no circumstances may a pace maker medical application and its database interact in any way with a defibrillator medical application and its database while another rule may allow every medical application to read write from to a PHR with proper authentication. A priority example may include but is not limited to how to handle email and low battery alerts while delivering a bolus for example . Proper authentication may include a public private key exchange between the medical applications an administrative password encrypting the data etc.

A PHR can store all or parts of the interactions between the user device medical device and or the service platform. For example the PHR can augment more common PHR data such as allergies diseases etc by logging items such as continuous glucose sensor information defibrillator events and alarms pace maker rhythm setting changes drug delivery amounts dates and times.

The secure environment may also be configured to ensure that any installation of a medical application was successful prior to allowing the user to have access to the medical application.

As an added security measure the secure environment may be provided to user device manufacturers e.g. semiconductor manufactures like Qualcomm TI Broadcom NXP Infineon Marvel etc in an encrypted binary secure environment package with little to no tools to further ensure its manufactured authenticity and integrity . A particular secure environment initially and continuously checks the integrity of any environment and or medical applications that try to interact with that secure environment .

The secure environment may also be configured to act as a translator for data e.g. communication to and or from a medical device . For example one medical device manufacturer may provide a Deliver Bolus Complete acknowledgement directly to user devices that follow a common API set whereas another medical device manufacturer may opt to possibly for legacy product reasons transfer the same acknowledgement outside the approved API set. The secure environment and perhaps a medical application may translate that information so it is understood by the user device secure environment and service platform. By providing this translation function medical device manufacturers can program medical devices to grant deny certain data and commands as well as provide extra security and data integrity checks all with a scalable approach to support growth for future roadmaps while providing a relatively easy approach for supporting legacy and or proprietary product code.

Alternatively medical device data could be passed as an encrypted packet that is only decipherable and understood by a medical device manufacturer s medical system the Service Platform and or any service connected to the Service Platform. For example Abbott may want to encrypt some or all of the information coming from their medical devices so such information can pass through the user device via the secure environment to Abbott.

In some embodiments a user device may be configured as described previously to prevent attacks on processing and or memory such as denial of service attacks. In one implementation a specifically defined amount of available memory may always be reserved for use in the secure memory segment so that any medical application executing from the secure segment have ample memory resources. Likewise processor allocation may be done in a similar fashion to guarantee at least a minimum amount of processor time for the medical application.

In some embodiments boot configuration of the user device may be configured so that an operating system or kernel associated with the secure environment and secure segment always boots first before any OS or application in the non secure environment. In this way rogue applications in the non secure segment may be precluded from taking over system resources and the availability of the medical application can be guaranteed.

In some embodiments additional operating modes may be provided in the user device for situations requiring shutdown of the user device. For example some current cellular phones have a flight mode where the phone is partially shutdown during flight. Alternately without this mode the phone must be turned off entirely. When the phone is partially shut down all of the communications links e.g. wireless links are turned off so that no RF signals are emitted or received. In the case of a user device configured as described herein for operating a medical application however the user device off may not be an option as it could impair the functionality of an associated medical device. Moreover even a flight like mode may preclude operation of the medical device by turning off personal area network PAN connectivity such as via Bluetooth Zigbee etc. Accordingly an additional operating mode may be provided in the user device wherein WAN connectivity i.e. cellular LTE etc. is disabled whereas PAN connectivity is enabled sufficiently to maintain connectivity between the user device and medical device. In addition alarms or other indications may be provided to a user from the medical device and or user device when the PAN connectivity is off and or intermittent.

Attention is now directed to which depicts hardware and software architectures of embodiments of medical devices and collectively referred to as medical device in accordance with at various embodiments of the present invention. While referring to simultaneous references may be made to . The medical devices can receive and transmit data to from the user device and or the service platform via the communication sub network .

Medical device may comprise any compatible device used in the health and wellness markets. Medical devices generally include sensor and or control apparatus for monitoring and or controlling physiological properties or functions such as body chemistry blood urine or other bodily fluids etc. electrical and associated physiological functions heartbeat blood pressure pulse respiration brain or neural activity etc or other patient characteristics or functions which may be done by electrical chemical optical electromagnetic contact or other sensor and associated electronic and mechanical hardware and software as are known or developed in the art. Representative examples of such devices include pace makers blood glucose sensors defibrillators IV machines drug delivery systems heart rate sensors wireless medication pills smart Band Aids weight scales blood glucose monitors and continuous blood glucose monitors pulse sensors blood pressure sensors oxygen saturation sensors sleep quality sensors EEGs EKGs weight sensors as well as other medical devices known or developed in the art.

Medical device may utilize technologies that are discussed above with respect to the user devices and and may be configured to include some or all of the associated elements shown in and in particular the processor or processors and memory used in the secure environment. In particular see discussion related to which is incorporated here by reference in relation to the medical device. For example the medical device may include secure environments that operate to control operational aspects of the medical device . These secure environments may or may not be similar to the secure environment . The medical device may also communicate with the service platform via the communication sub network e.g. UMTS LTE WiFi directly or via the user device . The medical device may even have a user interface UI e.g. a screen keypad buttons etc to enable a user to manage or monitor the medical device .

As noted above the medical device may include a secure environment. The secure environment may be applied to dedicated shared or hybrid hardware architectures which also include hardware specific to the medical operation of the medical device e.g. alarms system checks accelerometer reads IO etc .

The medical device may be configured to communicate with the user device to pass instructions and or data. For example the medical device can store and later forward software and or parameters if and when the user device is showing signs of corruption or upon a user request. Data may be stored buffered and exchanged First In First Out FIFO or Last In First Out LIFO with the user device and the service platform . The exchange of data may occur via the communication sub network and may or may not pass through secure environments in the medical device the mobile device or the service platform .

As an added security measure any secure environment may be provided to medical device manufacturers e.g. Abbott J J Medtronic etc in an encrypted binary secure environment package with little to no tools. The secure environment initially and continuously checks the integrity of the secure environment and or medical applications that try to interact with the medical device .

The medical device may be configured to act as a translator for data e.g. commands from a user device . By way of example one medical device manufacturer may accept a Deliver Bolus command directly from a user device that follows an approved API set whereas another medical device manufacturer may opt to possibly for legacy product reasons translate the user device data and commands into data and commands that are familiar to that manufacturer s products and services. This configuration may also provide an explicit means for medical device manufacturers to grant or deny certain data and commands from a user device as well as provide extra security and data integrity checks.

In some embodiments a medical device such as device may incorporate some or all of the functionality previously described herein with respect to a user device such as user devices and . This may provide enhanced functionality to medical devices to allow them to interface with networks by incorporated functionality traditionally associated with user devices such as cellular phones. Some of these embodiments may incorporate this functionality in hardware and or software as a thin client into the medical device to allow it to receive and or send certified medical applications updated applications user patient data as well as other applications or information. This may be done by using widely availably infrastructure such as the cellular network and or Internet.

While referring to simultaneous reference may be made to . Service platform includes one or more servers one or more databases and one or more memory spaces that may comprise one or more physical memory devices. The memory stores a software solution module for carrying out certain aspects of the present invention. The software solution may includes an application services module a medical device managing monitoring module a security services module and an insurance reimbursement module

The application services module may be configured to operate to receive maintain and distribute medical applications that are used by the user device and other devices to manage monitor the medical device . The databases may be configured to store any number of different medical applications at any one of different phases of development. For example the databases may store newly developed but untested medical applications. After a newly developed but untested medical application is uploaded to the databases by a developer a medical authority e.g. the FDA and or a medical application safety authority can access the medical application to begin a certification process. The certification may include one or more tests of the medical application for compliance with one or more statutory regulatory and or industry standard requirements. The databases may also be configured to store testing applications used by a medical authority e.g. the medical application safety authority or by the developer to preliminarily test its medical application before submitting it to another medical authority e.g. the FDA . The databases may also store certified medical applications that may be browsed by a user and eventually downloaded to the user device or and or medical device or . As described herein a certified medical application is a computer program or other form of executable code or instructions that has been developed for use in a medical device and has undergone testing for compliance with one or more regulatory statutory or industry regulations with certification or authorization granted to the medical application as a result of passage of the testing. Once a medical application is certified version control and restriction on changes to the program become important so as to insure only certified applications can be delivered to a user device or medical device. In addition to storing the medical applications the databases may store information associated with medical applications that can be accessed by individuals e.g. the user a third party .

In accordance with one embodiment a trusted third party such as a medical application safety authority MASA which is a trusted third party entity separate from the application developer and which has access to or control over a service platform as described herein may acts as an optional additional layer of security between an application developer and a regulatory agency such as the United States Food and Drug Administration FDA . For example the MASA distinct from the medical application developer may receive a medical application from a medical application developer and send the medical application to the FDA for certification. The medical application safety authority may provide preliminarily testing of the medical application before submitted it to the FDA e.g. for compliance with standards to ensure integrity of the code etc or may submit it directly.

The FDA will then authorize certify the application or reject it if non compliant based on one or more statutory regulatory and or industry standards or requirements. The certified application may then be returned to the MASA. After the FDA certifies a medical application the MASA may manage the certified medical application during the time it is available to a user. Security associated with this process may be particularly important due to the safety and reliability standards associated with medical devices. Accordingly this process may be done in a secure trusted fashion so as to preclude tampering with the certified medical application. In an exemplary embodiment the MASA prohibits any unauthorized changes by the application developer after certification begins or ends conversely tampering or other unauthorized or untested changes frequently happen in the mobile applications world but cannot be permitted in the medical world due to reliability safety as well as other requirements .

The application developer may also develop non certified applications which may be directly distributed to a standard application store . The standard application store may include links or other mechanisms for redirecting users desiring certified medical application to the medical application store

In some embodiments a medical device may be configured in a fashion similar to user device with the medical device further including a medical monitoring or control apparatus in addition to the elements shown in . In these implementations the medical device may communicate directly with the application stores and to download applications and send and receive data without need for an associated user device.

Returning to medical device managing monitoring module operates to control the receipt sending of data from to various devices in accordance with managing or monitoring the medical device . For example when an individual e.g. the user a third party etc initiates a request to view and or manipulate data associated with the medical device the medical device managing monitoring module coordinates the accessing transferring buffering viewing and manipulation of the requested data. The medical device managing monitoring module also coordinates the receipt and transferring of an individual s command to the medical device .

Security services module operates to control various security related aspects of the invention. For example the security services module may control the selection and distribution of one or more security applications to the user device and medical device . The one or more of the security applications which are stored in the databases provide for secure communication among a particular medical device a particular user device and the service platform . The security applications may be selected by operations of the security services modules at random or at preconfigured times. Alternatively the module may autonomously create a custom security application. Once selected the security application is pushed to the user device and or the medical device via the communication sub network . Once downloaded the security application runs on each device platform to ensure secure e.g. encoded encrypted etc communications.

Security services module also ensures the integrity of the secure environment and medical applications on the user device as well as the secure environment and the medical applications on the medical device if applicable . The security services module carries out these functions by utilizing common and or custom techniques involving check sums sample code reads and running a short test program digital rights management DRM among others.

Insurance reimbursement module is configured to monitor medical device and medical application usage by plan type ID plan amount subscriber etc. The module may also be configured to provide an interface that insurance companies can use to electronically access the usage data. The user device secure environment medical applications medical device and secure environment may be assigned insurance billing codes that can be used to track usage for billing and reimbursement purposes.

In accordance with uploading and synchronization of information e.g. collected at the medical device or medical applications e.g. running on the user device or medical device can be carried out automatically and or via user or third party request. As shown in any of the four devices platforms and can request information from or transfer information to any of the other device platforms. The transmission of the information or medical applications may be accomplished using encryption or other techniques e.g. TCP IP SSL IPSec VPN HTTPS among others to ensure privacy and integrity in relation to the contents of the transmission.

When a transfer of transmission of the information or medical applications uses a gateway such as when the medical device uses the user device to transfer data to the service platform or when a third party requests information from a user device via the service platform the transmitted data may pass through a secure zone such as the secure environment on the user device or a similar secure environment on the service platform . Data passing through a gateway configuration may or may not be buffered to protect against connectivity loss on any of the post gateway links with or without the help of standards such as but not limited to IPSec SSL HTTPS VPN embedded security such as in Bluetooth for example encryption such as but not limited to 128 bit or higher RSA etc. . The gateways may or may not have the ability and or permission to decrypt the data.

One of skill in the art will appreciate the various communication configurations needed to transmit data information and applications among the devices platforms sub networks of the present invention.

By way of example the following process flow relates to certain aspects of the present invention. The process flow describes certain actions taken by devices platforms sub networks depicted in .

By way of another example the following process flow relates to certain aspects of the present invention. The process flow describes certain actions taken by devices platforms sub networks depicted in .

 5 The medical safety authority uploads approved medical application to a service hosted by the service platform the service being accessible by users and or third parties for downloading to their computing devices e.g. the user device .

Similar process flows may be applied with respect to other devices platforms configuration entities. For example a similar process for developing gaining approval and uploading a medical application is applied to the user device manufacturer vendor . Each of the user device manufacturer semiconductor vendor processor core vendor and virtualization vendor may independently or collaboratively proceed through a similar process flow to that of the medical application developer and the medical device manufacturer in relation to development and approval of medical applications secure environments and secure transmission of data to from the user device . The medical safety authority may also be configured to test and approve security applications and processes as well as.

By way of example shows a process flow in accordance with one embodiment of the invention. The process flow may be carried out in a similar configuration to that of the communication configuration of . Process flow may begin at stage where a medical application developer writes a medical application for ultimate provision to a user device such as user device . The application may be written to conform to a Secure Platform Advanced Programming Interface API and maintain design history files. The application may then be provided to a trusted third party such as a MASA described previously herein where it may optionally be tested corrected validated and or verified. The medical application may then be provided to an appropriate regulatory authority such as the FDA for certification. At stage the application may be certified based on particular statutory regulatory and or industry requirements. The application may then be packaged for provisioning at stage . In particular in an exemplary embodiment the certified applications are converted to binary and wrapped with securities. This may be done by the Secure Mobile Platform fur further provisioning. At stage the certified applications may be provided to a user directly or may be provided to and posted on a Secure Application Store SAS . This store may be analogous to currently available online application sites such as those provided by Apple Inc. or others. However because of the security and reliability requirements imposed on medical applications the SAS should be configured to operate in accordance with well defined and tightly maintained policies and procedures for details such as design reviews copy format loading instructions and the like.

Users will generally have access through their user devices or other devices such as personal computers etc. to the SAS where they may be able to browse at stage for certified applications. Commercial application providers such as those provided for Android RIM Microsoft Apple or other application providers may include a link or other mechanism for redirecting users to the SAS. At stage a user will be subject to SAS access security procedures to authenticate authorize and access associated certified medical applications. The desired and approved or authorized application which may be based on medical provider criteria insurance company criteria or other security or verification criteria may then be directly downloaded over the air to the user s device such as device of . The certified medical application may then be provisioned in the secure environment of the user s device where it is then executed at stage typically at least partially within the secure environment.

In one embodiment applications are downloaded and run from the main OS but the critical secure related features e.g. changing settings in the medical device are managed in the secure environment . Care must be taken to ensure that the applications are authentic were downloaded completely and that they maintained their integrity. One method for accomplishing is to push the downloaded application to the secure environment copy it and send it from the secure environment and or from the main OS to a secure environment on the service platform where copies of valid medical applications are stored. These copies can be used to authenticate the downloaded files. This process may take place at any point during the operational life of the medication application to periodically ensure the authenticity and integrity of the application. Another process to ensure the integrity of a medical application is to run a simulation between the user device and the service platform where the service platform simulates the medical device . If the authentication process fails or another problem is detected the service platform may prohibit the use of that medical application. This process can also be periodically performed to maintain and assure the quality of applications as they are used over time even after they are initially authenticated.

In accordance with one embodiment an application on the user device runs in conjunction with a main operating system OS to enable a user to browse medical applications that are accessible via the medical application store . An alternative embodiment allows the user device to browse the medical applications without user intervention. After a medical application is selected an encrypted version of that medical application is downloaded to the main OS. The first instruction of the recently downloaded application is to move it from the main OS to the secure environment . After the medical application is moved into the secure environment the secure environment sends an exact copy of the medical application to the service platform and waits for the service platform to authenticate that exact copy via a digital certificate. The authentication ensures that the user device downloaded a complete and uncorrupted version of the medical application. After the service platform authenticates the copy of the medical application the secure environment proceeds to decrypt and install the medical application in the secure environment . Alternatively the secure environment may securely pass the medical application to the medical device at which point a similar authentication process occurs between the medical device and the service platform via direct connection or via the user device as a gateway . Alternative embodiments may not require the authenticity and integrity check with the service platform .

In accordance with one embodiment applications are downloaded and run from the main OS but the critical secure related features e.g. changing settings in the medical device are managed in the secure environment . Care must be taken to ensure that the applications are authentic were downloaded completely and that they maintained their integrity. One method for accomplishing this would be to push the downloaded application to the secure environment copy it and send it from the secure environment and or from the main OS to a secure environment on the service platform where copies of valid medical applications are stored. These copies can be used to authenticate the downloaded files. This process may take place at any point during the operational life of the medication application to periodically ensure the authenticity and integrity of the application. Another process to ensure the integrity of a medical application is to run a simulation between the user device and the service platform where the service platform simulates the medical device . If the authentication process fails or another problem is detected the service platform will prohibit the use of that medical application. This process can also be periodically performed to maintain and assure the quality of applications as they are used over time even after they are initially authenticated.

A medical device including functionality described herein in conjunction with a user device with the medical device provided with preloaded non certified consumer applications e.g. phone calendar email internet camera navigation social networking etc. . In addition the medical device may include one or more preloaded certified medical applications.

A medical device including functionality described herein in conjunction with a user device that is configured with the ability to download medical and or consumer applications wirelessly or via a cable via directly through a user interface on the medical device itself or via a secondary device such as a mobile computer or other user device.

A medical device including functionality described herein in conjunction with a user device that is configured that is configured with two or more separate operating environments where one such environment is a secure environment for hosting certified medical applications e.g. reading data from a continuous blood glucose sensor controlling an insulin pump medication compliance reminders food libraries heart monitoring via sensors internal defibrillators pacemakers and the like and the other unsecured environment s hosts consumer applications though within one common physical device. In accordance with the details described previously herein the medical device would be configured so that only the secure medical environment would be considered the medical device by definition and only that secure environment would be held accountable to medical standards and regulations e.g. FDA HIPAA etc. whereas non medical environments would not be under medical standards and regulations and could consequently readily receive and execute standard non certified applications.

As described previously in some embodiments a medical device or user device may be configured to partially shut down depending on operating circumstances. For example the device may include the the ability to turn off disable the some or all consumer applications to save power not be disturbed while sleeping enter flight mode per FAA guidelines etc. so as to insure reliability guarantee performance save power to extend operational life securely shut down and or provide other safety or reliability functionality. Likewise the device may be able to turn off part of the provided communications capability such as by turning off WAN or cellular connectivity while retaining PAN connectivity.

In some embodiments a medical device or user device may be configured with the ability to turn off disable one or more or all environments other than the secure environment that hosts the certified medical applications. In addition the devices may be configured with the ability to turn off disable all wireless radios or all wireless radios other than those used to communicate to medical devices again to save power not be disturbed while sleeping enter flight mode per FAA guidelines etc. 

In some embodiments a medical device or user device may be configured with the ability to set priority between medical applications and consumer applications regardless of other system priority configurations or settings. In addition the devices may be configured with the ability to set priority between individual features within applications e.g. a low blood glucose alert may supersede everything a medication compliance reminder may share priority with consumer calendar application reminder delivering a bolus of insulin may or may not reject an incoming phone call etc. .

In some embodiments a medical device or user device may be configured with the ability to alter upgrade modify reinstall replace etc. anything not within the medical environment e.g. non medical environment applications within such an environment drivers within or for such an environment hardware for such an environment etc. without modifying the medical environment medical device and hence not requiring additional testing verification validation etc. for medical device clearance.

In some embodiments a medical device or user device may be configured with the ability for creation commercialization and de commercialization of mobile medical applications. In this case the medical application developer requests and registers for a software development kit SDK from a medical application clearing house MACS with an SDK provided after successful registration etc. Using the SDK the application developer develops the application submits it to the MACS the MACS may or may not provide a prescreening of the application to test functionality etc. The MACS then stores a copy of the application and submits a copy of the application to any necessary regulatory bodies e.g. FDA on behalf of the application developer. Only upon regulatory approval certification can the MACS make the application available for download and only the MACS not the application developer has access to upload applications for download to medical devices this ensures that the application has not been modified since submitted to regulatory bodies . The MACS also has the ability and authority to immediately remove applications from download at the request of the application developer a regulatory body concern e.g. a recall a business issue with the application developer etc. An upgrade or enhancement would then typically follow the same commercialization process.

In some embodiments a medical device or user device may be configured to store health records in the device. This may include for example any data captured created modified etc. due to any component of the medical environment may be stored in a local health record database. This database may be preconfigured with privacy security and encryption techniques and possibly depersonalization techniques per the decision of the developer and or regulatory guidelines e.g. HIPAA . For example when a user changes their Basal rate for their insulin pump the change may be date and time stamped and sent to the local health record. On the way to the local health record the user s name and other personal information may or may not be removed for privacy and the data may use an encryption technique e.g. RSA to encrypt the data. Additional rules may also be applied such as a limitation on how long the data may be stored in the device when the data is removed e.g. once uploaded to a remote health record e.g. a PHR such as Google Health Microsoft Vault etc. or an EHR such as those provided by Epic Allscripts etc. .

In some embodiments a medical device or user device may be configured for clearing a user s health record. Due to the sensitivity regulations and importance of the data the health record data may be cleared remotely at the request of the user. It may also be cleared if a predetermined number of faulty attempts have been made to log into the device. Additionally instead of simply clearing the health record data it may optionally be automatically uploaded to a remote health record site prior to being cleared from the device.

In some embodiments a medical device or user device may be configured as a slave device. For example the actual medical device perhaps a small body worn device for example hosts and runs the application s . The user device perhaps a mobile phone or eReader or personal computer for example uses the aforementioned medical environment to securely project a user interface for the user to interact with the medical device.

In some embodiments a medical device or user device may be configured as a Medical Environment Indicator. As a precautionary measure an indicator such as an LED display indicator buzzer flashing light or other form of audible tactile and or visual indication will be actuated to notify the user when they are running an application in the medical environment and when they are not. This may be used to help protect from ghost applications that pretend to be medical applications and hence confuse the user. Additional details of management of medical devices using a cell phone are described in U.S. patent application Ser. No. 12 239 906 entitled Cell Phone Remote Disease Management filed Sep. 29 2008 which is incorporated herein by reference in its entirety.

The term exemplary is used herein to mean serving as an example instance or illustration. Any embodiment described herein as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments.

It is noted that in various embodiments the present invention relates to one or more methods or processes such as are described and or illustrated herein. These processes are typically implemented in one or more modules as are described herein and such modules may include computer software stored on a computer readable medium and or in a computer memory or other instruction storage device including instructions configured to be executed by one or more microprocessors or other digital instructions execution mechanisms to perform the described process steps or stages.

It is further noted that while the processes described and illustrated herein may include particular steps or stages it is apparent that other processes including fewer more or different stages than those described and shown are also within the spirit and scope of the present invention. Accordingly as noted previously the processes and associated modules shown herein are provided for purposes of illustration not limitation.

Some embodiments of the present invention may include computer software and or computer hardware software combinations configured to implement one or more processes or functions associated with the present invention such as those described herein. These embodiments may be in the form of modules implementing functionality in software and or hardware software combinations. Embodiments may also take the form of a computer storage product with a computer readable medium having computer code thereon for performing various computer implemented operations such as operations related to functionality as described herein. The media and computer code may be those specially designed and constructed for the purposes of the present invention or they may be of the kind well known and available to those having skill in the computer software arts or they may be a combination of both.

Examples of computer readable media within the spirit and scope of the present invention include but are not limited to magnetic media such as hard disks optical media such as CD ROMs DVDs and holographic devices magneto optical media and hardware devices that are specially configured to store and execute program code such as programmable microcontrollers application specific integrated circuits ASICs programmable logic devices PLDs and ROM and RAM memory devices. Examples of computer code may include machine code such as produced by a compiler or other machine code generation mechanisms scripting programs PostScript programs and or other code or files containing higher level code that are executed by a computer using an interpreter or other code execution mechanism.

Computer code may be comprised of one or more modules executing a particular process or processes to provide useful results and the modules may communicate with one another via means known or developed in the art. For example some embodiments of the invention may be implemented using assembly language Java C C C scripting languages and or other programming languages and software development tools as are known or developed in the art. Other embodiments of the invention may be implemented in hardwired circuitry in place of or in combination with machine executable software instructions.

It is understood that the specific order or hierarchy of steps in the processes disclosed are examples of exemplary approaches. Based upon design preferences it is understood that the specific order or hierarchy of steps in the processes may be rearranged while remaining within the scope of the present disclosure. The accompanying method claims present elements of the various steps in a sample order and are not meant to be limited to the specific order or hierarchy presented.

Those of skill in the art would understand that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Those of skill would further appreciate that the various illustrative logical blocks modules circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules circuits and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present disclosure.

The various illustrative logical blocks modules and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The steps of a method or algorithm described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal. In the alternative the processor and the storage medium may reside as discrete components in a user terminal.

The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present disclosure. Various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the disclosure. Thus the present disclosure is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein. It is intended that the following claims and their equivalents define the scope of the invention.

The claims are not intended to be limited to the aspects shown herein but is to be accorded the full scope consistent with the language of the claims wherein reference to an element in the singular is not intended to mean one and only one unless specifically so stated but rather one or more. Unless specifically stated otherwise the term some refers to one or more. A phrase referring to at least one of a list of items refers to any combination of those items including single members. As an example at least one of a b or c is intended to cover a b c a and b a and c b and c and a b and c.

