---

title: Systems and methods for remote raid configuration in an embedded environment
abstract: Remote RAID system configuration may be implemented in an embedded and out-of-band manner using an information handling system configured, for example, as a RAID server. The remote RAID configuration may be implement, for example, on a RAID server system in the condition as it is supplied directly out-of-the-box to a user without requiring downloading of any additional software or firmware, without requiring presence of a management framework and plug in, and/or in a manner that is operating system (OS)-independent or that requires no OS to be present on the server. The RAID server may then be remotely reconfigured one or more times thereafter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08832369&OS=08832369&RS=08832369
owner: Dell Products, LP
number: 08832369
owner_city: Round Rock
owner_country: US
publication_date: 20101027
---
This invention relates generally to information handling systems and more particularly to remote RAID configuration using embedded system management.

As the value and use of information continues to increase individuals and businesses seek additional ways to process and store information. One option available to users is information handling systems. An information handling system generally processes compiles stores and or communicates information or data for business personal or other purposes thereby allowing users to take advantage of the value of the information. Because technology and information handling needs and requirements vary between different users or applications information handling systems may also vary regarding what information is handled how the information is handled how much information is processed stored or communicated and how quickly and efficiently the information may be processed stored or communicated. The variations in information handling systems allow for information handling systems to be general or configured for a specific user or specific use such as financial transaction processing airline reservations enterprise data storage or global communications. In addition information handling systems may include a variety of hardware and software components that may be configured to process store and communicate information and may include one or more computer systems data storage systems and networking systems.

Information handling systems and methods for controlling data transfer to and from a redundant array of independent disks RAID memory storage system are known in the art. A RAID system is a data storage system wherein data is distributed across a group of storage hard disk drives functioning as a small storage unit. Often information stored on each disk is duplicated on other disks in the array creating redundancy to ensure no information is lost if disk failure occurs.

RAID configuration is an important feature for RAID system management. Common methods for implementing RAID configuration include RAID configuration tools that are launched by a user locally on a RAID server i.e. using CD DVD or control keys such as CTRL A or CTRL R or CTRL C in the SAS controllers F10 or a complex system management system. Conventional methods for implementing RAID configuration also require downloading of an agent or utility onto the target RAID system.

RAID information handling systems are generally configured in different types of RAID implementations that are each enabled with a variety of hardware and software component configurations. Successful imaging of a RAID drive is dependent on the specific computer model driver controller hard drive and RAID implementation so that preparation and loading of a particular configuration on a RAID server information handling system is generally performed at a RAID server using vendor specific deployment products. Local deployment of RAID configurations with vendor specific applications generally restricts incorporation of manufacture of RAID servers with other types of information handling systems. For instance due to the complexity of RAID deployment utilities and the variety of hardware generally used for RAID drives deployment software vendors typically do not integrate RAID utilities into their deployment applications instead generally providing a hook to third party components to implement RAID features or assuming that target systems are in a desired RAID configuration before software deployment. One example is a deployment application which configures RAID drives with scripts. Another example is an application which implements code that allows users to write RAID modules on a management server that in turn downloads the modules to a target RAID server to perform a RAID configuration task for each module.

Disclosed herein are embedded systems and methods that may be implemented for RAID system configuration. As used herein the term embedded means integrated within the system subsystem or chassis. In one embodiment the disclosed systems and methods may be employed to implement a remote RAID configuration system that is embedded and permanently maintained over time within an information handling system e.g. that is configured as a RAID server . In such an embodiment the remote RAID configuration system may be utilized to provide users with an out of band user experience for out of the box servers in originally configuring server storage without requiring any separate management framework i.e. such as a separate set of system management applications like OpenManage available from Dell Computer of Round Rock Tex. or external tools i.e. such as Dell OpenManage Deployment ToolKit Dell OpenManage Server Update Utility SUU as well as to provide for future reconfiguration of the server storage.

In another embodiment the disclosed systems and methods may be employed to implement embedded systems management to carry out configuration of a RAID system remotely and without the need to download additional software or firmware e.g. such as agent or utility onto the target RAID system. Thus using the disclosed systems and methods a manufacturer or other enterprise provider may ship an information handling system configured as a RAID system server having an embedded RAID configuration system to a user and the user may then deploy the RAID system server as part of a RAID system and employ the embedded RAID configuration system to remotely configure the RAID system without need for loading or downloading any additional firmware or software.

Thus the disclosed systems and methods may advantageously be implemented in one embodiment to allow a RAID system server to be remotely RAID configured in a manner that can be performed on the RAID server as it is supplied directly out of the box to a user e.g. in the same server configuration as shipped by the manufacturer or enterprise provider and without requiring a centralized deployment environment e.g. no separate server or other information handling system is required to provide RAID configuration information to the RAID system server. The disclosed systems and methods may also be advantageously employed to perform remote RAID configuration without requiring downloading of additional software or firmware e.g. such as agent or utility without requiring presence of a management framework and plug in and or in a manner that is operating system OS independent or that requires no OS to be present on the server. Further advantageously the disclosed systems and methods may be employed to remotely configure a RAID system server anytime during the life of the RAID server and or as many times as desired e.g. the RAID system server may be configured and then re configured one or more times using the disclosed systems and methods.

In one respect disclosed herein is an information handling system including a RAID controller circuit for controlling the transfer of data to and from RAID storage memory that includes an array of individual storage disk drives one or more processing devices persistent storage coupled to the one or more processing devices and to the RAID controller circuit and an embedded remote RAID configuration framework present on the persistent storage. The remote RAID configuration framework may be configured to receive a request for RAID configuration from a remote user and provide the received RAID configuration request to the one or more processing devices for processing. The one or more processing devices may be configured to process the received RAID configuration request in an out of band manner to create a RAID configuration job corresponding to the received request for RAID configuration and then execute the created RAID configuration job in an in band manner.

In another respect disclosed herein is a RAID system including a RAID storage memory that includes an array of individual storage disk drives and an information handling system coupled to the RAID storage memory. The information handling system may include a RAID controller circuit for controlling the transfer of data to and from the RAID storage memory an in band processing device an out of band processing device persistent storage coupled to each of the in band processing device out of band processing device and RAID controller circuit and an embedded remote RAID configuration framework present on the persistent storage. The remote RAID configuration framework may be configured to receive a request for RAID configuration from a remote user and provide the received RAID configuration request to the out of band processing device. The out of band processing device may be configured to create a RAID configuration job corresponding to the received request for RAID configuration and provide the created RAID configuration job to the in band processing device for execution. The in band processing device may be configured to receive the created RAID configuration job from the out of band processing device and then execute the created RAID configuration job.

In another respect disclosed herein is a method for remotely configuring or reconfiguring a RAID system including providing a RAID storage memory that includes an array of individual storage disk drives providing an information handling system coupled to the RAID storage memory the information handling system including one or more processing devices persistent storage coupled to the one or more processing devices and an embedded remote RAID configuration framework present on the persistent storage receiving a request in the embedded remote RAID configuration framework for RAID configuration from a remote user providing the received RAID configuration request from the embedded remote RAID configuration framework to the one or more processing devices for out of band processing using the one or more processing devices to process the received RAID configuration request in an out of band manner to create a RAID configuration job and using the one or more processing devices to execute the created RAID configuration job in an in band manner.

In another respect disclosed herein is a method of providing an information handling system. The method may include providing the information handling system before first coupling to a RAID storage memory and the provided information handling system may include a RAID controller circuit for controlling the transfer of data to and from RAID storage memory that includes an array of individual storage disk drives one or more processing devices persistent storage coupled to the one or more processing devices and to the RAID controller circuit and an embedded remote RAID configuration framework present on the persistent storage. The remote RAID configuration framework may be configured to receive a request for RAID configuration from a remote user and provide the received RAID configuration request to the one or more processing devices for processing. The one or more processing devices may be configured to process the received RAID configuration request in an out of band manner to create a RAID configuration job corresponding to the received request for RAID configuration and then execute the created RAID configuration job in an in band manner.

Still referring to bus provides a mechanism for the various components of system to communicate and couple with one another. In band processor may include a Host processor e.g. CPU running a host operating system OS for RAID system server and out of band processor may be a service processor embedded processor etc. Video graphics storage memory I O and peripherals may have the structure and perform the functions known to those of skill in the art. Besides memory e.g. RAM processor may include cache memory for storage of frequently accessed data and storage may include extended memory for processor . It will be understood that the embodiment of is exemplary only and that an information handling system may be provided with one or more processing devices that may perform the functions of processor processor remote access controller and other optional processing devices. Examples of such processing devices include but are not limited to central processing units CPUs embedded controllers microcontrollers application specific integrated circuits ASICs field programmable gate arrays FPGAs etc. It will also be understood that the particular configuration of is exemplary only and that other information handling system architectures may be employed in the practice of the disclosed systems and methods.

The disclosed systems and methods may be implemented in one exemplary embodiment using a plug in architecture framework to allow extension of RAID system server management functionalities e.g. using Dell unified server configurator USC server management functionalities available from Dell Products L.P. of Round Rock Tex. in a unified extension firmware interface UEFI environment by leveraging available remote access controller core or optional flash memory space. Further information on implementation of USC functionalities in a UEFI environment may be found for example in U.S. patent application Ser. No. 12 587 001 filed Sep. 30 2009 and incorporated herein by reference in its entirety for all purposes. Among other things the disclosed systems and methods may be implemented to provide a hardware and software interface to allow use of a plug in framework in the embedded system management that may be run under the BIOS firmware and the UEFI environment. The disclosed systems and methods may also be implemented to provide a USC server management architecture that may be modified and enhanced over time and or that may also be employed to extend availability of the USC server management framework to remote users .

Still referring to remote access controller provides access to a plurality of remote users A C although access may be provided to a single user in other embodiments. In this regard remote access controller allows remote users to manage administer use and or access various resources of host system e.g. either native or virtual from a remote location. However remote access may be provided to information handling system using any other configuration suitable for accomplishing the remote RAID configuration and or reconfiguration functions as described further herein.

In the embodiment of remote users A C may have in band or out of band access to system as desired For example remote users A C may have wired and or wireless access through a local area network LAN wide area network WAN wireless local area network WLAN wireless wide area network WWAN dial up modem etc. In one embodiment remote access controller may be an integrated Dell Remote Access Controller iDRAC available from Dell Products L.P. of Round Rock Tex. Further information on such a remote access controller may be found in United States Patent Application Publication Number 2006 0212143 and United States Patent Application Publication Number 2006 0190532 each of which is incorporated herein by reference in its entirety. However it will be understood that other configuration of remote access controllers may be suitably employed in other embodiments.

As further shown remote access controller is coupled to remote access controller persistent storage e.g. embedded and partitioned flash memory Electrically Erasable Programmable Read Only Memory EEPROM etc. upon which one or more server management applications forming part of a USC framework may be stored in addition to one or more components or applications forming part of an embedded remote RAID configuration framework and other functions e.g. BIOS unified extensible firmware interface UEFI modules etc. In the embodiment of persistent storage is managed by remote access controller and may be utilized for RAID system configuration management. In one exemplary embodiment persistent storage may be embedded in the system motherboard and may be for example about 1GB in size.

As further shown in a provider layer may be present in communication with the remote client interface to interpret RAID configuration requests. In the illustrated embodiment provider layer is configured as a common information model CIM provider layer corresponding to CIMOM although any other type and or configuration of provider layer suitable for communicating with a particular client interface and or object manager may be employed. As illustrated provider layer may be configured to send a RAID configuration request via an optional bi directional Data Manager Job Control layer e.g. acting in part as a cache layer that speeds up communication to a Raid Populator that performs the task of interpreting every RAID specific command at a low level and writing it into the Data Manager layer . In this regard the Data Manager Job Control layer may include a data cache layer that is present to allow RAID configuration parameters and data to be cached in memory before being committed to a storage location in persistent filth . Data Manager Job Control layer may also be optionally configured to control the invocation and tracking of RAID configuration jobs. It will be understood that the particular configuration of Data Manager Job Control layer is exemplary and that it is not necessary that layer be present. Also shown present in the embodiment of is optional populator that may be present for interpreting non RAID types of commands such as commands associated with Network Controllers System BIOS etc.

As shown in persistent storage may be accessible via both in band processor e.g. system Host processor running user operating system etc. and out of band processor e.g. service processor embedded processor etc. of the RAID system server in order to share stored raid configuration parameters and data. USC module s e.g. including UEFI components may be running as shown on in band processor as shown for purposes of viewing and manipulating system configurations and USC module s may communicate with out of band processor via IPMI. A low level abstraction layer may be present to abstract the format of the database from other entries and to generate RAID configuration tasks and store the operation sequence in a persistent file s on persistent storage . One or more RAID configuration interface modules e.g. unified extension firmware interface UEFI modules may be provided to carry out the RAID configuration tasks. An intelligent platform management interface IPMI application programming interface API configured to enable communication between processes running in different environments and context may be provided as shown to facilitate communication components of persistent storage .

Also shown in are RAID library components that are provided to communicate between Data Manager Job Control layer and abstraction layer . In this exemplary embodiment RAID library components include unified RAID library offline RAID library and online RAID library . Unified RAID library is an optional component that may be provided and configured for storing RAID options and or RAID operation information that are not recognized by a standard RAID card e.g. to restrict or prohibit use of certain RAID storage disks that are detected by the system as having problems or are going bad to store customized library functions etc. . Offline RAID library is another optional component that may be present to cache one or more previous RAID configuration settings. Online RAID library communicates directly with RAID controller circuit and is present to facilitate communication between out of band processor and RAID controller circuit of RAID system server without requiring participation of in band processor . In this regard online RAID library communicates directly with RAID controller circuit to implement RAID configuration and or reconfiguration tasks that result from the RAID configuration requests that are processed by embedded remote RAID configuration framework in band processor and out of band processor in the manner described elsewhere herein.

In one exemplary embodiment remote RAID configuration or remote RAID reconfiguration may be performed using embedded remote RAID configuration framework of using methodology illustrated in . As shown in step out of band processor e.g. acting as a configuration request processor may receive a command from a remote user via embedded remote RAID configuration framework for a RAID configuration which operates to process the request in the manner as previously described and illustrated. This request may be provided by abstraction layer to persistent file s of RAID library components and then accessed from persistent file s by out of band processor . In step out of band processor then validates the requested RAID configuration by populator request. Upon successful validation methodology proceeds to step where out of band processor retrieves the requested configuration data from a configuration database and caches the retrieved data in a designated Raid Data Objects space of data cache of the Data Manager layer . In step out of band processor still acting as a configuration request processor may create a RAID Configuration Job and commit this job to store the RAID configuration data to the persistent storage file s of the embedded remote RAID configuration framework e.g. in storage space designated as Pending Database DB . In one exemplary embodiment the Pending DB is a storage space within persistent storage file s that can be accessed by the out of band processor by direct mount and by the in band processor e.g. Host processor through virtual media attachment.

Next in step out of band processor acting as a job processor evaluates the requested and validated Raid Configuration Job by calling a Populator Method and then initiates the execution of the requested and validated Raid Configuration Job by passing the execution environment to an execution module running on the in band processor . Such an execution module running on the in band processor may be for example a DCS Raid Plug In DCSExecute module running in an UEFI component of the USC environment of in band processor . This is shown in step where out of band processor exposes and makes accessible the RAID configuration data and job to in band processor . In step in band processor may then execute the requested RAID configuration job in the designated execution module for example after first rebooting in response to an appropriate command from out of band processor . Status of the executing RAID configuration job may be optionally displayed by the execution module to a user e.g. via graphical interface as shown in .

In band processor may be configured in one embodiment to act as a RAID processor that processes RAID configuration commands such as those commands that specify create delete change get etc. Examples of RAID configuration commands include but are not limited to Create RAID Configuration Delete RAID Configuration Get RAID Configuration Set RAID Configuration Reset RAID Configuration . Some specific command examples include but are not limited to SetControllerKey GetRaidLevels GetAvailableDisks ClearForeignConfig CreateVirtualDisks etc. Once a Raid configuration job is completed in step by in band processor the result may be passed back to out of band processor in step and then logged in a job store of data cache layer in step e.g. for purposes of displaying job status to an external client who requests the job status.

It will be understood that methodology of is exemplary only and that fewer additional or alternative steps may be alternatively implemented in other embodiments. Furthermore it will be understood that the configuration of the particular embodiments illustrated in is also exemplary and that other configurations are possible.

For purposes of this disclosure an information handling system may include any instrumentality or aggregate of instrumentalities operable to compute classify process transmit receive retrieve originate switch store display manifest detect record reproduce handle or utilize any form of information intelligence or data for business scientific control entertainment or other purposes. For example an information handling system may be a personal computer a PDA a consumer electronic device a network storage device or any other suitable device and may vary in size shape performance functionality and price. The information handling system may include memory one or more processing resources such as a central processing unit CPU or hardware or software control logic. Additional components of the information handling system may include one or more storage devices one or more communications ports for communicating with external devices as well as various input and output I O devices such as a keyboard a mouse and a video display. The information handling system may also include one or more buses operable to transmit communications between the various hardware components.

It will be understood that one or more of the tasks functions or methodologies described herein may be implemented for example as firmware or other computer program of instructions embodied in a non transitory tangible computer readable medium that is executed by a CPU controller microcontroller processor microprocessor FPGA ASIC or other suitable processing device.

While the invention may be adaptable to various modifications and alternative forms specific embodiments have been shown by way of example and described herein. However it should be understood that the invention is not intended to be limited to the particular forms disclosed. Rather the invention is to cover all modifications equivalents and alternatives falling within the spirit and scope of the invention as defined by the appended claims. Moreover the different aspects of the disclosed systems and methods may be utilized in various combinations and or independently. Thus the invention is not limited to only those combinations shown herein but rather may include other combinations.

