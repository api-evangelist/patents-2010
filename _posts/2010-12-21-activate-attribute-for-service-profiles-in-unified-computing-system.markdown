---

title: Activate attribute for service profiles in unified computing system
abstract: An enterprise computing system is provided comprising a plurality of server computers and a management server configured to communicate with the plurality of server computers. The management server stores data indicating the service profiles installed on respective server computers and an activation status of the service profiles on the respective server computers. Each service profile comprises data defining attributes for the server computer and includes an activation attribute for the service profile indicating whether the service profile is active on the corresponding server computer. The management server sends the service profiles to the together with an activation attribute for each service profile to server computers such that any service profile that is installed on multiple server computers is active on one server computer at any given time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08903960&OS=08903960&RS=08903960
owner: Cisco Technology, Inc.
number: 08903960
owner_city: San Jose
owner_country: US
publication_date: 20101221
---
In an enterprise computing system there are multiple server computers called server blades which provide computing resources for any of a variety of functions in the computing system. A server blade is configured with a service profile that defines the computing functions and related attributes for the functions the server blade is to perform.

Once a server blade is configured with a service profile the service profile is fixed on that server blade and can moved to another server blade only after a somewhat timely procedure. This can degrade availability in the computing system particularly when a server blade fails and it is necessary to have another server blade perform those functions.

At a management server in an enterprise computing system comprising a plurality of server computers that communicate with the management server data is stored indicating the service profiles installed on respective server computers and an activation status of the service profiles on the respective server computers. Each service profile comprises data defining hardware connectivity and operational attributes for the server computer and including an Activation Attribute for the service profile indicating whether the service profile is active on the corresponding server computer. The management server sends to the respective server computers data for the service profiles with an Activation Attribute for each service profile such that any service profile that is installed on multiple server computers is active on one server computer at any given time.

Referring first to a block diagram is shown for an example enterprise computing system. The enterprise computing system shown at reference numeral comprises a management server and a plurality of server computers N . The plurality of server computers N serve as a pool of computing resources. There are also storage devices in a storage network that are used to store data. Requests to use the computing resources of the server computers N are received via a local area network or via a wide area network e.g. the Internet. In one example the management server is a fabric interconnect device e.g. a data center switch that has multilayer and multiprotocol capabilities and can transport data over Ethernet including Layer 2 and Layer 3 traffic and storage traffic all on one common data center class platform. The server computers N are also known as server blades in that they are embodied in a blade configuration to mount within a chassis unit that has slots for multiple blades.

Each server computer is provisioned and configured with a service profile. A service profile comprises of data that defines hardware connectivity and operational attributes for the server computer. The service profile is a self contained definition of server and connectivity configuration and identity for the server computer on which it is installed.

According to the techniques described herein a given service profile is installed and thus pre associated on multiple server computers but that service profile is activated on one server computer and remains inactive on the other server computers on which it is installed. As shown in the example of Service Profile A is installed on server computers . . . K but is activated on server computer whereas it is in a dormant or inactive state on server computers K . A different service profile Service Profile B is installed and active on server computer N . It should be understood that Service Profile B may also be installed on multiple other server computers but in a dormant or inactive state. Thus in general any given service profile may be installed on multiple server computers but is activated on one server computer at any given time. By pre associating the same service profile concurrently to multiple server computers the service profile can be effectively moved from one server computer to another server computer at any time and in a much more expedited manner than heretofore possible. For example if the management server determines for some reason that the operations of Service Profile A would be better served on a different server computer then the management server can de activate Service Profile A on server computer and activate Service Profile A on any one of the server computers K on which Service Profile A was previously installed and in an inactive state. Consequently server hardware replacement is essentially instantaneous allowing for rapid recovery or redeployment of the application consuming the blade hardware. The server computer on which a service profile is installed but not active is kept in a low power state until such time as the management server determines to activate the service profile on that server computer.

The management server controls which service profiles are installed and activated and de activated on which of the plurality of server computers N . In one example the management server serves as a portal for all control command and data traffic to and from the server computers N as in a Cisco Unified Computing System. However this is only an example and in another form the management server may be the point of control for the server computers N but all traffic to and from the server computers N does not pass through it.

The management server sends to the respective server computers data for the service profiles with an Activation Attribute for each service profile that indicates whether the service profile is active or inactive on the respective server computers. For example the management server sends a data file for Service Profile A to server computer with an Activation Attribute indicating that Service Profile A is active on server computer and to server computer with an Activation Attribute indicating that Service Profile A is inactive on server computer . . . and to server computer K with an Activation Attribute indicating that Service Profile A is inactive on server computer K . The management server would configure other server computers with other service profiles in a similar manner.

A network administrator person may manually control the service profiles to be installed pre associated on specified ones of the plurality of server computers N via a network administrator terminal e.g. a desktop or laptop computer or other computer with a suitable user interface that communicates with the management server via the local area network or wide area network . For example activation of a service profile in a given server computer may be achieved by a network administrator user action e.g. selecting a button or command in a user interface screen . In another example a command to activate a service profile in a particular server computer may be from an external External Markup Language XML or other protocol application programming interface API from a clustering framework.

In addition the management server may continuously monitor activity among the server computers N and determine a need to de activate a particular service profile on one server computer and activate it on another server computer. Moreover the management server generates and sends to the other entities in the system advertisement messages regarding capabilities of the server computers e.g. messages advertising the service profiles that are active on the various server computers N . When a service profile is moved from one server computer to another server computer the management server reflects that change in the advertisement messages it sends. For example if Service Profile A is de activated on server computer and activated on server computer then the management server reflects this in the advertisement messages e.g. Service Profile A Inactive on Server Computer Service Profile A Active on Server Computer . The management server will advertise that a service profile is available on a server computer when it is active on that server computer. In general a server computer can execute one service profile at any time and a single service profile can be installed pre associated on a server computer at any time. Moreover a server computer with a dormant or inactive service profile is not advertised to the rest of the system.

Reference is now made to which is a block diagram for an example of the management server . The management server comprises one or more computing processors a network interface device switch hardware and a memory . The one or more processors may be for example microprocessors microcontrollers or digital signal processors. The network interface device is a network interface card NIC that enables communication over a network. The switch hardware is a block of digital logic gates implemented in one or more application specific integrated circuits ASICs for example. The switch hardware performs the various packet forwarding and switching operations associated with the management server in one form.

The memory may comprise read only memory ROM random access memory RAM magnetic disk storage media devices optical storage media devices flash memory devices electrical optical or other physical tangible memory storage devices. The memory stores data to track the service profiles and their status active or inactive on the server computers N for example in a database . The memory also stores executable software instructions for service profile management process logic . Thus the memory may comprise one or more computer readable storage media e.g. a memory device encoded with software comprising computer executable instructions and when the software is executed by processor s it is operable to perform the operations described herein in connection for the process logic .

In general process logic is operable to cause the processor s to store in memory data indicating the service profiles installed on respective ones of a plurality of the server computers in an enterprise computing system and an activation status of the service profiles on the respective server computers wherein each service profile comprises data defining hardware connectivity and operational attributes for the server computer and including an activation attribute for the service profile indicating whether the service profile is active on the corresponding server computer and to send to the respective server computers data for the service profiles with an Activation Attribute for each service profile such that any service profile that is installed on multiple server computers is active on one server computer at any given time.

Reference is now made to . is a block diagram for an example of a server computer e.g. any one of the server computers N . A server computer comprises in general one or more processors a network interface device and memory . The memory stores executable software instructions for service profile activation process logic and also stores data for a service profile shown at reference numeral and including an Activation Attribute indicating whether the service profile is active or inactive on the server computer. Like memory of management server the memory may comprise ROM RAM magnetic disk storage media devices optical storage media devices flash memory devices electrical optical or other physical tangible memory storage devices.

Reference is now made to for a description of a flow chart for the service profile management process logic running in the management server . At the management server stores data indicating the service profiles installed on respective server computers and the activation status of the service profiles on the respective server computers. The operation thus involves storing data in the database that tracks the service profiles pre associated on the server computers and the service profile status as indicated by the Activation Attribute of each service profile installed on a server computer. As explained above each service profile comprises data defining hardware connectivity and operational attributes for the server computer and including an Activation Attribute for the service profile indicating whether the service profile is active on the corresponding server computer. At upon initial setup of the computing system and then any time thereafter as needed the management server sends to the respective server computers data for the service profiles with an Activation Attribute for each service profile such that any service profile that is concurrently installed on multiple server computers is active on one server computer at any given time.

At any point in time a service profile that is active on one server computer can be de activated on that server computer and activated on another server computer thus effectively moving the service profile from one server computer to another server computer. Since the service profile is already installed on multiple server computers it can be quickly activated by the management server without the need to perform a more time consuming installation of the service profile on the new server computer where it is to be activated. In some systems it can take five to six minutes for the processor node utility operating system PNUOS in a server computer to install a new service profile. However using the techniques described herein this delay is avoided. Thus the performance and availability of the system can be maintained since the amount of time that a given service profile is out of service is substantially reduced. Since a service profile is already installed on a server computer it can be activated as fast as a server computer can be woken up from a low power state in response to an activate command from the management server.

At a determination is made of a need to change the status of a service profile on a server computer. For example the management server may determine that a particular server computer is not operating at full speed due to a failure or other problem and as such the service profile would be better served on a different server computer that has already been pre installed with that service profile . In another example a network administrator may determine that a service profile should be de activated on a particular server computer and activated on a different server computer for any of a variety of reasons load balancing operational efficiencies etc. in which case a command generated at a network administrator terminal is received at the management server to initiate the change.

When it is determined at that a service profile change is needed operations and are performed in response to that determination. For simplicity in this description the server computer on which a particular service profile is active and is to be de activated is referred to arbitrarily as a first server computer and the server computer on which that particular service profile is inactive and is to be activated is referred to arbitrarily as a second server computer. At the management server sends a de activate command to a first server computer on which a particular service profile is activated the de activate command configured to de activate the particular service profile on the first server computer. The de activate command is a command configured to change the Activation Attribute for the particular service profile on the first server computer from Active to Inactive. 

At the management server sends an activate command to the second server computer on which the particular service profile is installed but not activated the activate command configured to activate the particular service profile on the second server computer. The activate command is a command that is configured to change the Activation Attribute for the particular service profile on the second server computer from Inactive to Active. 

At the management server sends advertisement messages to notify other equipment in the computing system that utilize the server computers as to the service profiles and their activation attributes on the respective server computers and in particular to indicate on which server computers the various service profiles are active. Operation is performed upon initial setup of the computing system and thereafter to track updates changes to the status of service profiles on the server computers.

To summarize and generalize the process logic involves at a management server in an enterprise computing environment comprising a plurality of server computers that communicate with the management server data is stored indicating the service profiles installed on respective server computers and an activation status of the service profiles on the respective server computers wherein each service profile comprises data defining hardware connectivity and operational attributes for the server computer and including an Activation Attribute for the service profile indicating whether the service profile is active on the corresponding server computer and sending to the respective server computers data for the service profiles with an Activation Attribute for each service profile such that any service profile that is installed on multiple server computers is active on one server computer at any given time.

Reference is now made to for a description of a flow chart that depicts the operations of the service profile activation process logic in a server computer. At the server computer receives a service profile and an activation attribute for the service profile from the management server. At the server computer installs the service profile and stores the Activation Attribute for the service profile. Installation of the service profile does not mean it is activated. The data for a service profile received from the management server may contain an Activation Attribute that is already set to Active upon initial installation meaning that the server computer is to go active with the service profile immediately upon completing installation. On the other hand the data for a service profile received from the management server may contain an Activation Attribute that is Inactive upon initial installation meaning that the server computer is not to go active with the service profile until it receives an activate command from the management server. In the latter case the server computer may go into a low power state but otherwise capable of receiving and responding to an activate command from the management server.

Thus at the server computer evaluates the Activation Attribute for the service profile to determine whether it is active. When upon initial installation the Activation Attribute for the service profile is determined to be Inactive at then the process goes to state in which the server computer remains dormant or inactive since its service profile is inactive. At the server computer may determine to leave the dormant or inactive state in response to receiving an activate command which causes the server computer to change the Activation Attribute for the service profile to Active and to go to operation . Thus operation can result in activating a service profile that was inactive in response to receiving an activate command from the management server. When the activation command is received the server computer activates the service profile and changes the Activation Attribute to Active in response to the activate command.

At the server computer operates according to the parameters of the service profile. Also the server computer notifies the management server to confirm that it is operating according to the service profile i.e. that its service profile is active.

At any point in time when a server computer is operating with an active service profile the server computer may receive a de activate command from the management server. Thus at the server computer determines whether it has received a de activate command from the management server. When a de activate command has not been received the server computer continues to maintain its active state and operate according to the service profile as indicated at state . However when service profile is active and the server computer determines at that it has received a de activate command at the server computer de activates the service profile and changes the Activation Attribute to Inactive. At the server computer goes into a low power state and remains in this dormant or inactive state.

To summarize and generalize the process logic involves at a server computer in an enterprise computing environment comprising a plurality of server computers that communicate with a management server receiving from the management server data for a service profile that defines hardware connectivity and operational attributes for the server computer and including an activation attribute for the service profile that indicates whether the service profile is active on the server computer installing the service profile on the server computer with the activation attribute and evaluating the activation attribute to determine whether to activate the service profile on the server computer.

The operations associated with the process logic and may also be embodied by one or more computer readable storage media encoded with software comprising computer executable instructions and when the software is executed operable to perform the operations described herein. For example the process logic may be embodied by one or more computer readable storage media encoded with software comprising computer executable instructions and when the software is executed operable to at a management server in an enterprise computing system comprising a plurality of server computers that communicate with the management server store data indicating the service profiles installed on respective server computers and an activation status of the service profiles on the respective server computers wherein each service profile comprises data defining hardware connectivity and operational attributes for the server computer and including an activation attribute for the service profile indicating whether the service profile is active on the corresponding server computer and send to the respective server computers data for the service profiles with an activation attribute for each service profile such that any service profile that is installed on multiple server computers is active on one server computer at any given time.

Likewise the process logic may be embodied by one or more computer readable storage media encoded with software comprising computer executable instructions and when the software is executed operable to at a server computer in an enterprise computing system comprising a plurality of server computers that communicate with a management server receive from the management server data for a service profile that defines hardware connectivity and operational attributes for the server computer and including an activation attribute for the service profile that indicates whether the service profile is active on the server computer install the service profile on the server computer with the activation attribute and evaluate the activation attribute to determine whether to activate the service profile on the server computer.

Reference is now made to for a description of an example of data for a service profile. There are several categories of attributes in a service profile including storage attributes hardware attributes network attributes and operational attributes . The storage attributes include data indicating the World Wide Port Name WWPN or World Wide Node Name WWNN of the server computer Virtual Storage Area Networks VSANs with which the server computer is associated any adapter policies specifying error handling and timing settings and configurations of the local storage drive of the server computer. The hardware attributes include data indicating the Universally Unique Identifier UUID of the server computer Basic Input Output System BIOS settings firmware levels versions of the server computer and boot policies. The network attributes include data indicating the Media Access Control MAC address of the server computer the network interface card NIC firmware e.g. associated with the network interface device of the server computer the Quality of Service QoS assigned to the server computer and the virtual local area networks VLANs to which the server computer is assigned associated. Finally the operational attributes include data indicating external management access firmware bundles and management for the server computer health policy of the server computer and importantly the Activation Attribute that indicates whether the service profile is Active or Inactive.

The techniques described herein allow for fast failovers or re associations of a service profile from one server computer to another server computer. These techniques are useful in particular for those servers which do not have clustering frameworks. A substantial amount of PNUOS processing time of the server computer is saved when a service profile is associated with multiple server computers and it becomes necessary to move a service profile from one server computer to another server computer.

