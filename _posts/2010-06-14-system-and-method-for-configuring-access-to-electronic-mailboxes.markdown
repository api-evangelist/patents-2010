---

title: System and method for configuring access to electronic mailboxes
abstract: A system and method for configuring access to an electronic mailbox based on limited configuration parameters received from a user. A database stores configuration conventions for a mail domain. A mailbox interface module receives configuration information from a user that is limited in the configuration parameters required for accessing the electronic mailbox. The module retrieves configuration conventions for the mail domain from the database and generates sets of potentially valid configuration parameters based on the retrieved configuration conventions and user supplied configuration information for accessing the mailbox.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08065377&OS=08065377&RS=08065377
owner: Research In Motion Limited
number: 08065377
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20100614
---
This application is a continuation of application Ser. No. 12 102 083 filed Apr. 14 2008 now U.S. Pat. No. 7 739 343 which in turn is a continuation of application Ser. No. 10 778 590 filed Feb. 13 2004 now U.S. Pat. No. 7 373 386 issued May 13 2008 which claims the benefit of U.S. provisional application Ser. No. 60 494 233 filed Aug. 11 2003 all of which are hereby incorporated herein in their entireties by reference.

The present invention relates generally to the field of configuring access to electronic mail systems and more particularly to accessing automatically an electronic mailbox.

Electronic mail email has become a very important means of communication. Users of email may have one or more mailboxes that they may need to access from a variety of devices or systems and a variety of locations. Various services may also access the mailboxes. For example some services provide a unified mailbox that allows the user to access one or more mailboxes through the unified mailbox.

Services such as Yahoo now provide mailbox services that automatically poll a predefined list of mailboxes to determine if new email has been received. New emails that have been received in any of the polled mailboxes are retrieved into the requesting mailbox. As a result the user only has to check the requesting mailbox to determine if new email has arrived in any of the other mailboxes. This reduces the number of mailboxes that are required to be checked periodically. Other services allow a user to access their mailboxes through a plurality of devices such as but not limited to mobile phones mobile computing devices for example personal digital assistants POA s and other communications devices.

In order to access a mailbox a valid set of configuration parameters must be specified. An essential parameter is the mailbox protocol through which access to the mailbox is achieved since there are many different mailbox protocols in existence such as Post Office Protocol POP and Internet Message Access Protocol IMAP . Other parameters might include a mailbox server name or a mailbox login name. Each unique combination of these parameters defines a different configuration that can be used to access the mailbox. In some cases there are multiple unique configurations that can be used to specify access to a single mailbox whereas in other cases only one specific configuration can be used. Typically the user would have to determine these configuration parameters for each of the mailboxes and configure manually a web service associated with a web server to access each of the mailboxes.

One proposal in U.S. patent application publication no. 2002 0174194 provides a single web based interface that gives the user access to a plurality of different message accounts on different message servers. This proposal allows email clients to access only a subset namely messaging of an IMAP server and requires a user to establish all configuration parameters for the IMAP server functionality. Other similar proposals that require a user to determine and manually configure a web service for configuration parameters are disclosed in U.S. Pat. No. 5 968 117 and U.S. published patent application no. 2002 0112007 where message sources are established during setup and a technical support can be called. U.S. Pat. No. 6 446 114 discloses the use of an agent that searches a user database to determine a list of messaging systems the user subscribes. The agent recalls from an application database any procedures for accessing the messaging systems and logs onto each messaging system to retrieve new messages.

These various services that access the user s mailboxes require configuration parameters such as a mail host and a protocol to access the mailbox. The vast majority of users only know their email address and password and do not know the values of the remaining configuration parameters. If all the configuration parameters had to be specified by the user and the user was unable to provide the configuration parameters the web service would not be able to access the user s mailboxes and the user would be denied the service. As a result it is important that the configuration parameters for the user s mailboxes be determined based on the limited information that the user is able to provide to the email provider or other service.

It is therefore an object of the present invention to provide a system for configuring access to an electronic mailbox based on limited configuration parameters received from a user.

The system of the present invention configures access to an electronic mailbox based on limited configuration parameters received from a user for accessing the electronic mailbox. In one aspect of the present invention a database stores configuration conventions related to valid configuration parameters used for accessing an electronic mailbox of a user in a mail domain. A mailbox interface module receives the configuration information from the user that is limited in the configuration parameters required for accessing the electronic mailbox. The mailbox interface module is operative for retrieving configuration conventions from the database and generating sets of potentially valid configuration parameters based on the retrieved configuration conventions and user supplied configuration information.

The interface module can be operative on a web interface and a mobile device can be used by the user for inputting the configuration information which in one aspect of the invention could be an email address and password only for accessing the electronic mailbox of the user.

In yet another aspect of the present invention the interface module is operative for generating a subset of possible configuration parameters by using heuristics of likelihood that a set of configuration parameters are valid for accessing the electronic mailbox. The heuristics comprise tracking statistics stored within the database about the number of attempts and percentage of successes using a given configuration convention. The interface module is operative for generating a subset of possible configuration parameters by also using additional user supplied configuration information. This information could be a standard protocol used for accessing the electronic mailbox such as an internet message access protocol IMAP or the post office protocol POP .

In yet another aspect of the present invention the interface module attempts to access the electronic mailbox using potentially valid configuration parameters and generates new sets of potentially valid configuration parameters if the attempts for accessing the electronic mailbox of the user from the original sets of configuration parameters were unsuccessful. The interface module then attempts access with new configuration parameters.

The present invention will now be described more fully hereinafter with reference to the accompanying drawings in which preferred embodiments of the invention are shown. This invention may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those skilled in the art. Like numbers refer to like elements throughout and prime notation is used to indicate similar elements in alternative embodiments.

The present invention advantageously overcomes the disadvantages of the prior art that was limited to enabling access to various email accounts by configuring a desktop PC or mobile unit such as a pocket PC and establishing all the various settings including the various configuration conventions and parameters such as the ports settings including proxy settings connections email and other essential information for a POP or similar server using SMTP or other protocol.

The present invention advantageously allows a user to enter only a minimal set of data such as an email address and password and the system and method of the present invention determines through a pattern of learning and use of knowledge base what it is that one uses to access accounts and the server connections. The present invention can draw upon a database as a knowledge base and use symbolic expressions with levels of certainty to guess or determine mailbox configurations.

The present invention also allows users that have limited knowledge regarding their email account as to define their account for purposes of establishing server connections and being able to draw into one location such as a mobile phone or personal computer having only one email client or other means a number of different email addresses and manage multiple mailboxes. This is advantageous because it is well known that many people have many different mailboxes that could be implemented in a variety of mailbox protocols such as a post office protocol POP and different email clients and different companies.

The present invention has several different aspects. By using a database as a rule store and an electronic mailbox interface module as a module for learning it is possible to automatically learn mailbox configuration conventions used by mail domains. In another aspect of the present invention sets of potentially valid mailbox configurations can be determined by the interface module and symbolic expressions used to represent configuration parameters.

It is well known that in order for a user to access the mailbox provided to them by their email provider they must provide the correct set of configuration parameters. These parameters vary but include such parameters as a mail host port login name password and other parameters for use of their mailbox. Email providers are free to use any convention they choose for these parameters. For example many email providers employ the use of a defacto standard convention for these parameters such as using a mail host name of mail. where represents the provider s e mail domain i.e. foo.com . Another example could be an address such as JohnSmith earthlink.net. The user may only know their email address and a password for example password. Information not known to the normal user could be a port number the POP3 server pop.earthlink.net the SMTP server smtpauth.earthlink.net the domain of earthlink.net a different user name as indicated above the FTP server ftp www.earthlink.net an access ID and DNS address for example 207.69.188.XXX.

There are however are also many mail providers that do not adhere to such conventions and these mail providers use far less obvious conventions for these configuration parameters. This makes the task of determining the configuration for a user s mailbox in such a mail domain much more difficult if not impossible. For example if the users email address is john.smith foo.com the email provider may use a less obvious convention for example if the login name is jsmi . As a result it is important to capture the less obvious conventions that are specific to an email provider or mail domain.

It should be understood that the software and programming used for the present invention can vary and different applications can be used. The intelligent server can use web services technology shown by the area indicated as web services and include different application services used by those skilled in the art. Web services could include a combination of programming and data which are available from a web server for web users or the use of other web connected programs as provided by an application service provider. Web services could use an extensible mark up language XML as a standard for formatting data to be communicated.

Any type of arrangement can be used to access the intelligent server including a peer to peer arrangement a central server or other architecture and communications. Also middleware could be used. Data formats could be standardized and data exchanged using the extensive mark up language XML which is the foundation for the web services description language WSDL . Different web servers could be used including the open source Apache or Microsoft s internet information server IIS . Other web services could include Novel s web server for users of its netware operating system or the IBM family of Lotus domino service for example for IMB s OS 390 and AS 400 customers. Naturally any web server should be able to download requests for file transfer protocol FTP files in a preferred embodiment.

The intelligent server can have various import agents that are designed to retrieve configuration data from email clients and including Eudora and Netscape besides the Outlook and Outlook Express email clients as illustrated. The intelligent server could include a Messaging Application Programming Interface MAPI to retrieve any configuration data for a MAPI compliant email client. MAPI provides the application programming interface API to ensure system independence for messaging applications. A layer of functionality could be provided between applications at any underlying messaging systems and act as messaging middleware. MAPI compliant applications could communicate through a MAPI subsystem to MAPI service providers that perform requested actions for clients and pass data back through a MAPI system to a MAPI client. Any mailbox configuration data could reside in a configuration registry of the user system . Another example embodiments data could reside in email client specific configuration storage.

In the user system the Microsoft Outlook Express mail client can access source mailboxes that use the Post Office Protocol POP or Internet Mail Access Protocol IMAP . POP of course is the internet mail server protocol that provides incoming message storage. The more recent protocol is POPS. POP is operative with a Simple Mail Transfer Protocol SMTP . Any mail server could run both protocols if it is to receive store and forward messages. The SMTP protocol exchanges messages from one mail server to another and hands messages to the required POP server for an email mailbox. A POP server can receive a message and hold it until another POP server is available. The IMAP version 4 also uses the SMTP transport mechanism but it is a more flexible protocol because IMAP allows users to store mail on a mail server without downloading all new messages to a local machine. Internet mail service of course run SMTP and either POP or IMAP and receives incoming messages from any source without identity checking. Thus mail can be selectively downloaded and read message headers reviewed hierarchical message stores built address book supported and documents linked authenticated and searched.

The intelligent server could generate configuration data objects and format data objects using an extensible mark up language XML for submission to various XML compliant web services. The server and web service could be a simple object access protocol SOAP compliant service.

XML of course as an extensive mark up language is a subset of the standard generalized mark up language SGML would allow data to be stored and published on websites and be richer in presentation. Custom tags could be created to define the content of documents. Common information formats could be created and the format and data shared on the internet corporate internets and or other networks. The mark up symbols in XML could be unlimited and self defining. The channel definition format CDF could describe any channel and a specific CDF file can contain data that specifies an initial web page and how it can be updated.

SOAP allows one program running in one kind of operating system to communicate with the program in the same or another type of operating system by using HTTP and XML for information exchange. SOAP could specify how to encode an HTTP header in an XML file thus allowing one computer to call a program in another computer and pass data while also dictating how it can return a response. SOAP is advantageous to allow data to pass through firewall servers that screen out requests other than those for known applications to a designated port. SOAP is an XML based protocol that has at least three parts including a an envelope to define a framework for describing what is in a message b a set of encoding rules for expressing application defined data types and c a convention for representing remote procedure calls and responses.

The intelligent server could include software that is implemented as an ActiveX control as a component object model COM and provide a framework for building software components that communicate with each other. ActiveX controls could be automatically downloaded and executed by a web browser. Distributed object applications could be built in active web pages and ActiveX controls could be downloaded to different browsers and clients. ActiveX controls could be held in a web browser as a container and distributed over an internet or corporate intranet . ActiveX controls could also manage and update web content and client systems and work closely with a user interface of a targeted operating system. Java applets or similar component objects could also be used instead of ActiveX controls. It should be understood for purposes of the present invention that an object model control could also be any type of dynamic link library DLL module that runs in a container as an application program using a component object model program interface.

In one aspect of the present invention the less obvious conventions used by a mail domain are automatically learned and stored in a conventions store. Thus the configuration parameters for subsequent users with mailboxes that belong to this mail domain can be determined based on the automatically learned conventions in the conventions store.

The validator module determines a valid set of configuration parameters for a respective mailbox based on a limited number of configuration parameters provided by the user. In an example embodiment the validator module may try to access the respective mailbox using a set of best guesses estimates for the configuration parameters as provided by the service that invokes the validator module . In the example embodiment if the access attempt fails the validator module may request additional information from the user until the validator module has a valid set of configuration parameters. The validator module accesses the mailbox being configured by using the access protocol relevant to the mailbox.

In an example embodiment the validator module would use POP to access a POP enabled mailbox to verify that the configuration parameters are valid. In other example embodiments the validator module may use IMAP to access IMAP enabled mailboxes. As is obvious to those skilled in the art there are many access protocols that may be used to access mailboxes. After attempting to validate the configuration parameters the validator module returns status information and the valid set of configuration parameters .

The learner module accepts the configuration parameters and generates the configuration convention for the configuration parameters . The configuration convention is a manner of formatting the conventions used for configuration parameters for storage in the configuration convention store . In an example embodiment if the users email address is john.smith foo.com and the login name parameter required by the relevant mail host is jsmi an expression within the configuration convention for the login name parameter may be . As is obvious to one skilled in the art a variety of formats could be used in implementing a configuration convention . The learner module may apply certain tests to the configuration parameters to ensure that the configuration parameters are credible. In an example embodiment the learner module will only learn conventions in cases where the mail host is in the same mail domain as the email address of the user to avoid attempts by hackers to pollute the learned configuration conventions . Other tests are envisioned to ensure the integrity of the learned configuration conventions . The learner module may also apply rules that are stored in the rules store . These rules may be based on business criteria or other relevant criteria. In an example embodiment the rules may indicate that certain conventions are not to be learned for security reasons.

Configuration conventions that are deemed acceptable by the learner module are then stored in the configuration conventions store . In an example embodiment the configuration conventions store may include standard configuration conventions applicable to all domains as well as one or more of the automatically learned configuration conventions for each mail domain. Mail domains may have more than one associated configuration convention as there may be multiple ways and protocols in which the mailbox on the mail domain may be accessed.

Services may then access the configuration conventions from the configuration convention store to generate a list of potential sets of configuration parameters when configuring access to one or more of the user mailboxes.

It should be understood that the system and method for learning configuration parameters as described may be applied to configuration parameters for services other than mailbox access.

As noted before based on empirical evidence the vast majority of email providers adhere to a number of conventions when it comes to the configuration parameters used to access mailboxes. Almost all of the POP mail hosts in existence today are prefixed with mail. pop. or pop3. . It is likely that a user with an email address of john.smith foo.com would be able to access their POP enabled mailbox through the host named mail.foo.com pop.foo.com or pop3.foo.com . In one aspect of the present invention these conventions are captured in a data store and it is possible for the service that requires access to the user s mailbox to use the conventions to generate potentially valid sets of configuration parameters. The server can then attempt to determine a valid set of configuration parameters that can be used to access the user s mailbox. The present invention can also determine the set of configuration parameters for the user s mailbox when the user only provides an email address and password. The system and method of the present invention can also successfully determine the configuration parameters in most cases. As new conventions are introduced or are discovered they may be easily added to the data store.

In one aspect of the present invention shown in a guesser or determination module is part of the server and operative as the mailbox interface module and generates possible sets of configuration parameters based on user supplied configuration information coupled with configuration conventions stored in the configuration conventions data store . Services may then use the sets of configuration parameters to determine the correct set of configuration parameters required to access the user s mailbox.

The module generates the sets of possible configuration parameters based on user supplied information and relevant configuration conventions from the configuration conventions data store . In many cases the users email address provides sufficient information to be able to generate an accurate set of configuration parameters. In the example embodiment given the email address jane.doe foo.com the module would use the configuration conventions to generate the possible configuration parameters jdoe for the login name and mail.foo.com for the server name.

Email providers use many conventions when determining configuration parameters and as a result the module generates many sets of possible configuration parameters . To reduce the number of sets generated the module may only generate a subset of the sets of possible configuration parameters based on additional user information or based on heuristics of likelihood that a given set of configuration parameters may be successful under a given scenario. In an example embodiment the user may indicate that only configuration conventions with a protocol expression of IMAP should be considered. In the example the heuristics could include tracking statistics about the number of attempts and percentage of successes using a given configuration convention and thereby only generate possible configuration parameters based on this configuration convention if certain conditions are met.

It should be understood that the system and method for guessing configuration parameters according to one aspect of the present invention may be applied to configuration parameters for services other than mailbox access.

Although many email providers adhere to fairly standard conventions for configuration parameters such as naming the mail host mail. and matching the login name to the email address there are many other email providers that employ less obvious conventions such as setting the login name to be which in the case of the user with e mail address of john.smith foo.com would translate to the login name of jsmi . In the case of protocols that use uniform resource locators URL to indicate the location of the mailbox the conventions are even less standard since the login names are often embedded in the middle of the URL.

By capturing these conventions in the data store it is possible for the service that requires access to the user s mailbox to use the conventions to generate potentially valid sets of configuration parameters and then attempt to determine a valid set of configuration parameters that can be used to access the user s mailbox. Therefore it is possible to determine the set of configuration parameters for the user s mailbox even if the user is unable to provide all of the necessary configuration information. All that may be required from the user is an email address and password from which the system may be able to successfully determine the configuration parameters in most cases. As new conventions are introduced or are discovered they may be easily added to the data store.

In one aspect of the present invention the configuration parameters are represented using symbolic expressions which may then be retained in the configuration conventions data store for use by the service. This allows the service to draw configuration conventions from the data store and using context data to construct a valid set of configuration parameters that can be used to access mailboxes.

The configuration conventions data store stores the configuration conventions . As new conventions are introduced or discovered they may be easily added to the configuration conventions data store .

The transformer module expands the individual expressions into configuration parameters by expanding each symbol into its corresponding value using context data . In an example embodiment a configuration convention may comprise the mail protocol expression POP the server name expression mail. and the login name expression for example as shown in for a plurality of expressions. If the transformer module were provided with the context data comprising the email address john.smith foo.com the transformer module would infer the mail domain as foo.com from the email address. It would then generate the configuration parameters of POP for the mail protocol mail.foo.com for the server name and jsmi for the login name.

An exemplary hand held mobile wireless communications device that can be used in the present invention is further described in the example below with reference to . The device includes a housing a keyboard and an output device . The output device shown is a display which is preferably a full graphic LCD. Other types of output devices may alternatively be utilized. A processing device is contained within the housing and is coupled between the keyboard and the display . The processing device controls the operation of the display as well as the overall operation of the mobile device in response to actuation of keys on the keyboard by the user.

The housing may be elongated vertically or may take on other sizes and shapes including clamshell housing structures . The keyboard may include a mode selection key or other hardware or software for switching between text entry and telephony entry.

In addition to the processing device other parts of the mobile device are shown schematically in . These include a communications subsystem a short range communications subsystem the keyboard and the display along with other input output devices and as well as memory devices and various other device subsystems . The mobile device is preferably a two way RF communications device having voice and data communications capabilities. In addition the mobile device preferably has the capability to communicate with other computer systems via the Internet.

Operating system software executed by the processing device is preferably stored in a persistent store such as the flash memory but may be stored in other types of memory devices such as a read only memory ROM or similar storage element. In addition system software specific device applications or parts thereof may be temporarily loaded into a volatile store such as the random access memory RAM . Communications signals received by the mobile device may also be stored in the RAM .

The processing device in addition to its operating system functions enables execution of software applications A N on the device . A predetermined set of applications that control basic device operations such as data and voice communications A and B may be installed on the device during manufacture. In addition a personal information manager PIM application may be installed during manufacture. The PIM is preferably capable of organizing and managing data items such as e mail calendar events voice mails appointments and task items. The PIM application is also preferably capable of sending and receiving data items via a wireless network . Preferably the PIM data items are seamlessly integrated synchronized and updated via the wireless network with the device user s corresponding data items stored or associated with a host computer system. Communication functions including data and voice communications are performed through the communications subsystem and possibly through the short range communications subsystem. The communications subsystem includes a receiver a transmitter and one or more antennas and . In addition the communications subsystem also includes a processing module such as a digital signal processor DSP and local oscillators LOs . The specific design and implementation of the communications subsystem is dependent upon the communications network in which the mobile device is intended to operate. For example a mobile device may include a communications subsystem designed to operate with the Mobitex Data TAC or General Packet Radio Service GPRS mobile data communications networks and also designed to operate with any of a variety of voice communications networks such as AMPS TDMA CDMA PCS GSM etc. Other types of data and voice networks both separate and integrated may also be utilized with the mobile device .

Network access requirements vary depending upon the type of communication system. For example in the Mobitex and DataTAC networks mobile devices are registered on the network using a unique personal identification number or PIN associated with each device. In GPRS networks however network access is associated with a subscriber or user of a device. A GPRS device therefore requires a subscriber identity module commonly referred to as a SIM card in order to operate on a GPRS network.

When required network registration or activation procedures have been completed the mobile device may send and receive communications signals over the communication network . Signals received from the communications network by the antenna are routed to the receiver which provides for signal amplification frequency down conversion filtering channel selection etc. and may also provide analog to digital conversion. Analog to digital conversion of the received signal allows the DSP to perform more complex communications functions such as demodulation and decoding. In a similar manner signals to be transmitted to the network are processed e.g. modulated and encoded by the DSP and are then provided to the transmitter for digital to analog conversion frequency up conversion filtering amplification and transmission to the communication network or networks via the antenna .

In addition to processing communications signals the DSP provides for control of the receiver and the transmitter . For example gains applied to communications signals in the receiver and transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

In a data communications mode a received signal such as a text message or web page download is processed by the communications subsystem and is input to the processing device . The received signal is then further processed by the processing device for an output to the display or alternatively to some other auxiliary I O device . A device user may also compose data items such as e mail messages using the keyboard and or some other auxiliary I O device such as a touchpad a rocker switch a thumb wheel or some other type of input device. The composed data items may then be transmitted over the communications network via the communications subsystem .

In a voice communications mode overall operation of the device is substantially similar to the data communications mode except that received signals are output to a speaker and signals for transmission are generated by a microphone . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the device . In addition the display may also be utilized in voice communications mode for example to display the identity of a calling party the duration of a voice call or other voice call related information.

The short range communications subsystem enables communication between the mobile device and other proximate systems or devices which need not necessarily be similar devices. For example the short range communications subsystem may include an infrared device and associated circuits and components or a Bluetooth communications module to provide for communication with similarly enabled systems and devices.

It will be appreciated that the above description relates to preferred embodiments by way of example only. Many variations on the systems and methods described above will be obvious to those knowledgeable in the field and such obvious variations are within the scope of the invention as described whether or not expressly described.

For example the system and method for learning and guessing configuration parameters may be applied to configuration parameters for services other than mailbox access. Symbolic expressions could be used to represent conventions for configuration parameters for services other than email and mailbox access.

This application is related to copending patent applications entitled SYSTEM AND METHOD FOR GENERATING CONFIGURATIONS USED FOR ACCESSING ELECTRONIC MAILBOXES and SYSTEM AND METHOD FOR AUTOMATICALLY LEARNING MAILBOX CONFIGURATION CONVENTIONS which are filed on the same date and by the same assignee and inventors the disclosures which are hereby incorporated by reference.

Many modifications and other embodiments of the invention will come to the mind of one skilled in the art having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore it is understood that the invention is not to be limited to the specific embodiments disclosed and that modifications and embodiments are intended to be included within the scope of the appended claims.

