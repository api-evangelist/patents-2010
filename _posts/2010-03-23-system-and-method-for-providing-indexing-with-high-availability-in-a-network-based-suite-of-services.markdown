---

title: System and method for providing indexing with high availability in a network based suite of services
abstract: A suite of network-based services, such as the services corresponding to Microsoft® SharePoint™, are provided to users with high availability. The suite of network-based services may include browser-based collaboration functions, process management functions, index and search functions, document-management functions, and/or other functions. In particular, the indexing service associated with the suite of network-based services may be provided with high availability.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08429447&OS=08429447&RS=08429447
owner: CA, Inc.
number: 08429447
owner_city: Islandia
owner_country: US
publication_date: 20100323
---
The invention relates to providing network based services to users with high availability and in particular to providing Microsoft SharePoint services specifically the indexing service with high availability by replacing a de activated indexing service with a newly activated indexing service in other services referring to the indexing service when failover or switchover is made.

Microsoft SharePoint may be a rich enterprise server application that provides full content management features implement business processes and or provide access to information related to organizational goals and or processes.

High availability may be a system design protocol that ensures a certain degree of operational continuity. Conventional configurations of Microsoft SharePoint may be challenged to meet high availability standards for a variety of reasons. For example queries to determined updated configuration parameters of a Microsoft SharePoint server may be slow and inefficient to the point of dramatically inhibiting performance of the server.

One aspect of the invention relates to providing a suite of network based services such as the services corresponding to Microsoft SharePoint to users with high availability. The suite of network based services may include browser based collaboration functions process management functions index and search functions document management functions and or other functions. In particular the indexing service associated with the suite of network based services may be provided with high availability.

In some implementations a system configured to provide a suite of network based services to users with high availability includes a first set of one or more servers a second set of one or more servers and a shared service provider. The suite of network based services may include browser based collaboration functions process management functions index and search functions document management functions and or other functions. The suite of network based services may correspond to services provided by for example Microsoft SharePoint software elements being executed on one or more processors.

The first set of servers may be configured to execute one or more of a first server application module a synchronization module and or other modules. The second set of servers may be configured to execute one or more of a second server application module a second synchronization module a replacement module and or other modules. The shared service provider may include one or more servers configured to provide one or more shared services to the first set of servers the second set of servers and or other servers.

The first server application module may be configured to provide a first instance of a server application. As used herein the term server application may refer to one or more software elements that cooperate in an integrated manner to provide the network based services associated with the first set of servers to users. For example the first server application module may include the collection of software elements available from Microsoft SharePoint 2007.

The first server application module may include a first indexing sub module and or other sub modules. The first indexing sub module may be configured to provide an indexing service to the first server application module and or other instances of the server application . As such the indexing sub module may index information served by the first server application module metadata related to information served by the first server application module information associated with one of the other shared services provided by the first shared services provider module and or other information. The indexing sub module may crawl content logs and or other information sources associated with the first server application module and or other instances of the server application the shared service provider and or other shared services providers and or other information and create an index in an ongoing manner. This index may be referenced e.g. by the services of the shared services provider to respond to queries and or searches by users administrators for the functionality of shared services and or for other purposes

The shared services provider may be configured to provide shared services to the server application e.g. as instanced on the first set of servers and or the second set of servers . The shared services provided by the shared services provider may be services that are utilized across the web sites web applications and or databases served by the server application modules. In some implementations the shared services provider may include the Shared Service Providers associated with Microsoft SharePoint 2007 and or other Microsoft SharePoint releases. To provide the shared services the shared services provider may include one or more processors configured to execute computer program modules. The computer program modules may include one or more of a user information module a business data catalog module a spreadsheet services module a search usage module a project management module and or other sub modules.

In some implementations the shared services provider may be associated with a single indexing module e.g. the first indexing sub module to obtain access to an index. However a single indexing module may provide its index to a plurality of shared service providers and or other modules or sub modules. The shared services and or shared service providers associated with the indexing sub module may store a locator e.g. a network address File Share location and or other locators that point to the indexing sub module so that they can access the index created and or maintained by the indexing sub module when needed.

This reliance of a plurality of services shared service providers and or other modules or sub modules on the indexing sub module may create issues when switchover or failover from the first set of servers to the second set of servers occurs. The issues may be caused by one or more shared services shared service providers and or other modules or sub modules pointing to the indexing sub module of the first set of servers after the switchover or failover even after the indexing sub module of the first set of servers has been de activated by virtue of the switchover or failover.

The synchronization module may be configured to obtain configuration parameters of the first server application module. The synchronization module may transmit the configuration parameters to the second set of servers. The configuration parameters may include index parameters of an index of information and or metadata created and or maintained by the indexing sub module identifications of one or more shared service providers modules or sub modules that refer to the index created and or maintained by the indexing sub module and or other information associated with the index created and or maintained by the indexing sub module. The indexing parameters obtained and transmitted by the synchronization module may facilitate the duplication of the index on the second set of servers. The identifications of the one or more shared service providers modules and or sub modules that refer to the index may include locators that provide access to the one or more shared service providers modules and or sub modules or may enable the appropriate locators to be obtained via some sort of look up.

The second server application module executed on the second set of servers may be configured to provide a second instance of the server application. For example the second server application module may include the collection of software elements available from Microsoft SharePoint 2007. Similar to the first server application module the second server application module may be configured such that the second instance of the server application provides application programming interfaces through which the second server application module communicates with other computer program modules that are not an integral part of the second server application module. The second server application module may include a second indexing sub module that corresponds to the indexing sub module executed on the first set of servers. The second indexing sub module may provide backup for the indexing sub module executed on the first set of servers. This backup may be provided with high availability.

The second synchronization module may be configured to receive the some or all of the configuration parameters transmitted to the second set of servers from the synchronization module of the first set of servers. These may include the indexing parameters related to the index created and or maintained by the indexing sub module of the first set of servers. The second synchronization module may provide the received indexing parameters to the second indexing sub module.

The second indexing sub module may be configured to maintain an index according to the received indexing parameters. This index may provide a backup to the index created and or maintained by the indexing sub module of the first set of servers. The index maintained by second indexing sub module may be maintained to accommodate switchover or failover of the indexing sub module of the first set of servers with high availability.

The replacement module may be configured to ensure that upon failover or switchover any shared service providers modules or sub modules previously referring to the index created and or maintained by the indexing sub module of the first set of servers will begin to refer to the index maintained by second indexing sub module. As such the replacement module may replace the associations with the indexing sub module of the shared service provider included in the system with associations to the second indexing sub module. The replacement module may determine that the shared service provider needs to be adjusted in this manner based on the configuration information received at the second set of servers from the synchronization module of the first set of servers.

Since the functionality provided by the replacement module is provided by the servers being activated during switchover or failover the transition can be made from the indexing sub module of the first set of servers to the second indexing sub module even if the transition was not anticipated and or impacts the processor executing the indexing sub module of the first set of servers. Thus the transition between these indexing sub modules can be made with high availability.

These and other objects features and characteristics of the present invention as well as the methods of operation and functions of the related elements of structure and the combination of parts and economies of manufacture will become more apparent upon consideration of the following description and the appended claims with reference to the accompanying drawings all of which form a part of this specification wherein like reference numerals designate corresponding parts in the various figures. It is to be expressly understood however that the drawings are for the purpose of illustration and description only and are not intended as a definition of the limits of the invention. As used in the specification and in the claims the singular form of a an and the include plural referents unless the context clearly dictates otherwise.

The system may leverage one or more external information sources . Users may interface with system and or external information sources via client computing platforms . The components of system external information sources and or client computing platforms may be operatively linked via one or more electronic communication links. For example such electronic communication links may be established at least in part via a network such as the Internet and or other networks. It will be appreciated that this is not intended to be limiting and that the scope of this disclosure includes implementations in which system external information sources and or client computing platforms are operatively linked via some other communication media.

A given client computing platform may include one or more processors configured to execute computer program modules. The computer program modules may be configured to enable one or more users associated with the given client computing platform to interface with system and or external information sources and or provide other functionality attributed herein to client computing platforms . By way of non limiting example the given client computing platform may include one or more of a desktop computer a laptop computer a handheld computer a NetBook a Smartphone and or other computing platforms.

The external information sources may be configured to provide information to system . This information may include content user information information related to achievements or accomplishments of users and or other information.

As is described further below first server second server and or shared service provider may cooperate to provide the network based services to users of client computing platforms via the network. For example first server and second server may host the network based services over the network to client computing platforms . In order to provide the network based services with high availability second server may be configured as a back up to first server that replaces first server in case of failover or switchover. Failover may include situations in which first server fails in an unexpected manner. Switchover may include situations in which the switch from first server to second server is performed intentionally. For example switchover may be executed to perform maintenance on first server to test one or both of first server and or second server and or for other purposes.

Although first server second server and shared services provider are each illustrated as a single entity in this is not intended to be limiting. For example first server may include one or more computing platforms operating as a first set of one or more servers to provide functionality attributed herein to first server . The second server may include one or more computing platforms operating as a second set of one or more servers to provide functionality attributed herein to second server . The shared services provider may include one or more computing platforms operating in cooperation to provide the functionality attributed herein to shared services provider .

The first server may include electronic storage one or more processors and or other components. Electronic storage may comprise electronic storage media that electronically stores information. The electronic storage media of electronic storage may include one or both of system storage that is provided integrally i.e. substantially non removable with first server and or removable storage that is removably connectable to first server via for example a port e.g. a USB port a firewire port etc. or a drive e.g. a disk drive etc. . Electronic storage may include one or more of optically readable storage media e.g. optical disks etc. magnetically readable storage media e.g. magnetic tape magnetic hard drive floppy drive etc. electrical charge based storage media e.g. EEPROM RAM etc. solid state storage media e.g. flash drive etc. and or other electronically readable storage media. Electronic storage may store software algorithms information determined by processor information received via the network and or other information that enables first server to function properly. Electronic storage may be a separate component within first server or electronic storage may be provided integrally with one or more other components of first server e.g. processor .

Processor may be configured to provide information processing capabilities in first server . As such processor may include one or more of a digital processor an analog processor a digital circuit designed to process information an analog circuit designed to process information a state machine and or other mechanisms for electronically processing information. Although processor is shown in as a single entity this is for illustrative purposes only. In some implementations processor may include a plurality of processing units. These processing units may be physically located within the same device or processor may represent processing functionality of a plurality of devices operating in coordination.

As is shown in processor may be configured to execute one or more computer program modules. The one or more computer program modules may include one or more of a first server application module a synchronization module and or other modules. Processor may be configured to execute modules and or by software hardware firmware some combination of software hardware and or firmware and or other mechanisms for configuring processing capabilities on processor .

It should be appreciated that although modules and are illustrated in as being co located within a single processing unit in implementations in which processor includes multiple processing units one or more of modules and or may be located remotely from the other modules. The description of the functionality provided by the different modules and or described below is for illustrative purposes and is not intended to be limiting as any of modules and or may provide more or less functionality than is described. For example one or more of modules and or may be eliminated and some or all of its functionality may be provided by other ones of modules and or . As another example processor may be configured to execute one or more additional modules that may perform some or all of the functionality attributed below to one of modules and or .

The first server application module may be configured to provide a first instance of a server application. As used herein the term server application may refer to one or more software elements that cooperate in an integrated manner to provide the network based services associated with first server to users. For example the first server application module may include the collection of software elements available from Microsoft SharePoint 2007. The first server application module may be configured such that the server application provides application programming interfaces through which first server application module communicates with other computer program modules that are not an integral part of first server application module .

By way of non limiting example the cooperative software elements of the first instance of the server application provided by first server application module may include a plurality of sub modules that may be implemented in to provide the network based services in an integrated and cohesive manner. The sub modules may include one or more of a web server sub module a database server sub module an application server sub module a first indexing sub module and or other sub modules. It will be appreciated that in implementations in which first server is implemented in a plurality of devices various ones of sub modules and or may be implemented in different devices.

The web server sub module may be configured to perform the functionality of a front end web server in serving content over the network via a network communication protocol e.g. HTTP and or other protocols . The content may include webpages. A webpage may include a document or resource that is accessible via a browser. These documents may be formatted in a mark up format e.g. HTML XHTML XML and or other mark up formats . Serving the content may include receiving requests for content receiving instructions for altering or calling content and or receiving other requests or instructions from client computing platform s and then responding by providing the requested content or locations of the requested content to the requesting client computing platform s .

The database server sub module may be configured to provide database services to users of client computing platforms via the network. This may include receiving database commands queries content and or other information related to a database performing the requested actions and or obtaining the requested information and providing the results to the requesting client computing platform s .

The application server sub module may be configured to provide application server functionality to client computing platforms . This may include executing a plurality of different information processing tasks at the request of client computing platforms and then returning the results to client computing platforms . For example application server sub module may be configured to index content served by first server application module may be configured to search for content served by first server application module may be configured to perform calculations at the request of client computing platforms and or may be provided to host other application functions.

The indexing sub module may be configured to provide an indexing service to first server application module and or other instances of the server application . As such indexing sub module may index information served by first server application module metadata related to information served by first server application module information associated with one of the other Shared Services provided by shared services provider and or other information. The indexing sub module may crawl content logs and or other information sources associated with first server application module and or other instances of the server application shared services provider and or other information and create an index in an ongoing manner. This index may be referenced to respond to queries and or searches by users administrators for the functionality of shared services provided by shared services provider and or for other purposes.

In some implementations shared service provider and or some other of shared services provider may be associated with a single indexing sub module such as indexing sub module to obtain access to an index. However indexing sub module may provide its index to a plurality of shared service providers and or other modules or sub modules. The shared service providers associated with indexing sub module e.g. shared service provider may store a locator e.g. a network address File Share locationi and or other locators that point to indexing sub module so that they can access the index created and or maintained by indexing sub module when needed.

This reliance of a plurality of shared service providers and or other modules or sub modules on indexing sub module alone may create issues when switchover or failover of indexing sub module occurs. Such switchover or failover may include switchover or failover of first server as a whole switchover or failover of first server application module and or other switchover or failover scenarios. The issues may be caused by one or more shared service providers such as shared service provider and or other modules or sub modules pointing to indexing sub module after the switchover or failover even after indexing sub module has been de activated by virtue of the switchover or failover.

The shared services provider may be configured to provide shared services to the server application. The shared services provided to the server application by shared services provider may be services that are utilized across the web sites web applications and or databases served by first server application module . In some implementations shared services provider may include the Shared Service Providers associated with Microsoft SharePoint 2007 and or other Microsoft SharePoint releases. To provide the shared services shared services provider may include one or more processors configured to execute computer program modules. The computer program modules may include one or more of a user information module a business data catalog module a spreadsheet services module a search usage module a project management module and or other modules. The user information module may be configured to provide a user information service to first server application module and or other instances of the server application . The user information service may include providing user profiles to first server application module . The user profiles may be imported from a directory service and or otherwise obtained. The content and or functionality hosted by first server application module may be customized controlled for privacy purposes and or otherwise targeted or tailored for individual users based on the information included in the user profiles provided by user information module to first server application module and or other instances of the server application .

The business data catalog module may be configured to provide a business data catalog service to first server application module and or other instances of the server application . As such business data catalog module may provide a single unified schema for information stored in line of business applications and or documents hosted by first server application module and or other instances of the server application .

The spreadsheet services module may be configured to provide a spreadsheet calculation service to first server application module and or other instances of the server application . The spreadsheet services module may provide shared worksheets and or some other mechanism by which business data associated with the content and or functionality hosted by first server application module can be analyzed.

The search usage module may be configured to provide a search usage service for usage of the content and or functionality hosted by first server application module and or other instances of the server application . The search usage module may aggregate and or analyze information related to site usage such as searches and or queries entered to first server application module . This may include usage of content and or functionality provided by first server application module as a whole or for only certain portions of the content and or functionality e.g. for a specific site or web application .

The project management module may be configured to provide project management functionality across the content and or functionality hosted by first server application module and or other instances of the server application . For example project management module may include Microsoft Project Web Access.

The synchronization module may be configured to obtain configuration parameters of first server application module . The synchronization module may transmit the configuration parameters to second server . The configuration parameters may include index parameters of an index of information and or metadata created and or maintained by indexing sub module identifications of one or more service providers modules or sub modules that refer to the index created and or maintained by indexing sub module e.g. shared services provider and or other information associated with the index created and or maintained by indexing sub module . The indexing parameters obtained and transmitted by synchronization module may facilitate the duplication of the index on second server . The identifications of the one or more shared services providers modules and or sub modules that refer to the index may include locators that provide access to the one or more shared services providers modules and or sub modules or may enable the appropriate locators to be obtained via some sort of look up.

In some implementations synchronization module may be configured to obtain the configuration parameters through a background process executed on first server that queries an application programming interface associated with first server application module . For example synchronization module may obtain the configuration parameters in accordance with the server configuration querying system and method described in U.S. patent application Ser. No. 12 718 543 filed Mar. 5 2010 which is incorporated herein by reference.

The second server may include electronic storage one or more processors and or other components. Electronic storage may comprise electronic storage media that electronically stores information. The electronic storage media of electronic storage may include one or both of system storage that is provided integrally i.e. substantially non removable with second server and or removable storage that is removably connectable to second server via for example a port e.g. a USB port a firewire port etc. or a drive e.g. a disk drive etc. . Electronic storage may include one or more of optically readable storage media e.g. optical disks etc. magnetically readable storage media e.g. magnetic tape magnetic hard drive floppy drive etc. electrical charge based storage media e.g. EEPROM RAM etc. solid state storage media e.g. flash drive etc. and or other electronically readable storage media. Electronic storage may store software algorithms information determined by processor information received via the network and or other information that enables second server to function properly. Electronic storage may be a separate component within second server or electronic storage may be provided integrally with one or more other components of second server e.g. processor .

Processor may be configured to provide information processing capabilities in second server . As such processor may include one or more of a digital processor an analog processor a digital circuit designed to process information an analog circuit designed to process information a state machine and or other mechanisms for electronically processing information. Although processor is shown in as a single entity this is for illustrative purposes only. In some implementations processor may include a plurality of processing units. These processing units may be physically located within the same device or processor may represent processing functionality of a plurality of devices operating in coordination.

As is shown in processor may be configured to execute one or more computer program modules. The one or more computer program modules may include one or more of a second server application module a synchronization module a replacement module and or other modules. Processor may be configured to execute modules and or by software hardware firmware some combination of software hardware and or firmware and or other mechanisms for configuring processing capabilities on processor .

It should be appreciated that although modules and are illustrated in as being co located within a single processing unit in implementations in which processor includes multiple processing units one or more of modules and or may be located remotely from the other modules. The description of the functionality provided by the different modules and or described below is for illustrative purposes and is not intended to be limiting as any of modules and or may provide more or less functionality than is described. For example one or more of modules and or may be eliminated and some or all of its functionality may be provided by other ones of modules and or . As another example processor may be configured to execute one or more additional modules that may perform some or all of the functionality attributed below to one of modules and or .

The second server application module may be configured to provide a second instance of the server application. For example the second server application module may include the collection of software elements available from Microsoft SharePoint 2007. Similar to first server application module second server application module may be configured such that the second instance of the server application provides application programming interfaces through which second server application module communicates with other computer program modules that are not an integral part of second server application module . The cooperative software elements of second instance of the server application provided by second server application module may correspond to the cooperative software elements of the second instance of the server application provided by first server application module . As such second server application module may include one or more of a web server sub module a database server sub module an application server sub module and or other sub modules. The second server application module may include a second indexing sub module that corresponds to indexing sub module .

In some implementations one or more of the sub modules included in second server application module may provide backup to one or more corresponding sub modules of first server application module in case of switchover or failover. For example indexing sub module may provide backup for indexing sub module . The backup for first server application module provided by second server application may be provided with high availability.

The synchronization module may be configured to receive the some or all of the configuration parameters transmitted to second server from synchronization module of first server . These may include the indexing parameters related to the index created and or maintained by indexing sub module . The synchronization module may provide the indexing parameters received from synchronization module to indexing sub module .

Indexing sub module may be configured to maintain an index according to the received indexing parameters. This index may provide a backup to the index created and or maintained by indexing sub module . The index maintained by indexing sub module may be maintained to accommodate switchover or failover of indexing sub module with high availability.

The replacement module may be configured to ensure that upon failover or switchover any shared services provider modules or sub modules previously referring to the index created and or maintained by indexing sub module e.g. shared services provider will begin to refer to the index maintained by indexing sub module . As such replacement module replaces the associations with indexing sub module in shared services provider and or any other shared services providers modules and sub modules with associations to indexing sub module . This may include replacing a locator corresponding indexing sub module in shared services provider and or the other shared services providers modules and or sub modules with a locator corresponding to indexing sub module . The replacement module may perform this replacement only for shared services providers modules and or sub modules currently referencing indexing sub module . This may be determined from the modules and or sub modules identified in the configuration information received at second server from synchronization module as referring to indexing sub module .

Since the functionality provided by replacement module is provided by the servers being activated during switchover or failover the transition can be made from indexing sub module to indexing sub module even if the transition was not anticipated and or impacts the processor executing indexing sub module . Thus the transition between indexing sub module and indexing sub module can be made with high availability.

It will be appreciated that the switchover or failover from indexing sub module to indexing sub module may only include the transition from indexing sub module to indexing sub module . Or the transition may include the switchover and or failover of other components of system from first server to second server . For example the switchover or failover may include transitioning first server application module to second server application module and or other transitions.

In some embodiments method may be implemented in one or more processing devices e.g. a digital processor an analog processor a digital circuit designed to process information an analog circuit designed to process information a state machine and or other mechanisms for electronically processing information . The one or more processing devices may include one or more devices executing some or all of the operations of method in response to instructions stored electronically on an electronic storage medium. The one or more processing devices may include one or more devices configured through hardware firmware and or software to be specifically designed for execution of one or more of the operations of method .

At an operation a first instance of a server application may be executed on a first set of one or more servers. The server application may facilitate access and interaction of users with content and functionality served by the first set of one or more servers. The first set of one or more servers may be similar to or the same as first server shown in and described above . The first instance of the server application may be similar to or the same as first server application module shown in and described above . The first instance of the server application may include a first indexing service. The first indexing service may be configured to index information served by the first set of one or more servers metadata related to the information served by the first set of one or more servers and or other information. The first indexing service may be similar to or the same as indexing sub module shown in and described above .

At an operation a shared service provider may be executed. The shared service provider may be configured to provide shared services associated with the content and functionality served by the first set of one or more servers. The first shared service provider may be similar to or the same as shared services provider shown in and described above .

At an operation configuration parameters of the first set of one or more servers may be obtained on the first set of one or more servers. The configuration parameters may include one or more of indexing parameters of the index created and or maintained by the first instance of the server application identifications of one or more shared services providers modules or sub modules that refer to the index created and or maintained by the first indexing service. Operation may be performed by a synchronization module similar to or the same as synchronization module shown in and described above .

At an operation the configuration parameters obtained on the first set of one or more servers may be transmitted to a second set of one or more servers. The second set of servers may be similar to or the same as second server shown in and described above . Operation may be performed by a synchronization module similar to or the same as synchronization module shown in and described above .

At an operation the configuration parameters transmitted at operation may be received at the second set of one or more servers.

At an operation a second instance of the server application may be executed on the second set of one or more servers. The second instance of the server application may be similar to or the same as second server application module shown in and described above . The second instance of the server application may provide a second indexing service configured to backup the first indexing service executed on the first set of one or more servers. The second indexing service may be configured to maintain an index in accordance with the indexing parameters obtained at the second set of one or more servers at operation . The second indexing service may be similar to or the same as indexing sub module shown in and described above .

At an operation responsive to switchover or failover of the first instance of the server application to the second instance of the server application replacement commands may be transmitted from the second set of one or more servers. The replacement commands may be transmitted to the shared services providers modules and or sub modules that reference the index created and or maintained by the first indexing service. The replacement commands may replace the first indexing service with the second indexing service in the receiving modules and or sub modules such that subsequent to reception of the replacement commands the modules and or sub modules begin to reference the second indexing service rather than the first indexing service. The replacement commands may be transmitted to the shared services providers modules and or sub modules identified in the configuration parameters transmitted to the second set of one or more servers at operation . In one embodiment operation may be performed by a replacement module similar to or the same as replacement module shown in and described above .

At an operation the index maintained by the second indexing service is used to satisfy queries to the second indexing service from modules and or sub modules that received replacement commands at operation .

Although the invention has been described in detail for the purpose of illustration based on what is currently considered to be the most practical and preferred embodiments it is to be understood that such detail is solely for that purpose and that the invention is not limited to the disclosed embodiments but on the contrary is intended to cover modifications and equivalent arrangements that are within the spirit and scope of the appended claims. For example it is to be understood that the present invention contemplates that to the extent possible one or more features of any embodiment can be combined with one or more features of any other embodiment.

