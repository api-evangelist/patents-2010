---

title: Systems and methods for wireless communications
abstract: A personal communications device configured to communicate with a wide area network in response to an alternate mode activation signal is provided. The personal communications device also comprises a signal broker operatively connected to a monitored interface from among the one or more interfaces along a control path. The signal broker is configured to monitor signals at the monitored interface and upon observing an alternate mode activation signal at the monitored interface, inject an alternate mode signal configured to initiate the alternate communication over the wide area network. In some embodiments, the alternate communication is different from a communication that would have occurred in the absence of the injected alternate mode signal. The alternate mode signal may comprise an emergency mode signal configured to initiate an emergency communication over the wide area network. The emergency communication may comprise an SMS message, a telephone call, an HTTP command, an email, or the like.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08768288&OS=08768288&RS=08768288
owner: Mobile NewMedia Ltd.
number: 08768288
owner_city: Surrey
owner_country: CA
publication_date: 20100721
---
This application claims priority from U.S. application No. 61 227 431 filed 21 Jul. 2009 and entitled SYSTEMS AND METHODS FOR WIRELESS COMMUNICATIONS which is hereby incorporated herein by reference. For the purposes of the United States this application claims the benefit under 35 U.S.C. 119 of U.S. patent application No. 61 227 431 filed 21 Jul. 2009 and entitled SYSTEMS AND METHODS FOR WIRELESS COMMUNICATIONS.

The invention is in the field of wireless communications. Particular embodiments provide systems and methods for wireless communication suitable for emergencies and or other communication needs.

People are increasingly carrying personal communications devices with them in their daily lives. Some personal communications devices are designed to be amenable to habitual wearing or carrying by users. For instance people commonly wear Bluetooth headsets which connect to cellular mobile and which operate in cooperation with the mobile phones for making and receiving telephone calls. Personal communications devices designed to be amenable to habitual wearing or carrying by users are sometimes referred to as handsfree personal communications devices or handsfree devices for short.

In comparison to mobile phones handsfree devices typically have limited capabilities due to factors including constraints on size weight cost and the like. Some handsfree devices are operable to communicate wirelessly with other personal communications devices e.g. mobile phones . Through communication with such other communications devices handsfree devices provide additional capabilities they could not provide alone. For example Bluetooth headsets that connect wirelessly to Bluetooth enabled mobile phones provide the capability for a user of the Bluetooth headset to make a telephone call in cooperation with the connected mobile phone.

The range of functionality which a handsfree device may have when cooperating with a personal communication device is typically fixed by one or both of the user interface of the handsfree device and the interface s by which the handsfree device and personal communication device communicate with one another. In some cases the user interface of the handsfree device limits the range of functionality which can be accessed by a user of handsfree device to a subset of the potential functionality enabled by the personal communication device or to a subset of the potential functionality enabled by the communication interface s between the handsfree device and the personal communication device.

The following embodiments and aspects thereof are described and illustrated in conjunction with systems tools and methods which are meant to be exemplary and illustrative not limiting in scope.

An aspect of the invention provides a personal communications device configured to communicate with a wide area network. The personal communications device comprises a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module and a signal broker operatively connected to a monitored interface from among the one or more interfaces the signal broker configured to monitor signals at the monitored interface and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface inject an alternate mode signal configured to initiate an alternate communication over the wide area network. In some embodiments alternate communication is different from a communication if any that would have occurred in the absence of the injected alternate mode signal. In some embodiments the alternate mode activation criterion comprises an emergency mode activation criterion and an alternate mode signal comprises emergency mode signal configured to initiate an emergency communication over the wide area network. The emergency communication may comprise an SMS message a telephone call an HTTP command an email or the like.

Another embodiment provides a method in a personal communications device the method comprising monitoring signals generated in response to user input at a monitored interface of a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module and upon observing a signal satisfying an alternate mode activation criterion injecting an alternate mode signal configured to initiate an alternate mode communication over the wide area network. In some embodiments the alternate communication is different from a communication if any that would have occurred over the wide area network in the absence of the injected alternate mode signal. In some embodiments the alternate mode activation criterion comprises an emergency mode activation criterion and an alternate mode signal comprises an emergency mode signal configured to initiate an emergency communication over the wide area network. The emergency communication may comprise at least one of an SMS message a telephone call an email and an HTTP command for example. In some embodiments the signals at the monitored interface comprise messages formatted and exchanged according to pre defined rules of a communication protocol. In some such embodiments the communication protocol comprises a Bluetooth Hands Free Profile control protocol.

In some embodiments the alternate mode activation criterion comprises a pattern comprising a plurality of AT commands and injecting the alternate mode signal occurs upon observing a signal matching the pattern. In some embodiments injecting the alternate mode signal comprises injecting the alternate mode signal at the monitored interface. In some embodiments injecting the alternate mode signal comprises injecting the alternate mode signal at an interface along the control path other than the monitored interface. In some embodiments injecting the alternate mode signal comprises injecting the alternate mode signal at an interface of a WAN control path other than the control path. In some such embodiments the interface of the WAN control path comprises an application programming interface and injecting the alternate mode signal comprises making a call to the application programming interface.

In some embodiments the method is performed in a WLAN WWAN device. In some embodiments the method is performed in a WLAN device configured to communicate with the wide area network via a WLAN WWAN device. In some embodiments the method is performed in a WLAN WWAN device and the one or more interfaces are configured to communicate along the control path and to or from the one or more functional modules signals generated in response to user input entered at a WLAN device when the WLAN device is operatively connected to the WLAN WWAN device.

In some embodiments the alternate mode activation criterion is user configurable. In some embodiments the alternate mode activation criterion corresponds to a pattern of user input. In some embodiments the alternate communication is user configurable.

In some embodiments the method comprises in a normal operating mode monitoring signals at the monitored interface without modification and upon observing the signal satisfying the alternate mode activation criterion entering an alternate operating mode. In some embodiments the method comprises upon observing the signal satisfying the alternate mode activation criterion discarding the signal satisfying the alternate mode activation criterion. In some embodiments the method comprises obtaining data indicative of a user s condition and the alternate mode signal is configured to initiate an alternate communication containing data indicative of the user s condition over the wide area network.

A further aspect of the invention provides a method in a personal communications device configured to communicate with a wide area network the method comprising monitoring signals at a monitored interface of a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface injecting an alternate mode signal configured to initiate an alternate mode communication over the wide area network.

Yet another aspect of the invention provides a program product comprising a non transitory medium carrying computer readable instructions which when executed by a controller in a personal communications device configured to communicate with a wide area network cause the controller to monitor signals at a monitored interface of a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface inject an alternate mode signal configured to initiate an alternate mode communication over the wide area network.

Yet a further aspect of the invention provides a program product for adding alternate mode communications functionality to a personal communications device configured to communicate with a wide area network and having a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module the program product comprising a non transitory medium carrying computer readable instructions which when executed by a computer operatively connected to the personal communications device installs computer readable instructions on a non transitory medium of the personal communications devices which when executed by a controller of the personal communications device cause the controller to monitor signals at a monitored interface of the control path and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface inject an alternate mode signal configured to initiate an alternate mode communication over the wide area network.

Still another aspect of the invention provides a method for providing alternate mode communication functionality to a personal communications device configured to communicate with a wide area network and having a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module the method comprising storing a computer program in a computer readable medium accessible to a host computer and in response to a request from the personal communications device transmitting the computer program to the personal communications device wherein when executed by a controller of the personal communications device the computer program causes the controller to monitor signals at a monitored interface of the control path and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface inject an alternate mode signal configured to initiate an alternate mode communication over the wide area network.

Still a further aspect of the invention provides a personal communications system comprising a WLAN device comprising a sensor configured to provide data indicative of a user s condition a controller operatively coupled to the sensor to receive data indicative of the user s circumstances the controller configured to inject a signal satisfying an emergency mode activation criterion into a control path upon detecting sensor data indicative of an emergency condition and a WLAN WWAN device associated with the WLAN device the WLAN WWAN device configured to communicate with a wide area network and comprising a signal broker operatively connected to a monitored interface along the control path the signal broker configured to monitor signals at the monitored interface and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface inject an alternate mode signal configured to initiate an alternate communication over the wide area network.

Method embodiments may include features that correspond to features of apparatus embodiments described herein and vice versa.

In addition to the exemplary aspects and embodiments described above further aspects and embodiments will become apparent by reference to the drawings and by study of the following detailed descriptions.

Throughout the following description specific details are set forth in order to provide a more thorough understanding to persons skilled in the art. However well known elements may not have been shown or described in detail to avoid unnecessarily obscuring the disclosure. Accordingly the description and drawings are to be regarded in an illustrative rather than a restrictive sense.

Aspects of the invention provide systems and methods for wireless communication. Particular embodiments involve adapting common communication systems for use in emergency communications.

As used herein the term local area network LAN is meant to include a personal area network PAN and as few as two devices having a local communication connection between them and the term wireless local area network WLAN refers to a LAN that includes two or more devices that communicate wirelessly via the LAN . For example a Bluetooth headset and an associated Bluetooth enabled mobile phone may constitute a WLAN. References to links and networks in this description should be interpreted as encompassing wired and wireless links and networks unless there is a specific indication to the contrary.

WLAN device comprises a WLAN adapter which provides an interface to a WLAN and devices connected thereto. By way of non limiting example a WLAN adapter may comprise a Bluetooth adapter an IEEE 802.11 adapter ZigBee adapter a wireless USB adapter a combination thereof or the like. WLAN device may comprise a handsfree personal communications device such as for example a bluebooth headset a bluebooth communicator or the like. WLAN device may comprise a non handsfree personal communications device such as for example a personal digital assistant embedded computing device personal computer or the like. Wireless WLAN link may comprise a point to point single hop link or a multiple hop link. Wireless WLAN link may comprise for example a Bluetooth wireless connection an 802.11 wireless connection a ZigBee connection a wireless USB connection a combination thereof or the like.

WLAN WWAN device comprises a WLAN adapter that provides an interface to a WLAN and devices connected thereto and a WWAN adapter that provides an interface to a WWAN and devices connected thereto. By way of non limiting example a WWAN adapter may comprise a Global System for Mobile communications GSM adapter a Code Division Multiple Access CDMA adapter a General Packet Radio Service GPRS adapter an Enhanced Data Rates from GSM Evolution EDGE adapter an International Mobile Telecommunications IMT 2000 adapter a Universal Mobile Telecommunications System UMTS adapter a CDMA2000 adapter an High Speed Downlink Packet Access HSDPA adapter a WiMax IEEE 802.16 adapter a Long Term Evolution LTE adapter a cellular WiFi adapter a combination thereof or the like. WLAN WWAN device may comprise a personal communications device such as for example a Blue tooth capable mobile phone a Wi Fi capable mobile phone or a personal digital assistant embedded computing device personal computer or the like.

User may carry WLAN device and or keep it in close proximity to his or her person. WLAN device may be designed to be amenable to constant or habitual carrying or wearing by user . For example WLAN device may comprise an earpiece headset a binaural over the head headset or the like. Where WLAN device is designed to be amenable to constant or habitual carrying or wearing by a user it is generally desirable that WLAN device be relatively small in size and weight consume little power and cost relatively little to produce. For these and other reasons WLAN device may have a limited functionality user interface.

User may be mobile with respect to either or both of WLAN WWAN device and base station . Some WWAN networks comprise a plurality of base stations and user may roam among these base stations. In some embodiments user and WLAN device may roam among several WLAN WWAN devices which may or may not be connected to the same WLAN. Because WLAN device communicates wirelessly with WLAN WWAN device user can interact with and access functionality of WLAN WWAN device remotely and without having physical access to or even knowledge of the location of WLAN WWAN device .

It is to be appreciated that control path is merely an example control path. A control path may be bidirectional in whole or in part. WLAN and WLAN WWAN devices may comprise a plurality of control paths and two or more control paths may overlap in whole or in part.

User input is provided at a user interface to a user interface module of WLAN device . User input may comprise for example a touch stimulus an electrical stimulus an audio stimulus a combination thereof or the like. In response to user input user interface module generates a WLAN device user control signal which is provided to a WLAN device controller .

WLAN device controller controls at least in part functionality of WLAN device . The functionality of WLAN device includes among other things interaction with WLAN WWAN device . For example WLAN device might be capable of communication with access to control of and or similar operations in respect of WLAN WWAN device .

In response to WLAN device user control signal WLAN device controller generates a remote functionality interface RFI control signal which is provided to a RFI module . RFI module is operable to communicate with a counterpart RFI module on WLAN WWAN device . RFI module and RFI module communicate over a LAN interface according to a shared communication protocol. By way of non limiting example RFI module and RFI module may comprise all or part of a Bluetooth protocol stack including for example a Bluetooth controller a Bluetooth host a Bluetooth host controller interface HCI and or implementations of one or more Bluetooth profiles a Session Initiation Protocol SIP stack combinations thereof or the like.

RFI module of WLAN device transmits RFI signal to RFI module of WLAN WWAN device . RFI signal may comprise for example information messages instructions commands combinations thereof or the like suitable for communicating with instructing accessing controlling and or performing like operations and combinations thereof with WLAN WWAN device .

In response to RFI signal RFI module of WLAN WWAN device generates WLAN WWAN device controller interface signal which is provided to WLAN WWAN device controller . WLAN WWAN device controller controls at least in part functionality of WLAN WWAN device . Such functionality may comprise for example communication through a WWAN interface e.g. initiating a telephone call sending an SMS message sending an email message updating a Web page and interaction with other devices through RFI module e.g. signaling an incoming telephone call to WLAN device along another control path not shown .

In response to WLAN WWAN device controller interface signal WLAN WWAN device controller communicates with WWAN interface module via WWAN interface control signal . In response to WWAN interface control signal WWAN interface module communicates with a WWAN not shown via WWAN signal .

It is to be understood that though the functional modules of WLAN device and WLAN WWAN device are shown as separate blocks along control path these are logical divisions for the purpose of explanation only and the blocks may be implemented in any suitable combination of hardware software executing on hardware and or firmware executing on hardware. For example functional modules of WLAN device and WLAN WWAN device may be implemented on a suitably configured controller such as for example a microprocessor a microcontroller a field programmable gate array FPGA another type of programmable logic device combinations of the foregoing or the like. For instance each of RFI module WLAN WWAN device controller and WAN interface module may be implemented in whole or in part on a programmable microprocessor configured to run a plurality of different software modules such as for example software objects libraries packages and the like having suitable communication interfaces therebetweeen.

WLAN device user control signal RFI control signal RFI signal LAN WAN device control signal and WAN interface control signal may be configured to convey information over interfaces between associated functional modules of WLAN device and WLAN WWAN device . These signals may comprise messages formatted and exchanged according to one or more communications protocols.

The functional modules of WLAN device and WLAN WWAN device respond to input according to specified behaviors. Where the behavior associated with an input is the generation of an output it can be said that the input is mapped to the output. In control path the functional modules of WLAN device and WLAN WWAN device map input signals received at input interfaces to corresponding output signals at output interfaces which in turn may be provided as inputs to other functional modules. For example user input may comprise a physical stimulus which is mapped by user interface module to an electrical signal that is registered by WLAN device controller WLAN device controller in turn maps the registered electrical signal to a function call to RFI module and RFI Module in turn maps the functional call to a Bluetooth Hands Free Profile control command.

Mappings between inputs and outputs of functional modules along control path may be defined according to service standards. For example RFI module may be configured to communicate with RFI module according to Bluetooth Hands Free Profile and so configured will map an RFI control signal indicative of a user s desires to redial the last dialed phone number e.g. a call to a redial function implemented in RFI module to a Bluetooth Hands Free Profile control command e.g. an AT BLDN command in RFA signal . Where RFI module is correspondingly configured it will map the received AT BLDN command in RFA signal to a WLAN WWAN device controller interface signal that causes WLAN WWAN device controller to redial the last dialed phone number e.g. a call to a redial function implemented in RFI module . Where modules are connected to interfaces for interaction with other devices mappings according to service standards are useful to ensure interoperability between devices.

The range of responses that a functional module provides may be limited by the range of inputs to the functional module. shows an interaction space diagram that illustrates an example range of interaction that a user of WLAN device may have with WLAN WWAN device . User control space represents the range of RFI control signal that can be generated by WLAN device controller in response to user input . User control space is mapped onto a subspace of remote functionality access RFA space . RFA space represents the range of RFA signal that can be generated by RFI module . A portion of RFA space that includes user control space is mapped onto WLAN WWAN remote control space . WLAN WWAN remote control space represents the range of WLAN WWAN device controller interface signal that can be generated by RFI module . A portion of WLAN WWAN remote control space that includes user control space is mapped onto WLAN WWAN device action space . WLAN WWAN device action space represents a range of possible actions at WLAN WWAN device .

Interaction space diagram shows that a user providing input to WLAN device has access to only a portion of the functionality of WLAN WWAN device i.e. the subspace of WLAN WWAN device action space onto which user control space is mapped . This situation is typical of some personal communications systems. For example some Bluetooth headsets have only volume control and binary call control user interface inputs. The volume control input is mapped to a signal that causes the volume of the audio output of the headset to change. The binary call control input is mapped to limited set of Bluetooth Hands Free Profile commands. For instance the call control input may be mapped to a set of Bluetooth Hands Free Profile commands based on the state of the headset according to the following logic 

Where a Bluetooth headset according to this example is paired with a mobile phone or similar device that supports the Bluetooth Hands Free Profile a user of the headset will have access to only a subspace of the functionality of the mobile phone that is accessible using the subset of Bluetooth Hands Free Profile commands mapped to the call control input.

Some embodiments provide systems and methods that expand the range of WLAN WWAN device actions accessible to a user of a WLAN device by expanding mappings of signals along control path . For example the range of WLAN WWAN device actions accessible to a user of a WLAN device may be expanded by implementing expanded signal mappings on either or both of a WLAN device and a WLAN WWAN device. For instance the subspace of WLAN WWAN device action space accessible to WLAN device may be expanded by implementing expanded signal mappings of user input to WLAN device user control signal by implementing expanded signal mappings of WLAN device user control signal to RFI control signal and or by implementing expanded signal mappings of RFI control signal to RFI signal . Alternatively or additionally the subspace of WLAN WWAN device action space accessible to WLAN device may be expanded on WLAN WWAN device by implementing expanded signal mappings of RFI signal to WLAN WWAN device controller interface signal and or by implementing expanded signal mappings of WLAN WWAN device controller interface signal to WWAN interface control signal .

Expanding mappings may comprise brokering signals at one or more interfaces along a control path. Signal brokering may comprise for example observing filtering delaying reordering and or injecting new additional or alternative signals at one or more interfaces along one or more control paths. Signal brokering may introduce expanded mappings based at least in part on patterns of signals. For instance signal brokering may comprise injecting additional or alternative signals upon observing one or more signals matching a particular pattern. Observed signals that match a particular pattern may be filtered i.e. discarded delayed or observed without modification.

Patterns of signals on which expanded mapping are based may comprise patterns defined in whole or in part by temporal signal information and or sequential signal information for example. Temporal signal information may comprise for example present values of one or more signals histories of values of one or more signals time series values of one or more signals time spacing between particular signal values time spacing between consecutive signal values and the like.

Signal brokering may introduce expanded mappings based at least in part on device state and event information including device state and event information comprising information concerning states of and events pertaining to functional modules. State information may comprise present state information time series state information sequential state information and the like. Event information may comprise event notifications time series event information sequential event information and the like. In some embodiments signal brokering introduces expanded mappings using combinations of patterns of signals and device state and or event information.

In a signal broker B is connected at two interfaces along a control path B. Signal broker B is connected at a first interface between functional modules B and B and connected at a second interface to functional module B. Signal broker B may be configured to expand signal mappings at functional module B by for example filtering one or more particular signals output from functional module B at the first interface and injecting an additional or alternative signal at the second interface. Whereas the filtered signal from functional module B would have been mapped by functional module B to a first output signal at the second interface signal broker B injects an additional or alternative signal at the second interface which may be different from the first output signal. The filtered signal is thus re mapped from the first output signal to the additional or alternative signal.

In a signal broker C is connected at an interface along a control path C between functional modules C and C. Signal broker C is connected to observe and inject signals at the interface between functional modules C and C but in the embodiment cannot intercept signals passing between functional modules C and C over the interface. Signal broker C is accordingly incapable of delaying filtering or re ordering signals passing between functional modules C and C over the interface. Signal broker C may be configured to expand signals mappings at functional module C by for example upon observing one or more particular signals output from functional module C injecting an additional signal as input to functional module C. The observed signal from functional module C is mapped by functional module C to a first output signal and the additional signal injected by signal broker C is mapped by functional module C to a second output signal. The observed signal from functional module C is thus re mapped from the first output signal to the combination of the first and second output signals.

In a signal broker D is connected at two interfaces along a control path D. Signal broker D is connected at a first interface between functional modules D and D and connected at a second interface to functional module D. Signal broker D is connected to observe signals at the first interface but in the embodiment cannot intercept signals passing between functional modules D and D over the first interface. Signal broker D is accordingly incapable of delaying filtering or re ordering signals passing between functional modules D and D over the first interface. Signal broker D is connected to inject signals at the second interface. Signal broker D may be configured to expand signal mappings at functional module D by for example upon observing one or more particular signals output from functional module D at the first interface injecting an additional signal at the second interface. The observed signal from functional module D is mapped by functional module D to a first output signal at the second interface and mapped by signal broker D to an additional signal injected at the second interface. The observed signal from functional module D is thus re mapped from the first output signal to the combination of the first output signal and the additional signal.

In a signal broker F is connected at an interface along a control path F between functional modules F and F and is also connected to functional module F. Signal broker F is interposed between functional modules F and F. In the absence of signal broker F functional modules F and F would be connected to a common interface. Signal broker F is configured to obtain state and or event information from function module F. Functional module F may comprise a facility provided by an operating system of a personal communications device for providing system state information and or event notifications for example. Signal broker F may be configured to expand signals mappings at functional module F based on signals observed at the interface to which signal broker F is connected and on state and or event information obtained from functional module F.

Though show unidirectional control paths it will be appreciated that signal brokering may be performed using signals passing in more than one direction along a control path. For example brokering of signals passing in a first direction along a control path may be based on signals passing in the first direction and or in another direction different from the first direction. It will also be appreciated that though show signal brokering based on signals at interfaces between functional modules signal brokering may be performed at an edge interface such as for example a LAN interface connected to a LAN interface module or a WAN interface connected to a WAN interface module.

It will further be appreciated that though show signal brokers implemented as discrete functional modules inserted into control paths and separate from the other functional modules of the control paths signal brokers may be implemented as two or more discrete functional modules as replacements for one or more previously existing functional modules and or by modifying previously existing functional modules to implement signal brokering functionality.

Brokering may be implemented in a personal communications device in hardware software and or firmware. For example signal brokering may be implemented on a suitably configured e.g. programmed controller. In some embodiments at least some aspects of the behavior of a signal broker are user configurable.

In some embodiments brokering is implemented by binding a signal broker to a functional module of a personal communications device. In some embodiments brokering is implemented by reconfiguring the bindings of connected functional modules such that the signal broker is bound between the functional modules. A signal broker may be bound to a functional module implemented in the controller at compile time and or at run time.

For example in an example embodiment implemented in the Windows CE operating system brokering may be implemented by binding an alternative AT Command Extension Module DLL module to the Bluetooth Audio Gateway Service btagsvc.dll in place of the default AT Command Extension Module by modifying the Windows registry entry for the Bluetooth Audio Gateway Service extension module e.g. HKLM Software Microsoft Bluetooth AudioGateway BTAGExtModule . With the alternative module installed and registry suitably modified when the operating system loads the services.exe application loads system service modules including the Bluetooth Audio Gateway Service btagsvc.dll and upon loading the Bluetooth Audio Gateway Service examines the registry entry for the names of its extension modules which will include the alternative AT Command Extension Module. The alternative AT Command Extension Module will receive Bluetooth Hands Free Profile AT commands from the Bluetooth Audio Gateway Service and can perform signal brokering on them such as by forwarding them to the default AT Command Extension Module discarding them injecting alternative commands to the default AT Command Extension Module and or injecting signals at other facilities available through the operating system e.g. APIs .

Signal brokering may be implemented at an interface at which messages are exchanged according to a communication protocol. Where brokering is implemented at such an interface the brokered signals comprise messages formatted and exchanged by functional modules according to pre defined rules of the communication protocol. For instance brokering may be implemented at an interface in a communications protocol stack.

Where brokering is implemented at an interface at which messages are exchanged according to a communication protocol the signals messages that the broker injects at the interface and the manner in which it injects them e.g. as regards sequencing timing and the like conform to the communication protocol. However the signals injected by brokering may be outside the space of the input signals ordinarily passing over the interface. For example brokering may be implemented at an interface connected to an input of a Bluetooth Hands Free Profile on a WLAN WWAN device that receives Bluetooth Hands Free Profile commands from an associated WLAN device which is configured to be capable of transmitting only the Table I Bluetooth Hands Free Profile commands i.e. ATA receive an incoming call AT CHUP terminate call in progress and AT BLDN redial the previously dialed number . In an embodiment according to this example brokering may re map some pattern of Bluetooth Hands Free Profile commands that can be generated by the WLAN device to one or more Bluetooth Hands Free Profile commands i.e. one or more Hands Free Profile commands that cannot normally be generated by the WLAN device such as for example an ATdd . . . dd command dial specified phone number .

In signal broker is interposed between RFI module and a LAN interface of LAN WAN device . A signal entering WLAN WWAN device over the LAN interface along path is received by signal broker . In an example embodiment broker may broker signals inbound along path by filtering them so that they do not pass outbound along path injecting one or more additional or alternative signals along either or both of path or path or doing a combination of these. Broker may also broker signals inbound to it from RFI module in a reverse direction along path . For example broker may broker signals inbound along path by filtering them such that they do not pass outbound along path injecting one or more additional or alternative signals along either or both of path or path or doing a combination of these.

In signal broker is interposed between RFI and a LAN interface of LAN device . A signal entering WLAN device over the LAN interface along path is received by signal broker . In an example embodiment broker brokers signals inbound along path by selectively selectively filtering them such that they do not pass outbound along path injecting one or more different signals along either or both of path or path or doing a combination of these. Broker may also broker to signals inbound to it from RFI module in a reverse direction along path . For example broker may broker signals inbound along path by filtering them such that they do not pass outbound along path injecting one or more alternative or additional signals along either or both of path or path or doing a combination of these.

In some embodiments signal brokering may implement expanded signal mappings using the concept of operating modes. shows a flowchart of a method according to an example embodiment which comprises a normal operating mode and an alternate operating mode . Method may be implemented in a signal broker and or a controller configured to perform signal brokering for example.

Normal operating mode comprises wait for input state . Input is checked at decision as to whether input comprises a signal satisfying an alternate operation mode activation criterion e.g. matching a signal pattern or otherwise satisfying an alternate operation mode activation criterion . If input does not comprise a signal satisfying an alternate operation mode activation criterion block NO output input is processed according to procedures defined for normal operating mode . Where a signal broker is implemented as a discrete module interposed functional modules that previously shared a common interface procedures defined for normal operating mode may comprise forwarding input without modification. If input comprises a signal satisfying an alternate operation mode activation criterion block YES output there is a transition to alternate operating mode . The signal satisfying an alternate mode activation criterion may be discarded passed onward without modification or processed in alternate operating mode . To the extent that input includes information in addition to the signal satisfying an alternate mode activation criterion then the relevant portion of input may be processed in an optional processing block not shown between the block YES output and alternate operating mode .

Alternate operating mode comprises wait for input state . Input is checked at decision as to whether in comprises a signal satisfying an alternate operation mode de activation criterion. If input does not comprise a signal satisfying an alternate operating mode de activation criterion block NO output input is processed at block according to procedures defined for alternate operating mode . Such procedures may comprise alternate mode mappings of signals to outputs which may comprise filtering delaying reordering and or injecting new additional or alternative signals. If input comprises a signal satisfying an alternate operation mode de activation criterion block YES output there is a transition to normal operating mode . The signal satisfying an alternate mode de activation criterion may be discarded passed onward without modification or processed in normal operating mode . To the extent that input includes information in addition to the signal satisfying an alternate mode de activation criterion then the relevant portion of input may be processed in an optional processing block not shown between the block YES output and normal operating mode .

Alternate operating mode activation and or de activation criteria may comprise a pattern of signals including pattern defined in whole or in part by temporal signal information and or sequential signal information. A signal may satisfy an alternate operating mode activation or de activation criterion comprising a pattern of signals in whole or in part by matching the pattern. Where brokering is implemented at an interface at which messages are exchanged according to a communication protocol an alternate operating mode activation and or de activation criteria may comprise a pattern of messages formatted and exchanged by components according to pre defined rules of the communication protocol.

Where brokering is implemented in a system comprising a limited input user interfaces alternate operating mode activation and de activation criteria may comprise patterns of signals that may be generated as a result of user input provided to the limited input user interface. By way of non limiting example an alternate operating mode activation criterion may comprise a sequence of a signals generated as a result of a particular user input being entered a specified number of times within a specified period of time. In some embodiments activation criteria and de activation criteria may be the same. In other embodiments these activation de activation criteria may be different. Alternate mode activation and or de activation criteria may be user configurable.

Some embodiments of the invention comprise methods having more than two operating modes i.e. operating modes in addition to a normal operating mode and an alternate operating mode of the above described embodiments . Transitions from one mode to one of several other operating modes may be possible. Transitions between operating modes may be reciprocal or unidirectional. Transitions between operating modes may be initiated by signals satisfying one of two or more different mode activation criteria. Transitions between operating modes may be initiated in response to device state and or event information alone or in combination with a signal satisfying a mode activation critera. Transitions between operating modes may be initiated in response to expiry of a timer or the like.

Signals satisfying mode activation criteria and or mode de activation criteria may be detected by a mode controller not shown disposed at one or more interfaces along a control path. A mode controller may be co located or integrated with a signal broker or may be located apart from a signal broker. A mode controller may be implemented in a suitably configured controller for example.

The use of normal and alternate operating modes can be adapted to facilitate emergency communications functionality in systems comprising WLAN devices and WLAN WWAN devices. Signal brokers may be used to facilitate emergency communications functionality by implementing suitable expanded signal mappings. For example an alternate operating mode activation criterion may comprise an emergency mode activation criterion and an alternate operating mode may comprise an emergency mode.

An emergency mode may comprise an emergency routine e.g. as a part of the block routine and or the block processing . An emergency routine may comprise injecting a signal configured to initiate an emergency communication over a WAN. By way of non limiting example an emergency routine may comprise one or more of establishing an audio connection between the LAN device and an associated WLAN WWAN device auto dispatching SMS alerts to one or more emergency contacts continuously automatically attempting to establish telephone calls with one or more emergency contacts auto sending emails to one or more emergency contacts communicating with an emergency response dispatch center e.g. establishing a telephone call with a 9 1 1 emergency response dispatch center indicating to the user that emergency mode has been activated combinations thereof or the like. In some embodiments each of a plurality of emergency modes may comprise a different emergency routine.

In some embodiments emergency routines may be user configurable. For example a user may configure a signal broker and or a controller with an ordered list of emergency contacts to be contacted in an emergency. In some embodiments a user may configure a signal broker and or a controller with an order of operations to be performed in an emergency mode routine e.g. phone a first emergency contact then phone 911 then send email to a plurality of emergency contacts .

An emergency mode may comprise procedures for processing signals which procedures differ from the procedures for processing signals in a normal operating mode. For example in emergency mode a personal communications device may ignore incoming calls that are not from a correspondent on a list of authorized correspondents. Authorized correspondents may include for example emergency contacts emergency services centers and the like. In some embodiments procedures for processing signals in an emergency operating mode are user configurable.

Inputs received while in emergency mode may impact an emergency routine. For example an emergency routine may repeatedly attempt to establish contact with one or more emergency contacts until an input indicative of establishment of contact with one of the emergency contacts is received. Similarly an emergency routine may repeatedly dispatch SMS messages to one or more emergency contacts until a reply SMS message is received from one of the emergency contacts.

Emergency mode method is initiated by a signal satisfying an emergency mode activation criterion. Emergency mode method may be implemented as part of an alternate mode routine as part of block processing or as some combination thereof. Upon receiving the signal satisfying the emergency mode activation criterion an audio connection is established in block between the WLAN WWAN device and the WLAN device if such a connection does not already exist. In block a tone is played out by the WLAN to confirm to the user that a signal satisfying the emergency mode activation criterion has been received. After the block emergency mode activation confirmation method proceeds to block in which the WLAN WWAN device dispatches SMS messages to SMS emergency contacts. The SMS emergency contacts used in block may be stored in the WLAN device the WLAN WWAN device or another place accessible to the signal broker and or controller on which method is implemented. The block SMS messages may comprise an identification of the user a time at which the emergency alert was activated an indication of the nature of the emergency and or the location of the WLAN device and or the WLAN WWAN device. In some embodiments block SMS messages are retransmitted to SMS emergency contacts from whom an acknowledgment is not received within a timeout. In some such embodiments the timeout and or the number of retransmissions may be user configurable.

After the block SMS messages are dispatched method proceeds to block in which the WLAN WWAN device dials the phone number of the first emergency contact in a phone emergency contact list. The block phone emergency contact list may be user configurable. The phone emergency contact list may be stored in the WLAN device the WLAN WWAN device or another place accessible to the signal broker and or controller on which method is implemented. The phone emergency contact list may comprise one or more of the block SMS emergency contacts. If a phone connection is established block YES output there is a wait in block until the connection is terminated after which if all of the numbers in the phone emergency contact list have not already been dialed method proceeds to block in which the WLAN WWAN device dials the next phone number of the phone emergency contact list. If a phone connection was not established with the first number block NO output e.g. because the numbered dialed was busy or the call was not answered and there are more phone numbers in the list then method proceeds to block which involves dialing the next phone number of the phone emergency contact list. The cycle of dialing phone numbers and establishing connections is repeated until the emergency phone list is exhausted at which point there is a wait in block for a timeout. After the block timeout expires method returns to block where all of the phone numbers are tried again starting with the first number. In some embodiments the block timeout is user configurable.

In some embodiments re dialing of numbers may depend on the reason why connections were not established when the numbers were previously tried. For example numbers that were busy may be re dialed before numbers for which no answer was received.

Several other optional behaviors may be implemented in emergency mode including by way of non limiting example 

In some embodiments an emergency activation criterion may comprise a signal that may be generated in response to information from one or more sensors such as for example 

In some embodiments such sensors may be part of or in communication with a WLAN device such as a handsfree device. The WLAN device may be configured to stream data from a sensor to a controller located on the WLAN WWAN device. Alternatively both the sensor as well as the controller configured to interpret the sensor data may exist on the WLAN device.

In some embodiments a signal broker and or a controller in a WLAN device or a WLAN WWAN device is configured to enter an emergency mode upon the detection of sensor data that indicates that the user is subject to an emergency condition such as for example sensor data that indicates that the user has fallen been inactive for a period of time suffered a deleterious change in physiological condition strayed outside of a defined geographic area been subject to excessively hot or cold temperatures for more than a threshold period of time or the like. For example a signal broker and or a controller in a WLAN device or a WLAN WWAN device may be configured to enter an emergency mode if a spike in acceleration followed by a period of lesser activity is detected and or if a period of inactivity greater than a threshold duration is detected. Criteria for detecting emergency conditions may be based at least in part on time of day data. Emergency detection conditions such as sensor data thresholds time durations geographical boundaries and time of day criteria may be user configurable.

In some embodiments a WLAN device comprises a sensor coupled to logic such as in a controller configured to inject a signal satisfying an emergency mode activation criterion into a control path upon detecting sensor data indicative of an emergency condition. WLAN device according to such embodiments may be associated with a WLAN WWAN device comprising a signal broker along the control path configured to enter an emergency mode upon observing the injected signal satisfying the emergency mode activation criterion. The control path may comprise a control path configured to carry signals generated in response to user input for example.

In the illustrated embodiment a signal broker is interposed between serial port profile and hands free profile and is configured to broker Bluetooth Hands Free Profile commands passing between serial port profile and hands free profile . As discussed above signal broker may provide expanded uni directional and or multi directional signal mapping of Bluetooth Hands Free Profile commands between hands free profile and serial port profile . In some embodiments signal broker may interact with one or more WLAN WWAN device APIs . Signal broker may have been installed on WLAN WWAN device as an addition to the stock configuration of WLAN WWAN device e.g. WLAN WWAN device may have been sold without signal broker and an end user may have installed signal broker .

In normal operating mode WLAN WWAN device may serve as a communication bridge between a WLAN device e.g. a Bluetooth headset and a WWAN e.g. a cellular telephone network . While normal operating mode prevails signal broker may monitor i.e. without altering messages passing between serial port profile and Hands Free Profile . When signal broker observes a signal satisfying an emergency mode activation criterion e.g. a designated pattern of messages passing between serial port profile and Hands Free Profile signal broker enters an emergency operating mode and may initiate an emergency routine.

The emergency mode activation criterion may comprise a pattern of signals that may be matched by signals generated in response to a corresponding pattern of user input entered at the WLAN device. For example if while the WLAN device is in an idle state two successive presses of a particular button on a user interface of the WLAN device cause AT BLDN 1 enable voice recognition and AT BLDN 0 disable voice recognition commands to be transmitted in sequence from the Hands Free Profile of the WLAN device to the Hands Free Profile of the WLAN WWAN device an emergency mode activation criterion may comprise a pattern comprising a sequence of an AT BLDN 1 command and an AT BLDN 0 command occurring within a 2 second time window. In an embodiment according to this example signal broker observes a signal satisfying this emergency mode criterion when it observes an AT BLDN 1 command and an AT BLDN 0 command within a 2 second time window.

The emergency routine may comprise signal broker injecting Bluetooth Hands Free Profile commands into Hands Free Profile . Bluetooth Hands Free Profile commands injected into Hands Free Profile may comprise commands which cannot be generated by the WLAN device not shown that generated the commands which constituted the emergency mode activation signal. For example the WLAN device may be configured to be capable of transmitting only the Table I Bluetooth Hands Free Profile commands i.e. ATA receive an incoming call AT CHUP terminate call in progress and AT BLDN redial the previously dialed number . In an embodiment according to this example Bluetooth Hands Free Profile commands injected into Hands Free Profile may comprise one or more Bluetooth Hands Free Profile commands that cannot normally be generated by the WLAN device such as for example an ATdd . . . dd command dial specified phone number i.e. a signal configured to initiate a communication over the wide area network which communication is different from a communication that would have occurred in the absence of the injected alternate mode signal .

In some embodiments the emergency routine comprises signal broker interacting with one or more WLAN WWAN device APIs . For example signal broker may be configured to inject signals at one or more WLAN WWAN device APIs which signals are configured to initiate an alternate communication over the wide area network. In some embodiments signal broker is configured to obtain information about the user s present circumstances e.g. location physiological condition etc. using a WLAN WWAN device API and to inject a signal configured to initiate a communication over the wide area network that contains the information about the user s present circumstances.

While in emergency mode signal broker may broker Bluetooth Hands Free Profile commands between serial port profile and Hands Free Profile in order to alter the responses of WLAN WWAN device to inputs arriving via Bluetooth stack and or WWAN interface . When signal broker detects a signal satisfying an emergency mode de activation criterion it returns to normal operating mode.

Optional accelerometer is configured to generate acceleration data for LAN device . In some embodiments accelerometer is configured to provide acceleration data to serial port profile which is configured to forward the data to a WLAN WWAN device not shown via Bluetooth stack for detection of one or more acceleration based emergency conditions e.g. a fall . The WLAN WWAN device may be configured to enter an emergency mode upon detecting an emergency condition in the acceleration data.

In some embodiments accelerometer provides acceleration data to control logic and control logic analyzes the data to detect one or more emergency conditions. In some such embodiments control logic is configured to cause Hands Free Profile to generate a pattern of Bluetooth Hands Free Profile commands that satisfy an emergency mode activation criterion. In other such embodiments control logic is configured to cause signal broker to enter an emergency mode.

In normal operating mode WLAN device may serve as an interface for a user to communicate with a WWAN e.g. a cellular telephone network via a WLAN WWAN communication bridge e.g. a mobile phone . While normal operating mode prevails signal broker may monitor i.e. without altering signals passing between Hands Free Profile and serial port profile . When signal broker detects a signal satisfying an emergency mode activation criterion e.g. a designated pattern of Bluetooth Hands Free Profile commands passing between Hands Free Profile and serial port profile which may be generated by Hands Free Profile in response to user input entered at user interface signal broker enters an emergency operating mode and may initiate an emergency routine.

The emergency routine may comprise injecting Bluetooth Hands Free Profile commands into serial port profile . Bluetooth Hands Free Profile commands injected into Hands Free Profile may comprise commands which user input at interface module cannot cause to be generated by the Hands Free Profile . For example the user input may be configured to be capable of causing Hands Free Profile to generate only the Table I Bluetooth Hands Free Profile commands i.e. ATA receive an incoming call AT CHUP terminate call in progress and AT BLDN redial the previously dialed number . In an embodiment according to this example Bluetooth Hands Free Profile commands injected into Hands Free Profile may comprise one or more Bluetooth Hands Free Profile commands that cannot normally be generated as a result of user input at interface module such as for example an ATdd . . . dd command dial specified phone number . In some embodiments the emergency routine comprises signal broker interacting with control logic such as by injecting signals into control logic for example.

While in emergency mode signal broker may broker Bluetooth Hands Free Profile commands between serial port profile and Hands Free Profile in order to alter the responses of WLAN device to inputs arriving via Bluetooth stack . When signal broker detects an emergency mode de activation signal it returns to normal operating mode.

In operation Bluetooth handsfree profile HFP AT commands received from an associated WLAN Bluetooth device not shown are passed through Bluetooth stack not shown via Bluetooth Stack API to Audio Gateway Core Component . Audio Gateway Core Component calls custom AT Command Extension module to handle incoming Bluetooth HFP AT commands. Custom AT Command Extension module is configured to broker Bluetooth HFP AT commands passed to it by Audio Gateway Core Component . For example custom AT Command Extension module may be configured to monitor Bluetooth HFP AT commands passed to it by Audio Gateway Core Component and after a delay pass them to default AT command extension module . If custom AT Command Extension module detects a sequence of received Bluetooth HFP AT commands that matches a pattern of Bluetooth HFP AT commands that constitute an emergency mode activation criterion e.g. user configurable or predetermined emergency mode activation criterion a state machine not shown implemented in custom AT Command Extension module may enter an emergency mode and custom AT Command Extension module may discard the received emergency mode activation sequence of Bluetooth HFP AT commands without passing them to default AT Command Extension module inject one or more alternative Bluetooth HFP AT commands into default AT command extension module according to an emergency routine and inject one or more signals into one or more WLAN WWAN Device APIs which may comprise any combination of the APIs or additional APIs not included in the embodiment .

Bluetooth Audio Gateway Service is loaded by the operating system of the WLAN WWAN device. When a handsfree device becomes available Bluetooth Audio Gateway Service loads Custom AT Command Extension Module and invokes the exported BthAGATSetCallback function of Custom AT Command Extension Module passing the function a pointer to a callback function pfn SendATCommand implemented in the Bluetooth Audio Gateway Service . Custom AT Command Extension Module stores the function callback pointer for later use e.g. for sending AT responses from the WLAN WWAN device to an associated Bluetooth WLAN device such as may be required to control the behaviour of an associated Bluetooth WLAN device not shown where commands from the associated Bluetooth WLAN device are re mapped by Custom AT Command Extension Module for example and returns control to Bluetooth Audio Gateway Service .

Bluetooth Audio Gateway Service is configured to receive Bluetooth HFP commands including without limitation AT commands from an associated Bluetooth WLAN device not shown . Bluetooth Audio Gateway Service passes received AT commands to Custom AT Command Extension Module using the exported BthAGATHandler function. On the first invocation of the BthAGATHandler function Custom AT Command Extension Module performs an initialization routine that includes auto generating a configuration file if none is present loading the Default AT Command Extension Module not shown creating a keypress queue for receiving AT command received via the BthAGATHandler function and creating three separate threads 

Operating system state and event notifications are monitored by monitoring thread . System monitoring thread enables Custom AT command extension module to monitor system state information and event notifications in the operating system of the WLAN WWAN device. System state information and event notifications may comprise information not apparent from AT commands provided to keypress queue . For example system monitoring thread may be configured to monitor the call state of Bluetooth Audio Gateway Service e.g. the state indicative of whether a call is incoming to the WLAN WWAN device over the WWAN interface . System monitoring thread may be bound to a Windows Mobile State and Notifications broker for example. System monitoring thread is configured to provide notification of certain changes in state and or certain event notifications to keypress state machine thread .

In operation AT commands received via the BthAGATHandler function are placed in keypress queue received AT commands being generated in response to user keypresses at the associated WLAN device . Optional keypress filter logic may cause select AT commands e.g. AT commands that do not form part of an emergency mode activation or de activation signal to the Default AT Command Extension Module bypassing keypress queue . Keypress state machine thread monitors the keypress queue for patterns of AT commands that satisfy emergency mode activation and de activation criteria. In some embodiments signals satisfying certain emergency mode activation and de activation criteria are recognized as such only when the WLAN WWAN device is in a particular state e.g. states indicated by system monitoring thread . AT command patterns for emergency mode activation and de activation criteria may be defined in configuration file . AT command patterns for emergency mode activation and de activation criteria may be user configured using a configuration application .

When keypress state machine thread is not in an emergency mode state AT commands from keypress queue are passed to the default AT command extension module not shown . When keypress state machine thread detects a signal satisfying an emergency mode activation criterion in keypress queue it transitions to an emergency mode state. When keypress state machine thread is in an emergency mode state keypress state machine thread monitors keypress queue and may discard AT commands from keypress queue i.e. without passing AT commands from keypress queue to the default AT command extension module and or may process AT commands differently than the default AT command extension module. Keypress state machine thread is configured to provide notification of its state to alarm manager thread . When keypress state machine thread detects a signal satisfying an emergency mode de activation criterion in keypress queue it transitions to a normal operating mode state.

Alarm manger thread is responsive to the state of keypress state machine . When keypress state machine thread is in an emergency mode state alarm manager thread performs emergency mode operations which may include dispatching SMS messages via SMS Alarm handler and or attempting telephone calls via Phone Alarm Handler . Emergency mode operations performed by alarm manager thread may be defined in configuration file . Emergency mode operations may be user configured using a configuration application . For example a user may use configuration application to define 

SMS Alarm handler and Phone Alarm Handler are configured to control functionality of the WLAN WWAN device on which they are implemented via WLAN WWAN Device APIs . It will be appreciated that when alarm manager thread performs emergency mode operations via SMS Alarm handler and or Phone Alarm Handler it may be injecting signals into one control path e.g. the WAN control path for control of the SMS dispatching functionality of the WLAN WWAN device in response to an emergency mode activation signal observed on another control path the control path for AT command functionality which is monitored by keypress state machine thread .

Some embodiments provide for implementing alternative signal mappings along a control path in a personal communications device by changing the configuration of the personal communication device. For instance some embodiments provide means for installing a signal broker along a control path in a personal communications device such as by configuring a controller in a personal communications device to perform signal brokering for example.

Some WLAN devices and WLAN WWAN devices can be configured and or reconfigured e.g. programmed and or re programmed . For example some mobile phones may be configured by information input to the mobile phone via a computer or downloaded to the mobile phone over the Internet. Such configuration information may comprise software applications that add or alter the operation of the mobile phone. Some embodiments provide methods and program products for configuring a personal communications device to implement signal brokering according to embodiments. For example some embodiments provide a program product comprising a non transitory medium carrying computer readable instructions which when executed by a computer connected to a personal communications device install a signal broker according to embodiments on the device. In some such embodiments the computer readable instructions cause computer readable instructions to be installed on a memory in the personal computer device accessible to a controller of the personal communications device. For another example some embodiments provide a program product comprising a non transitory medium carrying computer readable instructions which when executed by a computer connected to a personal communications device configure a controller of the personal communications device to perform signal brokering according to embodiments. In some such embodiments the computer readable instructions cause computer readable instructions to be installed on a memory in the personal communications device accessible to a controller of the personal communications device.

One particular example embodiment provides a software upgrade package that is configured to be executed on a WLAN WWAN device running the Windows Mobile Operating system. Upon being executed the software package is configured to install a configuration application a Custom AT Command Extension Module DLL an SMS alarm handler module DLL and a phone alarm handler module DLL to record the pre existing registry entries e.g. BTAGExtModule key values for any default or pre installed AT Command Extension Module and replace them with an entry for the custom Command Extension Module.

It will be appreciated some users use a non reconfigurable WLAN device in association with a WLAN WWAN device that is reconfigurable e.g. a basic Bluetooth headset in association with a Bluetooth enabled mobile phone . In these circumstances a user can add emergency functionality to the WLAN device by changing the configuration of the WLAN WWAN device without having to change the configuration of the WLAN device. Of course a WLAN WWAN device pre configured to recognize an emergency activation signal that can be generated using the user interface of the WLAN device could also be manufactured.

Some embodiments provide a method for providing alternate mode communication functionality to a personal communications device configured to communicate with a wide area network and having a control path comprising one or more functional modules the one or more functional modules comprising a LAN interface module and one or more interfaces for communicating along the control path and to or from the one or more functional modules signals generated in response to user input the one or more interfaces comprising a LAN interface for communicating the signals along the control path and to or from the LAN interface module the method comprising storing a computer program in a computer readable medium accessible to a host computer and in response to a request from the personal communications device transmitting the computer program to the personal communications device wherein when executed by a controller of the personal communications device the computer program causes the controller to monitor signals at a monitored interface of the control path and upon observing a signal satisfying an alternate mode activation criterion at the monitored interface inject an alternate mode signal configured to initiate an alternate mode communication over the wide area network.

Embodiments may find applications in several situations and scenarios. Consider the example of a senior citizen who is working in the garden in his backyard. He has a handsfree Bluetooth communicator i.e. a WLAN device attached to his shirt. A mobile phone i.e. a WLAN WWAN device according to an example embodiment associated with the handsfree Bluetooth communicator is located somewhere inside his house. His daughter calls his mobile phone to check up on him. The mobile phone signals the incoming call to the handsfree device and the handsfree device rings to alert him to the incoming call. He hears the ringing on the handsfree device and taps a call control button once to receive the call. The tap on the call control button generates a cascade of signals along a control path that spans the LAN interface between the handsfree device and the mobile phone. As a result the mobile phone answers the call and the call is connected to the handsfree device. He is able to talk hands free to his daughter while he continues his work in the garden.

Once the conversation is over he taps on the call control button once more to hang up the call. While working in the garden he steps on a sharp object and badly injures his foot. Realizing that he is bleeding badly and is practically immobile he taps on the call control button of the handsfree device twice to activate an emergency alert. The pattern of double tapping the call control button causes an emergency mode activation signal to be generated along the control path that spans the LAN interface between the handsfree device and the mobile phone. A signal broker implemented in the mobile phone that monitors signals at a monitored interface along the control path detects the emergency mode activation signal at the monitored interface. Upon observing the emergency mode activation signal the signal broker enters an emergency mode in which it injects an emergency mode signal configured to initiate a telephone call to 911.

The mobile phone connects to 911 and the call is connected to the handsfree device. Speaking into the handsfree device he is able to clearly explain what kind of injury he has suffered while using both his hands to put pressure on the wound to stop bleeding. Once the 911 operator ensures him that the help is on the way and the call is disconnected the signal broker performs a next action in an emergency mode routine injecting another emergency mode signal configured to initiate a telephone call to the nurse of the injured subject. The mobile phone connects to the nurse s telephone and the call is connected to the handsfree device. He explains to the nurse his situation. The nurse immediately dispatches a copy of his medical history to the emergency ward of the local hospital so that the attending doctor has complete knowledge of his health and physiology.

When the call to the nurse is disconnected the signal broker performs a next action in an emergency mode routine injecting another emergency mode signal this one configured to initiate a telephone to the daughter. The mobile phone dials his daughter s number but her line is now busy. Recognizing that the line is busy from signals observed at a monitored interface the signal broker again injects an emergency mode signal configured to initiate a telephone call to the daughter. This time the call is connected and father and daughter are able to speak to one another. After talking to her father and relieved that the help is on the way she heads out to his house to pick up a few of his items for the hospital and to make sure that the house is properly locked.

Consider the example of a nurse in a nursing home. A nurse in the nursing home or a hospital may use a system according to an embodiment to call upon her his colleagues for help while continuing to use both her hands to attend to the needs of the resident patient. Such a system may comprise a signal broker configured to dial his her colleagues one by one and allows him her to explain the situation and get the right help without having to disrupt his her current task at hand.

Consider the example of a young female walking towards her car in the parking lot of a train station late at night. She realizes that a suspicious looking character appears to be following her. She is afraid that he may be armed and dangerous and therefore does not want to draw his attention. Instead of getting her mobile phone i.e. a WLAN WWAN device out of her purse and dialling 911 she gently taps twice the call control button on her Bluetooth headset i.e. a WLAN device which she is wearing in her ear. The emergency alert is activated. The system sends an SMS containing her location to her husband which it has obtained from a GPS via a location API and dials 911 as per her emergency contacts list which she configured. She is able to apprise a 911 operator of her situation without alerting the potential stalker. She is now walking casually and a bit more confidently now that the 911 operator is on the other end of her Bluetooth headset. Meanwhile her husband has already passed on her location to 911. The police arrive to the parking lot before any unfortunate incident could occur.

It will be appreciated that embodiments may be implemented on a variety of WLAN WWAN platforms including Windows Mobile Google Android OS Palm OS Blackberry OS iOS Symbian OS and the like.

Where a component e.g. module broker controller device product etc. is referred to above unless otherwise indicated reference to that component including a reference to a means should be interpreted as including as equivalents of that component any component which performs the function of the described component i.e. that is functionally equivalent including components which are not structurally equivalent to the disclosed structure which performs the function in the illustrated exemplary embodiments of the invention.

Those skilled in the art will appreciate that embodiments described herein may be practised or implemented without all of the features ascribed to them herein and that certain features of embodiments described herein may be used in combination with features of other embodiments described herein. Method embodiments may include features that correspond to features of apparatus embodiments described herein and vice versa. Such variations on described embodiments that would be apparent to the skilled addressee including variations comprising mixing and matching of features from different embodiments are within the scope of this invention.

As will be apparent to those skilled in the art in the light of the foregoing disclosure many alterations modifications additions and permutations are possible in the practice of this invention without departing from the spirit or scope thereof. The embodiments described herein are only examples. Other example embodiments may be obtained without limitation by combining features of the disclosed embodiments by re arranging the components of disclosed embodiments and or by re ordering the operations of disclosed embodiments. It is therefore intended that the following appended claims and claims hereafter introduced are interpreted to include all such alterations modifications permutations additions combinations and sub combinations as are within their true spirit and scope.

