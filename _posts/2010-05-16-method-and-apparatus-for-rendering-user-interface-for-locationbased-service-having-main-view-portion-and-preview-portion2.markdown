---

title: Method and apparatus for rendering user interface for location-based service having main view portion and preview portion
abstract: A method including causing, at least in part, rendering of a user interface for a location-based service that simultaneously includes both a main view portion and a preview portion. One of the main view portion and the preview portion is caused, at least in part, to display a perspective view of one or more objects in a field of view, and the other of the main view portion and the preview portion is caused, at least in part, to display a plan view of at least a portion of the one or more objects in the field of view.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09582166&OS=09582166&RS=09582166
owner: Nokia Technologies Oy
number: 09582166
owner_city: Espoo
owner_country: FI
publication_date: 20100516
---
Service providers e.g. wireless cellular Internet content social network etc. and device manufacturers are continually challenged to deliver value and convenience to consumers by for example providing compelling network services. One area of interest has been the development of mapping and navigating graphics e.g. digital maps and or images e.g. 360 panoramic street level views of various locations and points of interest augmented with for instance navigation tags and location relevant content. Typically navigation mapping and other similar services can display either panoramic views or two dimensional rendered maps. Each type of view has respective advantages and disadvantages. However a user generally has to switch back and forth between such views manually which makes it difficult for a user to grasp how these views correlate to one another.

Therefore there is a need for an approach for rendering a user interface for a location based service that has a main view portion and a preview portion.

According to one embodiment a method comprises causing at least in part rendering of a user interface for a location based service that simultaneously includes both a main view portion and a preview portion wherein one of the main view portion and the preview portion is caused at least in part to display a perspective view of one or more objects in a field of view and wherein the other of the main view portion and the preview portion is caused at least in part to display a plan view of at least a portion of the one or more objects in the field of view.

According to another embodiment an apparatus comprising at least one processor and at least one memory including computer program code the at least one memory and the computer program code configured to with the at least one processor cause at least in part the apparatus to cause at least in part rendering of a user interface for a location based service that simultaneously includes both a main view portion and a preview portion wherein one of the main view portion and the preview portion is caused at least in part to display a perspective view of one or more objects in a field of view and wherein the other of the main view portion and the preview portion is caused at least in part to display a plan view of at least a portion of the one or more objects in the field of view.

According to another embodiment a computer readable storage medium carrying one or more sequences of one or more instructions which when executed by one or more processors cause at least in part an apparatus to perform causing at least in part rendering of a user interface for a location based service that simultaneously includes both a main view portion and a preview portion wherein one of the main view portion and the preview portion is caused at least in part to display a perspective view of one or more objects in a field of view and wherein the other of the main view portion and the preview portion is caused at least in part to display a plan view of at least a portion of the one or more objects in the field of view.

According to another embodiment an apparatus comprises means for causing at least in part rendering of a user interface for a location based service that simultaneously includes both a main view portion and a preview portion wherein one of the main view portion and the preview portion is caused at least in part to display a perspective view of one or more objects in a field of view and wherein the other of the main view portion and the preview portion is caused at least in part to display a plan view of at least a portion of the one or more objects in the field of view.

Still other aspects features and advantages of the invention are readily apparent from the following detailed description simply by illustrating a number of particular embodiments and implementations including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments and its several details can be modified in various obvious respects all without departing from the spirit and scope of the invention. Accordingly the drawings and description are to be regarded as illustrative in nature and not as restrictive.

Examples of a method apparatus and computer program for rendering a user interface for a location based service that has a main view portion and a preview portion are disclosed. In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent however to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances well known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.

As used herein the term image refers to one or a series of images taken by a camera e.g. a still camera digital camera video camera camera phone etc. or any other imaging equipment. Although various embodiments are described with respect to a live camera view it is contemplated that the approach described herein may be used with other live or real time images e.g. a still image a live view a live webcam view etc. as long as the image is associated with a location a tilt angle and heading of the imaging device e.g. camera at the time of image capture.

As used herein the term point of interest POI refers to any point specified by a user or service provider. The term POI is also used interchangeably with the term object. By way of example the point of interest can be a landmark restaurant museum building bridge tower dam factory manufacturing plant space shuttle etc.

As used herein the term perspective view refers to any view that provides some perspective to an object shown therein either when shown using 2D or 3D displays or using 2D or 3D images. Such perspective views can be real time images e.g. in an augmented reality setting using a camera of the device a panoramic image e.g. a pre stored panoramic photograph 3D modeling in virtual reality or other modified views that attempt to show real or virtual depth to objects or surroundings whether constructed with 2D images or 3D images.

As mentioned previously navigation mapping and other like services and systems display either panoramic views or two dimensional rendered maps but do not attempt to merge the two views. When content is presented in a 2D view certain content might be clustered or too close to be visible for the user. When content is presented in a 3D view e.g. a panoramic image or directly through camera view then the visible content is limited to the current scene or position of the camera. It is usually a problem that switching views can cause confusion in the understanding of the space and location especially when the user is not very familiar with the place in view. Some related art services show content only in the map and only when the view is maximized. Other augmented reality or mixed reality services may display content in different ways depending on the kind of content however typically the content is shown in a shaking manner and not affixed in a stable manner to an object or POI.

To address shortcomings of other related art systems a system of introduces the capability of rendering a user interface for a location based service that has a main view portion and a preview portion which can allow a user to simultaneously visualize both a perspective view for example showing panoramic images of an area and a corresponding plan view of a map of the area and switch between such views as desired.

Thus a small preview can be displayed in the mobile UI where the most relevant content is shown. For example when a user is browsing a panoramic view on the UI the user has the option to preview the map showing the surroundings of what is displayed in the panorama view. Similarly when browsing the map the preview shows the closest panorama of the point the user has focused on the map. Both views display the content that can be found in the area allowing a better sense of the space and location. The actions in the main view are reflected in the preview so that the user always has a sense of where to go physically if the user happens to be in the location in view or virtually if the user is remotely browsing the area. Selecting rich content information in a crowded area on the map can open a list view of all the content in that crowded area while selecting content on the panorama can open more specific content or list view.

The preview can easily be tapped to switch views and to navigate easily depending on the user s needs. The preview can also be hidden easily by starting a full screen view mode. If the user is navigating in the map or plan view the user can tap in any new location in the map and that will take the user s point of view to the tapped spot on the map and at the same time the panorama in the preview will update to the closest panorama image from that new defined spot on the map. The user can also rotate the phone or the point of view POV icon to move the orientation of the map which will affect the orientation of the panorama preview as well. The panorama image can be taken from the main panorama view in low resolution to adapt in size and be quick. Using a part of the screen as a preview of a different UI view and as a way to easily switch between scenes or views.

This solution allows users to understand better their surroundings and the remote surroundings when browsing location based content or navigating in 2D maps and 3D panoramic images. The discovery of content and the understanding of the precise place to attach content become easier and nicer. Switching from one view to the other is very intuitive as both views show the same location and orientation.

As an example when the user stands at a current location e.g. the Farragut West METRO Station the user can operate a user interface of a user device e.g. user equipment UE to show a plan view of a map of the surrounding area or of another area such as a final destination of the user in a main view portion of the user interface while a perspective view of the surrounding area is shown in a preview portion of the user interface in order to give the user an idea of the 3D panoramic view of the surrounding area. The perspective view can be generated by using the camera of the user device to capture images of the surrounding area in real time e.g. in augmented reality by using pre stored images e.g. previously captured images or virtual reality images or a combination of real time images and pre stored images e.g. mixed reality . The portion of the user interface showing the plan view of the map can include an orientation representation e.g. a periscope icon with an outwardly extending cone of vision that indicates the field of view of the perspective view. The field of vision can be adjusted by the user by adjusting the orientation of the user device e.g. utilizing a compass or other device to determine the change in orientation by manually manipulating the orientation representation of the field of view on the plan view of the map on the user interface and or by manually manipulating the view in the perspective view on the user interface. The user can switch the plan view of the map from the main view portion of the user interface to the preview portion and thus also switch the perspective view from the preview portion to the main view portion of the user interface. This dual window configuration allows a user to easily interpret the location and orientation of the perspective view and allows a user to quickly and intuitively navigate to a POI or otherwise determine their location.

As noted above the perspective view can be displayed using real time images pre stored pre recorded images or the system can retrieve and stitch a prerecorded still image right next to the live image side by side then displays the seamlessly stitched images to the user. To make the switch seamlessly the system correlates a prerecorded panoramic image that has the same tilt angle and has directional heading right next to the live image and displays the correlated prerecorded panoramic image on the screen. Even if two images were taken by the same device at the same location with the same tilt angle and the same directional heading the coverage of the images can be different due to a height of the user or the settings e.g. digital zooming contrast resolution edited clipped etc. . If two images were taken by two devices at the same location with the same tilt angle and the same directional heading the coverage of the images can still be different due to different specifications of the two devices. The devices can have different imaging specifications such as LCD size optical zoom digital zoom zoom wide zoom telephoto effective pixels pixel density image stabilization aperture range etc. which affect the quality and depth of images taken by two devices.

However the existing photo matching technology allows near 100 matching between the live image and the prerecorded panoramic images. There are photo matching applications e.g. photo match online search engines which compare images pixel by pixel for choosing the best matched panoramic still image for the live image. There are also photo stitching applications which make the boundary between the live image and a prerecorded panoramic still image seamlessly. As the user continues touching the navigational arrow touching the edge of the screen more prerecorded panoramic still images are matched and stitched to roll out to the screen as a panoramic view on the fly.

To navigate from the current location to a POI the user indicates to the system the POI as the destination. By way of example when the system receives a target location such as the International Monetary Fund IMF Building as the intended POI e.g. received as text or on a digital map on the screen of the UE etc. the system retrieves location data e.g. an address GPS coordinates etc. of the IMF or the location data of the device used to capture a prerecorded panoramic image of the IMF e.g. if the POI is not as well known as the IMF such as a carousel in a park . The system then maps a route from the current location e.g. the METRO Station to the designated POI and presents the route on a digital map to the user in either the main view portion or the preview portion. While the user is walking along the route the system also presents a live image view of the surrounding location on the screen in the other of the preview portion or main view portion. Whenever the user wants to switch among the perspective view in the main view portion and the plan view in the preview portion and the plan view in the main portion and the perspective view in the preview portion the user can freely do so using the user interface. Other points of interest may be located on the route and a filter can be used to select the types of POIs that are labeled using graphic representations and which are not labeled.

Alternatively the user can utilize the user interface to view a remote location. For example if the user planned to visit a particular POI later in the day then the user could locate the POI on the plan view of the map e.g. by scrolling to the location of the POI entering an address of the POI searching for the POI using keywords or the name of the POI etc. for example in the main view portion of the user interface. Then the user can manipulate the orientation representation of the field of view to provide a desired vantage point. For example if the user planned to travel down a certain road to get to the POI then the user can manipulate the field of view to provide a vantage point along that road that the user will see while travelling down the road and arriving at the POI. With the field of view set to the desired orientation then the user can see a preview of the perspective view of the POI in the preview portion of the user interface and the user can switch the perspective view of the POI to the main view portion of the user interface in order to view an enlarged image of the POI. Thus the user will be able to see what the POI looks like thereby allowing the user to recognize the POI upon arrival at the POI later in the day. The perspective view of the POI can also include graphic representations or tags e.g. bubbles icons images text etc. that provide a link to content related to the POI e.g. name address telephone number weblink etc. which can be selected by the user in the user interface in order to obtain further content information regarding the POI.

In one embodiment the system displays on the screen of the UE different portions of the prerecorded panoramic view depending upon the tilt angle and directional heading of the UE as tilted and or rotated by the user. In this embodiment the user can change the prerecorded panoramic image in the prerecorded panoramic view without moving dragging a viewing tag on the screen of the UE .

In another embodiment the system further utilizes the augmented reality or augmented virtuality e.g. using 3D models and 3D mapping information to insert rich content information relevant to the POI e.g. drawn from the Internet user inputs etc. in the live image view in a real time manner. Tags are displayed on a surface of the object or POI and virtually affixed thereto in the perspective view and shown in a fixed 3D orientation on the surface of the object or POI. The content relevant to the POI can also be seen in the prerecorded panoramic view and the contact may be already embedded tagged in the in the prerecorded panoramic view or inserted in a real time manner. The POIs can be pre set by users service providers e.g. wireless cellular Internet content social network etc. and or device manufacturers and the relevant content can be embedded tagged by any one of a combination of these entities as well.

By way of example the user selects the fourth floor of a department as a POI and tags content information of the POI retrieved from the department store website. The system saves the POI and the tagged content and presents to the user most updated content information in the live image view and or the prerecorded panoramic view automatically or on demand. The content information may include 1 a floor plan of the POI 2 the occupants shops facilities located in the POI e.g. in thumbnail images animation audio alerts etc. 3 introduction and background content with respect to the occupants shops facilities 4 marketing and sales content with respect to the occupants shops facilities or any other data or information tied to the POI. It is also contemplated that content may be associated with multiple floors. The content information includes live media stored media metadata associated with media text information location information of other user devices mapping data geo tagged data or a combination thereof.

While the plan view of the map can show all of the graphic representations for the objects which link to the rich content information thereof in a given area the graphic representations affixed to the objects in the perspective view are only shown for objects that are visible in the field of view of the perspective view in certain embodiments. Thus graphic representations for objects that are hidden from view in the perspective view e.g. for objects that are hidden behind a building or hidden behind a tree etc. can be omitted from the perspective view in order to prevent cluttering of the perspective view of the user interface.

As shown in a user equipment UE may retrieve content information e.g. content and location information and mapping information e.g. maps GPS data prerecorded panoramic views etc. from a content mapping platform via a communication network . The content and mapping information can be used by a mapping and user interface application on the UE e.g. an augmented reality application navigation application or other location based application to a live image view and or a prerecorded panoramic view. In the example of the content mapping platform stores mapping information in the map database and content information in the content catalog By way of example mapping information includes digital maps GPS coordinates prerecorded panoramic views geo tagged data points of interest data or a combination thereof. By way of example content information includes one or more identifiers metadata access addresses e.g. network address such as a Uniform Resource Locator URL or an Internet Protocol IP address or a local address such as a file or storage location in a memory of the UE description or the like associated with content. In one embodiment content includes live media e.g. streaming broadcasts stored media e.g. stored on a network or locally metadata associated with media text information location information of other user devices or a combination thereof. The content may be provided by the service platform which includes one or more services e.g. music service mapping service video service social networking service content broadcasting service etc. the one or more content providers e.g. online content retailers public databases etc. other content source available or accessible over the communication network .

Additionally or alternatively in certain embodiments a user map and content database of the UE may be utilized in conjunction with the application to present content information location information e.g. mapping and navigation information availability information etc. to the user. The user may be presented with an augmented reality interface associated with the application and or the content mapping platform allowing 3D objects or other representations of content and related information to be superimposed onto an image of a physical environment on the UE . In certain embodiments the user interface may display a hybrid physical and virtual environment where 3D objects from the map database are superimposed on top of a physical image.

By way of example the UE may execute the application to receive content and or mapping information from the content mapping platform or other component of the network . As mentioned above the UE utilizes GPS satellites to determine the location of the UE to utilize the content mapping functions of the content mapping platform and or the application and the map information stored in the map database may be created from live camera views of real world buildings and other sites. As such content can be augmented into prerecorded panoramic views and or live camera views of real world locations e.g. based on location coordinates such as global positioning system GPS coordinates .

The application and the content mapping platform receive access information about content determines the availability of the content based on the access information and then presents a prerecorded panoramic view or a live image view with augmented content e.g. a live camera view of the IMF building with augmented content such as its origin mission facilities information height a number of floor etc. . In certain embodiments the content information may include 2D and 3D digital maps of objects facilities and structures in a physical environment e.g. buildings .

By way of example the communication network of the system includes one or more networks such as a data network not shown a wireless network not shown a telephony network not shown or any combination thereof. It is contemplated that the data network may be any local area network LAN metropolitan area network MAN wide area network WAN a public data network e.g. the Internet or any other suitable packet switched network such as a commercially owned proprietary packet switched network e.g. a proprietary cable or fiber optic network. In addition the wireless network may be for example a cellular network and may employ various technologies including enhanced data rates for global evolution EDGE general packet radio service GPRS global system for mobile communications GSM Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. worldwide interoperability for microwave access WiMAX Long Term Evolution LTE networks code division multiple access CDMA wideband code division multiple access WCDMA wireless fidelity WiFi satellite mobile ad hoc network MANET and the like.

The UE is any type of mobile terminal fixed terminal or portable terminal including a mobile handset station unit device multimedia computer multimedia tablet Internet node communicator desktop computer laptop computer Personal Digital Assistants PDAs or any combination thereof. It is also contemplated that the UE can support any type of interface to the user such as wearable circuitry etc. .

By way of example the UE and content mapping platform communicate with each other and other components of the communication network using well known new or still developing protocols. In this context a protocol includes a set of rules defining how the network nodes within the communication network interact with each other based on information sent over the communication links. The protocols are effective at different layers of operation within each node from generating and receiving physical signals of various types to selecting a link for transferring those signals to the format of information indicated by those signals to identifying which software application executing on a computer system sends or receives the information. The conceptually different layers of protocols for exchanging information over a network are described in the Open Systems Interconnection OSI Reference Model.

Communications between the network nodes are typically effected by exchanging discrete packets of data. Each packet typically comprises 1 header information associated with a particular protocol and 2 payload information that follows the header information and contains information that may be processed independently of that particular protocol. In some protocols the packet includes 3 trailer information following the payload and indicating the end of the payload information. The header includes information such as the source of the packet its destination the length of the payload and other properties used by the protocol. Often the data in the payload for the particular protocol includes a header and payload for a different protocol associated with a different higher layer of the OSI Reference Model. The header for a particular protocol typically indicates a type for the next protocol contained in its payload. The higher layer protocol is said to be encapsulated in the lower layer protocol. The headers included in a packet traversing multiple heterogeneous networks such as the Internet typically include a physical layer 1 header a data link layer 2 header an internetwork layer 3 header and a transport layer 4 header and various application headers layer 5 layer 6 and layer 7 as defined by the OSI Reference Model.

In one embodiment the application and the content mapping platform may interact according to a client server model so that the application of the UE requests mapping and or content data from the content mapping platform on demand. According to the client server model a client process sends a message including a request to a server process and the server process responds by providing a service e.g. providing map information . The server process may also return a message with a response to the client process. Often the client process and server process execute on different computer devices called hosts and communicate via a network using one or more protocols for network communications. The term server is conventionally used to refer to the process that provides the service or the host computer on which the process operates. Similarly the term client is conventionally used to refer to the process that makes the request or the host computer on which the process operates. As used herein the terms client and server refer to the processes rather than the host computers unless otherwise clear from the context. In addition the process performed by a server can be broken up to run as multiple processes on multiple hosts sometimes called tiers for reasons that include reliability scalability and redundancy among others.

Next the control logic interacts with a location module to retrieve location data of the current location of the UE . In one embodiment the location data may include addresses geographic coordinates e.g. GPS coordinates or other indicators e.g. longitude and latitude information that can be associated with the current location. For example the location data may be manually entered by the user e.g. entering an address or title clicking on a digital map etc. or extracted or derived from any geo tagged data. It is contemplated that the location data or geo tagged data could also be created by the location module by deriving the location associated metadata such as media titles tags and comments. More specifically the location module can parse the metadata for any terms that indicate association with a particular location.

In one embodiment the location module determines the user s location by a triangulation system such as a GPS assisted GPS A GPS A GPS Cell of Origin wireless local area network triangulation or other location extrapolation technologies. Standard GPS and A GPS systems can use satellites to pinpoint the location e.g. longitude latitude and altitude of the UE . A Cell of Origin system can be used to determine the cellular tower that a cellular UE is synchronized with. This information provides a coarse location of the UE because the cellular tower can have a unique cellular identifier cell ID that can be geographically mapped. The location module may also utilize multiple technologies to detect the location of the UE . GPS coordinates can provide finer detail as to the location of the UE . As previously noted the location module may be utilized to determine location coordinates for use by the application and or the content mapping platform .

Again the control logic interacts with the image module to display the live camera view and location data of the current location. While displaying the live camera view of the current location the control logic interacts with the image module to receive an indication of switching views by the user by for example touching a Switch icon on the screen of the UE . The control logic interacts with a correlating module to correlate the live image view with a prerecorded panoramic view with the location data and also interacts with a switching module to alternates switch the display from the live image view to the correlated prerecorded panoramic view. Also the switching module can control the switching between which view i.e. plan view or perspective view is shown in the main view portion of the user interface and which view is shown in the preview portion of the user interface .

In another embodiment the switching module interacts with a magnetometer module which determines horizontal orientation or directional heading e.g. a compass heading of the UE and an accelerometer module which determines vertical orientation or an angle of elevation of the UE . Thereafter the switching module interact with the image module to display on the screen of the UE different portions of the prerecorded panoramic view depending upon the tilt angle and directional heading of the UE as tilted and or rotated by the user. Under these circumstances the user can view different portions of the prerecorded panoramic view without moving dragging a viewing tag on the screen of the UE .

In one embodiment horizontal directional data obtained from a magnetometer is utilized to determine the orientation of the UE . The magnetometer module can include an instrument that can measure the strength and or direction of a magnetic field. Using the same approach as a compass the magnetometer is capable of determining the directional heading of a UE using the magnetic field of the Earth. The front of the image capture device e.g. a digital camera or another reference point on the UE can be marked as a reference point in determining direction. Thus if the magnetic field points north compared to the reference point the angle the UE reference point is from the magnetic field is known. Simple calculations can be made to determine the direction of the UE . This directional information may be correlated with the location information of the UE to determine where e.g. at which geographic feature or object the UE is pointing towards. This information may be utilized to select a portion of the prerecorded panoramic view to render to the user.

Further the accelerometer module may include an instrument that can measure acceleration. Using a three axis accelerometer with axes X Y and Z provides the acceleration in three directions with known angles. Once again the front of a media capture device can be marked as a reference point in determining direction. Because the acceleration due to gravity is known when a UE is stationary the accelerometer module can determine the angle the UE is pointed as compared to Earth s gravity. In one embodiment vertical directional data obtained from an accelerometer is used to determine the angle of elevation or tilt angle at which the UE is pointing. This information in conjunction with the magnetometer information and location information may be utilized to determine a viewpoint in the prerecorded panoramic view to the user. As such this information may be utilized in selecting available content items to present navigational information to the user. Moreover the combined information may be utilized to determine portions of a particular digital map or a prerecorded panoramic view that may interest the user.

The control logic then interacts with the image module to render a viewpoint in the prerecorded panoramic view to the user whenever the user rotates tilts the UE . As mentioned the correlating module can obtain the live image from a camera and correlate the live image with a prerecorded panoramic view via location information. In addition the correlating module uses magnetometer information accelerometer information or a combination thereof to determine a viewpoint to display a portion of the prerecorded panoramic view to the user.

The control logic then interacts with a content management module and the image module to augment content information related to one or more POIs in the live image therein. The content may be received from the service platform the services the content providers other like components or a combination thereof. It is also contemplated that the user or another party authorized by the user may manually enter a content item. In one embodiment the content management module may create a content catalog listing all content items and associated access addresses provided to the content management module . In certain embodiments the content catalog may include additional descriptive information and other metadata describing the content. The available media content or stream can take many forms e.g. live video feeds photographs audio files etc. and can be delivered using any number means e.g. streaming media downloaded media spontaneously created media etc. . The content management module includes one or more sub modules or application programming interfaces APIs not pictured for receiving and or detecting the media content in its native format or for converting the media content to a media format compatible with the mapping and augmented reality application . In other embodiments the content management module may initiate a download or installation of the components e.g. codecs player applications etc. needed to verify the content or stream. The content data can be cached or save in the user map and content database .

To facilitate finding specific content or features the content management module enables the user to input search criteria e.g. a content item person city weather etc. and to get guidance for finding the direction where the searched content item is located in the real physical world. The content management module also enables a user to specify a time period so as to navigate content information using both location and time. In one embodiment the default time for viewing the content and mapping information is the present. If a time period is set as future the content management module will determine the one or more content items based on the specified time such as what will be on sales in the next three hours on the 4floor of the department store. By way of example the sales content and product information can be presented on a floor plan with representations of each product placed according to the associated location information.

The content can be depicted as a thumbnail overlaid on the user interface map at the location corresponding to a point of interest e.g. a floor or a portion of the point of interest e.g. facilities on the floor and affixed to the POI at a fixed 3D orientation. As discussed the user interface may be a graphical user interface. In addition or alternatively the user interface may be an audio or tactile interface. In one embodiment the content management nodule presents only those content items that are available at the specified time and are not associated with any limitations or exclusive restrictions. This embodiment provides a user experience in which users can simply select from the presented content items and be assured that the selected item will be available with a single selection click. In other embodiments the content management module may present all available content and differentiate the presentation of content available with a single click versus content associated with additional limitations or restrictions. The specific types of presentations can be specified by the user content provider network operator service platform or a combination thereof. The content management module then determines whether to periodically update the content information.

In certain embodiments when there is much more content available than can be displayed in the existing user interface the content management nodule constantly animates the display of the content items so that new content keeps appearing while older content disappears. This animation process also makes the user interface more entertaining to users and gives a feeling of the world being alive with activity.

In certain embodiments the user map and content database includes all or a portion the information in the map database and the content catalog From the selected viewpoint a live image view augmented with the content can be provided on the screen of the UE . In certain embodiments the content management nodule provides a correlated prerecorded panoramic view from the selected view point with content generated or retrieved from the database or the content mapping platform . The content information can be embedded tagged in the correlated prerecorded panoramic view previously by another apparatus or by the content management nodule on demand and or in a real time manner when displays the correlated prerecorded panoramic view on the screen of the UE .

Content and mapping information may be presented to the user via a user interface which may include various methods of communication. For example the user interface can have outputs including a visual component e.g. a screen an audio component e.g. a verbal instructions a physical component e.g. vibrations and other methods of communication. User inputs can include a touch screen interface microphone camera a scroll and click interface a button interface etc. Further the user may input a request to start the application e.g. a mapping and user interface application and utilize the user interface to receive content and mapping information. Through the user interface the user may request different types of content mapping or location information to be presented. Further the user may be presented with 3D or augmented reality representations of particular locations and related objects e.g. buildings terrain features POIs etc. at the particular location as part of a graphical user interface on a screen of the UE . As mentioned the UE communicates with the content mapping platform service platform and or content providers to fetch content mapping and or location information. The UE may utilize requests in a client server format to retrieve the content and mapping information. Moreover the UE may specify location information and or orientation information in the request to retrieve the content and mapping information.

In one embodiment the mapping and user interface application performs the process and is implemented in for instance a chip set including a processor and a memory as shown . In step the mapping and user interface application causes at least in part rendering of a user interface for a location based service that simultaneously includes both a main view portion and a preview portion where a perspective view is displayed in one portion i.e. either the main view portion or the preview portion and a plan view is displayed in another portion i.e. the other of the preview portion or the main view portion . Then in step the mapping and user interface application receives e.g. from the user interface user input to switch between displaying the perspective view in the main view portion and the plan view in the preview portion and displaying the plan view in the main view portion and the perspective view in the preview portion or vice versa i.e. switch between displaying the plan view in the main view portion and the perspective view in the preview portion and displaying the perspective view in the main view portion and the plan view in the preview portion . For example the user can touch the preview portion in order to switch the view shown in the preview portion with the view shown in the main view portion or the user can tilt the UE to a particular angle e.g. horizontal such that the angle can automatically trigger a switching of the views e.g. when the UE is horizontal then if the plan view is shown in the preview portion it can be switched to the main view portion . After the user orders a switch the mapping and user interface application causes at least in part an alternating of the presentation of which view is shown in which view portion on a screen of the UE .

When generating the perspective view mapping and user interface application determines an optimal image of the one or more objects for the perspective view from real time images and or pre stored images. For example the application can compare various stored images of the particular field of view and determine which image is in the best focus at the best vantage point e.g. closest vantage point to the field of view selected by the user and then utilize the best image available. Then the application can cause at least in part rendering of the perspective view in the user interface using the optimal image. Additionally it is noted that the perspective view can be formed by providing smooth transitions between real time images pre stored images and or a mix of the real time images and the pre stored images with the graphic representation overlaid onto the surface of the object in order to provide the best possible perspective view in a smooth and continuous manner.

Also it should be noted that when the application receives input changing the orientation of the display in either the perspective view or the plan view then the application simultaneously changes the orientation of the display of the other of perspective view and the plan view in correspondence to the input. Thus any change in one view will simultaneously result in a change in the other view. For example if the user interface is showing real time images in the perspective view and pans around in a circle then the plan view will show a point of view icon panning around in a circular motion as well. Also if the user is scanning around various locations on the plan view then the perspective view will be simultaneously updated to show images at the selected location at the selected orientation.

In one embodiment the mapping and user interface application performs the process and is implemented in for instance a chip set including a processor and a memory as shown . In step the mapping and user interface application causes at least in part rendering of an orientation representation in the plan view of a field of view displayed in the perspective view. For example the orientation representation can include a graphic representation either as a 2D or 3D graphic of a person or of a periscope or other object that implies a particular point of view and also a cone shaped area extending therefrom that shows the direction in which the field of view is projected and generally the area covered by the field of view. Then in step the mapping and user interface application receives e.g. from the user interface user input to control the orientation of the field of view displayed in the perspective view by manipulating the orientation representation in the plan view. Thus for example the user can manipulate the orientation representation in the plan view by using a touch screen of the user interface to move the periscope to another location or turn the periscope in the different direction e.g. by moving the users finger around the circumference of the periscope shown in the plan view or by using the touch screen to move or turn the perspective view e.g. by zooming or swiping motions or by physically changing the directional orientation of the mobile device e.g. turning the device to turn the periscope and the perspective view either when using real time images or pre stored images . Based on such input the mapping and user interface application causes at least in part a change in orientation of the orientation representation in the plan view and a corresponding change in orientation of the field of view in the perspective view on the screen of the UE .

In the plan view which is shown in the main view portion in a orientation representation is shown that includes in this embodiment a periscope graphic or also generically referred to herein as a point of view icon and a cone shaped area extending from the periscope graphic that shows the direction in which the field of view of the perspective view is projected and generally the area covered by the field of view. Thus the periscope graphic and the cone shaped area extending therefrom directly correlate to the field of view shown in the perspective view. The image shown in the perspective view can be a real time image captured using a camera of the UE a pre stored image that is provided by a service provider and or stored on the UE or a mixed of real time images and pre stored images.

In the embodiment shown in the user interface displayed on the display screen shows various graphic representations e.g. a bubble as shown or other image icon text etc. that correspond to rich content information relevant to various objects POIs. The graphic representations that are shown in plan view can also be displayed in the perspective view see e.g. on a surface of the object POI and virtually affixed thereto and shown in a fixed 3D orientation on the surface of the object POI. The user can select the graphic representation in either the plan view or in the perspective view and a pop up window will appear that provides the rich content information. The content information includes live media stored media metadata associated with media text information location information of other user devices mapping data geo tagged data or a combination thereof.

In the embodiment shown in the user interface displayed on the display screen shows various icons along a bottom edge of the main view portion that provide the user with various menu options. For example icon can be selected by a user e.g. using the touch screen to add a graphic representation for an object POI. Thus for example if the user wants to add a new graphic representation to a particular building where a friend of the user lives then the user can select icon and drag and drop a new graphic representation at a desired location and then populate the graphic representation with desired content information. Additionally icon can be selected by the user in order to filter the types of graphic representations that are displayed on the user interface. For example if the user wants to merely show graphic representations of restaurants within the plan view and or perspective view then the user can select the icon which will provide the user with a preset list of categories from which the user can select and or allow the user to define a desired filter or perform a text search to define the desired filter. Additionally icon can be selected by the user in order to toggle between the dual window view i.e. including both a main view portion and a preview portion shown in and a full screen view mode in which one of either the plan view or the perspective view is shown without the preview portion .

At any given instant of time the user can switch which view i.e. perspective view or plan view is shown in the main view portion and which view is shown in the preview portion for example by selecting a toggle icon . Also the user can zoom in and out e.g. simultaneously in both views or in just one of the views such as the view shown in the main view portion using the plus and minus zoom icons .

In the main view portion showing the plan view includes the orientation representation shown as a periscope graphic and a cone shaped area extending from the periscope graphic that shows the direction in which the field of view of the perspective view is projected and generally the area covered by the field of view. Also the main view portion includes graphic representations for example bubble which correspond to rich content information relevant to the respective object POI. Furthermore the preview portion includes graphic representations such as bubble which corresponds to the same object POI as bubble in the plan view. The graphic representation displayed in the perspective view is shown on a surface of the object POI and virtually affixed thereto and shown in a fixed 3D orientation on the surface of the object POI. For example the graphic representation is affixed to a most prominent surface of the object POI as viewed in the perspective view or as preset by the user or service provider. The graphical representation can be a bubble icon an image e.g. set by the user such as a picture of a person that live sin the building or set by the service provider icon that is representative of the category of the object POI e.g. a fork and knife indicating a restaurant POI a shopping cart represent a store POI etc. text e.g. name or description of the object POI etc.

In the preview portion showing the plan view includes the orientation representation shown as a periscope graphic and a cone shaped area extending from the periscope graphic that shows the direction in which the field of view of the perspective view is projected and generally the area covered by the field of view. Also the main view portion includes graphic representations for example bubble which correspond to rich content information relevant to the respective object POI. Furthermore the main view portion includes other graphic representations for example bubble which correspond to rich content information relevant to other objects POIs that are visible in the field of view of the perspective view. While the plan view of the map can show all of the graphic representations for the objects which link to the rich content information thereof in a given area the graphic representations affixed to the objects in the perspective view are only shown for objects that are visible in the field of view of the perspective view in certain embodiments. Thus graphic representations for objects that are hidden from view in the perspective view e.g. for objects that are hidden behind a building or hidden behind a tree etc. are omitted from the perspective view in order to prevent cluttering of the perspective view of the user interface.

The processes described herein for rendering a user interface for a location based service that has a main view portion and a preview portion may be advantageously implemented via software hardware e.g. general processor Digital Signal Processing DSP chip an Application Specific Integrated Circuit ASIC Field Programmable Gate Arrays FPGAs etc. firmware or a combination thereof. Such exemplary hardware for performing the described functions is detailed below.

A bus includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors for processing information are coupled with the bus .

A processor or multiple processors performs a set of operations on information as specified by computer program code related to render a user interface for a location based service that has a main view portion and a preview portion. The computer program code is a set of instructions or statements providing instructions for the operation of the processor and or the computer system to perform specified functions. The code for example may be written in a computer programming language that is compiled into a native instruction set of the processor. The code may also be written directly using the native instruction set e.g. machine language . The set of operations include bringing information in from the bus and placing information on the bus . The set of operations also typically include comparing two or more units of information shifting positions of units of information and combining two or more units of information such as by addition or multiplication or logical operations like OR exclusive OR XOR and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions such as an operation code of one or more digits. A sequence of operations to be executed by the processor such as a sequence of operation codes constitute processor instructions also called computer system instructions or simply computer instructions. Processors may be implemented as mechanical electrical magnetic optical chemical or quantum components among others alone or in combination.

Computer system also includes a memory coupled to bus . The memory such as a random access memory RAM or other dynamic storage device stores information including processor instructions for rendering a user interface for a location based service that has a main view portion and a preview portion. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory is also used by the processor to store temporary values during execution of processor instructions. The computer system also includes a read only memory ROM or other static storage device coupled to the bus for storing static information including instructions that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus is a non volatile persistent storage device such as a magnetic disk optical disk or flash card for storing information including instructions that persists even when the computer system is turned off or otherwise loses power.

Information including instructions for rendering a user interface for a location based service that has a main view portion and a preview portion is provided to the bus for use by the processor from an external input device such as a keyboard containing alphanumeric keys operated by a human user or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus used primarily for interacting with humans include a display device such as a cathode ray tube CRT or a liquid crystal display LCD or plasma screen or printer for presenting text or images and a pointing device such as a mouse or a trackball or cursor direction keys or motion sensor for controlling a position of a small cursor image presented on the display and issuing commands associated with graphical elements presented on the display . In some embodiments for example in embodiments in which the computer system performs all functions automatically without human input one or more of external input device display device and pointing device is omitted.

In the illustrated embodiment special purpose hardware such as an application specific integrated circuit ASIC is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display cryptographic boards for encrypting and decrypting messages sent over a network speech recognition and interfaces to special external devices such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.

Computer system also includes one or more instances of a communications interface coupled to bus . Communication interface provides a one way or two way communication coupling to a variety of external devices that operate with their own processors such as printers scanners and external disks. In general the coupling is with a network link that is connected to a local network to which a variety of external devices with their own processors are connected. For example communication interface may be a parallel port or a serial port or a universal serial bus USB port on a personal computer. In some embodiments communications interface is an integrated services digital network ISDN card or a digital subscriber line DSL card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments a communication interface is a cable modem that converts signals on bus into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example communications interface may be a local area network LAN card to provide a data communication connection to a compatible LAN such as Ethernet. Wireless links may also be implemented. For wireless links the communications interface sends or receives or both sends and receives electrical acoustic or electromagnetic signals including infrared and optical signals that carry information streams such as digital data. For example in wireless handheld devices such as mobile telephones like cell phones the communications interface includes a radio band electromagnetic transmitter and receiver called a radio transceiver. In certain embodiments the communications interface enables connection to the communication network for rendering a user interface for a location based service that has a main view portion and a preview portion to the UE .

The term computer readable medium as used herein refers to any medium that participates in providing information to processor including instructions for execution. Such a medium may take many forms including but not limited to computer readable storage medium e.g. non volatile media volatile media and transmission media. Non transitory media such as non volatile media include for example optical or magnetic disks such as storage device . Volatile media include for example dynamic memory . Transmission media include for example coaxial cables copper wire fiber optic cables and carrier waves that travel through space without wires or cables such as acoustic waves and electromagnetic waves including radio optical and infrared waves. Signals include man made transient variations in amplitude frequency phase polarization or other physical properties transmitted through the transmission media. Common forms of computer readable media include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM CDRW DVD any other optical medium punch cards paper tape optical mark sheets any other physical medium with patterns of holes or other optically recognizable indicia a RAM a PROM an EPROM a FLASH EPROM any other memory chip or cartridge a carrier wave or any other medium from which a computer can read. The term computer readable storage medium is used herein to refer to any computer readable medium except transmission media.

Logic encoded in one or more tangible media includes one or both of processor instructions on a computer readable storage media and special purpose hardware such as ASIC .

Network link typically provides information communication using transmission media through one or more networks to other devices that use or process the information. For example network link may provide a connection through local network to a host computer or to equipment operated by an Internet Service Provider ISP . ISP equipment in turn provides data communication services through the public world wide packet switching communication network of networks now commonly referred to as the Internet .

A computer called a server host connected to the Internet hosts a process that provides a service in response to information received over the Internet. For example server host hosts a process that provides information representing video data for presentation at display . It is contemplated that the components of system can be deployed in various configurations within other computer systems e.g. host and server .

At least some embodiments of the invention are related to the use of computer system for implementing some or all of the techniques described herein. According to one embodiment of the invention those techniques are performed by computer system in response to processor executing one or more sequences of one or more processor instructions contained in memory . Such instructions also called computer instructions software and program code may be read into memory from another computer readable medium such as storage device or network link . Execution of the sequences of instructions contained in memory causes processor to perform one or more of the method steps described herein. In alternative embodiments hardware such as ASIC may be used in place of or in combination with software to implement the invention. Thus embodiments of the invention are not limited to any specific combination of hardware and software unless otherwise explicitly stated herein.

The signals transmitted over network link and other networks through communications interface carry information to and from computer system . Computer system can send and receive information including program code through the networks among others through network link and communications interface . In an example using the Internet a server host transmits program code for a particular application requested by a message sent from computer through Internet ISP equipment local network and communications interface . The received code may be executed by processor as it is received or may be stored in memory or in storage device or other non volatile storage for later execution or both. In this manner computer system may obtain application program code in the form of signals on a carrier wave.

Various forms of computer readable media may be involved in carrying one or more sequence of instructions or data or both to processor for execution. For example instructions and data may initially be carried on a magnetic disk of a remote computer such as host . The remote computer loads the instructions and data into its dynamic memory and sends the instructions and data over a telephone line using a modem. A modem local to the computer system receives the instructions and data on a telephone line and uses an infra red transmitter to convert the instructions and data to a signal on an infra red carrier wave serving as the network link . An infrared detector serving as communications interface receives the instructions and data carried in the infrared signal and places information representing the instructions and data onto bus . Bus carries the information to memory from which processor retrieves and executes the instructions using some of the data sent with the instructions. The instructions and data received in memory may optionally be stored on storage device either before or after execution by the processor .

In one embodiment the chip set or chip includes a communication mechanism such as a bus for passing information among the components of the chip set . A processor has connectivity to the bus to execute instructions and process information stored in for example a memory . The processor may include one or more processing cores with each core configured to perform independently. A multi core processor enables multiprocessing within a single physical package. Examples of a multi core processor include two four eight or greater numbers of processing cores. Alternatively or in addition the processor may include one or more microprocessors configured in tandem via the bus to enable independent execution of instructions pipelining and multithreading. The processor may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors DSP or one or more application specific integrated circuits ASIC . A DSP typically is configured to process real world signals e.g. sound in real time independently of the processor . Similarly an ASIC can be configured to performed specialized functions not easily performed by a more general purpose processor. Other specialized components to aid in performing the inventive functions described herein may include one or more field programmable gate arrays FPGA not shown one or more controllers not shown or one or more other special purpose computer chips.

In one embodiment the chip set or chip includes merely one or more processors and some software and or firmware supporting and or relating to and or for the one or more processors.

The processor and accompanying components have connectivity to the memory via the bus . The memory includes both dynamic memory e.g. RAM magnetic disk writable optical disk etc. and static memory e.g. ROM CD ROM etc. for storing executable instructions that when executed perform the inventive steps described herein to render a user interface for a location based service that has a main view portion and a preview portion. The memory also stores the data associated with or generated by the execution of the inventive steps.

Pertinent internal components of the telephone include a Main Control Unit MCU a Digital Signal Processor DSP and a receiver transmitter unit including a microphone gain control unit and a speaker gain control unit. A main display unit provides a display to the user in support of various applications and mobile terminal functions that perform or support the steps of rendering a user interface for a location based service that has a main view portion and a preview portion. The display includes display circuitry configured to display at least a portion of a user interface of the mobile terminal e.g. mobile telephone . Additionally the display and display circuitry are configured to facilitate user control of at least some functions of the mobile terminal. An audio function circuitry includes a microphone and microphone amplifier that amplifies the speech signal output from the microphone . The amplified speech signal output from the microphone is fed to a coder decoder CODEC .

A radio section amplifies power and converts frequency in order to communicate with a base station which is included in a mobile communication system via antenna . The power amplifier PA and the transmitter modulation circuitry are operationally responsive to the MCU with an output from the PA coupled to the duplexer or circulator or antenna switch as known in the art. The PA also couples to a battery interface and power control unit .

In use a user of mobile terminal speaks into the microphone and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter ADC . The control unit routes the digital signal into the DSP for processing therein such as speech encoding channel encoding encrypting and interleaving. In one embodiment the processed voice signals are encoded by units not separately shown using a cellular transmission protocol such as global evolution EDGE general packet radio service GPRS global system for mobile communications GSM Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. microwave access WiMAX Long Term Evolution LTE networks code division multiple access CDMA wideband code division multiple access WCDMA wireless fidelity WiFi satellite and the like.

The encoded signals are then routed to an equalizer for compensation of any frequency dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream the modulator combines the signal with a RF signal generated in the RF interface . The modulator generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission an up converter combines the sine wave output from the modulator with another sine wave generated by a synthesizer to achieve the desired frequency of transmission. The signal is then sent through a PA to increase the signal to an appropriate power level. In practical systems the PA acts as a variable gain amplifier whose gain is controlled by the DSP from information received from a network base station. The signal is then filtered within the duplexer and optionally sent to an antenna coupler to match impedances to provide maximum power transfer. Finally the signal is transmitted via antenna to a local base station. An automatic gain control AGC can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone other mobile phone or a land line connected to a Public Switched Telephone Network PSTN or other telephony networks.

Voice signals transmitted to the mobile terminal are received via antenna and immediately amplified by a low noise amplifier LNA . A down converter lowers the carrier frequency while the demodulator strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer and is processed by the DSP . A Digital to Analog Converter DAC converts the signal and the resulting output is transmitted to the user through the speaker all under control of a Main Control Unit MCU which can be implemented as a Central Processing Unit CPU not shown .

The MCU receives various signals including input signals from the keyboard . The keyboard and or the MCU in combination with other user input components e.g. the microphone comprise a user interface circuitry for managing user input. The MCU runs a user interface software to facilitate user control of at least some functions of the mobile terminal to render a user interface for a location based service that has a main view portion and a preview portion. The MCU also delivers a display command and a switch command to the display and to the speech output switching controller respectively. Further the MCU exchanges information with the DSP and can access an optionally incorporated SIM card and a memory . In addition the MCU executes various control functions required of the terminal. The DSP may depending upon the implementation perform any of a variety of conventional digital processing functions on the voice signals. Additionally DSP determines the background noise level of the local environment from the signals detected by microphone and sets the gain of microphone to a level selected to compensate for the natural tendency of the user of the mobile terminal .

The CODEC includes the ADC and DAC . The memory stores various data including call incoming tone data and is capable of storing other data including music data received via e.g. the global Internet. The software module could reside in RAM memory flash memory registers or any other form of writable storage medium known in the art. The memory device may be but not limited to a single memory CD DVD ROM RAM EEPROM optical storage or any other non volatile storage medium capable of storing digital data.

An optionally incorporated SIM card carries for instance important information such as the cellular phone number the carrier supplying service subscription details and security information. The SIM card serves primarily to identify the mobile terminal on a radio network. The card also contains a memory for storing a personal telephone number registry text messages and user specific mobile terminal settings.

While the invention has been described in connection with a number of embodiments and implementations the invention is not so limited but covers various obvious modifications and equivalent arrangements which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims it is contemplated that these features can be arranged in any combination and order.

