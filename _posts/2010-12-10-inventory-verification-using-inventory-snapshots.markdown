---

title: Inventory verification using inventory snapshots
abstract: Various embodiments of systems and methods for inventory verification using inventory snapshots are described herein. In response to a first inventory posting in a current time period, a current open inventory snapshot is created with inventory information. If there is a previously open inventory snapshot that is created in a previous time period before the current period, then the previously open inventory snapshot is closed. To verify inventory for a past time period, a difference between an inventory snapshot that is valid for the past time period and an inventory snapshot that is valid for a time period previous to the past time period is compared with aggregated inventory change confirmations posted in the past time period. An error indicator is provided if there is a mismatch between the difference and the aggregated inventory change confirmations.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08756123&OS=08756123&RS=08756123
owner: SAP AG
number: 08756123
owner_city: Walldorf
owner_country: DE
publication_date: 20101210
---
The field relates generally to inventory management systems. More particularly the field is related to inventory verification methods.

Inventory management has become part of almost every type of industry. A proper inventory management system provides several benefits and reduces costs by constantly monitoring inventory levels. An optimum range of inventory can be maintained to reduce storage or warehousing costs while meeting the needs of customers and avoiding any shortage. Inventory data can be used to identify items that fall short or predicted to fall short and these items can then be procured through finance and procurement channels of an organization. Inventory data may also be needed for various organizational functions such as finance and procurement.

Inventory related information is needed for organizational functions such as supply chain management and financial accounting. There can be different views of inventory in different functions. Inventory views can include for example current inventory amount stored in supply chain management system and current inventory amount stored in financial accounting for the valuation of the materials. Because of different views of inventory inventory data is redundantly available and can be inconsistent. But to fulfill various requirements such as legal compliance requirements there is a need to verify the consistency between the inventory data stored in the different inventory views. However there can be numerous inventory related entries even for a shorter time period. Verifying the inventory for any given period can therefore be cumbersome and error prone.

It would therefore be desirable to provide an inventory verification method to verify inventory data in an enterprise system.

Various embodiments of systems and methods for inventory verification using inventory snapshots are described herein. In response to a first inventory posting in a current time period a current open inventory snapshot is created with inventory information. The inventory information comprises inventory quantity. If there is a previously open inventory snapshot that is created in a previous time period before the current period then the previously open inventory snapshot is closed. To verify inventory for a past time period a difference between an inventory snapshot that is valid for the past time period and an inventory snapshot that is valid for a time period previous to the past time period is compared with aggregated inventory change confirmations posted in the past time period. An error indicator is provided if there is a mismatch between the difference and the aggregated inventory change confirmations.

These and other benefits and features of embodiments of the invention will be apparent upon consideration of the following detailed description of preferred embodiments thereof presented in connection with the following drawings.

Embodiments of techniques for inventory verification using inventory snapshots are described herein. In the following description numerous specific details are set forth to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize however that the invention can be practiced without one or more of the specific details or with other methods components materials etc. In other instances well known structures materials or operations are not shown or described in detail to avoid obscuring aspects of the invention.

Reference throughout this specification to one embodiment this embodiment and similar phrases means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus the appearances of these phrases in various places throughout this specification are not necessarily all referring to the same embodiment. Furthermore the particular features structures or characteristics may be combined in any suitable manner in one or more embodiments.

Referring to inventory information is used in important organizational functions such as financial accounting supply chain management and logistics execution . Each of these functions can have an associated software system. For example a financial accounting system can be used to perform various tasks in financial accounting. A supply chain management system can be used to plan and manage supply chain processes. A logistic execution system is a type of inventory management system that is used to control and organize movement of inventory. Movement of inventory can include outbound processing of sending materials to customers inbound processing of receiving materials from vendors and transportation of material. The logistic execution system can have process components such as production component inventory processing component and site logistics processing component .

If a current inventory is changed a document called inventory change confirmation is created. The inventory change confirmation is created to clearly document changes made at points in time a person who made the changes and for which logistics process the changes are made. The inventory change confirmations are persisted independently of the inventory. Inventory change confirmations are created during warehouse and production operation and are used for financial accounting. Inventory change documents are stored in logistics execution system . Inventory change documents record any change in inventory quantity and location.

According to the method inventory snapshots are created for inventory postings in relation to time periods that can be predefined. The time periods can be defined by a user or can follow a system or process specific time periods such as weekly or monthly periods. Time periods follow one after the other and are delimited by time points. For example monthly periods are delimited by the time points at 00 00 of the first day of each month. The end time of a given period is the start time of the next period. Therefore a monthly period is from the beginning of the first day of a given month until the end of the last day of that month. In response to a first inventory posting in a current time period a current open inventory snapshot is created at as a copy of the corresponding inventory that has been updated. The start time of the current period is assigned as a start date or start time for the current open inventory snapshot. In addition to the quantity of inventory location of the inventory in a warehouse can also be included in the current open inventory snapshot. Therefore the current open inventory snapshot includes a quantity of inventory and location of that particular inventory.

The current open inventory snapshot is valid from the start time of the current period. In response to any subsequent inventory postings in the current time period subsequent to the first inventory posting the current open inventory snapshot is updated with inventory quantity each time an inventory posting takes place. Therefore the current open inventory snapshot is in sync with inventory. Consider the time period is a monthly time period and the inventory quantity is zero. For a first inventory posting of inventory quantity x in a month a current open inventory snapshot is created with inventory quantity x . If there is a second inventory posting of inventory quantity y at a later date in the same month the current open inventory snapshot is updated with inventory quantity y. Therefore the inventory quantity in the current open inventory snapshot will be x y. If the inventory quantity is p prior to the first inventory posting a current open inventory snapshot is created with inventory quantity p x . For the second inventory posting of inventory quantity y at a later date in the same month the current open inventory snapshot is updated with inventory quantity y and the inventory quantity in the current open inventory snapshot will be p x y. 

For previous time periods there can be inventory snapshots that are created according to the procedure described above except if the current time period is the first time period for creating inventory snapshots. If there is no previous open inventory snapshot then a new inventory snapshot with quantity zero is created and closed as will be explained in reference to . At if there is a previously open inventory snapshot that is created in a previous time period before the current period the previously open inventory snapshot is closed in response to the first inventory posting in the current time period. When closing the previous open inventory snapshot the end time of the previous time period is assigned as a closing time or closing date for the previous open inventory snapshot. The start time of the current open inventory snapshot will be the start time of the current time period. Therefore each closed inventory snapshot includes a start opening time and a closing time

Consider the current time period is in March and the previous time period is in February. For an inventory posting in February an open inventory snapshot will be created that is valid from the beginning of February. If a next inventory posting happens in March a new inventory snapshot will be created that is valid from the beginning of March. The previous open inventory snapshot i.e. the inventory snapshot valid from the beginning of February will be closed by the end of February. The February inventory snapshot is therefore valid from the beginning of the February till the end of the February. If another inventory posting happens in April a new inventory snapshot will be created for the month of April and the March inventory snapshot which is open until the inventory posting in April will be closed. The closed March inventory snapshot has a start time as March 1 00 00 March 1 and a closing time as 00 00 April 1 which represents the end of March i.e. 24 00 March 31. The March inventory snapshot is therefore valid from 00 00 March 1 to 00 00 April 1. The open April inventory snapshot has a start time as 00 00 April 1 with no end date at the current instance. Therefore at any given point in time there will be one open inventory snapshot i.e. current open inventory snapshot .

Inventory is verified for a past time period at by comparing the difference between two latest consecutive inventory snapshots and the aggregated inventory change confirmations posted in the past time period. The latest consecutive inventory snapshots include the inventory snapshot open for the past time period and an inventory snapshot open for a time period previous and consecutive to the past time period. Consider that the past time period is March. A time period previous to the past time period and consecutive to the past time period is February. The March inventory snapshot covers inventory posting in March i.e. it is open valid for the March. Similarly the February inventory snapshot covers inventory posting in February. The difference between the March inventory snapshot and the February inventory snapshot is then compared with the inventory change confirmations that are posted in the month of March i.e. from 00 00 March 1 to 00 00 April 1.

The verification procedure is performed for each time period iteratively. For example assume that the first inventory change confirmation ever posted occurs in a period X. Then all inventory snapshots valid until period X 1 have to be zero. Assuming that all inventory snapshots of a given period Y X have been verified successfully the period Y 1 can be verified by comparing the differences between an inventory snapshot that covers the end of period Y 1 and an inventory snapshot that covers the end of the period Y. The difference between these two snapshots must be equal to the sum of corresponding inventory change confirmations that have been posted in period Y 1. Therefore for a past time period a preceding time period immediately previous to the past time period is already verified.

If the aggregated inventory confirmations are not equal to the difference between the March inventory snapshot and the February inventory then an error indicator is provided at . An alignment posting can then be made to realign the inventory quantity in the inventory management system. Any mismatch can be immediately corrected for a respective time period. Therefore a posting error in one time period is not transmitted to subsequent time periods.

Referring to consider that a first inventory posting is made on 2010 06 11 that is in a time period between 2010 06 01 and 2010 07 01. The first inventory posting can be for example a goods receipt posting with inventory quantity 1 . In response to the first inventory posting a closed first inventory snapshot with zero inventory quantity is created. The closed first inventory snapshot is valid for the period from minus infinity to 2010 06 01. The closed first inventory snapshot is called closed because it belongs to a period in the past and cannot be updated by any subsequent inventory change confirmation entered into the system. Following which a second open inventory snapshot is created using inventory information of the first inventory posting . The second open inventory snapshot is now valid for the period from 2010 06 01 to infinity . The predefined point in time 2010 06 01 is a start date for second open inventory snapshot and a closing time for closed first inventory snapshot .

Referring to consider a second goods receipt posting is made on 2010 06 23 with inventory quantity 1. Since the second goods receipt posting is made in the same period i.e. within June as the first goods receipts posting the inventory quantity in the second open inventory snapshot is updated with quantity 1 from the second goods receipt posting . No new inventory snapshot is created. The second open inventory snapshot has an inventory quantity of 2 . The second open inventory snapshot will be updated by all inventory postings that occur in the period of June.

Referring to the second open inventory snapshot is open until a next inventory posting happens in a time period subsequent to the time period of June. In the example of no inventory posting occurs in the subsequent time period i.e. from 2010 07 01 to 2010 08 01 . Therefore the second inventory snapshot is open for this period. Consider that another inventory posting for example a goods issue posting is made on 2010 08 14 with inventory quantity 1 . The goods issue posting is a first inventory posting that occurs in a current time period 2010 08 01 to 2010 09 01 that is subsequent to the time period of the former snapshot. The goods issue posting has inventory quantity of 1 implying that the inventory is reduced by a quantity 1 . A previous open inventory snapshot i.e. the second inventory snapshot is closed in response to the goods issue posting . A current open inventory snapshot is then created with inventory information.

In one embodiment the inventory quantity in the current open inventory snapshot is an absolute of inventory quantities of the goods issue posting and the second snapshot. The inventory quantity in the goods issue posting is 1 and the inventory quantity in the second snapshot is 2. Therefore the inventory quantity in the current open inventory snapshot is 1 1 2 1. The current open inventory snapshot is valid from 2010 0801 to until an inventory posting is made in a time period subsequent to the current time period 2010 08 01 to 2010 09 01 .

Various embodiments of database design for inventory verification method are explained in reference to . The inventory verification method can be implemented in any inventory management system. In one embodiment inventory snapshots data can be divided into inventory snapshot header data and inventory snapshot item data. Predefined points in time for inventory snapshots can be stored in inventory snapshot headers. Information about closed and open status of inventory snapshots can also be stored in inventory snapshot headers. The header data can be stored in Business Objects administrative data sub component of the inventory processing component of SAP logistics execution system. Inventory snapshot item data stores the content i.e. inventory information of inventory snapshots. The inventory information mainly includes inventory item quantity and location information of inventory items. Location information typically includes hierarchical location information. The content of inventory snapshots can be stored in Business Objects inventory sub component of the inventory processing component of SAP logistics execution system.

Database tables are created for performing the inventory verification method. As shown in a database table LIME SN HEADER is created for storing inventory snapshot headers. LIME stands for Logistics Inventory Management Engine an inventory management system of SAP . Database tables LIME SN NTREE LIME SN NQUAN and LIME SN LSQ are created for storing inventory information of inventory snapshots as shown SN stands for snapshot . The snapshot content tables of have the same layout as their corresponding regular tables with the exception of having additional fields of TS PERIOD START and TS SNAPSHOT. TS PERIOD START stores start date or time or opening date of an inventory snapshot and TS SNAPSHOT stores closing time of the inventory snapshot. The corresponding tables are LIME NTREE LIME NQUAN and LIME LSQ which are used to store regular inventory information.

In one embodiment these database tables are mapped to Business Objects inventory nodes of SAP logistics execution system. An overview of database model and its mapping to the Business Objects inventory nodes are shown if . shows a mapping of database table LIME SN NTREE to an inventory root node of Business Objects inventory. Database table LIME SN NTREE is mapped to inventory logistics package node of Business Objects inventory as shown in . Database table LIME SN NQUAN is mapped to inventory logistics package node of Business Objects inventory is shown in .

Referring to for a second inventory posting is made in June 2009 with an inventory quantity 10 the quantity field in the LIME SN NQUAN entry is updated. The quantity field now has quantity 20. Since this second inventory posting is made in the same time period the LIME SN LSQ entry is not changed.

Referring to if a third inventory posting is made in July 2009 with an inventory quantity 10 the first inventory snapshot with the start date 01.06.2009 will be closed. The TS SNAPSHOT field in LIME SN NQUAN is changed to 01.07.2009 and other fields stay unchanged for the first inventory snapshot. Therefore the closing time of the first inventory snapshot will be 01.07.2009. A second inventory snapshot is created with start date as 01.07.2009. For the second inventory snapshot TS PERIOD START is set to 01.07.2009 and TS SNAPSHOT is set to infinity. The new entry gets the new absolute quantity 30 i.e. 20 from the first inventory snapshot 10 from the third inventory posting . In LIME SN LSQ the first inventory snapshot entry is also closed TS SNAPSHOT is changed to 01.07.2009 and a new entry is created for the second inventory snapshot with new GUID SN GUID .

Any changes to location or logistics unit are handled similar to the procedure described above except that the LIME SN NTREE table is used. If a new location or logistics area is created a new entry in LIME SN NTREE table is created. All fields are copied from LIME NTREE table to LIME SN NTREE table. Analogously to the LIME SN NQUAN entries as shown in the start date is set to the start date of the current period and an end date is set to infinity 31.12.9999 . The same procedure can also be applied for new logistic unit LU entries.

In one embodiment the inventory quantity in the first inventory snapshot is compared with an aggregate of inventory confirmation quantities in the period 01.06.2009 01.07.2009. Aggregated confirmation quantities are calculated as a sum of aggregated inventory change confirmations for the period 01.06.2009 01.07.2009 and inventory quantity for a period ending on 00 00 01.06.2009. This procedure of verifying inventory using aggregated confirmation quantities is equivalent to the procedure of verifying inventory by comparing the difference of snapshots with the aggregated inventory change confirmations. If there is a mismatch an error indicator is set. After verification a checked entry is made for the first inventory snapshot. In this case the inventory quantity 20 in the first inventory snapshot is equal to an aggregate of inventory confirmation quantities AGG CONF QUAN 20 in the period 01.06.2009 01.07.2009. Therefore error indicator is not checked.

Referring to for the period 01.07.2009 01.08.2009 the inventory quantity 30 in the second inventory snapshot does not match an aggregate of inventory confirmation quantities AGG CONF QUAN 32 in the period 01.07.2009 01.08.2009. An error indicator is then set for the second inventory snapshot. A responsible party can be automatically notified of the error indicator.

Some embodiments of the invention may include the above described methods being written as one or more software components. These components and the functionality associated with each may be used by client server distributed or peer computer systems. These components may be written in a computer language corresponding to one or more programming languages such as functional declarative procedural object oriented lower level languages and the like. They may be linked to other components via various application programming interfaces and then compiled into one complete application for a server or a client. Alternatively the components maybe implemented in server and client applications. Further these components may be linked together via various distributed programming protocols. Some example embodiments of the invention may include remote procedure calls being used to implement one or more of these components across a distributed programming environment. For example a logic level may reside on a first computer system that is remotely located from a second computer system containing an interface level e.g. a graphical user interface . These first and second computer systems can be configured in a server client peer to peer or some other configuration. The clients can vary in complexity from mobile and handheld devices to thin clients and on to thick clients or even other servers.

The above illustrated software components are tangibly stored on a computer readable storage medium as instructions. The term computer readable storage medium should be taken to include a single medium or multiple media that stores one or more sets of instructions. The term computer readable storage medium should be taken to include any physical article that is capable of undergoing a set of physical changes to physically store encode or otherwise carry a set of instructions for execution by a computer system which causes the computer system to perform any of the methods or process steps described represented or illustrated herein. Examples of computer readable storage media include but are not limited to magnetic media such as hard disks floppy disks and magnetic tape optical media such as CD ROMs DVDs and holographic devices magneto optical media and hardware devices that are specially configured to store and execute such as application specific integrated circuits ASICs programmable logic devices PLDs and ROM and RAM devices. Examples of computer readable instructions include machine code such as produced by a compiler and files containing higher level code that are executed by a computer using an interpreter. For example an embodiment of the invention may be implemented using Java C or other object oriented programming language and development tools. Another embodiment of the invention may be implemented in hard wired circuitry in place of or in combination with machine readable software instructions.

A data source is an information resource. Data sources include sources of data that enable data storage and retrieval. Data sources may include databases such as relational transactional hierarchical multi dimensional e.g. OLAP object oriented databases and the like. Further data sources include tabular data e.g. spreadsheets delimited text files data tagged with a markup language e.g. XML data transactional data unstructured data e.g. text files screen scrapings hierarchical data e.g. data in a file system XML data files a plurality of reports and any other data source accessible through an established protocol such as Open DataBase Connectivity ODBC produced by an underlying software system e.g. ERP system and the like. Data sources may also include a data source where the data is not tangibly stored or otherwise ephemeral such as data streams broadcast data and the like. These data sources can include associated data foundations semantic layers management systems security systems and so on.

In the above description numerous specific details are set forth to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize however that the invention can be practiced without one or more of the specific details or with other methods components techniques etc. In other instances well known operations or structures are not shown or described in details to avoid obscuring aspects of the invention.

Although the processes illustrated and described herein include series of steps it will be appreciated that the different embodiments of the present invention are not limited by the illustrated ordering of steps as some steps may occur in different orders some concurrently with other steps apart from that shown and described herein. In addition not all illustrated steps may be required to implement a methodology in accordance with the present invention. Moreover it will be appreciated that the processes may be implemented in association with the apparatus and systems illustrated and described herein as well as in association with other systems not illustrated.

The above descriptions and illustrations of embodiments of the invention including what is described in the Abstract is not intended to be exhaustive or to limit the invention to the precise forms disclosed. While specific embodiments of and examples for the invention are described herein for illustrative purposes various equivalent modifications are possible within the scope of the invention as those skilled in the relevant art will recognize. These modifications can be made to the invention in light of the above detailed description. Rather the scope of the invention is to be determined by the following claims which are to be interpreted in accordance with established doctrines of claim construction.

