---

title: Data center scheduler
abstract: An exemplary data stream includes value information for use by consumers of global computing resources in making requests for global computing resources. An exemplary method includes receiving information about data center resources from one or more data centers, based at least in part on the information estimating value information for consumption of computing resources of the one or more data centers and streaming the value information via a network. An exemplary medium or media includes instructions to instruct a computing device to receive, from a data stream, value information for computing resources of one or more data centers, to format the value information for display and to issue requests for consumption of at least some of the computing resources. Other methods, devices and systems are also disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07984156&OS=07984156&RS=07984156
owner: Microsoft Corporation
number: 07984156
owner_city: Redmond
owner_country: US
publication_date: 20101115
---
This application is a continuation of prior pending U.S. patent application Ser. No. 12 163 161 filed Jun. 27 2008 which is herein incorporated by reference in its entirety.

Large scale data centers and the Internet provide a global infrastructure for a wide variety of web based services. Managers of such services aim to ensure excellent quality at reasonable costs. To achieve these goals a manager of a web based service typically enters negotiations with one or more data center operators. For example to ensure excellent quality a web service may require a certain amount of memory CPU and bandwidth. A data center operator may base the purchase price of such resources on a long term model that accounts for sunk costs power costs expected demand for resources etc. Such negotiations may take considerable time and have lengthy terms. In turn the lengthy terms bind the resources and make overall operation of the global infrastructure inflexible fraught with risk and market inefficiencies.

As described herein various exemplary technologies allow for optimal provisioning of global computing resources. Such technologies can also drive out market inefficiencies and account for associated traffic and events that impact availability and cost of computing resources.

An exemplary data stream includes value information for use by consumers of global computing resources in making requests for global computing resources. An exemplary method includes receiving information from one or more data centers based at least in part on the information estimating value information for consumption of the computing resources and streaming the value information via a network. An exemplary medium or media includes instructions to instruct a computing device to receive from a data stream value information for computing resources of one or more data centers to format the value information for display and to issue requests for consumption of at least some of the computing resources. Other methods devices and systems are also disclosed.

Various exemplary methods devices and systems described herein pertain to streaming data that can assist in resource provisioning. A data stream can carry any of a variety of metrics associated with resource provisioning. For example a data stream can include a value metric i.e. value information for a particular resource that can be used to make decisions about that resource. While various examples refer to price information metrics other than price may be used additionally or alternatively e.g. a monetized unit of capacity a unit based on type of capacity such as guaranteed bandwidth or best case delivery etc. . As described herein a data stream may be viewed as somewhat analogous to a stock ticker that streams price information for stocks traded on a stock exchange noting that where derivatives are available a ticker may stream prices for derivatives as well. In the context of computing resources an exemplary data stream can carry information as to past present and or future values of computing resources. For example past values may be used to benchmark present values for near real time resource provisioning and future values for resource provisioning to meet future resource needs. As explained at present purchases of global computing resources typically occur via infrequent negotiations between a data center operator and a manager of a web based service or application. Various exemplary techniques described herein allow for more incremental and or frequent purchases of computing resources. Such techniques can make the market for computing resources more efficient which can benefit all players e.g. users web based service app managers data center operators etc. .

The exemplary data streaming service includes modules and . The module is labeled ground truth as it acquires raw data about at least some of the global resources . For example the module may acquire information from a data center as to the number of blades the amount of memory per blade the availability of the memory for the next two months the bandwidth of communications links to the data center the cost of power to the data center the geographical location of the data center etc.

The module is an optimization engine that transforms the raw data to meaningful information using one or more algorithms. Such algorithms may be learning algorithms that can receive input related to trends in computing measured or prospective benchmarks for equipment trends in demand for resources e.g. night day geographic time of week etc. etc. In turn the module can output a variety of information relevant to current and possible future states of the resources. The module can also include value information such as pricing information for example that assigns a price to a resource based on time quantity location etc.

The module receives information from the optimization engine and then transforms the information to a standard form relevant to prospective purchasers for example the module may operate according to a general schema that specifies resource type quantity value e.g. price availability etc.

As mentioned the consumption mechanism consumes the data output by the service e.g. a consumer . This consumption mechanism allows computing devices e.g. automatically or by manual operation by managers or buyers of resources to readily make requests or place bids for resources. These requests are sent to the provisioning mechanism which includes a Traffic Management TM component and an intra data center provisioning component . An example of a TM component is described in more detail with respect to . The TM component accounts for network traffic as a data center may have resources but insufficient bandwidth to allow those resources to be used in a particular manner. Further as described with respect to an adverse event or planned event may occur that affects the global resources. For example an earthquake may render a data center inoperable and in turn may cause traffic management issues. In response an exemplary service streams data that reflects such events and can optionally price resources accordingly. A TM component may rely on such a data stream to manage global traffic and such information may also be used by one or more data centers for intra data center provisioning e.g. per component .

As described herein an exemplary data streaming service receives inputs analyzes the inputs and streams advertisements that allow others to make strategic decisions as to managing scheduling purchasing etc. resources. Such a service promotes efficient markets for global computing resources and in turn promotes efficiency of the global computing system or cloud . The inputs can be any of a variety of inputs including but not limited to electrical capacity electrical redundancy cooling capacity temperature thresholds physical limitations e.g. as to network ports logical limitations e.g. as to active directory authentications etc. While inputs may be typically provided by one or more data centers other global resources may also provide inputs. Such other resources that can provide inputs include for example DNS equipment satellite equipment fiber optic equipment weather monitoring equipment power generation equipment etc. With respect to networking inputs may pertain to network availability bandwidth at access core and edge layers BGP routing QoS peering price etc.

With respect to the taps module one may expect that a standardized communication interface and standardized set of data may not exist globally. The taps module can account for such lack of standards by ensuring that every resource has some interface or other mechanism to provide data. In an alternative example the service sets a standard for resources and receives input from those resources that comply with the standard.

With respect to the timings module the timings for tapping information may be unique to a particular resource or standardized across resources and suitably multiplexed for ease of acquisition. For example a large data center that serves a diverse set of web based applications may have a timing frequency of once a minute whereas a small data center that serves a single web based application may have a timing frequency of about once an hour. Alternatively both data centers may be tapped at the same frequency.

As shown in the ground truth component outputs harvested data . The harvested data may be in a raw form and optionally include some added metadata. The optimization engine component receives the harvested data . The optimization engine component includes an algorithms module a resources module a filters module and a pricing module . The algorithms module can estimate prices for resources based at least in part on the harvested data . In particular the algorithms module can estimate pricing for one resource relative to one or more other resources. As described herein this is referred to as relative pricing. Such relative pricing may rely on historical data trends in computing trends in demand etc. At present such pricing is determined by operators of individual or controlled groups of data centers. Such pricing is typically inefficient and may be less than optimal for both the operator of a data center s and consumers of data center resources. Further such pricing information is typically stale as it usually pertains to a negotiated contract for resources where such a negotiation may take place infrequently e.g. once a year . In contrast the optimization engine component can provide frequent pricing estimates that can benefit both operators and consumers. Indeed frequent estimation of pricing can benefit operators that provide advantages vis a vis their competitors. As described herein optimized information output by the optimization engine component typically includes relative pricing information.

The resource status advertisement component receives the optimized information as output by the optimization engine component . The resource status advertisement component includes a schema module and APIs . The schema module dictates the schema or schemas by which data is streamed to the world per data stream s . For example the information may be broadcast via satellite fiber cable etc. The data stream s may be broadcast from more than one site to ensure ready access and to provide redundancy. In general the service streams information in a manner whereby no consumer whether automated or manually operated can gain advantage by getting the information sooner than another consumer. With respect to the APIs such APIs are available to allow consumers to subscribe to the service . For example a consumer may register with the service akin to how a consumer would subscribe to a news service e.g. The Bloomberg News Service AP etc. . The data stream may be continuous or broadcast at pre determined times e.g. on the hour . An exemplary data stream may be looped and information may be ordered according to location alphabetical or numeric code type of resource s etc. For example information about a data center in Chicago may appear just after information about a data center in Beijing. As described herein a data stream may include information clustered in any of a variety of manners e.g. data center clusters memory CPU clusters bandwidth route clusters etc. .

As described herein the streamed data may be encoded compressed and or encrypted. The streamed data may require specialized hardware and or specialized software for ready consumption. Such techniques are typically found in set top boxes for cable television services and some news services. A subscriber may have various privileges based on a fee schedule where a higher fee corresponds to more privileges which may include rich information as to future trends in estimated pricing. Other value added features for subscribers may include enhanced software for deep analysis of streamed data.

As described herein an exemplary data stream may be output by a computing device via the Internet or other network such as an intranet and include information about global computing resources accessible via the Internet where the information includes value information for use by consumers of global computing resources in making requests for global computing resources. Such consumers may be computing devices operated automatically for or by managers of web based services or web based applications accessible via the Internet. With respect to the computing device it may include an algorithm to estimate value information based at least in part on data acquired from the global computing resources. A data stream may include memory information CPU information and bandwidth information about the global computing resources and associated value information. A data stream may include geographic information about the global computing resources. A data stream may include information as to routing e.g. how traffic is being directed in a cloud of global computing resources .

As described herein an exemplary method includes receiving information from one or more data centers e.g. information about data center resources based at least in part on the information estimating value information for consumption of computing resources of the one or more data centers and streaming the value information via a network. Such a method can include estimating relative pricing for consumption of the data center computing resources. Such a method may stream the value information to potential consumers of the computing resources. Such a method can include receiving subscriptions from potential consumers of the computing resources. Accordingly potential consumers may be subscribers to a data streaming service that performs the streaming.

Referring again to the method a sanity check block performs a sanity check on each of the one or more received requests based in part on the acquired related data. If the sanity check decides that a particular request is sane i.e. OK then the method continues to a placement block where it places the request e.g. a placement and issues a confirmation . The sanity check block may act on a series of requests iteratively and the method may include logic that prevents placement of all requests if one request is found to be suspect or not sane. In the instance that the sanity check block finds a request not sane i.e. Not OK then the method enters an issuance block that issues an alert. Such an alert may be a request declined alert to consumer and issued by the provisioning mechanism in a manner akin to the confirmation .

As described herein an alert is typically issued to the consumer but may also be issued to the service and kept on record and optionally streamed to the provisioning mechanism to notify the provisioning mechanism of the consumer s history as to bad requests. In an alternative scheme the provisioning mechanism that issued the alert may record the incident and use the record for making future decisions about the requesting consumer and or the type of request that generated the alert.

In the example of a historical trend analysis module for data centers and a historical trend analysis module for web based services and applications may be available for analyzing information in the information reservoir . As indicated the information reservoir may be repository for the raw information from the global resources from the service and or from the provisioning mechanism .

As described herein one or more exemplary computer readable media include computer executable instructions to instruct a computing device to receive from a data stream value information for computing resources of one or more data centers to format the value information for display and to issue requests for consumption of at least some of the computing resources. Such a medium or media may include instructions to login to a data streaming service that provides the data stream. Such a data stream may be received via the Internet. Such a medium or media may include instructions to receive confirmations for issued requests. Further instructions may be included to access an information reservoir that comprises historical price information see e.g. reservoir of .

In the method an acquisition block acquires information about the client and the web servers     and   in relationship to the three beacons     and  . In the example of the information is round trip time RTT which serves as an indication of traffic congestion about a web server and is referred to as Internet Location Coordinate ILC information. An optimization block determines the optimal web server as the web server   based on the acquired information. For example the block may use an exemplary algorithm that takes the absolute value of the difference between a beacon RTT for the client and a corresponding beacon RTT for each web server. The algorithm adds the results and selects the web server with the smallest sum. Such an algorithm finds the web server in the best part of the network space compared to the client s position in the network space. Other algorithms may be used to compare ILCs.

While the example of pertains to a travel time or transmission time based on a single packet to a beacon an exemplary method may send a train of packets to a beacon. Accordingly the packet train may be analyzed to provide a more accurate indication of travel time between the client and the beacon and to incorporate congestion information.

As described herein an ILC can represent latencies in a network. As latencies may change over time an ILC may be updated. For example as peak usage nears a participant may see its respective beacon RTTs increase whereas during non peak e.g. late night early morning holidays etc. the participant may see its respective beacon RTTs decrease.

An exemplary ILC may include information such as a time of measurement for a tuple received in response to a DNS request. Such information may be generated upon transmission of a packet or upon receipt of a packet. An exemplary method records a RTT for a beacon along with a freshness time where a stale time may indicate a problem with a participant.

In various examples participants may rely on the same set of beacons. In other examples the beacons for a client and a web server or group of web servers associated with a domain name may differ. In such circumstances additional information about the beacons may be used in selecting the best participant amongst a group of participants.

Referring again to the method of decisions made by the block impact the global resources which in turn affects the information streamed by the service . Further a request by a consumer can be received and accounted for by the TM provisioning mechanism . Actions by the mechanism can then be accounted for by the TM optimization . In an alternative arrangement the TM provisioning mechanism includes features to perform the method e.g. actions of the acquisition block and the optimization block .

Further as shown in the method the information may be used in a re provisioning block to re provision existing placements that can no longer be fulfilled as the web server   is off line. In such situations fall back or other policies may be implemented to smooth costs for a manager having a pre existing placement that can no longer be fulfilled. In a particular scheme the consumer may acquire more expensive resources and then demand compensation from the operators of the failed system.

As described herein various exemplary techniques can help make the market for data center and related resources more efficient. Current practice relies on a data store or data reservoir where data may be quite stale i.e. outdated . In contrast an exemplary system provides one or more real time data streams for example akin to a stock ticker feed or news feed. Such a feed can include information pertaining to data center operation even including scheduled events weather etc. In a variation a specialized data stream for management of one or more data center and or one or more other resources may be provided with or without information such as price e.g. depending on management needs . In this variation a manager may monitor a specialized data stream for any of a variety of purposes including upgrading equipment or software maintaining hardware or infrastructure etc.

An exemplary data streaming service can include an optimization algorithm to analyze information e.g. raw data and to output meaningful data to managers of applications services including prices costs. In turn the managers can make requests. A provisioning mechanism can provision resources based on requests and forms part of a feedback loop. Overall the flow of information allows for decision making by app service managers and developers and drives market efficiency.

In a very basic configuration computing device typically includes at least one processing unit and system memory . Depending on the exact configuration and type of computing device system memory may be volatile such as RAM non volatile such as ROM flash memory etc. or some combination of the two. System memory typically includes an operating system one or more program modules and may include program data . The operating system include a component based framework that supports components including properties and events objects inheritance polymorphism reflection and provides an object oriented component based application programming interface API such as that of the .NET Framework marketed by Microsoft Corporation Redmond Wash. The device is of a very basic configuration demarcated by a dashed line . Again a terminal may have fewer components but will interact with a computing device that may have such a basic configuration.

Computing device may have additional features or functionality. For example computing device may also include additional data storage devices removable and or non removable such as for example magnetic disks optical disks or tape. Such additional storage is illustrated in by removable storage and non removable storage . Computer storage media may include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. System memory removable storage and non removable storage are all examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computing device . Any such computer storage media may be part of device . Computing device may also have input device s such as keyboard mouse pen voice input device touch input device etc. Output device s such as a display speakers printer etc. may also be included. These devices are well known in the art and need not be discussed at length here.

Computing device may also contain communication connections that allow the device to communicate with other computing devices such as over a network. Communication connections are one example of communication media. Communication media may typically be embodied by computer readable instructions data structures program modules or other data forms. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media.

While a general computing device is shown in other equipment may be configured to perform one or more actions of the exemplary methods described herein. For example a network device may be configured to perform one or more actions such as streaming data acquiring data issuing alerts etc.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

