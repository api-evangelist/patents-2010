---

title: Isolation tool for user assistance in solving a captcha test
abstract: A method includes displaying a CAPTCHA test comprising an image with distorted alphanumeric characters. The method also includes associating a mask with the image that maps the alphanumeric characters to coordinates. Further, the method includes, enhancing a portion of the image corresponding to one of the alphanumeric characters responsive to a user positioning an assistance tool proximate to one alphanumeric character to reduce distortion.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09027122&OS=09027122&RS=09027122
owner: Yahoo! Inc.
number: 09027122
owner_city: Sunnyvale
owner_country: US
publication_date: 20101222
---
This invention relates generally to computer security and more specifically to assisting a user with a CAPTHCA Completely Automated Public Turing test to tell Computers and Humans Apart challenge.

With the proliferation of unscrupulous activity on public networks computer security has become a mandatory form of protection. Hackers seek to compromise online computer systems using a variety of techniques. Sometimes hackers operate manually to gain access to a system which can be tedious for tasks such as attempting every possible password or accessing every web page of a web site. More sophisticated hackers employ automated bots to perform these repetitive tasks. A bot is a computer software program that is configured to automatically perform one or more tasks over a computer network. For example a bot can make millions of attempts to crack a password or visit millions of web pages for the purpose of data scraping valuable database information without authorization.

In response web sites can be configured with a CAPTHCA test. A CAPTCHA test is a form of challenge response test that attempts to prevent bot from gaining access to a system. Generally the authentication requires one party to question challenge and the other party to answer response correctly prior to allowing access. Typically the CAPTCHA test includes an image of distorted alphanumeric characters that while recognizable by a human should not be recognizable by a bot. The image may also be displayed upon a background. A user solving the test must be able to type the alphanumeric characters correctly. However sometimes the CAPTCHA tests are too difficult for the user because of too many distortions or distortions that are too severe. Further some users may lack the innate capacities of average sight and average cognitive abilities necessary to solve the CAPTCHA tests.

In light of the foregoing discussion there is a need for a robust assistance for human users in solving the CAPTCHA test.

The above mentioned needs are met by a method system and computer program product for assisting users with CAPTCHA Completely Automated Public Turing test to tell Computers and Humans Apart tests.

An example of a method includes displaying a CAPTCHA test comprising an image with distorted alphanumeric characters. The method also includes associating a mask with the image that maps the alphanumeric characters to coordinates. Further the method includes enhancing a portion of the image corresponding to one of the alphanumeric characters responsive to a user positioning an assistance tool proximate to one alphanumeric character to reduce distortion.

An example of a computer program product includes displaying a CAPTCHA test comprising an image with distorted alphanumeric characters. The computer program product also includes associating a mask with the image that maps the alphanumeric characters to coordinates. Further the computer program product includes enhancing a portion of the image corresponding to one of the alphanumeric character responsive to a user positioning an assistance tool proximate to one alphanumeric character to reduce distortion.

An example of a system includes a generation module to generate a CAPTCHA test comprising distorted alphanumeric characters. The system also includes a mask associated with the CAPTCHA test that maps the alphanumeric characters to coordinates. Further the system includes an assistance tool responsive to being positioned proximate to one of the alphanumeric characters enhances a portion of the image corresponding to the one alphanumeric character to reduce distortion.

Advantageously a human user is assisted in solving a CAPTCHA test while security is maintained against access by bots.

The features and advantages described in this summary and in the following detailed description are not all inclusive and particularly many additional features and advantages will be apparent to one of ordinary skill in the relevant art in view of the drawings specification and claims hereof. Moreover it should be noted that the language used in the specification has been principally selected for readability and instructional purposes and may not have been selected to delineate or circumscribe the inventive subject matter resort to the claims being necessary to determine such inventive subject matter.

A method system and computer program product for assisting users with CAPTCHA Completely Automated Public Turing test to tell Computers and Humans Apart tests is disclosed. The following detailed description is intended to provide example implementations to one of ordinary skill in the art and is not intended to limit the invention to the explicit disclosure as one or ordinary skill in the art will understand that variations can be substituted that are within the scope of the invention as described.

At step a user attempts to access a computer system. For example a computer user can access a web site over a computer network using a browser application. The web site can also be accessed directly from an application such as a financial bookkeeping application accessing a bank web site. The user can access the web site from any type of computing device such as a PC Personal Computer a laptop computer a tablet computer a smart phone or PDA Personal Desktop Assistant a smart appliance or any other processor based device.

The user may further attempt to access a part of the web site that includes private information such as financial data or personal e mail messages e.g. Yahoo Mail . At this point the user may be required to enter log on credentials consisting of a user name and a password as verification.

At step the user is presented with a CAPTCHA test that provides user assistance for example by reducing distortion to a selected portion of an image. In general a user having difficulty solving a CAPTCHA can direct an assistance tool to enhance a character. The assistance tool is designed for human interaction in order to maintain the same level of computer security as the original CAPTCHA. Various embodiments can prevent a bot from being able to take advantage of the assistance. In other embodiments assistance can be provided with an audio based CAPTCHA test by reduction distortion to a selected portion of the audio.

In some embodiments the CAPTCHA test can be designed to be more difficult that includes even less perceptible by a bot since human users can be assisted as needed. In other embodiments the CAPTCHA test is activated for users with less than average sight or less than average cognitive abilities.

In some embodiments the CAPTCHA test is displayed to all users prior to accessing a system. For example the CAPTCHA test can appear along with log on credentials. In other embodiments the CAPTHA test is displayed upon suspicion that a user is a bot. The suspicion can be raised by for example multiple failed log on attempts sequential requests of web pages or a high volume of requests from a single IP address over a short time period.

At step an attempt to solve the CAPTCHA test is evaluated. In particular a string of characters received from either a human user or bot are compared against the string of characters used to generate the CAPTCHA image. The characters can be entered using a traditional keyboard a virtual keyboard a dial pad a speech to text application a motion detector or any other type of computer input. More than one key may be depressed on a keyboard for example a modifier key for example SHIFT FUNCTION CNTL or ALT in combination with another key. Additional embodiments are discussed in more detail below.

At step responsive to a correct solution access to the computer system is granted to the user. For example a user may be allowed to enter log on credentials or be allowed to search a database. A user s Internet Protocol IP address may be stored and granted access for a certain amount of time without having to solve a new CAPTCHA test.

At step responsive to an incorrect solution access to the system is denied. In one implementation the user can make another attempt to solve either the same CAPTCHA or a new one. In another implementation the user is given a predefined number of attempts to solve the CAPTCHA. In yet another implementation the user is immediately expelled from further access attempts. An IP address of the user is recorded and the user is locked out for a certain amount of time.

At step a CAPTCHA test is generated. The CAPTCHA test enhances computer security by ensuring that a human is accessing a computer system rather than an automated bot. To this end the CAPTCHA test is designed to be perceivable by a human but not by a computer program. As a form of challenge response authentication the CAPTCHA test is presented to a user. Access to a computer system is granted as a result of a correct response being returned.

One type of CAPTCHA test generated includes an image with distorted alphanumeric characters. The alphanumeric characters can be letters numbers symbols and any other characters appearing on a typical computer keyboard input. The letters can be small font or capitalized corresponding to the English language that refers to Latin based characters or a non English language for example Chinese characters. For example a pool of characters can be defined by the 128 characters of ASCII American Standard Code for information Interchange . In another example the pool of characters can be de defined by those that are easily entered from a keyboard without the use of shift function or control keys. The characters can also be from any of hundreds of different types of fonts such as Times New Roman Arial Courier Lucida and the like.

The characters can be randomly generated to prevent any pattern recognition by a bot. The number of characters or words generated can be implementation specific for example five characters. A CAPTCHA test may be viewed by some users as annoying so a system designer weighs the needs for security against making the system too tedious for targeted users. Some embodiments can be designed to include a specific combination of character types. For example the combination of letters with at least one number and or at least one symbol can increase security. The combination can also include at least one capitalized letter. Another combination includes more than one type of font and or more than one size. In one embodiment actual words or phrases can be randomly generated rather than a random group of characters.

The selected characters are represented as an image since characters represented in their inherent form are easily recognized by computers. A number of techniques can be used to distort the selected characters. First the characters can be represented by a custom font that is not widely used. Each font has a unique visual representation of characters. Second the characters can be spaced in an abnormal manner. Some fonts such as New Times Roman inherently space characters based on their natural appearance while other fonts such as Courier inherently space characters evenly regardless of their size. By changing the spacing between characters a bot cannot automatically find the next characters by identifying the type of font. Some character spacing can be distorted more extremely by overlapping adjacent characters. Additionally a size proportion of character can be altered by stretching or compressing a letter in the vertical and or horizontal directions.

More advanced types of distortion include skewing characters to be angled in away from an anchor towards a vertical or horizontal direction e.g. italicizing . Characters can be rotated clockwise or counter clockwise a 180 degree rotation resulting in an upside down character. Alternatively characters can be flipped over a vertical axis to get a mirror representation or flipped over a horizontal axis to get a pool reflection representation. Other graphical distortions include highlighting underlining strikethrough and boldface. Many other types of distortions are possible.

A test image can also include a background to further confuse bots. One process for generating the CAPTCHA test is to use a background layer and a foreground layer of characters. The two layers are merged and exported as a single image file. A background can include elements such as lines and curves that make it difficult for a bot to even distinguish characters from the background. Also the color and shading can mimic that of actual characters.

At step a mask is associated with the image that maps the alphanumeric characters to coordinates. Each coordinate of an image either corresponds to a foreground character or more than one character in areas of overlap or to a part of a background. A graphical representation of a mask outlines each character. Coordinates within the outline are associated with a character. A tabular representation of a mask includes a table with rows of x position and columns of y positions. Each x y coordinate is a cell of the table with an associated character. As a result when a selection tool such as an icon is hovered over a particular location of an image with a mask e.g. can be determined by a pixel location an associated character can be identified. In other embodiments a mask is not used.

At step the CAPTCHA test is displayed. In one embodiment a text box is displayed along with a help button for directions a refresh button to request a new CAPTCHA test and an audio button to request an audio challenge. A test image can be output in any suitable lossy or lossless file format such as GIF Graphics Interchange Format or JPEG Joint Photographic Experts Group file PNG Portable Networks Graphic and the like. In one embodiment the CAPTCHA test is integrated within a web page. The web page can be composed in HyperText Markup Language HTML eXtensible Markup Language XML Hypertext Preprocessor PHP and include elements of Flash Javascript Java Portable Document Format PDF and the like any of which can include the CAPTCHA test. In another embodiment the CAPTCHA test pops up in a dedicated window.

At step a portion of the image selected by a user is enhanced to reduce distortion. The user can maneuver a tool to a portion that is perhaps so heavily distorted that it is unrecognizable. Afterwards the user is able to enter a string of characters as a solution to the CAPTCHA test. In another embodiment a character is isolated for better recognition without reducing distortion. Further details are discussed below with respect to .

At step a user selects a portion of the image within the displayed CAPTCHA image for assistance. A CAPTCHA image is interactive. In one embodiment when a user hovers over the image a cursor appears as a selection tool. In particular a portion of the image is intermittently selected by pressing a mouse button at a certain location on the image. Alternatively a portion of the image can be continuously selected by merely moving the selection tool around the image. In a touch screen environment a user finger guides the selection tool.

At step coordinates for the user selection are obtained. In one embodiment the coordinates of a cursor are sent to a CAPTCHA application which may then have to be translated to local application coordinates. In other words each application window has its own local coordinates. The initial OS coordinates can be global coordinates that locate a pointer relative to an entire display which can include several windows while local coordinates can be relative to an individual application display within a particular widow.

At step the coordinates are mapped to a character using the mask. A coordinate table referred to above is accessed from cache. The x and y location coordinates identify a cell in the table. The cell will contain either a particular character or an indication of a miss when no character is associated with the locations.

At step the enhanced character is displayed with reduced distortion. In one embodiment the character is displayed without any distortion. Distortions are removed from both the foreground and the background. The enhanced character can be displayed within the same tool used for selection. Alternatively the enhanced character can be displayed at a random location on the image to prevent a bot from being programmed to receive assistance at a predefined location.

In another embodiment the character is displayed with some distortions remaining. For example if a character has been overlapped skewed and rotated the enhanced character can be displayed without overlap and skew but rotated. To do so a list of initial distortions is cached when the image is generated. The enhanced character is then recreated without the complete list of distortions being applied. Also the same distortions can be applied to a lesser degree for example less noise in the background.

In still another embodiment background distortions are removed without altering the character itself. Because the background distortions can degrade boundaries that define the character merely removing the background can allow a human to more easily discern the character.

An assistance tool is shown hovering over one of the characters. Within the perimeter of the assistance tool abutting characters have been removed while the wavy lower boundary remains. In isolation a user can more readily identify the enhanced character as the letter z in small font.

CAPTCHA test also shows an example of distorted characters in the foreground along with background distortions. The background distortions of this example include other characters randomly spaced and rotated.

An assistance tool is shown here hovering again over the letter z . However in this case the background distortions have been removed.

In other embodiments assistant tools can have different shapes such as circular oval square etc. Also various distortions can be removed within a perimeter of an assistance tools. Some distortions can remain to prevent a bot from being programmed specifically for the CAPTCHA test described herein.

The web server can be for example a PC a laptop a server blade or any other computing device. In one embodiment the web server stores web sites and or web applications. Responsive to requests from the computing device and other clients to retrieve web pages and or web applications the web server sends web pages and other data across the network conditioned upon satisfying a CAPTCHA test. In one implementation a Java component of an HTML encoded web page contact the CAPTCHA server for a randomly generated CAPTCHA image which is integrated in the HTML web page returned to the computing device .

The computing device can be for example a PC a stationary computing device a laptop or notebook computer a tablet computer a smart phone or PDA a smart appliance or any other suitable processor based device. In one embodiment the computing device accesses a web site or application on the web server . The computing device displays a CAPTCHA test to a user as needed for access. Additional embodiments of the computing device are described in more detail below.

The CAPTCHA server can be any of the above processor based devices. When the computing device requests access to a web site a web application or other sensitive data the CAPTCHA server can receive a request from the web server for a CAPTCHA test. After sending the CATPCHA test and receiving an attempted solution the CAPTCHA server sends a solution correct or solution incorrect indication to the web server . Additional embodiments of the CAPTCHA server are described in more detail below.

The processor can be a general purpose processor an application specific integrated circuit ASIC a Field Programmable Gate Array FPGA a Reduced Instruction Set Controller processor RISC an integrated circuit or the like. There can be a single core multiple cores or more than one processor. In one embodiment the processor is specially suited for the processing demands of CAPTCHA tests and or network processing for example custom micro code instruction fetching pipelining or cache sizes . The processor can be disposed on silicon or any other suitable material. In operation the processor can receive and execute instructions and data stored in the memory or the hard drive . The hard drive can be a platter based storage device a flash drive an external drive a persistent memory device or any other type of memory.

The hard drive provides persistent i.e. long term storage for instructions and data. The I O port is an input output panel including a network card . The network card can be for example a wired networking card for example a USB card or an IEEE 802.3 card a wireless networking card for example an IEEE 802.11 card or a Bluetooth card a cellular networking card for example a 3G card. An interface is configured according to networking compatibility. For example a wired networking card includes a physical port to plug in a cord and a wireless networking card includes an antennae. The network card provides access to a communication channel on a network.

The memory can be a Random Access Memory RAM a flash memory a non persistent memory device or any other device capable of storing program instructions being executed. The memory further comprises a CAPTCHA module and an operating system OS module . The OS module can be one of the Microsoft Windows family of operating systems e.g. Windows 95 98 Me Windows NT Windows 2000 Windows XP Windows XP x64 Edition Windows Vista Windows CE Windows Mobile Linux HP UX UNIX Sun OS Solaris Mac OS X Alpha OS AIX IRIX32 or IRIX64.

The random character generator generates a string of alphanumeric characters for a CAPTCHA test. The image processor distorts the string of characters and generates an image. Moreover the image processor can produce enhanced characters with reduced distortion. The mask generator maps the characters of the image to coordinates. The comparison module receives the character string and an attempted solution of the characters string submitted by a user to determine if there is a match. The client communication module manages network connections to clients and request to provide CAPTCHA testing. The CAPTCHA cache can be use by the other components to temporarily store data such as the character string the character map and attempted CAPTCHA solutions.

The computing device includes a processor a hard drive an I O port and a memory coupled by a bus . The processor and the hard drive can be configured as described above with respect to .

The I O port comprises a network card with a physical port as described above along with a keyboard controller and a mouse controller . The keyboard controller can be coupled to a physical port e.g. PS 2 or USB port for connecting a keyboard. The keyboard can be a standard alphanumeric keyboard with or keys including alphabetic numerical and punctuation keys a space bar modifier keys etc. a laptop or notebook keyboard a thumb sized keyboard a virtual keyboard or the like. The mouse controller can also be coupled to a physical port e.g. mouse or USB port .

The memory comprises an OS module as described above along with a web browser . In other embodiments the memory comprises an application such a banking application that implements CAPTCHA testing. The web browser can be a desktop web browser e.g. Internet Explorer Mozilla or Chrome a mobile browser or a web viewer built integrated into an application program. In an embodiment a user accesses a system on the World Wide Web WWW through a network such as the Internet. The web browser is used to download web pages or other content in various formats including HTML XML text PDF and postscript and may be used to upload information to other parts of the system. The Web browser may use URLs Uniform Resource Locators to identify resources on the web and HTTP HyperText Transfer Protocol in transferring files on the web.

As described herein computer software products may be written in any of various suitable programming languages such as C C C Pascal Fortran Perl Matlab from MathWorks SAS SPSS JavaScript AJAX and Java. The computer software product may be an independent application with data input and data display modules. Alternatively the computer software products may be classes that may be instantiated as distributed objects. The computer software products may also be component software such as Java Beans from Sun Microsystems or Enterprise Java Beans EJB from Sun Microsystems . Many of the functionalities described herein can be implemented in computer software computer hardware or a combination.

Furthermore the computer that is running the previously mentioned computer software may be connected to a network and may interface to other computers using this network. The network may be an intranet internet or the Internet among others. The network may be a wired network e.g. using copper telephone network packet network an optical network e.g. using optical fiber or a wireless network or any combination of these. For example data and other information may be passed between the computer and components or steps of a system of the invention using a wireless network using a protocol such as Wi Fi IEEE standards 802.11 802.11a 802.11b 802.11e 802.11g 802.11i and 802.11n just to name a few examples . For example signals from a computer may be transferred at least in part wirelessly to components or other computers.

It is to be understood that although various components are illustrated herein as separate entities each illustrated component represents a collection of functionalities which can be implemented as software hardware firmware or any combination of these. Where a component is implemented as software it can be implemented as a standalone program but can also be implemented in other ways for example as part of a larger program as a plurality of separate programs as a kernel loadable module as one or more device drivers or as one or more statically or dynamically linked libraries.

As will be understood by those familiar with the art the invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof. Likewise the particular naming and division of the portions modules agents managers components functions procedures actions layers features attributes methodologies and other aspects are not mandatory or significant and the mechanisms that implement the invention or its features may have different names divisions and or formats.

Furthermore as will be apparent to one of ordinary skill in the relevant art the portions modules agents managers components functions procedures actions layers features attributes methodologies and other aspects of the invention can be implemented as software hardware firmware or any combination of the three. Of course wherever a component of the present invention is implemented as software the component can be implemented as a script as a standalone program as part of a larger program as a plurality of separate scripts and or programs as a statically or dynamically linked library as a kernel loadable module as a device driver and or in every and any other way known now or in the future to those of skill in the art of computer programming. Additionally the present invention is in no way limited to implementation in any specific programming language or for any specific operating system or environment.

Furthermore it will be readily apparent to those of ordinary skill in the relevant art that where the present invention is implemented in whole or in part in software the software components thereof can be stored on computer readable media as computer program products. Any form of computer readable medium can be used in this context such as magnetic or optical storage media. Additionally software portions of the present invention can be instantiated for example as object code or executable images within the memory of any programmable computing device.

Accordingly the disclosure of the present invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

