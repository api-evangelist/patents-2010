---

title: Magnetic levitation haptic interface system
abstract: This invention discloses a haptic interface system that uses Lorentz forces to provide magnetic levitation for a handle which can be manipulated by a person, typically a computer user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08497767&OS=08497767&RS=08497767
owner: Butterfly Haptics, LLC
number: 08497767
owner_city: Pittsburgh
owner_country: US
publication_date: 20100225
---
The present application claims the benefit of Provisional Patent Application Ser. No. 61 156 874 EFS ID 4890579 entitled Improved Magnetic Levitation Haptic Interface System filed Mar. 2 2009 the entirety of which is hereby incorporated by reference for all purposes.

This invention was made with support from the United States Government under Grant Number CNS0625796 awarded by the National Science Foundation. The United States Government has certain rights in the invention.

The present invention relates generally to human computer interaction and more particularly to haptic computer interfaces which measure position orientation input from a computer user s hand while providing force torque output to the user s hand.

The term haptics refers to the human sense of touch. In recent decades there has been a great deal of attention to providing computer interfaces that in addition to the usual keyboard and mouse input devices and visual output provided by the display on a monitor can also engage the computer user s sense of touch. Generally these haptic devices have a manipulandum or handle that can be grasped and moved about by the user to provide position input to a computer in a manner similar to that of a computer mouse. Unlike a mouse which can be moved in the plane of the desktop 2 degrees of freedom DOF some haptic devices allow translational movement in all 3 DOFs while providing force back to the user s hand and still others add rotational DOFs which also provide torque feedback. Of particular interest are those haptic devices with 6 DOFs because 6 DOFs are needed to position and orient a rigid body in space.

Prior art haptic devices fall into two broad categories i electromechanical devices which are small robot arms with serial or parallel kinematic configurations or a combination of serial and parallel aspects and ii non mechanical devices which use principles of magnetic levitation. Haptic devices in the first category have been available commercially for some time from companies such as Sensable Technologies Woburn Mass. USA Immersion San Jose Calif. USA Mimic Technologies Inc. Seattle Wash. USA Force Dimension Nyon Switzerland MPB Technologies Inc. Montreal Quebec Canada Quanser Inc. Markham Ontario Canada Moog FCS Nieuw Vennep Netherlands and Haption S. A. Soulge sur Ouette France. Devices marketed by these and other firms being electromechanical in nature necessarily incorporate motors encoders links joints and transmission elements such as gears capstans cables or belts. Whereas this body of prior art may serve as background for haptic interface devices per se the present invention achieves similar functional goals through a fundamentally different mechanism namely magnetic levitation. Haptics based on magnetic levitation is capable of much higher performance since it can avoid unwanted artifacts associated with electro mechanical devices.

Magnetic levitation or magnetic suspension devices have a long history and depend on various principles for their operation. These include magnetic bearings and magnetic levitation maglev trains as well as numerous toys illustrating magnetic levitation. Of particular interest is Downer et al. U.S. Pat. No. 4 700 094 issued Oct. 13 1987 which describes a magnetic bearing utilizing Lorentz forces for maintaining the rotation of a flywheel which may be subject to small disturbances. Of tangential interest is Anderson et al. U.S. Pat. No. 4 156 548 issued May 29 1979 which describes a magnetic suspension and pointing system utilizing Maxwell forces. Of closest interest is Hollis U.S. Pat. No. 4 874 998 issued Oct. 17 1989 which describes a magnetically levitated fine motion robot wrist using Lorentz force actuation with a workspace of several millimeters. None of this art pertains to haptics or haptic devices.

The first use of magnetic levitation principles for a haptic device is disclosed in Hollis and Salcudean U.S. Pat. No. 5 146 566 issued Sep. 8 1992. This patent shows a hexagonal levitated body supported by Lorentz forces and using optical position sensors rendering it capable of six degree of freedom DOF motion and force torque output. It is described as an input output system for computer user interface i.e. it describes a haptic device. Further the invention describes in general terms various software elements for connecting and communicating between a computer user s software program and the magnetic levitation device. The device lacks the large workspace light weight composite levitating element interchangeable handles reorientation capability and automatic software procedures of the present invention.

The paper Lorentz levitation technology a new approach to fine motion robotics teleoperation haptic interfaces and vibration isolation by R. L. Hollis and S. E. Salcudean appeared in the International Symposium for Robotics Research Hidden Valley Pa. in Oct. 1 3 1993 and further describes haptic interaction and other applications using magnetic levitation.

A motion scaling tele operating system with force feedback suitable for microsurgery is disclosed in Salcudean et al. U.S. Pat. No. 5 382 885 issued Jan. 17 1995. The system uses a pair of hexagonal magnetic levitation devices in a master slave arrangement providing haptic feedback to the user. An alternative magnetic levitation tele operation system with haptic feedback is described in the paper Design and control of a force reflecting teleoperation system with magnetically levitated master and wrist Salcudean Wong and Hollis Vol. 11 pages 844 858 December 1995. The paper Interacting with virtual environments using a magnetic levitation haptic interface by P. Berkelman R. Hollis and S. Salcudean in Pittsburgh August 1995 pages 2296 2301 further describes haptic interaction between a computer program and a magnetic levitation device. Again these devices lack the large workspace light weight composite levitating element interchangeable handles reorientation capability and automatic software procedures of the present invention.

Salcudean et al. disclose an active joystick with optical position sensing in U.S. Pat. No. 6 195 083 B1 issued Feb. 27 2001 which has a cubic configuration and very small workspace. This device was planned for commercialization but never materialized. This device lacked the large workspace light weight composite levitating element interchangeable handles reorientation capability and automatic software procedures of the present invention. U.S. Pat. No. 5 790 108 issued to Salcudean et al. on Aug. 4 1998 describes a specific application of the Lorentz force coils in a hand controller.

The paper Design of a hemispherical magnetic levitation haptic interface device by P. Berkelman Z. J. Butler and R. L. Hollis in the Atlanta November 1996 DSC Vol. 58 pages 483 488 describes a design for a large workspace Lorentz magnetic levitation haptic device. This device lacks the light weight composite levitating element interchangeable handles reorientation capability and automatic software procedures of the present invention.

Watanabe et al. describe a magnetic actuator with reduced magnetic flux leakage and haptic sense in U.S. Patent Application Publication No. US 2004 0059245 A1 published Mar. 25 2004 and in U.S. Pat. No. 7 336 006 B2. A similar much earlier design by R. Hollis Ultrafast electrodynamic X Y and theta positioning stage was disclosed in U.S. Pat. No. 5 153 494 issued Oct. 6 1992. These devices do not use magnetic levitation.

Li et al. in U.S. Pat. No. 6 483 499 B1 issued Nov. 19 2002 disclose a 3D sculpturing input device using a magnetized stylus held by the user. Hu in U.S. Patent Application Publication No. US 2006 0209019 A1 published Sep. 21 2006 discloses a magnetic haptic feedback system and methods for virtual reality environments. The system uses a magnetized tool upon which forces are generated with electromagnets. Neither of these devices use magnetic levitation as in the present invention.

The paper A novel coil configuration to extend the motion range of Lorentz force magnetic levitation devices for haptic interaction by P. Berkelman San Diego Oct. 29 through Nov. 2 2007 pages 2107 2112 describes a magnetic levitation haptic device with permanent magnetic circuits and coil design to permit large translational and rotational motion. This device while having a larger motion range than the present invention does not have a light weight composite structure and lacks a viable scheme for providing high resolution position orientation sensing.

In summary each of the prior art haptic devices and systems whether based on electro mechanical methods or on magnetic levitation methods suffers from one or more limitations which the present invention overcomes.

Accordingly several objects and advantages of the present invention are given below where the term device refers to the haptic interaction device alone and the word system refers to the combination of the device and its hardware software controller.

 a A six degree of freedom haptic device that is free of friction backlash link bending cable or belt stretch limited encoder resolution and motor cogging effects which limit the performance of current electro mechanical haptic devices 

 b a haptic device based on Lorentz magnetic levitation which has a usable workspace which is much larger than that afforded by previous magnetic levitation devices 

 c a haptic device which has very high spatial resolution of the order of 2 micrometers compared with about 50 micrometers for the most popular electro mechanical device 

 d a haptic device which can emulate very high stiffness of the order of 50 N mm compared with about 2 N mm for the most popular electro mechanical device 

 e a haptic device which incorporates high mechanical damping as well as high electrodynamic damping and is free of spurious resonant behavior 

 f a haptic device with very high position and force bandwidths to engage not only the user s kinesthetic senses but also to a significant degree the user s cutaneous senses 

 g a magnetic levitation haptic device that can be readily re oriented to an attitude which accommodates a person s preferences 

 h a magnetic levitation haptic device which has a manipulandum or handle which can be easily interchanged with alternate handles 

 i a magnetic levitation haptic device that incorporates push buttons in the handle which can be used to signal a user s application program 

 j a six degree of freedom magnetic levitation haptic device which incorporates an additional seventh grasping degree of freedom 

 k a magnetic levitation haptic system where the haptic device and haptic controller may be separated and located at a convenient distance from one another 

 l a magnetic levitation haptic system whose levitated part termed a flotor can automatically take off land from to resting configurations for the convenience of the user and

 m a magnetic levitation haptic system which can automatically cancel gravitational forces and torques on the levitated part for the convenience of the user.

The invention is a magnetic levitation haptic system device and controller with a handle operable by a person which sends position orientation information to a person s computer while accepting force torque commands from the person s computer and applying them to the handle thereby enabling a person to interact with a computer program using his or her sense of touch. Lorentz levitation permits the device part of the system to be free of static friction link bending encoder resolutions motor cogging and backlash effects present in traditional electro mechanical haptic devices. The handle may be moved about in six degrees of freedom while the person using the device feels six degree of freedom forces and torques on the handle. The invention may be part of a virtual reality system or connected to a remote robot system capable of measuring forces and torques in the remote environment. Very high performance is obtained in part through having a light weight composite levitated element with high mechanical and electrodynamic damping. The device s handle is removable and interchangeable with other handles of various forms and functionality as may be required by the application. The system accommodates a particular kind of grasping handle which constitutes an additional seventh degree of freedom for example a pinching motion between thumb and forefinger. The device can be readily rotated by the user to any desired attitude according to the user s preferences. The system includes an Application Programming Interface and algorithms in the controller for automatically taking off and landing the handle and for automatically finding and canceling gravitational forces and torques on the levitated part. Intended applications of the invention include virtual surgery and dentistry data visualization remote robot control micro and nano manipulation microsurgery and character animation.

Referring to there is an overall view of device showing haptic force feedback handle . Device contains several parts and sub assemblies which are detailed in subsequent figures. Handle is designed to be grasped and moved by the human hand. shows a view of device from a lower viewpoint also showing actuator cable connector A and sensor cable connector B which connect to actuator cable and sensor cable respectively see .

Thread A block reads twelve sensor voltages from ADC see . Thread A block computes LED image position on each of three position sensing photodiodes A B and C by dividing the difference in voltages from the x axis electrodes by the sum of voltages from the x axis electrodes. This procedure reduces the affect of changing LED brightness as is well known in the art. The same calculations are performed for the y axis electrodes yielding the raw x y positions of the light spots.

Referring to again Thread A block computes the forward kinematics of flotor assembly . That is given the de warped positions of LED images on the three position sensing diodes the task is to calculate the position and orientation of the handle grasped by the computer user. There is no exact analytical solution to this problem but an iterative numerical technique has been found which works extremely well. To explain how this may be done it is first necessary to understand in greater detail the three dimensional geometric relationship between flotor assembly and the three sensor assemblies . shows flotor assembly and the three position sensing photodiodes labeled A B and C which are the sensing part of sensor assemblies . An orthogonal right handed coordinate frame called the flotor frame with origin near handle on the flotor assembly s central axis has axes xpassing through LED A ypassing through LED B and zpassing through LED C. The three LEDs are in juxtaposition with position sensing diodes A B and C respectively. On the other hand there is a similar fixed orthogonal right handed coordinate frame called the stator frame whose three axes pass through the centers of the three position sensing photodiodes. It is important to note that when flotor assembly is precisely at its zero position and orientation between inner stator assembly and outer stator assembly the flotor frame and stator frame are coincident.

Before computing the forward kinematics it is instructive to note that the inverse kinematics must be a function of six independent variables describing the position and orientation of the flotor frame with respect to the stator frame S. The representation used is nn X Y Z where nand nrepresent the x and y components of a normalized rotation axis the rotation angle about this axis and X Y and Z the translational motion of the origin of . Creating T as a function of these six variables plus n the z component of the rotation axis and computing sand sfrom Eqs. 1 2 above gives the LED image position on photodiode A 

Unfortunately computing the forward kinematics i.e. finding the flotor position and orientation from the light spot positions has no closed form solution. A preferred method termed the reduced order method due to Yu Fries and Hollis is a fast numerical root finding procedure that uses the flotor assembly motion history to obtain initial position guesses directly solving for the flotor frame position and orientation in real time. Referring to the directions of the three vectors from the emitters to the virtual pinholes are known i.e. they can be readily computed from the measured image positions on the photodiodes and the fixed transformations of the sensor frames and from the stator frame . Only the magnitudes of the vectors are unknown so the solution of the position and orientation of the flotor assembly can be reduced to a third order problem. The virtual pinhole positions are given by S and the LED positions are E the LED to pinhole unit vector directions are band their magnitudes are u where i 1 . . . 3.

For i j 1 . . . 3 and i j it can be seen from that 5 and 6 where a is the length of each side of the triangle determined by the three LEDs. Substituting for each Eand Ein Eqs. 5 and 6 the following system of three quadratic equations with three unknowns is obtained 2 2 2 0 7 2 2 2 0 8 and 2 2 2 0 9 where 10 11 and 

To obtain a solution to this reduced third order problem a two stage numerical method is used first obtaining an approximate solution by differentiating Eqs. 7 9 to update uusing the previous solution values then improving the accuracy of the approximation with an efficient iterative Newton gradient method using successive LU decompositions which are well known in the art. In practice it is found that two or at most three iterations are needed to converge to a position error of less than 10m permitting this procedure to be executed at several thousand Hz. Finally a simple fixed rotation transformation is needed to transform from the flotor frame to the handle frame shown offset in which is easier to visualize. In operation handle frame will be translated from frame by a distance limited by the gap between inner stator assembly and outer stator assembly and rotated with respect to frame by up to 8 limited by the effective range of sensor assemblies . This completes the description of how the position and orientation of handle in flotor assembly is computed.

Turning back to Thread A block desired forces and torques to be exerted on flotor assembly and thereby handle grasped by the computer user are computed. Simple control laws such as PD proportional derivative can be used to stably levitate and control the motion of the handle. Translational control is straightforward. For rotation it is easiest to represent the handle s orientation about a given center of motion with Euler angles such as roll pitch and yaw or as the three independent rotational variables to be controlled. If small angles and angular velocities are assumed then the flotor assembly s dynamics can be modeled as six decoupled second order systems. Given these approximations the PD control law used for each axis is of the form f K x x K v v K where f is the force to be generated by the actuator coils x and xare the measured and desired handle position respectively v and vare the derived and desired handle velocities respectively and K K and Kare the proportional gains damping gains and feed forward gains respectively. Since velocity v is not directly measured it must be estimated from successive filtered position measurements or from an observer. Feed forward term Kis generally used for gravity cancelation and can also be used for impacts and other forces in a virtual environment. The total force F to be applied to the flotor handle is equal to the vector sum of the forces along the axes of handle frame whereas the total torque is the vector sum of the torques around the axes of . The variables x and v and the parameters K K and K are under control of the computer user s client computer as read in by thread B shown in .

Referring to the next step in Thread A is block . Here the commanded force F and torque are used to compute the correct currents lin the six coils of flotor assembly . shows six coils and handle and stem assembly of flotor assembly with all other parts removed for clarity. Also shown for reference are three LEDs . There are three horizontal coils numbered 1 3 and 5 and three vertical coils numbered 2 4 and 6. It must be emphasized that whereas this non limiting arrangement of coils is preferred many other arrangements are also possible. As depicted in it can be readily appreciated that equal currents I I and Iin the vertical coils create forces as shown which impart a clockwise torque about the handle frame s z axis reversing the direction of current imparts a counter clockwise torque. Equal currents I I and Iin the horizontal coils create a force along the positive or negative z axis. In the general case currents in each of the coils will each be different as sketched in creating forces of different magnitudes in six different directions. The six forces are equivalent to a single force F and torque acting through the center of flotor assembly at handle assembly commonly expressed as a 6 vector wrench F F F F where the first three elements are force components and the last three elements are torque components.

The forces and torques generated on the handle when the flotor assembly is in the centered position can be expressed as F AI where F is a 6 vector force torque wrench exerted through the origin of handle frame I a 6 vector of the coil currents and A is the 6 6 actuation matrix which maps them. The matrix A can be calculated from the sums of the Lorentz forces and torques f I B and c f where Bare the magnetic fields of each actuator magnet assembly and care vectors from the handle origin of frame to the coil centers. The effective magnetic induction Bacting on coil k varies as much as 15 as the coil moves around in the gap of its associated magnet assemblies see . In principle it is possible to calculate Bfor all positions and orientations of the coil but in practice it is found sufficient to consider the field Bto be a constant B which is the same for all coils. Under this assumption matrix A is the product of a purely geometric 6 6 matrix G and the scalar B which is the average strength of magnetic induction in the air gaps of the magnet assemblies. For the coil arrangement shown in G is given by

The task of thread A block is thus to determine the correct set of coil currents needed to produce the desired force torque wrench F on the handle. Since matrix G has an inverse the coil currents are simply calculated from I GF B.

Referring to the next step in Thread A is block . Here a number of tests are made to determine whether there are any exceptional conditions. These include the handle hitting a pre defined motion limit excessive speed excessively high coil currents for too long a period of time which could cause damage or excessively high coil temperature estimated from a thermal model which tracks and integrates coil currents . If these conditions are triggered immediate actions can be taken to mediate them and exception flags are set which are monitored by thread C shown in .

Referring to the next step in Thread A is block . Here the computed coil currents from block are output to digital to analog converter DAC see . This completes the discussion of Thread A.

Similarly is a flow diagram for landing flotor assembly on outer stator assembly in the configuration x 0 0 z 0 0 0 where zis a position value slightly lower than the bottom of the flotor assembly s range of travel in z. Block sets the desired handle position xto 0 s except for the z position which is set to z z. Block calculates the distance from the current configuration and divides by a large number N to obtain a small configuration increment . Block increments the desired configuration xby during each iteration of the loop in Thread A shown in slowly moving the flotor assembly downward into the landing configuration according to the PD control law previously discussed in reference to Thread A block . In block the z coordinate from successive iterations are compared to see if the flotor assembly is no longer moving and has come to rest against outer stator assembly within a small tolerance . If the test is satisfied the procedure ends in block when the flotor assembly will be left resting against the inner surface of the outer stator assembly.

