---

title: Method and systems for serving fonts during web browsing sessions
abstract: A font server is configured to verify that a request for a font file originates with a web page of a web site licensed to use the font file, and, if so, to download the font file to a web browser. Rather than just downloading the font file directly, however, the font server first provides the web browser a script configured to determine information regarding the web browser sufficient for the font server to determine which of a plurality of font files available to the font server to provide to the browser. When the script executes within the browser, the information is gathered and returned to the font server. Thereafter, the font server provides an appropriate font file to the web browser. Preferably, the font file is configured so as to be protected against unauthorized use.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08683006&OS=08683006&RS=08683006
owner: Adobe Systems Incorporated
number: 08683006
owner_city: San Jose
owner_country: US
publication_date: 20100719
---
This application is a NON PROVISIONAL of U.S. Provisional Patent Application 61 365 324 filed Jul. 17 2010 incorporated herein by reference.

The present invention relates to systems and methods for serving font files to computer based software applications e.g. web browsers during web browsing and other sessions which require the use of a font file not otherwise available at a client computer system at the time of the browsing session.

Fonts as the term is customarily used are styles of character sets glyphs of various typefaces. The characters of the sets may include letters numbers punctuation marks and other ideograms and symbols. For example a typeface Arial may include fonts that are designated bold italics roman etc. each of which may include stylized letters numbers punctuation marks etc. of different sizes.

In the context of computer systems fonts or perhaps more properly font files are data files that contain the set of glyphs or other symbols. Such font files come in a variety of forms including bitmap fonts in which each of the glyphs and other symbols are represented by a series of dots or pixels when displayed on a computer display outline or vector fonts which are represented as instructions to the computer system for drawing the glyphs and other symbols and stroke fonts which use different forms of information to convey the information needed for the computer to properly display the various glyphs and symbols. TrueType fonts commonly used in connection with various computer software applications are a form of vector font.

Whether for artistic or other reasons a web site designer will often employ specific fonts for particular text within a web page. That is the designer will create the web page which is really a set of instructions to be executed by a computer software application for example a web browser so that particular text on the page is to displayed in a specific typeface of a specific or sometimes relative size and with certain effects. Until recently the designer s goal of having the web page rendered with the intended font when viewed by a user would only be achieved if the user s computer system had a copy of the proper font file installed locally. Absent such a locally installed font file the web page would be rendered using a replacement font often decided based on established default settings for the web browser or user specified preferences for such instances or might not be displayed at all or at least in part not at all .

To avoid such situations web designers had to resort to instantiating text as images in order to preserve the intended font. While such images allowed for web browser to accurately reproduce the artistic or other effects that the web designer was seeking to attain when a web browser rendered the subject web page it created unintended problems. One such problem is that in some cases it made the web pages larger in terms of file size and consequently the web pages may have taken longer to download to a browser than would otherwise be the case if images were not present. Further because the text was now embedded in an image file it was often not searchable by web crawlers and other agents associated with search engines and the like. Hence the web page may go unnoticed by web browsers since it would not appear in search results for queries seeking the very information to which the image based text pertains.

More recently web browsers were enhanced to be able to download font files which might not otherwise be present on a host computer system. Accordingly web designers were able to include instructions in web pages which directed a web browser to download from the web site hosting the web page those font files necessary to render the web page in the manner intended by the web designer. This scheme was not without problems. For example it required the user to employ a web browser that supported the font file s to be downloaded. Moreover it created an environment in which the font files were vulnerable to unlicensed proliferation.

The font files used by web designers are typically not created by those web designers. Instead the font files or more generally the typefaces which are the basis of the font files are created by typeface designers and the font files are subsequently licensed by the typeface designers or their agents to the web designers and others e.g. computer software developers for use in connection with designated activities. Allowing web browsers to download font files whenever the browsers encounter new web pages that employ fonts not currently supported by the browsers could soon lead to a situation where a user or web browser has access to all of the font files it needs and so eliminates licensing opportunities for the typeface designers. Accordingly such schemes are not favored by typeface designers.

In one embodiment of the invention a font server is configured to verify that a request for a font file originates with a web page of a web site licensed to use the font file and if so to download the font file to a web browser. Rather than just downloading the font file directly however the font server first provides the web browser means e.g. a script configured to determine information regarding the web browser sufficient for the font server to determine which of a plurality of font files available to the font server to provide to the browser. When the script executes within the browser the information is gathered and returned to the font server. Thereafter the font server provides an appropriate font file to the web browser. Preferably the font file is configured so as to be protected against unauthorized use.

The font server may verify that the request is associated with an authorized web site by consulting an account database to determine whether the font file is registered for use in connection with the web site. The web site may be identified for such purposes according to referrer request information included in the initial request received by the font server from the web browser.

Described herein are systems and methods for serving font files to computer based software applications e.g. web browsers during web browsing and other sessions which require the use of a font file not otherwise available at a client computer system at the time of the browsing session. The present methods and systems provide for the distribution of the font files in a manner which does not usurp licensing opportunities for typeface developers or font file creators. Indeed new licensing models are provided through use of the present methods and systems. At the same time work by web site designers is not compromised by having their web pages rendered in unintended or undesirable fonts. Nor do the web site designers have to rely on embedded text within images in order to have that text rendered in an intended font.

As more fully discussed below embodiments of the present invention provide a font server which may but need not necessarily be distinct from a web server which hosts a subject web site. The font server is associated with a font library that is a repository of various font files available for downloading to a computer software application e.g. a web browser or other application engaged in a web browsing or other session when that application requires use of a font file not otherwise available at a client computer system hosting the application at the time of the font file is needed. The font file s are downloaded from the font server only in connection with verified accesses to licensed web sites pages and the font file s themselves are secured to prevent unauthorized proliferation thereof. Use of the font files is tracked so that the font designer s and or typeface designer s can be compensated for use of their fonts typefaces in an equitable fashion.

To more fully appreciate the features provided by the present methods and systems refer to . shows a network which includes a font server that has an associated font library made up of a number of font files . The font library may be hosted on one or more data storage devices accessible to font server . In some cases one or more font servers such as font server distributed geographically and or logically at various locations may have access to one or more font libraries stored on data storage devices distributed geographically and or logically at various locations. For simplicity of the following discussion only one font server data store combination will be discussed but readers should recognize that this does not preclude the use of multiple instances of such devices. In some cases data store may be a hard drive or other local storage medium for font server while in other instances data store may be a database hosted on a separate storage device or plurality of storage devices.

Data store is used as a storage location for font files each of which is instantiated as computer readable instructions which when executed by a client computer system e.g. one or more computer processors thereof cause the computer system to render on a display of computer system glyphs and other symbols associated with a web page of a web site hosted at a server in an intended font. Such operations usually though not necessarily are performed in the context of a web browser at client computer system downloading web page .

Font server client computer system and web server are communicatively coupled to one another via a communications network . Network may be any form of communications means and in some cases may be individual communications links or one or more communications networks including private networks public networks and or virtual private networks over public networks. Network may be and often will be the network of networks commonly known as the Internet.

Also shown in is a computer system used by a web site designer. In this example computer system is shown communicatively coupled to network but this need not necessarily be the case. In some instances computer system will be a stand alone computer system and content created on computer system will be transferred to web server by means other than transmission via network . for example such transfers may involve the use of physical media such as compact disk read only memories CD ROMs digital versatile disks DVDs flash memory based storage media or other physical means. The manner of such transfer such that web site becomes hosted at web server is not critical to the present invention.

The web site designer or a team of such designers creates web site and the various web pages including web page associated therewith each of which may include any variety of text multimedia and other content commonly associated with such web pages and web sites. The nature of the web sites and web pages is not critical to the present invention. What is important is that for at least some content typically text associated with web page the web site designer wishes to employ a particular font. The subject font may be and often is one that is owned i.e. the rights to control the distribution use and or reproduction thereof is are owned by someone other than the web site designer. Typically such fonts are owned by typeface designers font creators or their employers commonly referred to as foundries.

Referring now to in combination in order to obtain rights to use the desired font in connection with the subject Web site the web site developer accesses font server i.e. a font licensing application hosted thereon and creates an account with a service providing the font licensing methods described herein. In some cases the font licensing application will be hosted at a server different than the font server but for simplicity of explanation it is assumed that they are the same server. In the case of a different server hosting the licensing application that server and the font server would be communicatively coupled to one another either via network or another communication means e.g. a local area network LAN . Note in some instances the licensing application user account etc. may be accessed via appropriate application programming interfaces APIs client applications web sites portals or other access means.

After creating an account with the font licensing service or if the web site designer already has an existing account logging in to that existing account the web site designer registers web site and selects the fonts from font library which are to be used in connection therewith . These registration details along with other information are stored in an account database used by the font licensing application . Once the web site has been registered in connection with the selected fonts the licensing application provides the web site designer with information to be encoded in web site or select pages thereof. This information when downloaded to by a web browser loading a web page of web site instructs the web browser to contact font server in order to obtain the font files necessary to render the web page in the manner intended by the web designer. In some instances the information may include a web address of font server and or other information needed by the web browser to contact the font server.

After receipt of this information the web designer includes the above described information in the appropriate web pages of web site e.g. those web pages which require the fonts from the font library . In some cases different web pages may require different fonts and so may include information to contact different servers than or in addition to font server . The web site or pages thereof may then be published to the web server .

At some time thereafter a user associated with client computer and engaged in a web browsing session directs a web browser running on client computer to web site . For example this may be done by entering the web address of web site into the address filed of the web browser or by selecting a hyperlink to a web page associated with web site . Such a hyperlink may be displayed on another web page such as a web page including results of a search request submitted to a search engine. In either instance the web browser may respond by issuing a hypertext transfer protocol HTTP request e.g. a GET request to the designated web page.

In response to the HTTP request data comprising web page begins downloading from web server to client computer i.e. to the browser running thereon . Included in this information transfer will be information which instructs the browser concerning the font server from which to obtain the font files needed to render at least portions of the web page . Based on this information the browser sends a request to the font server .

At the font server a check is made to determine whether the request for the font is being made in connection with a licensed web site . In one embodiment of the invention this entails the server examining header information in the request and in particular a referrer field of the header to obtain the address e.g. URL of the web page which acted as the referrer for the browser to direct the request for fonts to the font server . The referrer information may be in the form of a uniform resource locator URL or other information. The font server checks this information against the web site registration information included in account database . If the request originated with an unlicensed web site then no fonts are provided.

In the font server determines that the request originated with a licensed web site such as web site the font server begins the process of providing the necessary fonts. Rather than simply returning a font file to the browser however font server first determines information regarding the web browser sufficient to determine which format of font file is needed by the browser. Different browsers support different font file formats and so the font server needs to know which format or formats is are supported. It may do this by inspecting the web browser directly or by sending a script to determine information from within the browser. In the latter instance font server sends a file containing computer executable instructions to the requesting browser . In one embodiment of the present invention this file is a JavaScript file. JavaScript files enable programmatic access to computational objects within a host environment such as a web browser running on client computer system . In this instance JavaScript file is configured such that when executed by a computer processor of client computer system in the browser environment the JavaScript file determines the type of browser currently running on client computer and the kinds of fonts which it can support . Of course other information regarding the browser and or the client computer system could also be obtained.

The JavaScript file then causes the browser to return this information regarding the browser type and capabilities and any other desired information to the font server in return the font server provides a properly encoded font file to the browser . In some cases information in addition to the font file may be provided. For example custom cascading style sheets CSSes may be provided with the font file to account for particular rendering implementations that may exist with certain types of browsers. As further discussed below the font file is protected against unauthorized use or proliferation. At the client computer the font file is cached in the browser cache e.g. for a period of time determined by a time to live parameter associated with the font file and the browser makes use of the font file to render the subject web page .

The above described methodology and infrastructure can be used to deliver any of a number of font files to browsers that are engaged in downloading and rendering of web pages that include fonts which are not currently installed at the client computer system on which the browsers are running. In addition a similar procedure can be used to provide other style elements associated with the subject web sites. Because the font files are only cached temporarily at the client computer they are not available for use with unlicensed web sites visited by the user of computer system .

Additional levels of protection for the font foundaries are also provided. For example the JavaScript file and or the font files especially the font name tables provided to client computer system are intentially obfuscated by encoding them as lists of strings of seemingly random characters. For example the font files may be represented as Base64 encoded strings. In some cases the font files may also be split into multiple files to be recombined at the browser using a CSS font stack.

The present systems and method thus provide an equitable basis on which to compensate foundries and or individual font designers. In one example foundries and other font designers font providers are compensated on the length of time that one of their fonts is associated with a registered web site. That is when a web designer registers a web site and associates fonts from the font library with that web site the web designer pays a license fee. The fee may be instantiated as an annual subscription fee per designer and or per web site or group of web sites or as a one time fee for the web site or on some other basis. Eventually the web site designer may un register the web site thereby losing the ability to render the web site using the previously designated fonts or alter the fonts used and registered in association therewith. In any event the font provider may be compensated for the period of time that the provider s font was associated with the web site e.g. irrespective of the number of actual view of the web site . So if an annual subscription fee of 48 dollars is imposed on the web site developer then for each month that a particular font provider s font is associated with the web site e.g. as reflected in the account database discussed above that font provider may be paid a portion of the monthly revenue attributable to a font license e.g. a portion of the 4 month attributable to the web site developer s use of the font . Of course other compensation licensing schemes are possible using the above described infrastructure.

The above mentioned font licensing application may also provide other services to web site designers and font providers. For example a set of tools that help font providers better understand how CSS works with their respective typefaces may be provided. Such tools may assist font proividers check for missing glyphs inconsistent font metrics such as height and width parameters of the glyphs and components thereof and metrics values that might clip glyphs. With this information font providers and web designers can review and adjust their fonts for better translation in CSS.

Computer system includes a bus or other communication mechanism for communicating information and a processor coupled with the bus for processing information. Computer system also includes a main memory such as a random access memory RAM or other dynamic storage device coupled to the bus for storing information and instructions to be executed by processor . Main memory also may be used for storing temporary variables or other intermediate information during execution of instructions to be executed by processor . Computer system further includes a read only memory ROM or other static storage device coupled to the bus for storing static information and instructions for the processor . A storage device such as a hard disk is provided and coupled to the bus for storing information and instructions.

Computer system may be coupled via the bus to user interface devices such as a display e.g. a flat panel display for displaying information to a computer user. An input device including alphanumeric and other keys is coupled to the bus for communicating information and command selections to the processor . Another type of user input device is cursor control device such as a mouse a trackball or cursor direction keys for communicating direction information and command selections to processor and for controlling cursor movement on the display .

An appropriately configured computer system instantiated in a role as a client server or other computer system performs the various activities associated with that role discussed above in response to processor executing sequences of instructions contained in main memory . Such instructions may be read into main memory from another computer readable medium such as storage device . However the computer readable medium is not limited to devices such as storage device . For example the computer readable medium may include a floppy disk a flexible disk hard disk magnetic tape or any other magnetic medium a CD ROM a DVD ROM any other optical medium punch cards paper tape any other physical medium with patterns of holes a RAM a PROM an EPROM a FLASH EPROM any other memory chip or cartridge. Execution of the sequences of instructions contained in the main memory causes the processor to perform the process steps described above. In alternative embodiments hard wired circuitry may be used in place of or in combination with computer software instructions to implement these processes.

Computer system also includes a communication interface coupled to the bus . Communication interface provides a two way data communication for computer system and may be a modem or local area network LAN card that provides wired and .or wireless communications to from a network such as network or other networks communicatively coupled thereto. Thus computer system can send messages and receive data including the font files and associated JavaScript files discussed above through network .

As should be evident from the foregoing description various embodiments of the present invention may be implemented with the aid of computer implemented processes or methods a.k.a. programs or routines that may be rendered in any computer language. Such processes are meant to encompass any series of logical steps performed in a sequence to accomplish a given purpose. The operations of the various computer systems were discussed in terms of algorithms and operations on data within memories or buffers and these algorithms and operations were intended to convey the nature of computer programs sufficient to direct the operations of the computer systems to perform the desired tasks. Hence it should be appreciated that the use of terms such as processing computing rendering calculating determining displaying or the like refer to the action and processes of computer processors and related computer hardware of the various computer systems described herein or similar electronic computing devices that manipulate and transform data. The computer programs that embody these processes may be stored in various computer readable storage mediums associated with the respective computer systems such as but not limited to any type of disk including floppy disks optical disks CD ROMs DVDs and magnetic optical disks read only memories ROMs flash drives random access memories RAMs erasable programmable read only memories EPROMs electrically erasable programmable read only memories EEPROMs flash memories other forms of magnetic or optical storage media or any type of media suitable for storing electronic instructions and accessible to the respective computer processor s of the computer systems.

Thus systems and methods for serving font files to computer based software applications e.g. web browsers during web browsing and other sessions which require the use of a font file not otherwise available at a client computer system at the time of the browsing session have been described.

