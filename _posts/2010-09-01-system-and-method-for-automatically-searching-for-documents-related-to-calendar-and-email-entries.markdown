---

title: System and method for automatically searching for documents related to calendar and email entries
abstract: A system and method are provided for enabling a user to search for documents that the user has previously viewed on its local machine. The system includes three main components: the desktop integration module, the index module, and the graphical user interface module. The desktop integration module is an application which monitors documents with which the user interacts for predetermined events, and obtains content data and metadata from the monitored documents. The index module indexes the content data and metadata received from the desktop integration module. The graphical user interface module then permits a user to utilize the desktop integration module and index module by allowing a user to search for a document.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08271481&OS=08271481&RS=08271481
owner: International Business Machines Corporation
number: 08271481
owner_city: Armonk
owner_country: US
publication_date: 20100901
---
This application is a continuation of U.S. patent application Ser. No. 10 910 604 filed Aug. 4 2004 now U.S. Pat. No. 7 831 601 and is related to the commonly owned U.S. patent application Ser. No. 10 910 607 filed Aug. 4 2004 which issued as U.S. Pat. No. 7 496 563 on Feb. 24 2009 U.S. patent application Ser. No. 10 910 606 filed Aug. 4 2004 abandoned U.S. patent application Ser No. 10 910 568 filed Aug. 4 2004 which issued as U.S. Pat. No. 7 421 421 on Sept. 2 2008U.S. patent application Ser. No. 10 910 641 filed Aug. 4 2004 abandoned U.S. patent application Ser. No. 10 910 617 filed Aug. 4 2004 which issued as U.S. Pat. No. 7 385 260 on Jul. 1 2008U.S. patent application Ser. No. 10 910 577 filed Aug. 4 2004 which issued as U.S. Pat. No. 7 634 461on Dec. 15 2009 copending U.S. patent application Ser. No. 10 910 603 filed Aug. 4 2004 and U.S. patent application Ser. No. 10 910 640 filed Aug. 4 2004 which issued as U.S. Pat. No. 7 493 303 on Feb. 17 2009 each filed herewith and incorporated by reference in its entirety.

The invention relates to an application for searching a document that a user has previously viewed on user terminal device.

Many programs enable a user to search for documents located on the computer device. For example a user may be able to search for a document by entering search terms believed to reflect the document s title or by entering search terms believed to be included in the document text. However conventional document management tools are limited in the amount of search criteria that a user may use to locate a particular desired document.

Often users only remember or have access to small bits of information related to the document for which they are searching such as for example the day and or approximate time the document was accessed a broad overview of what the document was about and or other details. Users are generally not good at creating search criteria particularly based on such limited information and would be better at modifying a search if they were give clues to form a more effective search.

It is an aspect of the invention to assist a user with searching specifically for documents the user has previously accessed by providing criteria that might enable the user to more easily locate a particular desired document.

It is another aspect of the invention to provide a graphical user interface with various features and functions to facilitate the user with locating the document once the search has been performed.

These and other objects are addressed through various embodiments of the invention. According to one aspect of the invention a system and method are provided for quickly and efficiently searching for and selectively retrieving one or more documents that a user has previously accessed. The previously accessed documents may or may not be located at the user s local workstation. As used herein the term documents may refer to files such as for example Microsoft Word or Excel documents email messages web pages media files folders and or other files.

The system may include a desktop integration module an index module a graphical user interface module and or other modules. The desktop integration module may monitor documents with which the user interacts for predetermined events and obtain content data and metadata from the monitored documents. The index module may index the content data and metadata received from the desktop integration module. The graphical user interface module may then permit a user to utilize the index module by allowing a user to search for documents.

The desktop integration module may monitor documents that the user views edits creates or otherwise accesses for predetermined events. For example the desktop integration module may track each time a user opens a document and each time the user closes the same document enabling the duration of document interaction to be determined. The desktop integration module may obtain content data such as keywords title of the document author of the document and or other control data and metadata determined from the predetermined events for the monitored documents and transfer the content data and metadata to the index module.

The index module may index parameters that enable the user to search and filter the monitored documents. For each document monitored by the desktop integration module the index may include parameters such as for example the date created the date opened the date closed the date modified the amount of time spent on a document the date printed the date sent the number of times of document was accessed and or other parameters. The index module may also store keywords from the document the title of the document and or the author of the document. These parameters in the index module may be determined from the content data and metadata collected by the desktop integration module. A filter may be provided enabling user to specify documents that are not to be indexed such as a default home page or personal email.

The graphical user interface module may enable a user to perform searches of the index created by the index module and therefore locate a document which has been previously accessed by the user. The results reflect documents considered relevant in content based on the search terms and other parameters entered by the user such as for example dates and selected applications. The user may browse the search results and or sort the result set by various criteria for ease of viewing.

According to one aspect of the invention desktop integration module may include one or more subsystems such as for example application plug ins a communications module a user interaction module a document filter module and or other modules. The desktop integration module may track each instance in which a user enters a URL to access a web page. In some embodiments the desktop integration module may track web pages that a user visits by accessing a link on a page for which a URL was entered. In other embodiments the desktop integration module may track an instance where the user opens a Word document or reads an email.

A document filter module may be provided to enable a user to specify documents that should not be monitored or indexed. For example documents that a user commonly accesses or documents that contain private information such as for example online bank account statements or webpages with the https protocol may be filtered and not indexed.

Application plugins may extract information from documents such as for example document type content and or author. Communications module may be used to queue documents being retrieved from application plugins to the index module. Communications module may also convert documents from their native format such as for example .DOC or .XLS to a common XML format. User interaction module may interact with application plugins to track the amount of time a user spends interacting with a document.

According to another aspect of the invention the graphical user interface module may present a graphical user interface having multiple graphical visualizations of a search results set. A calendar may be displayed indicating when a user has accessed a document in the search results set. A document usage histogram may be displayed illustrating all documents that the user has accessed compared to those documents matching the search query.

According to another aspect of the invention a histogram displayed on a graphical user interface may allow a user to see the context of the result set against their own document usage. Vertical lines may be presented indicating documents that match the search query. The vertical lines may be of varying heights indicating the relevance of the document to the search query.

According to another aspect of the invention multiple related histograms may be provided. The histograms may represent the relevance of the search results as well as the number of documents matching the search criteria for a given day. The histogram may have one axis displaying for example dates and times and another axis displaying for example the amount of time spent on a particular document.

According to another aspect of the invention better search results for specific users may be returned by enhancing the result set rankings according to a specific user s interest in the document. User metrics may be collected during a user s interaction with other documents to enhance keyword relevance rankings User metrics may include the time spent on a document frequency with which the document was viewed whether the document is printed and or other metrics. The amount of time a user has spent on a document may be measured if one or more criteria such as for example whether the document is in focus and or whether some type of input has been received relative to the document within a particular time interval are met.

According to another aspect of the invention historical data related to a user s interaction with a document may be provided with a search results set. This may allow a user to more readily distinguish between documents in the results set.

A user may view metrics obtained by the desktop integration module by performing a triggering action for example by right clicking on a document in the results set or other triggering action. Performing the triggering action may cause the calendar and histogram views to change reflecting the additional information.

According to one aspect of the invention the search system may be embedded into a user s calendar and or email application. The user may then generate search queries by performing a triggering action on a selected calendar or email entry. The search query may include for example the title of a meeting meeting attendees dates keywords in the body of the calendar or email entry and or other query options.

According to another aspect of the invention a system and method may be provided enabling users to search a local workstation from an enterprise portal. This may enable the user to search their local workstation as well as other document management systems simultaneously. An index control program and a web responder may be downloaded to a user s workstation. Documents may then be indexed at the user workstation and inbound query requests by an enterprise portal server may be accepted.

A user may perform a search of their workstation through an enterprise portal. The search query may be processed at the local workstation and results may be returned in a format compatible with the enterprise server.

Other objects and features of the invention will become apparent from the following detailed description considered in connection with the accompanying drawings. The drawings are designed for purposes of illustration only and the invention is not limited to the particulars shown therein. Various alternatives and modifications within the scope of the invention will be apparent from the description contained herein.

According to one embodiment of the invention a system may be provided enabling a user to search for and or selectively retrieve documents that the user has previously accessed. is a block diagram of system according to an embodiment of the invention. A search agent may be provided. Search agent may include one or more modules such as for example a desktop integration module an index module a graphical user interface module and or other modules. Search agent may be located at a user terminal . In some embodiments certain modules such as for example index module may be implemented at user terminal while other modules may be implemented at user terminal or remotely. Other variations may be used as would be apparent.

User terminal may include any one or more of for example a desktop computer a laptop or other portable computer a hand held computer device such as a Blackberry a Personal Digital Assistant PDA and or any other terminal device. User terminal device may be connected to an enterprise portal server over a network via a communications link .

Server may enable a user to remotely search for documents the user has accessed even if these documents are stored at the user s terminal device. Server may be or include for example a workstation running Microsoft Windows NT Unix Linux Novell Netware and or other operating systems. Network may include any one or more networks such as for example the Internet an intranet a Local Area Network LAN and or other networks. Communications link may include any one or more communications links such as for example a copper telephone line a Digital Subscriber Line DSL connection an Ethernet connection an Integrated Services Digital Network ISDN line a wireless connection or other communications link.

Desktop integration module may be provided to monitor documents accessed by a user for predetermined events. Desktop integration module may monitor any document that the user views edits creates prints downloads or otherwise accesses. These predetermined events may be or include for example opening a document closing a document printing a document emailing a document and or other predetermined events.

Index module may receive data from desktop integration module and put the data into a format that may be searched by a user using a graphical user interface. Index module may enable a user to filter search results by for example a date or date range a document type and or other parameters. A user may specify certain documents that should not be indexed such as for example a default homepage or a search index. Graphical user interface module may provide a graphical user interface GUI that enables a user to search for a previously accessed document.

A user may initiate a query from a search portlet located on the user s portal page by using a traditional keyword search terms. The portal software may then direct the query to index module and search results may be presented to the user in a new graphical user interface. A graphical user interface for displaying search results and modifying a search is described in detail hereinafter.

A desktop integration module may monitor predetermined events by retrieving content data and metadata from the applications used to access the documents. Metadata may refer to data describing an action taken by the user such as for example choosing a document open or a document close action. Metadata may also indicate the date and or time a document was accessed. Content data may include data such as for example words found in the document keywords stored with the document a name of the document an author of the document and or other content data. In some embodiments keywords may be specified by the user when creating or modifying a document. In some embodiments keywords may be determined by desktop integration module based on the frequency of occurrence of certain words in the document.

According to one embodiment of the invention desktop integration module may include one or more subsystems. illustrates desktop integration module according to an embodiment of the invention. Desktop integration module may include one or more modules such as for example an applications plugin module a communications module a user interaction module a document filter module and or other modules.

Application plugin module may include one or more stand alone modules which may be instantiated when an application matching a specified type is started by the user or an operating system at the user s terminal. Application plugin module may extract information from documents such as for example the document type content as text author size creation date and or other document information. Application module may also collect information related to a user s access of or interaction with a document such as for example whether a user forwards an email or other document edits a document prints a document and or other user access.

Application plugin module may be connected to communications module through a standard plugin interface. Communications module may submit documents being retrieved from application plugin module to index module enabling the documents to later be searched. Communications module may convert documents into a format that can be readily indexed such as for example from a binary .DOC format to a XML format.

User interaction module may monitor an amount of time a document is accessed by the user. In some embodiments of the invention user interaction module may be integrated with the operating system used at the user s terminal to track the duration of a user s access of a document. For example in a Microsoft Windows operating environment Windows application programming interfaces which may register file open and close operation may be used to track the duration of a user s access of a document.

In some embodiments of the invention some documents need not be tracked and indexed by the system. Document filters module may be used to filter out documents that should not be tracked by the system. A user may define filters based on a number of factors such as for example document type uniform resource identifiers URIs and or other factors. For example documents in the Microsoft Money application format may have personal financial information so a user may wish to define a filter for excluding these documents from the index. Documents having URIs known to contain personal information such as for example c Document Settings User Personal or documents having URIs beginning with https may be omitted. A user may also define filters for documents that are commonly accessed such as a default browser homepage or a search engine such as Google. Plugin specific filters may also be defined for omitting documents such as emails from certain addresses from being indexed.

According to one embodiment of the invention graphical user interface module may provide a graphical user interface for displaying search results and enabling a user to enter additional search criteria. illustrates a graphical user interface according to one embodiment of the invention. Following an initial keyword search execution via portlet GUI may be presented having results set . Results displayed in results set may be sorted in various ways such as for example by relevance document type alphabetically chronologically and or other sorting methods. Sorting menu may be provided enabling a user to select a desired sorting method.

A user may choose to view only documents of a certain type by selecting one or more document type filters . Additional keywords may be entered or a new search may be executed by entering search terms into query box . Selecting recall button may enable a search to be performed of all documents the user has previously accessed matching the search criteria.

In addition to standard search results displayed in search results box various graphical visualizations may be provided. A calendar may be provided. Calendar may include indicia indicating days on which documents from the search result set have been accessed. Indicia may indicate the first time a user has accessed a document or in other embodiments may indicate each access by the user. As illustrated in indicia may include highlighting a particular calendar day or days. Other visual indicators may be used as would be apparent. A user may restrict results displayed in search results box by selecting one or more dates from calendar . Results box entries may then be limited to documents which have been accessed on the selected dates.

A histogram may be provided for controlling the result set in a similar manner to calendar . A user may select either end of bounding box to dynamically revise the result set showing only those results within the selected date range. Histogram may illustrate documents matching the search query in addition to all documents accessed by the user allowing the user to see which documents were used within which sequence. For example dark colored vertical lines may indicate documents that match the search criteria while light colored vertical lines may indicate all other documents the user has accessed. Other visual indications may be used as would be apparent.

According to an embodiment of the invention a user may retrieve a chronological display of document usage. illustrates a chronology histogram according to this embodiment of the invention. Chronology histogram may be provided wherein both results set documents and other used documents are shown as vertical bars on a horizontal timeline. Horizontal timeline provides a date range for which chronology information may be obtained. This date range may be extended by selecting and dragging the ends of bounding box outward. The date range may also be contracted by dragging the ends of bounding box inward.

In addition to the timeline on the horizontal axis the height of each bar may provide additional information to the user about a document. The height of vertical lines may indicate the relevance of each document to the search query. In an alternative embodiment the height of the vertical lines may indicate a specific usage pattern such as for example the amount of time spent working in a specific document. A user s usage activity may be recorded by Desktop Integration Module shown in and this information may be normalized to display a usage summary on chronology histogram .

Selecting a vertical line may open the selected document directly. In other embodiments selecting a vertical line may cause a popup window to be displayed. Pop up window may display a result set summary for the selected document. Summary information displayed in popup window may include for example the document name document location document type a summary of the document content and or other document related information.

According to one aspect of the invention multiple variables may be characterized on the vertical axis of a chronology histogram. illustrates a chronology histogram according to this embodiment of the invention. Displaying multiple variables may enable a user to quickly and efficiently locate a desire document. As illustrated chronology histogram displays both relevance of search results documents to the entered keywords as well as the amount of time spent accessing or interacting with the document. Other document characteristics may be displayed such as for example the number of hits.

Vertical axis may provide multiple variables such as for example a relevance variable and a duration variable . White boxes may be provided to illustrate the time a user has spent on a document. This time may be illustrated for all documents a user has accessed whether or not a particular document matches the search criteria. Shaded boxes may indicate the relevance of one or more documents matching the criteria. Horizontal axis may indicate one or more dates a document was accessed. Horizontal axis may also indicate chronologically the order in which a document was accessed. In some embodiments of the invention horizontal axis may provide a time display indicating the time interval in which a document was accessed.

According to one aspect of the invention relevance calculations for search results are enhanced for a specific user by collecting user metrics during the user s interaction with the document. In addition to ranking documents based on the frequency and location of keyword hits and the proximity of query keyword hits to each other the invention may collect metadata using desktop integration module illustrated in . Collected metadata may include for example the amount of time spent on a document how often a document has been viewed or otherwise accessed whether or not the document was printed or emailed and or other document related actions.

Certain criteria may be required in order to determine the amount of time a user has spent interacting with a document. For example it may be a requirement that the user has the document open and in focus. In focus may refer to having the selected document as the active window when multiple documents and or applications are open. A user may be required to perform some type of input output operation within a predetermined time interval in order for time calculation to continue. For example the input output operation may be a keystroke or mouse movement.

Once the criteria have been satisfied the collected metadata may be entered into the index using index module illustrated in . Opening a document multiple times may cause metadata to be obtained for both frequency and duration of use. For example a document that has been opened three times may show a frequency of three and the total amount of time spent among the three accesses may be combined to calculate the amount of time the user has spent on the document.

According to another aspect of the invention metrics regarding a user s interaction with one or more documents may be presented to the user on a graphical user interface. Presenting user metrics to the user may enable the user to more readily distinguish between documents in the result set and simplify the process of finding the desired document.

In some embodiments of the invention a user may trigger the user interface to present user metrics by performing an action such as for example right clicking on the document in the result set. A pop up window may be provided as illustrated in . Pop up window may display for example document name document location the number of times the document has been opened by the user the total amount of time the user has spent on the document and or other user metrics.

In some embodiments of the invention user metrics may be displayed when a user hovers over a document in the result set. Hovering over a document may cause a change in the calendar and or histogram graphical representations. For example as illustrated in calendar may highlight days on which the selected document has been accessed. Histogram may provide additional user metrics. For example the x axis of histogram may display the dates in which the user accessed the selected document while the y axis illustrates the amount of time the user spent on the document. Small icons such as icons may be presented on histogram indicating the amount of time the user spent on the document. Other icons may also be presented for example a printer icon book icon and or envelope icon may be presented to indicate that the user has printed read and or emailed the document respectively. Other icons may be presented indicating editing of a document forwarding replying and or other document related actions as would be apparent.

While certain actions have been described above other actions may be used to present user metrics to the user. For example a user may single click on a document to change the views of the histogram and calendar or the user may double click on a document to open a new window providing user statistics.

According to an embodiment of the invention user metrics may be provided directly in the results set without requiring additional actions to be performed. illustrates a result set which provides user metrics. User metrics illustrated in result set may include for example the total viewing time for each document the amount of time the document was viewed and the date the document was last accessed. Other user metrics may be provided as would be apparent.

According to another aspect of the invention the system may be integrated into a user s email and calendar application. A user may quickly obtain documents relevant to a particular email message or calendar entry. A user interface for searching based on a user s email and calendar entries may be integrated with the email applications in some embodiments or may be a standalone application.

Desktop integration module may obtain content and metadata from calendar regarding the selected meeting. Indexing module may use the retrieved metadata and content data and compare it to the indexed data for all stored documents. Documents having matching content data and or metadata may be returned as being related to the selected meeting. In other embodiments authors of documents may associate the document with certain meetings. In some embodiments of the invention only documents accessed on the day of the meeting are retrieved while in other embodiments all accessed documents related to the meeting are returned.

Once the user has been presented with search results the user may modify the search to more quickly find desired documents. For example the user may input additional keywords use document type filters to return only documents of certain types restrict the search to one or more dates and or other search modifications.

According to another aspect of the invention a system may be provided enabling a user to search a local workstation from a remote portal location. As used herein local workstation may refer to the workstation that is assigned to a particular user and from which the user typically works. A user may have access to documents stored on their local device and may be able to integrate these documents into a portal integration environment.

As described above in some embodiments of the invention an index and control program may be downloaded to a user s workstation the first time a query is made using the portlet. In addition to the index and control programs a web responder may also be installed. illustrates a block diagram of the system including web responder . In some embodiments of the invention web responder listens for inbound queries from Enterprise Portal Server over network . Once web responder has been installed queries from Enterprise Portal Server may be accepted at user terminal .

A user may perform a search from Enterprise Portal Server in a manner similar to performing a local search. The user may enter a search query into a portal page such as the portal illustrated in . The query may then be sent to the local workstation where the web responder has been installed. An index at user terminal may then process the query and return the results in a format supported by Enterprise Portal Server such as for example the XML format. Results may then be formatted and presented to the user.

According to one embodiment of the invention searching a local workstation index may be performed as a part of a search from another application. For example a single search may be used to search a user s workstation email documents and or a corporate document management system using a search engine integrated with the document management system. Search results may be combined into one display. In an alternative embodiment only the user s own documents are searched using the index at the user s workstation.

While particular embodiments of the invention have been described it is to be understood that modifications will be apparent to those skilled in the art without departing from the spirit of the invention. The scope of the invention is not limited to the specific embodiments described herein. Other embodiments uses and advantages of the invention will be apparent to those skilled in art from consideration of the specification and practice of the invention disclosed herein. The specification should be considered exemplary only and the scope of the invention is accordingly intended to be limited by the following claims.

