---

title: Delivering a webpage to a client
abstract: In certain embodiments, a server receives a request from a client for a webpage comprising portlets. A framework corresponding to the webpage is retrieved. The framework indicates whether a portlet is to be executed by the server or whether execution of the portlet is to be initiated by the client. The framework indicates that one or more first portlets are to be executed by the server. The server executes the first portlets to yield one or more first portlet markups. The first portlet markups are placed into the webpage. Execution of one or more second portlets is to be initiated by the client according to the framework. One or more placeholder tags for the second portlets are placed into the webpage. A placeholder tag allows the client to initiate execution of a second portlet. The webpage comprising the first portlet markups and the placeholder tags is sent to the client.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08667090&OS=08667090&RS=08667090
owner: Cisco Technology, Inc.
number: 08667090
owner_city: San Jose
owner_country: US
publication_date: 20101207
---
An application server may provide a webpage to a client. In certain situations a webpage may include portlets. A portlet is a pluggable user interface software component that may be used to display for example email weather reports news applications or other applications in a web page.

In certain embodiments a server receives a request from a client for a webpage comprising portlets. A framework corresponding to the webpage is retrieved. The framework indicates whether a portlet is to be executed by the server or whether execution of the portlet is to be initiated by the client. The framework indicates that one or more first portlets are to be executed by the server. The server executes the one or more first portlets to yield one or more first portlet markups. The one or more first portlet markups are placed into the webpage. Execution of one or more second portlets is determined to be initiated by the client according to the framework. One or more placeholder tags for the one or more second portlets are placed into the webpage. A placeholder tag allows the client to initiate execution of a second portlet. The webpage comprising the one or more first portlet markups and the one or more placeholder tags is sent to the client.

In the illustrated example system includes a client a communication network a server a monitoring system and or a reporting system coupled as shown. Client includes an interface logic and or a memory . Logic includes one or more processors and or one or more applications such as a browser . Server includes an interface logic and or one or more memories . Logic includes one or more processors and or software application such as a web server . Memory stores software applications and or a webpage module . Webpage module includes a portal container a webpage a framework and or one or more portlets .

In an example of operation a request for webpage is received at server from client . Webpage comprises a set of portlets . Framework corresponding to webpage is retrieved. Framework indicates whether a portlet is to be executed by server or whether execution of the portlet is to be initiated by client . In the example framework indicates that one or more first portlets are to be executed at server . The first portlets are executed at server to yield one or more first portlet markups and the first portlet markups are placed into webpage . The execution of one or more second portlets is determined to be initiated by client according to framework . One or more placeholder tags for the second portlets are placed into webpage . A placeholder tag allows client to initiate execution of a second portlet . Webpage is sent to client . Webpage comprises the one or more first portlet markups and the one or more placeholder tags. A request to execute at least one second portlet is received from client . The second portlet is executed to yield a second portlet markup which is sent to client .

Client displays webpage on a display device. Examples of display devices include computer monitors televisions screens such as cell phone screens and instrument display panels. In certain embodiments web browser of client may be a software application that retrieves presents and or traverses information resources. The information resources may be on the World Wide Web WWW or web server . An information resource may be identified by a Uniform Resource Identifier URI and may be a webpage image video or other content. A web browser may have a graphical user interface for example INTERNET EXPLORER MOZILLA FIREFOX CHROME or OPERA web browsers or a text based interface for example LYNX or LINKS web browsers.

Communication network may comprise all or a portion of one or more of the following a public switched telephone network PSTN a public or private data network a local area network LAN a metropolitan area network MAN a wide area network WAN a local regional or global communication or computer network such as the Internet a wireline or wireless network an enterprise intranet other suitable communication link or any combination of any of the preceding.

Server provides content such as webpage to client . In certain embodiments web server of server delivers or serves the content. Web server may use HyperText Transfer Protocol HTTP over the WWW to deliver the content. Webpage is a document that can be accessed through web browser and displayed at client . In certain embodiments webpage may provide information in any suitable format such as a HyperText Markup Language HTML or Extensible Hypertext Markup Language XHTML format and may provide navigation to other webpages via hypertext links. A webpage may have a top portion and a bottom portion when displayed at client where the top portion is typically at the top of a display of client and the bottom portion is typically at the bottom of the display.

In certain embodiments web server may deliver webpage using a webpage module which includes portal container webpage framework and or one or more portlets . In certain embodiments portlet container is a run time environment for portlets in which portlets may be instantiated used and or destroyed.

In certain embodiments framework determines the appearance of a particular webpage . Framework may determine how portlet markups are displayed in webpage . In certain embodiments framework may include a theme and or skin. The theme may determine the global appearance of webpage . A theme may affect the navigational structure banner colors fonts portlet skins and or other visual elements of webpage . An example of a theme may be a Java Server Page JSP that serves dynamically generated webpages based on HTML.

A skin or wrapper may designate how a portlet is provided in webpage for example how the portlet markup of the portlet is displayed in webpage . An example of a skin may be a JSP that is bundled with a portlet . A skin may wrap around portlet and may be configured to perform any suitable operation as described in more detail below.

In certain embodiments A portlet may be executed by executing the code of portlet to yield the portlet markup. A portlet markup may be a markup such as an HTML markup that client may use to render portlet at client . In an example of operation when request is received for a webpage a theme of webpage may call a container application programming interface API for invoking one or more portlets of webpage . The API loops over each portlet of webpage . For each portlet the API calls a skin of portlet . The portlet skin may call a container API for invoking portlet . The container API calls a portlet method that generates a portlet markup for portlet .

In certain embodiments framework may indicate whether a portlet is to be executed server side or client side. In certain embodiments server side execution may mean that portlet is to be executed by server . In server side execution server executes portlet to yield a portlet markup and inserts the portlet markup into webpage to be sent to client . In certain embodiments client side execution may mean that execution of the portlet is to be initiated by client . In client side execution server inserts a placeholder tag into webpage to be sent to client . The placeholder tag may include an identifier that client can use to request execution of portlet by server to yield a portlet markup that can be returned to client . Any suitable tag may be used for example a J code tag that uses an URI as identifier used to request execution.

In certain embodiments skins may measure the elapsed time of webpage and or portlet which may be used to determine whether to execute a portlet server side or client side. In the embodiments a skin may measure a webpage elapsed time from the start of building webpage . In the embodiments a skin may measure a portlet elapsed time of a portlet from the start of execution of portlet . A skin may use any suitable monitoring framework to measure webpage and or portlet elapsed time for example the Java Application Monitor JAMon monitoring framework. In certain embodiments skins may report measurements of webpage and or portlet to monitoring system .

The portlet elapsed time from the start of execution of portlet to the end of execution of portlet may yield an execution time for portlet the time it takes for portlet to execute. The measured portlet execution time may be used to calculate by a skin or monitoring system other types of execution time of a portlet such as a historical execution time or a predicted execution time. The historical execution time may describe previously measured execution times and may be calculated from a set of measured portlet execution times in any suitable manner. For example a mathematical function such as an average or maximum function may be applied to the set of execution times to yield the historical execution time such as an average or maximum portlet execution time . The set of execution times may be measured over an suitable period of time such as 1 to 5 5 to 10 or greater than 10 days.

The predicted execution time may be used to predict when a portlet will finish execution and may be calculated in any suitable manner. For example the predicted execution time may be calculated from a mathematical function such as an sum function applied to a webpage elapsed time and a historical execution time. For example the predicted execution time may be the sum of a webpage elapsed time and the average portlet execution time.

In certain embodiments a skin may load one or more of any suitable parameters into a portlet . Portlet then uses the loaded parameters for execution. In certain embodiments a parameter may be used determine if portlet should be executed server side or client side. Examples of these parameters include a forced server parameter a forced client parameter a page threshold a portlet threshold a historical portlet threshold and or an enable disable parameter. In these cases portlet reads the loaded parameters to determine if portlet should be executed server side or client side.

A forced server parameter indicates that a portlet is to be executed server side. Any suitable portlet may have a forced server parameter. For example a portlet that has a relatively short execution time such as less than a server side execution threshold may have a forced server parameter. A server side execution threshold may have any suitable value for example a value in the range of less than 3 seconds or 3 to 5 seconds. As another example a portlet that is located at the top of webpage may have a forced server parameter to allow the top of webpage to be displayed before the bottom of webpage .

A forced client parameter indicates that a portlet is to be executed client side. Any suitable portlet may have a forced client parameter. For example a portlet that has a relatively long execution time such as greater than a client side execution threshold may have a forced server parameter. A client side execution threshold may have any suitable value for example a value in the range of 10 to 12 seconds or greater than 12 seconds. As another example a portlet that is designed to be executed by client may have a forced client parameter.

A webpage threshold indicates a maximum amount of time for server side execution of webpage to build webpage . In certain examples if a webpage elapsed time for server side execution exceeds the webpage threshold then webpage is sent from server to client and unexecuted portlets are executed client side. In certain examples if a predicted execution time for executing a portlet exceeds a webpage threshold then portlet is designated for client side execution. The webpage threshold may have any suitable value for example a value in a range of 2 to 5 5 to 10 or greater than 10 seconds.

A portlet threshold indicates a maximum amount of time for server side execution of portlet . If a portlet elapsed time and or portlet execution time historical or predicted for a portlet exceeds the portlet threshold then portlet is executed client side. A portlet threshold may have any suitable value for example a value in a range of 1 to 2 2 to 3 3 to 5 or greater than 5 seconds. Different portlets may or may not have different portlet thresholds. In certain embodiments sets of portlets may have different portlet thresholds. For example a set of portlets at the top of webpage may have a higher threshold than a set of portlets at the bottom of webpage .

A historical portlet threshold indicates a maximum amount of time for a historical execution time for server side execution of portlet . If the historical execution time for portlet exceeds the historical portlet threshold then portlet may be disabled or designated for client side execution. An enable disable parameter may be used to indicate whether a portlet is enabled or disabled. The enable disable parameter may be set in response to a determination as previously described or in response to an instruction provided by a user.

A portlet may be a pluggable user interface software component that may be managed and displayed in a web portal. In certain embodiments portlet may produce fragments of markup code that may be aggregated into webpage . Webpage may be displayed as a set of non overlapping portlet windows where each portlet window displays a portlet . Any suitable web application can be a portlet . Examples of portlet applications include email weather reports discussion forums and news portlet applications. Examples of portlets include IBM portlets and Java Specification Request JSR 168 and 286 portlets.

Monitoring system monitors the performance of server . In certain embodiments monitoring system monitors measurements made by skins such as the building of webpage and or the execution of portlets . Monitoring system may record historical data of the measurements. Reporting system may be used to report the performance monitored by monitoring system to a user. Reporting systems may also receive instructions from a user to for example change a parameter.

Parameters may be changed in response to measurements made by skins. In certain cases monitoring system may automatically change parameters in response to the measurements. In other cases the measurements may be reported to a user who may instruct server to change parameters of framework .

As an example changes may be made in response to the historical execution time of a portlet . A portlet that has a historical execution time that is less than a server side threshold may be regarded as executing quickly enough to be given a forced server parameter. A portlet that had a historical execution time that is greater than a client side execution threshold may be regarded as executing too slowly and may be given a forced client parameter.

Server executes first portlets and generates webpage at step . The first portlets may be executed to yield one or more first portlet markups. A portlet may be executed by executing the code of portlet to yield the portlet markup. A portlet markup may be a markup such as an HTML markup that client may use to render portlet at client . The first portlet markups may be placed into webpage . For example server may place the first portlet markups into portlet windows of framework designated for first portlets . In addition server may determine that one or more second portlets are to be executed at client . Placeholder tags for the second portlets may be placed into webpage . For example server may place the placeholder tags into portlet windows of framework designated for second portlets .

Server sends webpage to client at step . Client displays partial webpage at step . For example client may display the first portlet markups but may not have a display for second portlets . Client sends portlet requests to request execution of second portlets to server at step . A portlet request may be used to request execution of a particular portlet and may comprise any suitable message such as an Ajax call.

Server executes second portlets in response to the portlet requests to yield second portlet markups at step . Server sends second portlet markups to client at step . Client displays the completed webpage at step . For example client may display the first portlet markups and the second portlet markups. The method then ends.

The execution of one or more second portlets is determined to be initiated by client according to framework at step . A second portlet may be designated to be executed client side in any suitable manner. As an example second portlet may have a forced client parameter that indicates that second portlet is to be executed client side. As another example an elapsed time for building webpage may have exceeded a page threshold but second portlet may not have started or completed execution. As another example an elapsed time and or a historical execution time for executing second portlet may have exceeded a webpage and or portlet threshold. As another example a predicted execution time for executing second portlet may exceed a webpage and or portlet threshold.

One or more placeholder tags for the second portlets are placed into webpage at step . A placeholder tag allows client to initiate execution of a second portlet . For example a placeholder tag may include a URI that client can use to request execution of second portlet . Webpage is sent to client at step . Webpage comprises the one or more first portlet markups and the one or more placeholder tags.

A request to execute at least one second portlet is received from client at step . The second portlet is executed to yield a second portlet markup at step . The second portlet markup is sent to client at step .

A portlet is disabled at step . Portlet may be disabled in response to any suitable action. As an example if a historical execution time for executing a third portlet has exceeded a historical portlet threshold for the third portlet third portlet may be disabled. As another example server may disable third portlet in response to receiving an instruction to disable third portlet . The instruction may be provided by for example a user. Third portlet may be disabled in any suitable manner. For example an enable disable parameter of third portlet may be set to disable third portlet . The method then ends.

Modifications additions or omissions may be made to the systems and apparatuses disclosed herein without departing from the scope of the invention. The components of the systems and apparatuses may be integrated or separated. Moreover the operations of the systems and apparatuses may be performed by more fewer or other components. For example the operations of server may be performed by more than one component. Additionally operations of the systems and apparatuses may be performed using any suitable logic comprising software hardware and or other logic. As used in this document each refers to each member of a set or each member of a subset of a set.

Modifications additions or omissions may be made to the methods disclosed herein without departing from the scope of the invention. The methods may include more fewer or other steps. Additionally steps may be performed in any suitable order.

A component of the systems and apparatuses disclosed herein may include an interface logic memory and or other suitable element. An interface receives input sends output processes the input and or output and or performs other suitable operation. An interface may comprise hardware and or software.

Logic performs the operations of the component for example executes instructions to generate output from input. Logic may include hardware software and or other logic. Logic may be encoded in one or more tangible media and may perform operations when executed by a computer. Certain logic such as a processor or processing device may manage the operation of a component. Examples of a processor include one or more computers one or more microprocessors one or more applications and or other logic.

In particular embodiments the operations of the embodiments may be performed by one or more computer readable media encoded with a computer program software computer executable instructions and or instructions capable of being executed by a computer. In particular embodiments the operations of the embodiments may be performed by one or more computer readable media storing embodied with and or encoded with a computer program and or having a stored and or an encoded computer program.

A memory stores information. A memory may comprise one or more non transitory tangible computer readable and or computer executable storage media. Examples of memory include computer memory for example Random Access Memory RAM or Read Only Memory ROM mass storage media for example a hard disk removable storage media for example a Compact Disk CD or a Digital Video Disk DVD database and or network storage for example a server and or other computer readable medium.

Components of the systems and apparatuses disclosed may be coupled by any suitable communication network. A communication network may comprise all or a portion of one or more of the following a public switched telephone network PSTN a public or private data network a local area network LAN a metropolitan area network MAN a wide area network WAN a local regional or global communication or computer network such as the Internet a wireline or wireless network an enterprise intranet other suitable communication link or any combination of any of the preceding.

Although this disclosure has been described in terms of certain embodiments alterations and permutations of the embodiments will be apparent to those skilled in the art. Accordingly the above description of the embodiments does not constrain this disclosure. Other changes substitutions and alterations are possible without departing from the spirit and scope of this disclosure as defined by the following claims.

