---

title: Virtual clickstream recommendations
abstract: This disclosure describes various processes for collecting information about users from sources other than catalog activity data. This information can be used to generate recommendations for users with activity data deficiencies. Some example sources for this supplemental data include collaborative content sites, such as social networking sites. Social networking sites typically allow users to engage in conversations with other users through text, audio, and/or video. Conversation data collected from these sites or from other sources can be analyzed to infer user interests. A recommendation process (or other application) can use the inferred interests to supplement or take the place of catalog activity data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08666980&OS=08666980&RS=08666980
owner: Amazon Technologies, Inc.
number: 08666980
owner_city: Reno
owner_country: US
publication_date: 20100519
---
A variety of methods are known for detecting behavior based associations associations based on user behaviors between items stored or represented in a database. For example the purchase histories or item viewing histories of users can be analyzed to detect behavior based associations between particular items represented in an electronic catalog e.g. items A and B are related because a relatively large number of those who purchased A also purchased B . See e.g. U.S. Pat. No. 6 912 505. As another example the web browsing histories of users can be analyzed to identify behavior based associations between particular web sites and or web pages. See e.g. U.S. Pat. No. 6 691 163 and U.S. Pat. Pub. 2002 0198882.

The detected behavior based associations are typically used to assist users in locating items of interest. For example in the context of an electronic catalog when a user accesses a network resource such as a web page that is associated with an item the resource may be supplemented with a list of related items. This list may for example be preceded with a descriptive message such as people who bought this item also bought the following or people who viewed this item also viewed the following. The detected associations may also be used to generate personalized recommendations that are based on the target user s purchase history item viewing history and or other item selections.

Personalized recommendations can be generated for users based on a user s interactions in an electronic catalog which can include user purchases and item selections e.g. page requests . This catalog activity data can provide indications of users interests allowing a recommendation system to find items that match or complement these interests. For some users however little or no data exists on their purchase and item selection habits. Other users have such data but the data was generated some time ago and therefore may be less relevant. Existing recommendation systems therefore tend to use other less effective techniques for recommending items to these users such as recommending popular items.

This disclosure describes various processes for collecting information about users from sources other than catalog activity data. This information can be used to generate recommendations for users with activity data deficiencies. Some example sources for this supplemental data include collaborative content sites such as social networking sites. Social networking sites typically allow users to engage in conversations with other users through text audio and or video. Conversation data collected from these sites or from other sources can be analyzed to infer user interests. A recommendation process or other application can use the inferred interests to supplement or take the place of catalog activity data.

For purposes of illustration the processes disclosed herein are described primarily in the context of an electronic catalog system that detects associations between catalog items for the purpose of recommending such items to users of an e commerce web site. As will be apparent however the disclosed processes can also be used in other types of systems and can be used to recommend other types of items such as but not limited to web sites news articles blogs podcasts travel destinations service providers other users e.g. as potential friends in a social network events discussion boards photos and other images online videos tagged items and user generated lists of items. In addition the disclosed processes need not be implemented as part of or in conjunction with a web site.

As used herein the term item is used interchangeably to refer to an item itself e.g. a particular product and to its description or representation in a computer system. As will be apparent from the context in which it is used the term is also sometimes used herein to refer only to the item itself or only to its representation in the computer system.

The user systems that access the electronic catalog system can include computing devices such as desktop computers laptop computers tablets personal digital assistants PDAs mobile phones electronic book readers other wireless handheld devices set top or other television boxes media players and kiosks among others. The user systems access the electronic catalog system and the content sites over a network which can be a local area network or a wide area network such as the Internet .

The electronic catalog system can be implemented with one or more physical servers or computing machines. Thus each of the components depicted in the electronic catalog system can include hardware and or software for performing various features. In one embodiment the electronic catalog system is a web site. Likewise the content sites can be implemented with one or more physical servers or computing machines and can also be web sites. The content sites can be operated by entities who are different from one another and who are different from an operator of the electronic catalog system .

The content sites can include collaborative sites such as social networking sites forums web publishing sites e.g. blogs and chat sites among others. As such the content sites can provide interactive media for allowing users to communicate with other users. For example a social networking site or a forum site might include features for users to post textual comments engage in written conversations share pictures and other audiovisual media and the like.

Conversations on the content sites can involve a variety of topics. Some of these topics might mention products that users would like to buy. In certain embodiments the electronic catalog system can collect data about such conversations and mine the data for references to products and other product related topics. The electronic catalog system can use this data to improve recommendations among other uses. As used herein the term products and its derivatives in addition to having their ordinary meaning can include anything that can be sold or have a recorded transaction including services.

In the depicted embodiment the electronic catalog system includes several components that can be implemented in hardware and or software. For instance the electronic catalog system includes one or more servers for receiving and responding to network requests from user systems . The one or more servers can include web servers application servers or other types of servers. The electronic catalog system also includes a search engine in communication with the one or more servers . Users can query the search engine to obtain information about electronic catalog content stored in an item data repository .

The electronic catalog content can include information about products and services. In one embodiment this content is arranged in a hierarchical structure having items associated with one or more categories or browse nodes in a hierarchy. The electronic catalog system can provide functionality for users to browse the item hierarchy in addition to searching the catalog. Users can select an item represented in the hierarchy or in a list of search results to see more details about an item. In response to a user item selection the server can provide a catalog page sometimes called an item detail page that includes details about the selected item.

The electronic catalog system further includes a user data mining component . The mining component can collect catalog activity data including data about a user s purchase history and browse history. The browse history can include selection actions such as catalog page requests additions of items to wish lists and shopping carts user interface events such as mouse movements and the like. A user s browse history can also include click stream data. Click stream data can include data on item selections that a user makes during a current browse session. A user s click stream can include selections made by a pointing device e.g. by clicks or other mouse movements keyboard e.g. pressing the Enter key on a link or by some other device. The mining component can store purchase history data and browse history data in the user data repository . A recommendation service described below can access users catalog activity data stored in the data repository to generate recommendations for users.

As described above some users have little or no catalog activity data. For example new users and infrequent users of the electronic catalog system may have made few purchases other item selections or limited viewing history. Other users who used the electronic catalog system but are now dormant may have extensive catalog activity data but this data may be old and therefore less representative of the users current interests. As such recommendations generated based on catalog activity data may be less effective at driving new infrequent and dormant users to purchase items. Advantageously in certain embodiments the electronic catalog system can supplement deficient catalog activity data with activity data collected from the content sites . The electronic catalog system can use the collected data in place of or together with catalog activity data to generate recommendations. These recommendations can be more relevant for new infrequent and dormant users than recommendations generated based on actual catalog activity data. In addition in some embodiments the supplementary activity data collected from the content sites can also be used for other purposes. The display order of search results can be ranked for instance according to a user s perceived interests as derived from the supplementary activity data.

The electronic catalog system can collect data from the content sites with a data collector . In one embodiment the data collector accesses the content sites through the network to collect data generated or consumed by users of the content sites . The users of the content sites can also be users of the electronic catalog system . Accordingly in one embodiment these users have an account or other relationship with both the electronic catalog system and with one or more content sites . Thus the data collected from the content sites for a certain user can supplement or replace the same user s catalog activity data.

In certain embodiments the data collector collects conversation data from the content sites . Conversation data can include the text or other components of conversations between a target user and one or more other users. These conversations can include textual discussions forum posts blog posts comments to blog posts chat room text and the like. Conversations can further include audio visual material such as images or video hypertext links widget or other application data and the like. Techniques used by the data collector to collect conversation data are described below with respect to .

Conversation data can be provided by the data collector to the user data mining module . The mining module can analyze the conversation data to obtain information about user interests. In one embodiment the mining module searches the conversation data for references to products and or product interests. For instance the mining module can search for references to products that a target user wishes to buy or to purchase as a gift or otherwise generally shows an interest in. The mining module can also search for references to products other users suggested the target user to purchase. Moreover the mining module can search for references to products that the user already owns for example by analyzing the user s purchase history. The mining module can consider these product references as virtual item selections storing the product references as virtual activity data in the data repository . Features for generating this virtual activity data are described in greater detail below with respect to .

A recommendation service included in the electronic catalog system can generate recommendations based on a user s catalog and or virtual activity data. For instance the recommendation service can access a user s catalog activity data to determine a user s past catalog item selections. If the user has little or no catalog activity data the recommendation service can access a user s virtual activity data to determine the user s virtual item selections. In another embodiment the recommendation service uses both the catalog and virtual activity data to generate recommendations.

The recommendation service can use any of a variety of algorithms for generating recommendations. For instance the recommendation service can provide any item in the catalog or virtual activity data of a user as a recommendation to that user. The recommendation service can also access data mined by an item data mining component together with the catalog or virtual activity data to generate recommendations. The features of the item data mining component and further features of the recommendation service are described in greater detail below with respect to .

Although not shown the electronic catalog system can also include features that have been described above with respect to the content sites . Thus for example the electronic catalog system can also include social networking features. In such embodiments the data collector can collect conversation data from the content site portion of the electronic catalog system instead of or in addition to collecting conversation data from the content sites . The electronic catalog system can analyze this locally derived conversation data using the data mining module and can apply the recommendation features described herein to the analyzed results.

Additionally the processing of the various components of the electronic catalog system can be distributed across multiple machines networks and other computing resources. The various components of the electronic catalog system can also be implemented in one or more virtual machines rather than in dedicated servers. Likewise the data repositories shown can represent physical and or logical data storage including for example storage area networks or other distributed storage systems. Moreover in some embodiments the connections between the components shown represent possible paths of data flow rather than actual connections between hardware. While some examples of possible connections are shown any of the subset of the components shown can communicate with any other subset of components in various implementations.

As described above data collected from a content site for a certain user can supplement the same user s catalog activity data. At block it is determined which content site users are also catalog users. Determining which content site users are also catalog users can include detecting and or creating an association between a user account with the electronic catalog system and a user account with a content site . This association between accounts can be stored in computer storage e.g. in the user data repository . The detection of user accounts can be made in a variety of ways. In one embodiment users choose to provide the electronic catalog system with access to their data associated with a content site . For example users can provide the electronic catalog system with information about which content sites they have accounts with. The users can further provide their user names links to a content site page they have made or other account information. In one embodiment the users therefore opt in to a recommendation service by providing their identity information to the data collector . The data collector can use this identity information to obtain conversation data using techniques that will be described below.

In another embodiment the electronic catalog system includes a conversation tracking application not shown or the like that can be accessed through a content site . On the Facebook social networking site for instance the conversation tracking application can be a Facebook application that users access or otherwise use. The conversation tracking application can be hosted on the servers of the electronic catalog system or on the content site s servers. In one embodiment the conversation tracking application is a widget or the like accessible from the content site . When a content site user registers with the conversation tracking application the application can provide at least some of the user s account information to the data collector . The data collector can then associate the user s content site account information with the user s electronic catalog system account information.

In yet another embodiment the data collector can programmatically search content sites for information about users. For example the data collector can use web crawling or web scraping technology to obtain user information from content sites . This user information can include screen names for example among other account information. The data collector can then automatically associate the content site user information with user accounts on the electronic catalog system . In one embodiment the data collector also requests that users of the electronic catalog system confirm that the obtained user content site information corresponds to them. The data collector can also explain that associating the account information from the content site can cause the user to obtain better product recommendations. The user can choose whether to confirm the account information so as to opt in or opt out as desired.

At block users participate in conversations on the content site . As described above conversations can include textual comments audio visual material and so forth. At block conversation data is collected from the content site. The conversation data can be collected in a variety of ways. In the example embodiment described above where a conversation tracking application is used the conversation tracking application can obtain the conversation data. The conversation tracking application can obtain this data by accessing an application programming interface API of a content site . For example the API can be a web service API or the like. The conversation tracking application can then pass this data to the data collector . Alternatively if a conversation tracking application is not provided on the content site the data collector can access the API instead.

Although conversation data collection has been described in the context of content sites in some implementations the data collector can collect conversation data from other sources. For instance the data collector can collect conversation data from email instant messaging conversations text messages Voice over IP VoIP telephony conversations internet chat rooms e.g. such as may be found on Internet Relay Chat or the like or from a variety of other electronic sources. Conversation data collected from these sources can also be used to identify virtual item selections in order to improve recommendations.

At block conversation data corresponding to a user is accessed for example from computer storage. It is determined at decision block whether the conversation data includes a product reference. The mining module can detect a variety of types of product references using natural language processing techniques or other data mining techniques. A product reference can include for example a hypertext link that refers to a product a mention of a specific product name e.g. a brand name or a generic product name or a product number such as an ISBN SKU number a stock number or the like . A product reference can be made by a first user by another user conversing with the first user such as a friend or by another user who has some association or relationship with the first user.

In certain embodiments product references can be identified that are associated with some interest shown on the part of a user. Natural language processing techniques can be used to determine whether an interest was shown. For example a user might write that he would like to buy or would love to have a certain product. The mining module can detect these and other such phrases used in proximity with a product reference to determine whether interest was shown. Conversely if a user states that he hates product x or uses some other disparaging terminology the mining module might not consider the user to have interest in a product. Thus in certain embodiments product references are identified only when users manifest some interest in the product. In other embodiments all product references are identified. For example conversation data can further include references to products that a user owns. A user might state for instance that the user recently bought product x. The mining module can identify such statements as virtual purchase history for a user.

Product references made by users or by others who are part of a conversation can be considered to be virtual clicks or more generally virtual item selections. While a user may not have actually clicked on or selected an item the electronic catalog system can advantageously treat the product reference as an item selection in certain embodiments. Thus in certain embodiments these virtual item selections can be used as virtual or simulated activity data.

In one embodiment product references that include a link to a product or product numbers are considered virtual item selections whereas other product references that make more general reference to products are considered potential item selections. These distinctions can be used by the recommendation service to prioritize or weight item recommendations see . In other embodiments all product references are considered to be virtual item selections and no distinction is made between different types of product references when generating recommendations.

Referring again to if it was determined at decision block that the conversation data includes a product reference then the conversation mining process proceeds to block . Otherwise the conversation mining process ends. At block a time corresponding to the product reference is determined from the conversation data. The time can be a time stamp or the like that indicates when or approximately when the product reference was made. The determined time can be used by the recommendation service when weighting ranking or otherwise determining the relevancy of recommendations see .

At block at least one product identifier is determined that corresponds to the product reference. If the product reference includes a product number such as a SKU number that is recognized by the electronic catalog system the mining module may set the product identifier to be the same as the product number. If the product reference includes a phrase such as mountain bike tires the mining module can use this phrase as the product identifier.

In another embodiment the mining module looks up the product reference in the search engine to find one or more products in the electronic catalog that correspond to the product reference. For example for the conversation of that mentions mountain bike tires the mining module can look up the phrase mountain bike tires in the search engine . The mining module can then select one or more of the search results and determine the product numbers corresponding to these results. The one or more product numbers can be used as the product identifier or identifiers.

The product identifier s and time stamp are added to a virtual activity data set for the user at block . In one embodiment the virtual activity data can include both virtual item selections and virtual item purchases as described above. The mining module can store the virtual activity data set in the user data repository at block . The conversation mining process can loop for multiple product references before ending.

Although not shown in certain embodiments the conversation mining process also mines for general topics discussed by users. The mining module can store phrases corresponding to these general topics such as basketball or computers as product identifiers in the virtual activity data set. As will be described in greater detail below the recommendation service can also use this information to generate recommendations.

Referring specifically to the recommendation process illustrates one possible recommendation algorithm that can use virtual activity data. At block a subset of the virtual activity data for a user is accessed for example from the user data repository . In one embodiment this subset is selected according to the time stamps associated with product identifiers in the virtual activity data. More recent time stamped product identifiers can be selected to obtain recommendations that represent more current interests for a user.

At block for at least some of the products identified in the virtual activity data associated products are identified from an associations data set previously generated by the item data mining component . The item data mining component can generate the associations data set in a separate process by detecting behavioral associations between items. For example the item data mining component can assign associations between items that users frequently viewed together or bought together.

Items that users frequently viewed together e.g. in the same browsing session can be considered to be substitutable for one another. For example users tend to shop for a certain type of item at a time such as a digital camera. Digital cameras that a user views within a browse session can be considered substitutable in a recommendations process. In one embodiment the item data mining component creates a substitution data set including these associations. In contrast items that users frequently purchased together can be assigned complementary associations reflecting that these items tend to complement each other. For example user tend not to buy two different digital cameras but a digital camera and a complementary case.

The item data mining component can use various techniques to detect behavioral associations between items. For example the item data mining component can use any of the association detection techniques described in U.S. Publication No. 2002 0019763 filed Mar. 29 2001 titled Use of product viewing histories of users to identify related products or U.S. application Ser. No. 12 354 233 filed Jan. 15 2009 titled System for detecting probabilistic associations between items the disclosures of which are hereby incorporated by reference in their entirety.

In one embodiment the mining component stores detected item to item associations represented by scores or the like in an associations table or other data structure. Thus when the recommendation service can look up products identified in the virtual activity data in an associations table to find associated products. In one embodiment the recommendation service looks up virtual item browsing selections in a substitutions association data set and virtual item purchases in a complementary data set to find appropriate recommendations.

At block items are selected from the associated products as recommendations. The recommendations can include the most highly scored associated items. The scores for the recommendations can be derived from the scores stored in the association table. This association score can further be weighted to readjust the recommendation scores. For instance virtual item selections can be weighted higher than potential item selections because conversations that mention a product link can indicate higher user interest than conversations that merely mention a general product. The weighting for a given virtual item selection can be multiplied by an association score to arrive at a recommendation score. At block the recommendations are output for presentation to the user.

When catalog activity data is present for a user the recommendation service can use both the catalog and virtual activity data to generate recommendations. If the catalog activity data includes time stamped data for instance the recommendation service can combine items represented in the catalog and virtual activity data and sort the items by time stamp. Thus at block the subset of items selected from this combined data can be the most recent items actually or virtually selected. Additionally when both catalog and virtual activity data are used to recommend items items represented in the catalog activity data can be weighted higher than items represented in the virtual catalog data when scoring recommendations. However catalog and virtual activity data can be weighted equally in other embodiments.

Referring to another possible recommendation process is illustrated that can use virtual activity data. In particular in certain embodiments the recommendation process can be used for the potential item selections described above with respect to .

At block a subset of the virtual activity data for a user is selected. Block can proceed in a similar fashion as block of the recommendation process selecting the most recent products identified in the virtual activity data.

At block product identifiers in the virtual activity data are used as search queries in a search engine e.g. the search engine . As described above product identifiers for potential item selections can include a product phrase such as mountain bike tires . Thus searching for the product phrase can result in search results that may be interesting to a user. At block at least some of the search results are output as recommendations for the user.

It should be noted that many other recommendation algorithms can use virtual activity data. For instance one recommendation algorithm can simply output the items identified in the virtual activity data as recommendations. Another recommendation algorithm can identify a browse node in the electronic catalog with which an item in the virtual activity data is associated. The recommendation algorithm can then recommend other items in this browse node to the user. Another recommendation algorithm can be a rule based algorithm that uses at least some human input to generate recommendation rules. The rule based algorithm can apply one or more rules to the items in the virtual activity data such as users who virtually selected apple pie should be recommended vanilla ice cream. 

Further any recommendation algorithm can output one or more descriptive messages that can identify the reasons or sources of the recommendation. For instance a recommendation algorithm might output a descriptive message such as Recommended for you because your friend Karen on Facebook suggested this item. Other examples of descriptive messages can be output with recommendations are described in U.S. application Ser. No. 11 752 251 filed May 22 2007 titled Probabilistic recommendation system the disclosure of which is hereby incorporated by reference in its entirety.

Other applications can also consume virtual activity data. For example the electronic catalog system can provide a widget that dynamically updates to show the most recent item or items in the user s virtual activity data. Many other uses for virtual activity data are also possible. In addition it should be noted that recommendations can be output for presentation on a page e.g. a web page of the electronic catalog system on a page widget or application of the content site in an email or in any other communication to the user. Likewise the recommendations can be output by an application e.g. a social networking application running on any form of user device including mobile devices.

Depending on the embodiment certain acts events or functions of any of the algorithms described herein can be performed in a different sequence can be added merged or left out all together e.g. not all described acts or events are necessary for the practice of the algorithm . Moreover in certain embodiments acts or events can be performed concurrently e.g. through multi threaded processing interrupt processing or multiple processors or processor cores or on other parallel architectures rather than sequentially.

The various illustrative logical blocks modules and algorithm steps described in connection with the embodiments disclosed herein can be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. The described functionality can be implemented in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the disclosure.

The various illustrative logical blocks and modules described in connection with the embodiments disclosed herein can be implemented or performed by a machine such as a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor can be a microprocessor but in the alternative the processor can be a controller microcontroller or state machine combinations of the same or the like. A processor can also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The steps of a method process or algorithm described in connection with the embodiments disclosed herein can be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module can reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of computer readable storage medium known in the art. An exemplary storage medium can be coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium can be integral to the processor. The processor and the storage medium can reside in an ASIC. The ASIC can reside in a user terminal. In the alternative the processor and the storage medium can reside as discrete components in a user terminal.

Conditional language used herein such as among others can might may e.g. and the like unless specifically stated otherwise or otherwise understood within the context as used is generally intended to convey that certain embodiments include while other embodiments do not include certain features elements and or states. Thus such conditional language is not generally intended to imply that features elements and or states are in any way required for one or more embodiments or that one or more embodiments necessarily include logic for deciding with or without author input or prompting whether these features elements and or states are included or are to be performed in any particular embodiment.

While the above detailed description has shown described and pointed out novel features as applied to various embodiments it will be understood that various omissions substitutions and changes in the form and details of the devices or algorithms illustrated can be made without departing from the spirit of the disclosure. As will be recognized certain embodiments of the inventions described herein can be embodied within a form that does not provide all of the features and benefits set forth herein as some features can be used or practiced separately from others. The scope of certain inventions disclosed herein is indicated by the appended claims rather than by the foregoing description. All changes which come within the meaning and range of equivalency of the claims are to be embraced within their scope.

