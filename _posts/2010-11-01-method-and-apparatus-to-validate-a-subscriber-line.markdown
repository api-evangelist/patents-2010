---

title: Method and apparatus to validate a subscriber line
abstract: The computer-implemented method includes receiving a first request via the Internet for a first transaction between a user and a vendor for goods or services. A billing telephone number of the user is then obtained, and the first transaction automatically charged to a subscriber account associated with the billing telephone number. Sometime later, a second request is received via the Internet for a second transaction between the user and a vendor for goods or services. If the second transaction cannot be billed to the subscriber account, an alternative payment method is automatically used.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08379815&OS=08379815&RS=08379815
owner: PaymentOne Corporation
number: 08379815
owner_city: San Jose
owner_country: US
publication_date: 20101101
---
The present application is a continuation of U.S. patent application Ser. No. 11 836 603 filed on Aug. 9 2007 entitled METHOD AND APPARATUS TO VALIDATE A SUBSCRIBER LINE which is a continuation of U.S. patent application Ser. No. 10 225 098 filed Aug. 20 2002 which issued as U.S. Pat. No. 7 054 430 entitled METHOD AND APPARATUS TO VALIDATE A SUBSCRIBER LINE which claims the benefit of the filing date of U.S. Provisional Patent Application Ser. No. 60 314 604 entitled METHOD OF VALIDATING A SUBSCRIBER LINE filed Aug. 23 2001 which applications are incorporated herein by reference.

An increasing number of vendors are offering goods and or services which may be purchased via a communication network such as a telecommunication network. For example the customer may conduct a transaction via a subscriber line using a landline telephone or a personal computer. Conventionally credit or debit card details are furnished by the customer to the vendor to effect payment for the goods and or services. As many customers are hesitant to supply credit or debit card details over a communication network an alternate method of payment would be advantageous. However if an alternate method is used verification of the payment method should preferably take place prior to concluding the transaction.

In accordance with the invention there is provided a method to provide validation data associated with a subscriber line of a telecommunication network the method including 

obtaining line data of the subscriber line the line data being suitable for interrogating a line identification database LIDB 

interrogating the LIDB with the line data to obtain reference subscriber data associated with the line data and

processing the reference subscriber data to obtain validation data associated with the subscriber line.

The LIDB may be a conventional LIDB used by a service provider e.g. a local exchange carrier to investigate a destination or termination line to which a carrier requests a connection.

The method may include analyzing the reference subscriber data to determine if the data is associated with a billing telephone number BTN and if so generating an approval or a decline status. In one exemplary embodiment the line data is automatic number identification ANI data and the method includes interrogating the LIDB using the ANI data herein also referred to as the ANI . The validation data may be processed to determine whether the subscriber line is a billable line having an associated account to which goods or services can be billed.

The reference subscriber data received from the LIDB may be processed selectively to approve a transaction requested via the subscriber line. In one exemplary embodiment the reference subscriber data is in the form of conventional LIDB codes and the operation to process the data may include generating a modified code from at least one LIDB code. In certain embodiments a common modified code is generated from a plurality of LIDB codes. The modified codes may be arranged in a billable group and a non billable group.

The method may include conducting fraud control checks on the account associated with the subscriber line number or ANI. The fraud control checks may include at least one of the operations selected from the group consisting of checking if adjustments have been made to the account associated with the ANI verifying a user entered ZIP code with ZIP data from a ZIP data source verifying user entered address data with address data from an address data source checking if the area code associated with the ANI has changed checking if the ANI and the BTN match and checking if the BTN or ANI are missing from the record.

The method may include interrogating a network database with the ANI to determine if the subscriber line is a billable subscriber line and if not generating a decline status. The method may include interrogating with the line data at least one of a competitive local exchange carrier CLEC database a 42 BLOCK database a Block and Cancel database an unpaid bills database an off network database an on network database an address verification database a regional account office RAO database an operating company number OCN database and a customer account record exchange CARE database and selectively generating one of a decline status and an approved status in response to the interrogation.

The method may include receiving the line data from a vendor of goods or services e.g. an Internet Service Provider ISP and communicating at least the decline status to the vendor.

In one exemplary embodiment the charges raised by the vendor are included in an account submitted by the exchange carrier to a subscriber for use of the subscriber line.

Further in accordance with the invention there is provided a computer readable medium for storing a set of instructions that when executed by a machine cause the machine to execute the method.

Still further in accordance with the invention there is provided a subscriber line validation system for validating a subscriber line of a communication network the system including 

a communication module for receiving line data of the subscriber line the line data being suitable for interrogating a line identification database LIDB 

an interrogation module for interrogating the LIDB with the line data to obtain reference subscriber data associated with the line data and

a processor module for processing the reference subscriber data to obtain validation data associated with the subscriber line.

In one exemplary embodiment the LIDB is a conventional LIDB. However in other embodiments a plurality of LIDBs may be provided that are used by one or more service providers e.g. local exchange carriers to investigate a destination or termination line to which a subscriber line requests a connection.

In one exemplary embodiment the processor module is configured to analyze the reference subscriber data to determine if the data is associated with a billing telephone number BTN and if so the system generates a decline status. In one embodiment the line data is automatic number identification ANI data and the processor module interrogates the LIDB using the ANI data.

The validation data may be processed to determine if the subscriber line is a billable line having an associated account to which goods or services can be billed.

The reference subscriber data may be received from the LIDB and may be processed selectively to approve a transaction requested via the subscriber line.

The reference subscriber data is preferably in the form of conventional LIDB codes and the processor module may generate a modified code from at least one LIDB code. In certain embodiments the processor module generates a common modified code from a plurality of different LIDB codes. In one embodiment the modified codes are arranged in a billable group and a non billable group.

In certain embodiments the system may conduct fraud control checks on an account associated with the ANI. The processor module may be configured to conduct at least one fraud control check selected from the group consisting of checking if adjustments have been made to the account associated with the ANI verifying a user entered ZIP code with a ZIP data source verifying user entered address data with an address data source checking if the area code associated with the ANI has changed checking if the ANI and the BTN match and checking if the BTN or ANI are missing from the record.

The processor module may interrogate a network database with the ANI to determine if the subscriber line is a billable subscriber line and if so generate a decline status.

In certain embodiments the system may interrogate at least one of a competitive local exchange carrier CLEC database a 42 BLOCK database a Block and Cancel database an unpaid bills database an off network database an on network database an address verification database a regional account office RAO database an operating company number OCN database and a customer account record exchange CARE database.

The system may include receiving the line data from a vendor of goods or services and communicating at least the decline status to the vendor. Charges raised by the vendor may be included in an account submitted by the exchange carrier to a subscriber for use of the subscriber line.

Further in accordance with the invention there is provided a system to provide validation data associated with a subscriber line of a telecommunication network the system including means for obtaining line data of the subscriber line the line data being suitable for interrogating a line identification database LIDB means for interrogating the LIDB with the line data to obtain reference subscriber data associated with the line data and means for processing the reference subscriber data to obtain validation data associated with the subscriber line.

Referring to the drawings reference number generally indicates an exemplary subscriber line validation system in accordance with an aspect of the invention for validating a subscriber line of a subscriber. In one exemplary embodiment the subscriber line is a telephone line or the like which a consumer or business see obtains from a telephone company Telco or a local exchange carrier LEC . As described in more detail below the system uses line data in the exemplary form of an automatic number identification ANI service to obtain the telephone line number of the subscriber line thereby to validate the subscriber line when the subscriber line initiates a communication or connection. In one exemplary embodiment the line number obtained from the ANI service is used to investigate various databases to obtain for example an indication of the credit worthiness of the subscriber account associated with the subscriber line . It is to be appreciated that any electronic apparatus e.g. a personal computer PDA cellular telephone or the like may be used to initiate the communication.

Referring in particular to of the drawings the system includes an application program interface API which is connected to a vendor or service provider see also of goods and or services which requires validation of a subscriber account. The vendor which could for example be an Internet Service Provider may request the validation of the subscriber line prior to concluding an electronic transaction with a subscriber e.g. a consumer or business via the subscriber line . It is however to be appreciated that the API may be connected to a variety of different hosts or clients which require validation of a subscriber line via which the vendor may carry out transactions for goods and or services.

In one exemplary embodiment the system is connected to a plurality of vendors which conduct transactions with users via line termination equipment such as a telephone a personal computer or the like. Such vendors when conducting transactions may preferably charge a user for their services by adding such charges to a telephone account of the user rather than charging the goods and or services to a credit card debit card or the like. Accordingly the validation of the subscriber line and the subscriber account associated with the subscriber line may be of benefit to the vendor prior to completing a transaction. The validation may include determining whether or not the subscriber line via which the communication is made to the vendor is a billable line and accordingly the subscriber account associated with the subscriber line may thus be billed for the transaction.

In one exemplary embodiment the vendor communicates a request to the system and forwards the subscriber line number determined by the ANI service to the system via its API . The system then processes the information received from the vendor and provides a validation status e.g. a code indicating a valid billable number or a code indicating that the subscriber line number is not a valid billable number e.g. unbillable or non billable . In particular a plurality of codes associated with various statuses of the subscriber line may be communicated to the vendor as described in more detail below.

The system includes hardware and software to implement the invention. In the exemplary embodiment the system includes a comparator module a threshold database an OFFNET database an ONNET database a competitive local exchange carrier CLEC database a 42 BLOCK database a block and cancel database an unbilled and or unpaid bills database line identification database LIDB short term cache a validity check module a regional account office RAO database an operating company number OCN database an ONNET database an address verification database a customer account record exchange CARE results database an ANI watch database and an NPA Numbering Plan Area exchange database . It is to be appreciated that in less sophisticated embodiments of the invention all of the above databases need not be included. However for enhanced accuracy all of the above databases are preferably included. Further databases may also be included to further enhance the reliability of the validation process.

In addition to any one or more of the above databases the system is in communication via a conventional communication channel with an off site or in some embodiments on site line identification database LIDB host . The LIDB host may include a line number portability LNP database. In one exemplary embodiment the LNP database may front end access to a plurality of industry standard LIDBs e.g. 13 different LIDBs . The LNP database may however be a separate database. As described in more detail below the system communicates the subscriber line number to the LIDB host which in turn communicates reference subscriber data in the form of industry standard LIDB codes back to the system for processing. The system then processes the LIDB codes to provide the vendor with validation data relating to the subscriber line . Unlike conventional LIDB applications which use LIDB to make decisions regarding destination subscriber lines or call completion decisions e.g. decisions for calling cards collect and third party toll services or the like the system may be used to identify telephone numbers being served by CLECs in order to ensure that calls are routed correctly on ported lines.

Broadly the system has a variety of different components including a communication module defined by the API and a processor module . The a processor module includes the various databases to as well as the comparator module and the validity check module and an interrogation module for interrogating the LIDB host . It is to be appreciated that the aforementioned modules may be defined by one or more servers with associated databases. Further in the drawings the LIDB host is shown as a single database but may comprise many different LIDB databases maintained by various LECs and accordingly may be located at various different geographic locations.

Referring in particular to of the drawings a flow chart describing the method of operation of the system is shown. In one exemplary embodiment a vendor initiates a request to the system to validate a subscriber line via which the vendor wishes to transact with a customer consumer or business . As shown at operation the system first checks to see if the subscriber line number is present in the request from the vendor and if no line number is present a return code is generated and communicated to the vendor as shown at operation . The code indicates to the vendor that the system is unable to process the request. If however the subscriber line number is present in the request from the vendor the system then checks if the subscriber line number captured hereinafter also referred to as the ANI and a billing telephone number BTN match as shown at operation see also the comparator module in . In one exemplary embodiment the BTN may be sourced from the consumer or customer when a transaction is requested by the customer . If however the ANI and the BTN do not match then the processor module generates a code see operation to indicate that the caller and the owner of the line number are not the same person e.g. subscriber inputs a BTN and calls from a different ANI and the relevant modified code is then returned to the vendor . If the ANI and the BTN do match the processor module interrogates the threshold database see operation to ascertain whether or not the line number has reached its threshold e.g. a predefined client threshold parameter such as an account threshold indicating a maximum dollar amount that may be charged to the account . If the line number has reached its threshold the processor module then generates a code as shown at operation which is then communicated to the vendor to indicate that the line number should not be granted service. In other words the subscriber account cannot be billed for the goods or services requested by the customer from the vendor .

If the threshold for the particular subscriber line has not been reached the system may then interrogate its OFFNET database see operation to check if the industry standard NPA NXX and operating company number OCN of the subscriber line is present in the OFFNET database . The OFFNET database includes NPA NXX and OCN combinations of operating companies with which the proprietor or user of the system does not have billing and collection agreements to bill into the telephone company s or Telco s bill page associated with the subscriber line . Accordingly the proprietor or user of the system is unable to include a charge in the account associated with the subscriber line on behalf of the vendor for the transaction carried out with the vendor via the subscriber line .

If the line number is in the OFFNET database then the processor module generates codes to see operation and communicates these codes to the vendor . The codes to indicate that the NPA NXX and OCN for the particular line number are not billable and accordingly charges for goods and or services requested by a customer via the subscriber line cannot be included in a monthly account or the like by the system . As shown in Table 2 below the codes to provide an indication to the vendor why the subscriber line is not billable or deliverable. If the subscriber line number is not included in the OFFNET database a check is conducted to see whether or not the subscriber line number is included in the ONNET database . This check is however optional in the embodiment depicted in the drawings but in certain embodiments may be mandatory if the system does not include the OFFNET database .

Thereafter as shown in operation the processor module checks to see if the line number is found in a known CLEC table in the CLEC database . CLEC numbers are those line numbers that are known to have ported to a CLEC and accordingly the proprietor of the system is thus unable to route these line numbers to the correct billing entities. If the line number is found in the CLEC database then the processor module generates a code see operation which is communicated to the vendor . The code indicates that the line number is not billable for the CLEC and the system can thus not charge the transaction to the subscriber account associated with the subscriber line .

If the line number is not found in the CLEC database then the system may check to see if the subscriber of the line number has requested a 4250 billing block as shown at operation . In particular the processor module interrogates the 42 BLOCK database and if the number is located in the database which indicates that monthly recurring charges 4250 charges are prevented from being billed to that line number the processor module generates a code see operation which is communicated to the vendor to indicate that billing to the particular subscriber line has been blocked.

If however the subscriber line has not been blocked the system may then check at operation if the line number is located in the block and cancel database and if so the processor module generates codes and which are then communicated to the vendor as shown at operation . The block and cancel database includes requests from owners of subscriber lines agencies businesses or the like that a service be canceled or blocked from further billing. Thereafter the system may interrogate the unbilled and or unpaid bills database as shown at operation to check if there is a history of any unpaid bills and or unbillable bills associated with the subscriber line . Unbillable bills relate to those subscriber line numbers where previous attempts have been made to bill charges to the subscriber account associated with the subscriber line number and which have been returned as unbillable. If the processor module locates the subscriber line number in the unbillable and or unpaid bills database then as shown at operation a code is generated and communicated to the vendor to indicate that the subscriber line number was previously found to be unbillable and is still considered to be unbillable.

The processing described in the abovementioned operations may conduct a preliminary investigation into the subscriber line number or ANI to provide an initial indication of whether or not the ANI corresponds with a billable subscriber line. Once the initial investigation has been conducted in certain embodiments the system then uses the ANI to obtain reference subscriber line data in the form of LIDB codes from one or more industry standard databases e.g. the LIDB host or database . Examples of the LIDB codes used in the system are shown in Table 3 below.

As shown at operation if the ANI is not found in the LIDB database then the system cannot provide any validation data to the vendor on this subscriber line and an appropriate code is then communicated to the vendor as shown at block .

Once the LIDB database or host has been interrogated it returns industry standard LIDB codes and line number portability LNP data to the system as shown in operation . The LIDB codes may then be mapped or translated by the processor module into modified validation codes see Table 3 which provide relevant validation information to the vendor . As can be seen from Table 3 the same modified validation code can be generated from a plurality of different LIDB codes. Once the LIDB information codes have been returned to the processor module the LIDB codes including an OCN and RAO response codes are fed into the validity check module as shown at operation .

As mentioned above the LIDB host may also provide LNP data to the system . The LNP data is used to identify subscriber line numbers that have ported to a CLEC. If a subscriber line has been ported to a CLEC the billing ONNET status of the CLEC may be verified in the CLEC database . The LNP identifies the facilities based CLECs which are CLECs that have been assigned all the line numbers for an NPA NXX in a specific geographic territory. This type of CLEC may be in control of the cable dial tone and billing envelope for that number. In one exemplary embodiment the LNP cannot be used to identify CLEC sellers which have resold the subscriber line under their brand but still lease the cable and tone from an incumbent local exchange carrier ILEC . Accordingly a third party billing facility e.g. a proprietor or user of the system may be unable to process transaction data onto a bill page of the CLEC reseller bill page. In order to identify reseller CLECs the system may compare RAO and OCN information returned from the LIDB host to data in the ONNET database . The OCN is the local Telco that owns the subscriber line number and the RAO is the office of the Telco that is responsible from a billing standpoint for the subscriber line number.

If the validity check module determines that the response codes are invalid the system generates modified codes to see operation and Table 2 which are communicated to the requestor or vendor to indicate that the mapping of the LIDB codes to the modified codes concluded that the line is an unbillable subscriber line.

If the validity check module confirms the validity of the LIDB codes and in the event of the line number being a billable line number the processor module then may check the RAO database to ascertain whether or not the RAO is billable as shown at operation . If the RAO is not billable then the processor module generates and communicates a return code see operation to indicate to the vendor that the line number belongs to a CLEC which is not billable by the system .

In a similar fashion at operation the processor module checks to see if the OCN returned from the LIDB host corresponds with a known CLEC or if the OCN corresponds with an OFFNET OCN and is therefore also unbillable by the system . If the line number corresponds to an OCN that is not billable a return code is generated by the processor module and communicated to the vendor see operation .

If the subscriber line number has passed the RAO and OCN checks and accordingly it appears that the number is billable the processor module may then check to see if a new NPA NXX and OCN combination for this line number is guidable to the correct local Telco for billing see operation . If the line number is not guidable then the system generates a code at operation which is communicated to the vendor to indicate that even though the line number is billable the proprietor of the system is unable to guide the billing information to the new Telco for billing. Accordingly the telephone number is in fact non billable insofar as the system is concerned and a decline status is therefore communicated to the vendor .

The abovementioned operations are carried out to ascertain whether or not the subscriber line can be billed for the goods and or services requested. However to enhance the accuracy or reliability of the system further checks or verification may be conducted as described below.

In the event that the subscriber line number has passed or complied with the abovementioned checks and has thus not yet been rejected the system may perform address verification procedures at operation . In particular when the ANI is communicated to the API location data is also provided which has been fed in by the user e.g. via a computer terminal orally over a telephone or the like. The system then interrogates an address verification database to compare the address or location data e.g. a ZIP code supplied by the customer with a reference address data as shown at operation . If however the address supplied by the customer does not match with the address in the verification database or the addresses are not within a predefined range or area the processor module as shown at operation generates codes to which are then communicated to the vendor to indicate the level of likelihood that the caller ANI and the account owner are the same person.

During the address verification operation the system may interrogate a customer account record exchange CARE database which can be an on site database which is regularly updated to provide enhanced reliability. In particular in one exemplary embodiment the CARE database or information site is one or more industry standard off site databases which allow consumers to select or change their long distance service provider. Local Telcos forward specific customer information to the LEC associated with the subscriber. In one exemplary embodiment the information communicated includes a new telephone number a billing address an installation date a person or organization responsible for the account or the like.

As shown at operation the system may interrogate the CARE database or information site and CARE data is then loaded into CLEC and new line databases to perform certain fraud and or billing checks. The CARE information investigation may occur after a successful validation event. In one embodiment once the system has validated the subscriber line the subscriber line number data is sent to a CARE database provider hosting the CARE database to obtain the BNA Billing Name and Address and age of the account. In one exemplary embodiment the information is returned within 48 hours and then processed. CARE records that are returned without BNA and NO ACCOUNT codes may be inserted into the CLEC database for future reference. Accordingly if the BTN is presented again at a later date it will fail the CLEC check operation see .

The ANI watch database which may include historical and adjusted information may be used by the system to determine if the account has previously been adjusted see operation . In one exemplary embodiment this operation includes ascertaining previous requests by the subscriber for credit obtaining data on any written off amounts for charges that were billed to a bill page or the like.

If adjustments have previously been made to the account associated with the subscriber line the processor module generates codes to see operation to indicate to the vendor that the adjustments have previously been made. If no adjustments have been made the processor module checks to see whether or not the subscriber line number has a business line indicator as shown at operation . If the business line indicator is active the system generates a code see operation which is communicated to the vendor to advise that the line is a business line. Thereafter as shown in operation the processor module may check to see if the subscriber line number has been in service for less than about 90 days and if so a return code see operation is generated to advise the vendor who may then selectively decide whether or not to conclude the transaction. A database of new numbers may be updated with the new number.

Thereafter the system may interrogate the ANI watch database see operation to ascertain whether or not the area code of the line number has been changed or is scheduled to change. In one embodiment this interrogation is for billing purposes only and is not used to decide upon the validity of the request. In this operation the vendor requesting the validation updates the billing file with the new area code number and the processor module generates a code see operation to advise the vendor of the scheduled change to the area code.

Once the line number has passed all the aforementioned checks the system may conclude that the subscriber line is in fact a billable subscriber line based on the data obtained using ANI techniques and accordingly the transaction may be charged directly to the account of the subscriber. Accordingly the system then generates a code see operation which is communicated to the vendor . The code may define an approved status following both a billable line number inquiry as well as several fraud checks which are carried out by the fraud control module see . If the subscriber line number of the subscriber line has passed the abovementioned checks and a return code is generated the procedure shown in is carried out whereafter the process terminates at operation . Thus operation may define the end of the process during which the various checks have been conducted on the subscriber line to assess whether or not it is a billable subscriber line that charges may be billed to. Operation defines in one embodiment the last operation to which the process jumps when at any point during the abovementioned process the line number is found not to be billable or a creditworthiness decision is requested and the inquiry is accordingly terminated and the relevant code is communicated to the vendor .

In one exemplary embodiment the abovementioned operations are executed in real time. However information sources that do not allow checks on the line number in real time may be carried out subsequently on the subscriber line number. In one embodiment once the real time evaluation is carried out and the return code is communicated to the vendor and should the vendor decide to proceed with the transaction transaction data is then returned to the system by the vendor for a pre billing validation check or actual billing. During the actual billing the system may access an account folder of the subscriber line at the Telco and insert the charges due to the vendor for its goods or services. As shown at operation subscriber line numbers may be sent to the CARE database to determine if the BNA is available at the local Telco. If the folder is not available the local Telco sends the BNA and codes as to why the number is unavailable. If the BNA is found in the CARE database the processor module may then check to see whether or not the account was created within the last 90 days as shown at operation . If the account was not created within the last 90 days then the business indicator is checked as shown at operation and the process ends as previously shown at operation . If however the number was found in the CARE database the account was created within the last 90 days or has an active business indicator then the system may generate the appropriate codes which are communicated to vendor and the process terminates as shown at operation .

The above process has been described in terms of modified codes set out in Table 2 but it is to be appreciated that any other defined set of corresponding codes may be provided so long as the codes are mapped onto or generated in response to any one or more of the industry standard LIDB codes.

A summary of the codes generated by one exemplary embodiment of the system during execution of the validation process is provided in Table 1 below.

Table 2 see below provides the various actions which are executed in response to a modified validity code. The table provides an exemplary description and explanation of each code. Return codes to relate to failure codes which are generated by the system prior to investigation of the LIDB host . Return codes to are generated during the LIDB code checks. In the event of the subscriber line failing the checks carried out on it the system provides optional use of a credit card and accordingly Table 2 sets out codes which the system generates in response to executing a standard credit card enquiry for a particular transaction. If the system which may be defined by a server and associated databases is down codes to are generated and communicated to the vendor.

As mentioned above the system may translate the LIDB codes into modified verification codes as shown in Table 2. These modified validity codes are then mapped or translated. Table 3 below provides a list of the modified validity codes which are generated following the mapping carried out by the processor module to translate LIDB codes to the modified verification codes set out in Table 1.

In the embodiment of the invention depicted in the drawings regardless of the type of service provider or the type of validation request clients or vendors may need a profile so that the process or method carried out by the system knows how to treat the request. The client or vendor profile may be set up in a database which includes the indicators that are set for the type and tests for each request which will be subsequently received from the vendor.

The first table shows the operations in the BTN test descriptions process. In one exemplary embodiment a set of core tests is run for each client. Additionally clients may have some configuration options to identify the tests that best fit their program.

The OFFNET table family contains OCN NPA NXX combinations where billing is not approved. If found the BTN does not continue on the validation path.

The ONNET table determines if an NPA NXX OCN combination can be found among the billable combinations. In this case a match allows the BTN to move further on the validation path. A no match will return a failure.

The CLEC table consists of CLECs that the proprietor or user of the system does not have billing contracts with. This table is specific to the line number. Sources dictate the fields that will be present for the record. A match here is considered a fail and does not continue.

The 4250 Block table consists of specific line numbers that cannot be billed for 4250 01 record types. A match in this table stops the validation movement.

The Unbills or unbillable table holds all the BTNs that have been sent to a subscribers bill page but could not be placed on the bill page for various reasons. A match here halts the validation sequence for the subject BTN.

Block and cancel tables identify BTNs that have requested a permanent or a Client specific block for billing. A match sends a failed response.

Validation Cache is a table that holds responses in order not to process duplicates e.g. Submit pressed 10 times . A match here will return the code stored from a previous request.

LIDB is a third party that supplies information to the phone line number level. The goal is to test and store as many relevant fields as can be requested in a transaction.

The LIDB Validity Table translates the LIDB code into a billable or non billable response according to predefined business rules. A fail here will halt the validation for the request.

The State specific table is a conversion from a true OCN to a known State Specific OCN that is billable. A match here will trigger the conversion the BTN continues in the validation process.

The transaction log is the history of each transaction request and response that is processed through the validation system.

The TPM indicates that an NPA is in the permissive dialing period. A match here appends the record with the updated number for a record update.

The ANI Watch has BTNs that have been given an adjustment for charges by the Client proprietor or user of the system or the Telco. This is to help the client determine the credit score for the BTN.

Unlike the conventional use of the LIDB database that uses the LIDB data to obtain information on a destination termination or recipient location or subscriber unit the system in one exemplary embodiment uses the industry standard LIDB database to obtain relevant information on the initiating subscriber line. The subscriber line reference data obtained from the LIDB database is then processed to generate modified validity codes which provide a vendor with data to facilitate deciding whether or not a transaction should be processed. The LIDB LNP database may be queried as if a collect call event is occurring and a call is thus mimicked. The processing of the transaction in one exemplary embodiment involves communicating the relevant transaction data to a folder of the subscriber with a relevant Telco. The method of and system for validating the billing account associated with the subscriber line allows for example a subscriber line to be used to validate and conclude a transaction instead of using a conventional payment techniques such as a credit card debit card bank account details or the like.

A current industry wide problem is the lack of ability of a service provider to identify when a line subscriber has switched his service to a CLEC since the service provider may not have an existing billing arrangement with such a CLEC and may also not have a source for the BNA to allow for a direct billing solution. LNP databases were originally established for the purpose of directing call routing activities among facilities based carriers and most telephone numbers ported to a CLEC do not involve a facility change i.e. the CLEC is simply reselling the incumbent LEC s facilities . This means that for billing decision purposes LNP queries may provide an incorrect response.

In one embodiment of the present invention the LNP queries have been enhanced by analyzing and interpreting other field elements included within the query response. Specifically certain values or in some cases the absence of certain values in the Operating Company Number OCN and or the Regional Accounting Office RAO fields allows further accuracy in the validation response. While the definitions of the OCN and RAO field elements can be obtained from industry sources their interpreted use in the validation process is unique to the present invention. Use of these additional data elements can improve the reliability of the validation event.

In addition the present invention may include supplementing LNP results with CARE queries in LEC regions where LNP results are inadequate and CARE costs are not otherwise prohibitive based on the retail price of the underlying service. CARE may provide a reliable result on CLEC ported numbers since its basic purpose is to provide subscriber account information such as billing name and address . Once a number is ported to a CLEC the incumbent LEC no longer has subscriber responsibility and will therefore return an unavailable response even if the LEC s dial tone facility is still being utilized. This negative response is then used to generate a deny status on the subscriber based on the current lack of CLEC billing support.

The exemplary embodiment of the present invention may supplement the validation process through the use of internal databases built from information gathered throughout the billing and collection process and process logic gleaned from previous billing experience.

It is important to appreciate that all of the operations in the method executed by the system need not be executed in real time. In one exemplary embodiment after the approval code has been generated by the system at operation the system terminates its pre validation check routine as shown at operation . At this point the system may merely provide pre validation data or verification data to indicate to the vendor whether or not the subscriber line is billable. Thus the system may in a first interaction with the vendor provide pre validation data and in a second interaction process billing information. During the processing of billing information the validation process may once again be executed. In certain embodiments the first interaction may be in the form of a registration process during which the validation procedure is carried out to register a subscriber line. The vendor may then conduct numerous transactions with subscriber and subsequent validation checks on the subscriber line may then only be carried out on a periodic basis.

After the validation code has been sent to the vendor and the pre validation procedure has been completed the system then carries out the fraud checks on a non real time basis usually during the next 48 to 72 hours as shown in operations to . The information obtained during the fraud control check if necessary is used to update the various databases. In particular after a BTN has been successfully validated but before a billing event takes place the CARE investigation operations to may be executed. In the exemplary embodiment the system is arranged to interrogate off site CARE databases and the results of the enquiry are stored in the CARE database . Checks on the data received from the CARE databases are then performed whereafter one or more of the other databases may be updated with the results. For example the CARE database may be updated with new within 90 days information business indicator information or the like. In the exemplary embodiment CARE codes and indicate that the BNA is not available and that the LEC no longer owns the account.

The updating of the databases following the CARE investigation may allow enhanced future checks by the system in a subsequent pre validation procedure or subsequent registration validation event. The updated information may be provided to the vendor . However if the BTN information returned from the CARE database does not meet predefined criteria the other databases of the system may not be updated.

In the embodiment described above information on the subscriber line is forwarded by the service provider or vendor to the system for validation. However in other embodiments of the invention the consumer or customer may call the system directly as shown by line in and the ANI may then be obtained by the system directly from the customer and not indirectly from the vendor . Further subscriber line data e.g. BTN address of the customer and so on may then also be obtained directly from the customer . For example the customer may have appropriate software installed on his her PC which allows the customer to dial into the system in an automated fashion should he she wish to charge any requested goods or services to his her subscriber account. The system would then validate the subscriber line number using the method described above. The system then typically communicates a validation code e.g. corresponding to approval or non approval to the vendor as shown by line . The vendor would then conclude the transaction with the customer if the subscriber line has been validated.

The proprietor or user of the system may function as a type of clearing house. In particular the proprietor or user of the system may be responsible or accountable for payment for the goods or services for each transaction to the service provider or vendor and in turn receive payment from the Telco . As mentioned above the system may update the telephone bill or account of the subscriber in an automated fashion see line and the account that the subscriber or customer receives see and line in includes the charges for the goods and or services provided by the vendor . The customer may pay the Telco see line the Telco may pay the system see line and the system may pay the vendor see line . It is important to appreciate that these payments need not take place at the same time. In one exemplary embodiment the payments between the Telco and the system and the system and vendor take place periodically in a batch fashion.

The computer system includes a processor a main memory and a static memory which communicate with each other via a bus . The computer system may further include a video display unit e.g. a liquid crystal display LCD or a cathode ray tube CRT . The computer system also includes an alpha numeric input device e.g. a keyboard a cursor control device e.g. a mouse a disk drive unit a signal generation device e.g. a speaker and a network interface device .

The disk drive unit includes a machine readable medium on which is stored a set of instructions software embodying any one or all of the methodologies or functions described herein. The software is also shown to reside completely or at least partially within the main memory and or within the processor . The software may further be transmitted or received via the network interface device . For the purposes of this specification the term machine readable medium shall be taken to include any medium that is capable of storing encoding or carrying a sequence of instructions for execution by the machine and that cause the machine to perform any one of the methodologies of the present invention. The term machine readable medium shall accordingly be taken to included but not be limited to solid state memories optical and magnetic disks and carrier wave signals.

Thus a method and system to validate data associated with a subscriber line of a telecommunication network have been described. Although the present invention has been described with reference to specific exemplary embodiments it will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the invention. Accordingly the specification and drawings are to be regarded in an illustrative rather than a restrictive sense.

