---

title: Media file caching for an electronic device to conserve resources
abstract: An electronic device for media file caching for conserving resources is described. The electronic device includes a processor and instructions stored in memory. The electronic device monitors requests for a media file, stores media file information and determines whether the media file should be stored locally based on the media file information. If it is determined that the media file should be stored, the electronic device saves the media file and presents the media file.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09002826&OS=09002826&RS=09002826
owner: QUALCOMM Incorporated
number: 09002826
owner_city: San Diego
owner_country: US
publication_date: 20101027
---
The present disclosure relates generally to electronic devices. More specifically the present disclosure relates to media file caching for conserving resources.

In the last several decades the use of electronic devices has become common. In particular advances in electronic technology have reduced the cost of increasingly complex and useful electronic devices. Cost reduction and consumer demand have proliferated the use of electronic devices such that they are practically ubiquitous in modern society. As the use of electronic devices has expanded so has the demand for new and improved features of electronic devices. More specifically electronic devices that perform functions faster more efficiently or with higher quality are often sought after.

Recently the use of networks has also greatly increased. Many electronic devices obtain data using such networks. For example many electronic devices download or stream data from other electronic devices connected to a network. For instance an electronic device might download a file from a remote server using the Internet. Some electronic devices obtain data using a wireless connection to a network such as wireless communication devices. Other electronic devices such as personal computers may use a wired connection to a network.

The increased use of electronic devices and networks has led to greater data access. Many users of electronic devices and networks frequently access data across the network. In fact some users use electronic devices and networks to repeatedly access the same or similar data on the network. Repeatedly accessing the same or similar data on the network may be inefficient consuming a relatively large amount of electronic device and network resources. As this discussion illustrates improved systems and methods for reducing data access inefficiencies may be beneficial.

An electronic device for media file caching for conserving resources is disclosed. The electronic device includes a processor and instructions stored in memory. The electronic device monitors requests for a media file stores media file information and determines whether the media file should be stored locally based on the media file information. If it is determined that the media file should be stored the electronic device saves the media file and presents the media file.

The media file may be saved in a native format. Determining whether the media file should be stored locally may be based on a number of requests. Determining whether the media file should be stored locally may be based on an original format decoding cost. Determining whether the media file should be stored locally may be based on a native format decoding cost. Determining whether the media file should be stored locally may be based on a transcoding cost.

The electronic device may also detect subsequent requests for the media file and may present the media file in a native format when subsequent requests for the media file are detected. The media file may be saved in local memory on the electronic device. The media file may be saved in local memory on another electronic device in a local network.

Saving the media file may include transcoding the media file from an original format into the native format. The electronic device may also determine a count threshold. It may be determined that the media file should be stored if a request count is greater than or equal to a count threshold. It may be determined that the media file should be stored if a request rate is greater than or equal to a rate threshold. The media file may include one or more media streams.

The electronic device may be a wireless communication device. The media file may be presented in the native format. The media file may be presented in an original format.

A method for media file caching for conserving resources on an electronic device is also disclosed. The method includes monitoring requests for a media file storing media file information and determining whether the media file should be stored locally based on the media file information. If it is determined that the media file should be stored the method includes saving the media file and presenting the media file on the electronic device.

A computer program product for media file caching for conserving resources is also disclosed. The computer program product includes a non transitory computer readable medium with instructions. The instructions include code for causing an electronic device to monitor requests for a media file store media file information and determine whether the media file should be stored locally based on the media file information. The instructions include code that if it is determined that the media file should be stored causes the electronic device to save the media file and present the media file.

An apparatus for media file caching for conserving resources is also disclosed. The apparatus includes means for monitoring requests for a media file means for storing media file information and means for determining whether the media file should be stored locally based on the media file information. The apparatus also includes means that if it is determined that the media file should be stored for saving the media file and presenting the media file.

As used herein the term base station generally denotes a communication device that is capable of providing access to a communications network. Examples of communications networks include but are not limited to a telephone network e.g. a land line network such as the Public Switched Telephone Network PSTN or cellular phone network the Internet a Local Area Network LAN a Wide Area Network WAN a Metropolitan Area Network MAN etc. Examples of a base station include cellular telephone base stations or nodes access points wireless gateways and wireless routers for example. A base station may operate in accordance with certain industry standards such as the Institute of Electrical and Electronics Engineers IEEE 802.11a 802.11b 802.11g 802.11n 802.11ac e.g. Wireless Fidelity or Wi Fi standards. Other examples of standards that a base station may comply with include IEEE 802.16 e.g. Worldwide Interoperability for Microwave Access or WiMAX Third Generation Partnership Project 3GPP 3GPP Long Term Evolution LTE and others e.g. where a base station may be referred to as a NodeB evolved NodeB eNB etc. . While some of the systems and methods disclosed herein may be described in terms of one or more standards this should not limit the scope of the disclosure as the systems and methods may be applicable to many systems and or standards.

As used herein the term wireless communication device generally denotes a kind of electronic device e.g. access terminal client device client station etc. that may wirelessly connect to a base station. A wireless communication device may alternatively be referred to as a mobile device a mobile station a subscriber station a user equipment UE a remote station an access terminal a mobile terminal a terminal a user terminal a subscriber unit etc. Examples of wireless communication devices include laptop or desktop computers cellular phones smart phones wireless modems e readers tablet devices gaming systems etc. Wireless communication devices may operate in accordance with one or more industry standards as described above in connection with base stations. Thus the general term wireless communication device may include wireless communication devices described with varying nomenclatures according to industry standards e.g. access terminal user equipment UE remote terminal etc. .

When an electronic device e.g. wireless communication device decodes media files or content e.g. audio files video files Mobile Broadcast Services Enabler Suite BCAST television TV webcast TV etc. the electronic device or platform may be trained to anticipate future use. When the overhead for archiving the files or content is determined to be acceptable the files or content may be stored in local storage devices such as flash memory a Secure Digital SD card or in locally networked devices over Bluetooth Wi Fi e.g. in accordance with IEEE 802.11 standards etc. For example consider a user that searches for a favorite song title or singer on a video website e.g. YouTube . The video playlists are initially stored on the remote website server. Once the electronic device accesses the playlist the compressed video content or files may be stored in local storage devices or in locally networked devices. With the playlist archived locally e.g. on the electronic device or on a locally networked device the content or file access overhead may be substantially reduced. Furthermore one or more native formats may be used to store the content locally which may also reduce the required processing for future use. The use of such caching technology for archiving frequently used files or content may lead to power efficient decoding of media files e.g. files or streams for the electronic device e.g. wireless communication device . Of course different types of media files may require different amounts of processing bandwidth. Accordingly differing benefits may be obtained when archiving songs and music versus video and movies. Thus the systems and methods disclosed herein may allow increased power efficient media e.g. audio video decoding while enabling better Quality of Service QoS independent of the electronic device e.g. wireless communication device mobility.

Various configurations are now described with reference to the Figures where like reference numbers may indicate functionally similar elements. The systems and methods as generally described and illustrated in the Figures herein could be arranged and designed in a wide variety of different configurations. Thus the following more detailed description of several configurations as represented in the Figures is not intended to limit scope as claimed but is merely representative of the systems and methods.

One or more electronic devices B communicate with electronic device A using the network . Examples of electronic device B include desktop computers web servers wireless communication devices and other electronic devices etc. The one or more electronic devices B include one or more media files .

Electronic device A includes one or more processors memory and a power source . Memory includes one or more devices that is are capable of storing electronic information. Memory may be built into electronic device A and or may be removable. For example memory may be a hard disk drive flash memory optical drive e.g. Compact Disc CD drive Digital Video Disc DVD drive Blu ray disc drive etc. Secure Digital SD card Universal Serial Bus USB drive etc. In accordance with the systems and methods herein the term local memory generally refers to memory that may be built into an electronic device coupled to an electronic device or accessed by an electronic device in a local network. The memory includes a cache . The cache is a portion of memory used to store data e.g. files for possible future data requests. According to the systems and methods disclosed herein the cache may be used to reduce resource e.g. power consumption.

The power source may be a battery and or an interface used to obtain electrical power such as a Universal Serial Bus USB port or a plug or adapter used to receive power from a power outlet for example. Electronic device A may request access to and or access the media file using the network . For example electronic device A downloads or streams media files such as music movies or images. These media files may be presented to a user by electronic device A . For example electronic device A may display or output images videos and or audio that have been retrieved from electronic device B as one or more media files .

Electronic device A may repeatedly request or access a media file . For example a user of electronic device A may repeatedly access the same media file e.g. image video or audio . For instance a user of electronic device A may desire to repeatedly listen to the same song or view the same video provided by electronic device B . Repeatedly accessing the same media file may be inefficient or unnecessarily consume network processing memory and or power source resources. For example each time electronic device A downloads or streams a media file the processor may need to decode the media file thereby consuming processor resources and power from the power source . That is the media file may not be in a presentable format or may be in a format that is not presented as efficiently as in a native format. Thus the media file may be decoded for presentation on the wireless communication device . It should also be noted that network bandwidth is consumed in the transfer of the media file .

Electronic device A may include an agent . The agent may be a software and or hardware module that attempts to conserve electronic device A resources such as power source processor and or memory resources. Furthermore the agent may attempt to conserve network resources. In a general sense the agent may determine when resources are likely to be conserved by storing or caching the media file . The media file may be stored as an original format media file and or as a native format media file . For example presenting an audio video or image file locally in an original format and or in a native format may consume less power source processor network and or memory resources than transferring e.g. downloading streaming etc. the media file through the network and using the processor memory and or power source resources to decode the media file for presentation. More specifically in order to present the media file electronic device A may need to receive the media file combine media file packets channel decode the media file detect correct errors in the media file request retransmission of erroneously received media file decode e.g. decompress the media file for presentation etc. This may require more resources than decoding e.g. decompressing the native format media file or original format media file from the cache in local memory for presentation. For instance decoding e.g. decompressing a downloaded or streamed Moving Picture Experts Group 1 MPEG 1 Audio Layer 3 MP3 file e.g. media file may consume 30 40 milliamps mA from the power source while decoding the file in native format from memory may consume 5 mA from the power source .

In one configuration data e.g. media data that is transferred between electronic device A and electronic device B is encapsulated in containers to specify its content content format and or potential security provisions to verify its authenticity to verify its integrity using a signature etc. for example . This may be done according to a file protocol. One or more procedures used to process the file protocol in order to strip the other information and gain access to the intended content may be referred to as decoding or file decoding. 

As used herein the term native format refers to a file format that may be efficiently decoded and or presented. For example electronic device A may include certain software and or hardware that decode and or present native format media files more efficiently than media files e.g. media files in other e.g. non native formats. In one configuration native format refers to a protocol that requires a platform e.g. electronic device A to perform the least amount of processing or processing steps. Accordingly native format may refer to a protocol that is most efficiently processed. In one configuration electronic device A includes multimedia player software that is designed to efficiently decode and present native format media files . Additionally or alternatively electronic device A may include other particular hardware and or software modules that assist in the efficient decoding of native format media files . In one configuration electronic device A includes a hardware acceleration module for native format media files . The hardware acceleration module enables electronic device A to decode and or present native format media files using less power and or processing resources than decoding and or presenting the media files in a different format. Additionally native format media files may have less decoding complexity for electronic device A than other file formats.

In one configuration the agent monitors and controls electronic device A s access to the media file . For example the agent may determine whether the media file should be stored e.g. cached as an original format media file or as a native format media file in the local memory cache . For instance the agent may monitor how many times electronic device A has accessed a particular media file . The agent counts the number of times electronic device A has requested or accessed the media file using the network . If the number of media file requests reaches a count threshold the agent saves e.g. stores or caches the media file in an original format e.g. as an original format media file or in a native format e.g. as a native format media file . If electronic device A requests or accesses the media file again electronic device A presents the original format media file or native format media file from the local memory cache . That is the agent may detect the subsequent access requests and direct electronic device A to present the original format media file or native format media file instead of the media file from electronic device B . This may conserve processor power source network and or memory resources. Furthermore presenting the media file from local memory may offer a more reliable presentation independent of how mobile electronic device A is. For example assuming that electronic device A is a wireless communication device presenting the media file from local memory may be independent of the wireless signal typically used to download or stream media files . This may enable better QoS.

In a more general sense the agent may attempt to conserve resources by storing the media file in an original or native format when it determines that resources are likely to be conserved by doing so. This may be implemented in many ways. As discussed above one configuration may use a counter and a threshold such that the agent determines that the resources used to store and or present the original or native format media file will likely be less than the resources used to obtain decode and or present the media file for subsequent requests. For example the agent may set a count threshold of ten accesses or requests. If electronic device A requests or accesses the same media file ten times the agent determines that electronic device A is likely to subsequently request or access the same media file such that saving the media file and presenting the original format media file or native format media file for subsequent requests will conserve resources. More sophisticated approaches may also be used involving additional or alternative information. Examples of additional or alternative information include request access rates media file size media file type usage history genre preferences signal strength Signal to Noise Ratio SNR error rates etc.

In the configuration illustrated in electronic device A may repeatedly request or access the media file . As similarly discussed in relation to the agent determines whether the media file should be stored locally in order to conserve resources. In this configuration electronic device A stores an original format media file or native format media file in the cache in local memory on electronic device C when the agent determines that doing so would likely conserve resources. That is in addition to or alternatively to the configurations illustrated in local memory may be included in a separate electronic device electronic device C in a local network . For instance the agent may determine that storing and accessing the native format media file from the cache in local memory on electronic device C in a local network will likely conserve resources e.g. processor power source network resources etc. when compared to possibly repeatedly downloading and decoding the media file from electronic device B using the network .

The agent on the wireless communication device determines when resources e.g. processor power source etc. may likely be conserved by storing original format media file A or native format media file A in cache A in local memory A and or by storing original format media file B or native format media file B in cache B in local memory B . When the agent determines that resources will likely be conserved by storing an original format media file or native format media file in local memory the wireless communication device stores the media file as original format media file A or native format media file A in cache A in memory A on the wireless communication device and or as original format media file B or native format media file B in cache B in memory B on electronic device C . If the wireless communication device subsequently requests or attempts to access the same media file the agent may instead direct the wireless communication device to present the original format media file or native format media file from local memory A or local memory B

Electronic device A stores media file information. For example when the agent detects media file requests while monitoring the agent may obtain and or store information associated with the media file request. More specifically the agent may store media file information such as the media file name the media file location or address e.g. Internet Protocol IP address the media file size e.g. in Bytes the media file type e.g. video audio image etc. the media file format the request time and or the number of requests made etc. In some configurations this information may also include information or metadata such as a genre artist publisher etc. Examples of media file formats include Windows Media Video WMV QuickTime file format MOV Advanced Audio Coding AAC MP3 Waveform Audio File Format WAV etc.

Electronic device A determines whether the media file should be stored in the local memory cache . This determination may be based on the media file information and whether the media file is already stored in the local memory cache . In general the determination of whether the media file should be stored may be based on whether locally storing or caching the media file will likely conserve resources. This determination may use one or more pieces of media file information.

In one configuration the agent counts a number of media file accesses or requests to determine whether the media file should be stored. This media file request count is compared to a count threshold. The count threshold may represent a number of requests where subsequent accesses or requests are considered likely to occur. For instance it may be considered that subsequent requests are likely for a particular video file that electronic device A has previously requested ten times. Each time the wireless communication device requests the video file on the network the agent increments a counter for that video file and compares it to the count threshold to determine whether the video file should be stored. More generally the agent determines whether locally storing the media file in an original and or native format is likely to conserve resources. If the video file has been requested ten times the counter value is greater than or equal to the count threshold. In this case electronic device A or the agent determines that the video file should be saved as an original format media file or native format media file in the local memory cache .

In another configuration electronic device A determines whether to store the media file based on a request rate and a rate threshold. For example the agent stores the number of media file requests and times when the requests occurred. Using the number of requests and the times the agent may determine the request rate. If electronic device A s request rate is greater than or equal to the rate threshold electronic device A determines that the media file should be stored in a native format in the local memory cache . In other configurations many other factors may additionally or alternatively be taken into consideration to determine whether the media file should be stored. More detail on these other factors and how they may be used is given below.

If electronic device A determines that the media file should not be stored it may determine whether the media file is already stored in the local memory cache . For example if the agent has already stored an original format media file or native format media file corresponding to the media file that is being requested the agent directs electronic device A to present the original format media file or native format media file from local memory e.g. instead of accessing the media file over the network . Electronic device A may continue monitoring requests for one or more media files .

If electronic device A determines not to store the media file and that the media file is not already stored it presents the media file . For example electronic device A may download or stream decode and present the media file . For instance electronic device A downloads a music file decodes the music file and outputs the music file using a multi media player and one or more speakers. Electronic device A may then continue monitoring requests for one or more media files .

If electronic device A determines that the media file should be stored it may obtain e.g. download stream etc. the media file and save the media file in an original or native format. For example assume that the media file is a video file. The agent saves the video file in its original format or transcodes the video file into a native format. For instance if the video file is a Windows Media Video WMV file and electronic device A s native format is H.264 the agent may transcode the WMV file into H.264 format. The transcoding may be done while the media file is being decoded. That is electronic device A may decode and transcode the media file . However if the media file is already in a native format then electronic device A may not transcode the media file . Rather electronic device A may store the media file as a native format media file in the local memory cache . Alternatively if the agent determines that the media file should be saved in its original format that is not a native format the electronic device saves the media file as an original format media file . As mentioned above the local memory may be built into electronic device A removable from electronic device A and or accessible by electronic device A on a local network .

Electronic device A may present the media file . In one configuration the media file may be presented in a native format e.g. as a native format media file from the local memory cache . In this configuration the native format media file may be decoded and presented from local memory . For example electronic device A plays video or audio using a multimedia player one or more displays and or one or more speakers. In another configuration electronic device A may present the media file in its original format. For example the media file may be decoded in its original format while being transcoded and saved as a native format media file . In this case electronic device A may present the decoded media file in its original format while the media file is being transcoded and saved to local memory . Then for subsequent media file requests the native format media file may be presented. In another configuration electronic device A presents the original format media file that has been saved in local memory . Electronic device A may continue monitoring requests for one or more media files .

Electronic device A stores media file information. For example when the agent detects a media file request while monitoring the agent may store information associated with the media file request. More specifically the agent may store for example the media file name the media file location or address e.g. Internet Protocol IP address the media file size e.g. in Bytes the media file type e.g. video audio image etc. the media file format e.g. WMV MOV AAC MP3 etc. the request time and or the number of requests made etc. In some configurations this information may also include information or metadata such as a genre artist publisher etc. The media file information may be stored for example in a file and or database in local memory .

When storing the media file information electronic device A may increment a media file request count. For example electronic device A compares media file information e.g. file name address etc. corresponding to the recently detected media file request with previously stored media file information. If electronic device A determines that that the recent media file information matches previously stored media file information indicating that a previously requested media file is being requested again it may increment a count corresponding to that media file . For instance assume that the media file is a music file. Electronic device A detects a media file request while monitoring and stores information corresponding to the music file request such as the file name and IP address. Other information stored might include information such as file size artist name genre etc. Electronic device A compares for example the file name and IP address to previously recorded media file information and determines that the music file has been requested twice previously with a request count of two . This means that the music file has already been requested by electronic device A twice. The count is incremented to three and operation proceeds. However in the case that electronic device A does not find a match for the media file requested it may create a new record including the media file information and increment the count for that media file to one.

Electronic device A may optionally determine a count and or rate threshold. As described above a count or rate threshold may be based on the likelihood or probability that additional media file requests will occur beyond the threshold number of media file requests. The count or rate threshold may be selected such that repeated accesses of the media file are likely to occur beyond the threshold such that resources may be conserved by storing the media file . In one configuration a count or rate threshold may be set for example by a user or manufacturer of electronic device A .

Alternatively or in addition the count or rate threshold may be determined by electronic device A . Different configurations of electronic device A may make this determination based on a variety of different factors either individually or in combination. For example the count or rate threshold may be determined based on factors such as user behaviors. To illustrate this point assume that a first user and a second user have different usage patterns. For example if the first user listens to a downloaded or streamed song twice he tends to consistently listen to the same song about 200 times. On the other hand the second user tends to listen to a downloaded or streamed song only once or perhaps twice before listening to something else. Electronic device A may store these usage patterns to set the count threshold. In the example discussed electronic device A may set the count threshold low e.g. three for the first user and high for the second user e.g. 15 . This is because the amount of resources likely to be conserved by storing the song in a native format are much greater for the first user after only listening to the song a few times compared to the second user who may not even listen to the same song twice.

Other user usage patterns may also be used to determine the count or rate threshold. For example a user may tend to listen to songs in the jazz genre many times while rarely watching a wrestling match more than once. This example illustrates that different thresholds may be desirable for different media file types and or genres. According to the example electronic device A may store the user s usage patterns and set a low threshold for jazz music files and a higher threshold for wrestling video files.

Other factors that may be used to determine the count or rate threshold include media file formats and sizes. For example different file formats may require more processing to decode and or transcode than others. For the sake of illustration assume that a MOV Apple movie file requires much more processing to transcode into H.264 than a WMV file. Thus the count or rate threshold may be set lower for WMV files than for MOV files. File sizes for example may additionally or alternatively be used to determine the count or rate threshold. For instance transcoding a large file may require a relatively large amount of processing and power resources e.g. overhead . However resource savings may also be potentially very large if a user tends to consistently watch high resolution movies many times. Thus the count or rate threshold may be set lower for a large file size in that case. However if another user watches each high resolution movie only once it would waste resources to transcode and store each movie file. Thus the threshold may be set high in that case.

Yet other factors could be used to determine the count or rate threshold. For example signal quality SNR or bit error rate may be used to determine the count or rate threshold. For example wireless communication devices may boost gain use a lower data rate and or use more redundancy or longer coding schemes when they have a weak communication signal with a base station . If the signal is such that it requires more battery e.g. power source to repeatedly receive and or decode the media file in its original format than to transcode the media file and decode it in a native format the threshold may be lowered.

Electronic device A determines whether the media file should be stored in local memory . This determination may be based on the media file information and whether the media file is already stored in local memory . In general the determination of whether media file should be stored may be based on whether locally storing or caching the media file will likely conserve resources. This determination may use one or more pieces of media file information.

In one configuration if the media file request count is greater than or equal to the count threshold and the media file is not already stored in a native format electronic device A determines that the media file should be stored in local memory . This is illustrated in Equation 1 . Request Count Count Threshold 1 In Equation 1 Request Count is the request count and Count Threshold is the count threshold. More specifically the agent counts a number of media file requests to determine whether the media file should be stored. This media file request count is compared to a count threshold. As discussed above the count threshold may represent a number of requests where subsequent requests are considered likely to occur. For instance it may be considered that subsequent accesses are likely for a particular video file that electronic device A has previously requested ten times. Each time the wireless communication device requests the video file on the network the agent increments a counter for that video file and compares it to the count threshold to determine whether the video file should be stored e.g. whether storing the media file is likely to conserve resources . If the video file has been requested ten times the counter value is greater than or equal to the count threshold and electronic device A or agent determines that the video file should be stored.

In another configuration if the media file request rate is greater than or equal to the rate threshold and the media file is not already stored electronic device A determines that the media file should be stored as an original format media file or native format media file in the local memory cache . This approach is illustrated in Equation 2 . Request Rate Rate Threshold 2 In Equation 2 Request Rate is the request rate and Rate Threshold is the rate threshold. More specifically electronic device A determines whether to store the media file based on a request rate and a rate threshold. For example the agent stores the number of media file requests and times corresponding to the requests. The agent may then use the number of accesses and corresponding times to compute a request rate or average request rate. If electronic device A s request rate is greater than or equal to the rate threshold electronic device A determines that the media file should be stored.

In another configuration the determination may be based directly on whether storing the media file as an original format media file or native format media file in the local memory cache will conserve resources with some degree of probability. One or more of the same or similar factors mentioned above to determine a count or rate threshold may be directly used to determine whether storing the media file as a native format media file in the local memory cache will likely conserve resources. For example if the probability that storing the media file as a native format media file in local memory will conserve resources is greater than or equal to the probability that it will not and the media file is not already stored as a native format media file the electronic device or agent determines that the media file should be stored as a native format media file in the local memory cache . This approach is illustrated in Equation 3 . or 0.5 3 In Equation 1 P C represents the probability that storing the media file will conserve resources and P C represents the probability that storing the media file will not conserve resources. Many different approaches may be used to compute this probability based on various factors. One or more of the factors may include the number of times the media file has been requested when the media file has been requested the rate of media file requests e.g. how often the media file has been requested within a given amount of time the media file size the media file format e.g. file format such as WMV MOV MP3 etc. the media file type e.g. video audio image media file metadata e.g. artist genre producer etc. signal power SNR bit error rate usage patterns native format e.g. H.264 etc. the amount of power processing needed to transcode the media file the amount of power processing needed to decode the media file the amount of power processing needed to decode the native format media file or the original format media file the network load caused by downloading or streaming the media file etc. In other words one or more of these or other factors may be used to compute the probability that storing the media file as an original format media file or a native format media file will conserve one or more resources.

Electronic device A may determine that the media file should not be stored. This may occur for example if the media file request count is not greater than or equal to the count threshold or the media file is already stored if the media file access rate is not greater than or equal to the rate threshold or the media file is already stored or if the probability that storing the media file will conserve resources does not meet some degree of probability or the media file is already stored etc. If electronic device A determines that the media file should not be stored it may determine whether the media file is already stored in the local memory cache . For example if the agent has already stored a media file corresponding to the media file that is being requested the agent directs electronic device A to present the media file from local memory . Electronic device A may continue monitoring requests for one or more media files .

If electronic device A determines not to store the media file and that the media file is not already stored in a native format it may download or stream the media file . For example electronic device A may use software and or hardware to request and or receive the media file from electronic device B . The media file may be downloaded as a file or streamed e.g. received as a data stream for example. Electronic device A may decode the media file . For example electronic device A may use software hardware and or one or more codecs to decode the media file into a presentable e.g. playable format. Electronic device A may present the media file . In summary for instance electronic device A downloads a music file decodes the music file and outputs the music file using a multi media player and one or more speakers. Electronic device A then continues monitoring requests for one or more media files .

If electronic device A determines that the media file should be stored it may download or stream the media file using hardware and or software on electronic device A . Electronic device A may transcode the media file if necessary. For example the agent may use a transcoder module to transcode the media file from one file format into a native file format thereby producing a native format media file . For instance if the video file is a Windows Media Video WMV file and electronic device A s native format is H.264 the agent transcodes the WMV file into H.264 format. However if the media file is already in the desired native format the agent may not transcode the media file . Transcoding may be done during after or independent of decoding.

Electronic device A may then save the media file in an original or native format in the local memory cache . For example the agent writes the original format media file or the native format media file to flash memory a hard drive an optical disc an SD card a USB drive storage on a locally networked device etc. Electronic device A may then present the media file from the local memory cache . For example electronic device A may decode e.g. decompress the native format media file and play or output the media file. More specifically if the native format media file is a video file electronic device A displays the video on a display and outputs the corresponding audio using one or more speakers. Electronic device A may continue monitoring requests for one or more media files.

The agent may be a software and or hardware module used to cache media files in an attempt to conserve resources such as battery power processor resources etc. The agent includes media file information . Media file information may include various kinds of information that is pertinent to one or more media files . In the example illustrated in media file information includes one or more count thresholds one or more rate thresholds one or more file addresses one or more file names one or more request counts one or more request times and other information . When a media file is requested by electronic device A the agent stores media file information and or determines information for storage relating to the media file requested.

For example the agent monitors accessing software and or hardware for one or more media file requests . The accessing software and or hardware may include one or more modules that request media files over the network . One example of accessing software hardware is a browser application or program on electronic device A that requests media files . Multimedia player software and networking hardware are other examples of the accessing software hardware that the agent may monitor to detect media file requests .

When a media file request is detected the agent stores media file information . For example the agent may store the file name of the media file requested. The file address used to request the media file may also be stored. Examples of the file address include Internet Protocol IP addresses Uniform Resource Locators URLs network addresses etc. The agent may also store one or more request counts and one or more request times . For example each time a particular media file is requested the agent may increment the request count for that media file. The request count thus indicates the number of times a particular media file has been requested. The agent may also store request times that indicate the times at which one or more particular media files were requested. The agent may additionally or alternatively store other information e.g. metadata file type SNR bit error rate etc. depending on the configuration implemented.

The media file information may optionally include one or more count thresholds and or one or more rate thresholds . The count threshold s and or rate threshold s may be set by a user of electronic device A . Alternatively electronic device A may determine e.g. compute the one or more count thresholds and or the one or more rate thresholds . As described above the count threshold s and or rate threshold s may be determined based on one or more factors such as usage patterns media file size media file type the amount of resources e.g. power processing etc. needed to transcode the media file the amount of resources e.g. power processing etc. needed to decode the media file etc. The agent may use a threshold determination module to determine the one or more count thresholds and or the one or more rate thresholds . In one configuration a single count threshold or rate threshold may be used for all media files . In other configurations a count threshold or rate threshold may be used for each media file or for a group or category of media files .

The agent may also include a native format determination module . The native format determination module may determine a native format for a media file . For example the native format determination module determines the native format for a media file that would likely conserve the most resources. The native format determination module may use factors such as the amount of resources e.g. power processing etc. needed to transcode a media file from one format into one or more native formats the amount of resources needed to decode the media file and the native format media file etc.

Electronic device A may use the one or more decoders to decode media files and or native format media files . A decoder may be implemented as software hardware or a combination of both. Examples of decoders include software and or hardware codecs. For instance a decoder is used to decode e.g. decompress a media file that is downloaded or streamed from electronic device B . The media file is decoded in order to present the media file on electronic device A . Additionally a decoder may decode a native format media file or a stored original format media file in order to present it on electronic device A . Decoding a native format media file may use less resources than decoding a downloaded or streamed media file .

Electronic device A may also include a transcoder . The transcoder may be a hardware and or software module that converts a media file from one format e.g. coding into another format e.g. coding . For example if the media file s format is WMV and the native format is H.264 electronic device A converts the WMV file into an H.264 native format media file . Transcoding a media file may be performed in conjunction with decoding the media file . For example the media file may be downloaded and decoded e.g. using the decoder into an intermediate format. The transcoder then codes the intermediate format media file into a native format media file . One or more native format media files may be saved or stored in the cache in local memory .

However in some configurations transcoding may be a procedure for converting encoded data into another coded format without decoding the data into an un coded format. In those configurations for instance the transcoder may convert data in one coded format into another without decoding the data into an un coded format. For example video data may not be viewable when transcoding MPEG 4 format to H.264. However in other configurations transcoding may allow the data to be decoded into an un coded format when converting the data into another coded format as described above.

In multiple media file formats are illustrated along with several native formats . Electronic device A may use for example transcoding costs and or native decoding costs to determine which native format to use in transcoding. Each of the media file formats represents a media file format or coding. A media file format typically adheres to a particular format or coding. For example an MP3 audio file may have a specific frame structure including certain bits designated as header bits. These header bits indicate information such as frequency bit rate mode copy information etc. A certain amount of processing may be required to transcode a media file from its format into a native format . The processing required to transcode the media files requires electrical power e.g. from the power source . For example a transcoding cost may be expressed in milliamps mA per Byte B of media file data. Furthermore each native format may have an associated native decoding cost . The native decoding cost may indicate the amount of processing and or power resources needed to decode a native format media file for presentation on electronic device A for example. In one configuration the native decoding cost may also be expressed in milliamps per Byte of native format media file data.

In one configuration electronic device A determines which native format to use for transcoding based on the transcoding cost and or native decoding cost . Assume for example that electronic device A receives a media file in format A . Electronic device A may compare the transcoding costs and or native decoding costs of the native formats to determine which native format would likely conserve the most resources. In one configuration electronic device A compares only the native decoding costs and selects the native format with the lowest decoding cost.

In another configuration electronic device A also compares transcoding costs . For example assume that to transcode a media file from format A to native format A has transcoding cost AA of 200 mA and native decoding cost AA of 5 mA for a given file size . Further assume that transcoding cost AB is 100 mA and that native decoding cost AB is 20 mA for a given file size . The amount of power that may likely be conserved depends on the number of times electronic device A will likely decode the native format media file for presentation. For example if electronic device A decodes the native format media file seven times or more then native format A would be less costly than native format B since 200 mA 7 5 mA 235 mA is less than 100 mA 7 20 mA 240 mA. However if electronic device A decodes the native format media file six times or less then native format B would be less costly than native format A since 100 mA 6 20 mA 220 mA is less than 200 mA 6 5 mA 230 mA. Thus electronic device A may select native format A for transcoding if a particular user is more likely to request the same media file seven times or more than six times or less. Conversely if another user is more likely to request the same media file six times or less than seven times or more electronic device A may select native format B for transcoding.

It should be noted that some media files may already be in native format in some cases. That is media file formats may also include one or more native formats . In such a case electronic device A may determine if more resources e.g. processing power would be conserved by maintaining the media file in a native format or transcoding it into another native format . This may be similarly done by comparing native decoding costs and or the transcoding cost to transcode it into another native format versus not transcoding it e.g. with a transcoding cost of 0 mA .

The number of requests for each media file indicates the number of times the particular media file has been requested by electronic device A . The request times for each media file indicate when each request has been made. The file size for each media file indicates the file size e.g. in Bytes etc. . The file format for each media file indicates the format e.g. WMV MOV AAC MP3 WAV etc. of each media file . The decoding cost for each media file indicates the amount of resources needed to decode each media file and optionally download channel decode etc. from electronic device B . The transcoding cost for each media file indicates the amount of resources needed to transcode each media file into a native format media file . The native decoding cost for each media file indicates the amount of resources needed to decode the native format media file . It should be noted that resources may be in terms of amount of processing resources memory resources power resources network resources communication resources etc. The count threshold for each media file indicates the count threshold for saving each media file as a native format media file e.g. if the number of requests is greater than or equal to the count threshold . The rate threshold for each media file indicates the rate threshold for saving each media file as a native format media file if the rate of requests is greater than or equal to the rate threshold for example. The file address for each media file indicates an address for each media file . The file name for each media file indicates the file name for each media file . The file type for each media file indicates the type of file e.g. audio video image for each media file . The metadata for each media file may include metadata such as an artist name producer etc. Other information for each media file may also be used. For example electronic device A may use costs such as the amount of processing or power needed to access decode and or present an original format media file from memory .

As described above electronic device A monitors requests for one or more media files . When a media file request is detected electronic device A e.g. the agent stores media file information corresponding to the request. For example the first time a request is made for a particular media file the agent may determine that the media file has not been requested previously since its file name and or file address are not included in the media file information . The agent then stores the media file name address size format type any metadata and any other relevant information . The agent may also increment the number of requests to one store the time of the request determine a decoding cost determine a transcoding cost determine a native decoding cost determine a count threshold and or determine a rate threshold . The decoding cost transcoding cost and or native decoding cost may be determined by looking up values in a table that electronic device A has stored. Alternatively these costs may be determined by retrieving cost estimates from earlier decodings transcodings or by decoding transcoding a sample amount of data.

Each time the agent detects a media file request it may increment the number of requests . The agent may also determine whether the media file should be saved as a native format media file . For example the agent may determine whether the number of requests is greater than or equal to the count threshold or whether the request rate is greater than or equal to the rate threshold . Alternatively the agent may use media file information such as number of requests request times file size file format decoding cost transcoding cost native decoding cost file type metadata and or other information etc. to determine whether saving the media file as a native format media file or an original format media file will conserve resources with some degree of probability. It should also be noted that electronic device A may compare costs for transcoding and decoding the native format media file or saving and decoding the original format media file to determine if one will likely conserve more resources than the other and whether the media file should be saved at all.

The wireless communication device uses a multimedia player browser and a network communication module to request the music file the video file and the BCAST stream . In other words the multimedia player browser makes a music request a video request and a BCAST stream request . Additionally or alternatively the network communication module makes a music request a video request and a BCAST stream request . For example the multimedia player browser may be a software module that a user uses to search for and or request media files . The network communication module may be a software and or hardware module that formats the requests for transmission to the base station and over the network .

The agent monitors the requests made by the multimedia player browser and or the network communication module . When the agent detects the requests it stores media file information. In this example the agent stores IP address A the music file name and some metadata including an artist name and genre A . The agent also stores IP address B the video file name metadata including a series name and genre B . Furthermore the agent stores IP address C the BCAST stream name and metadata including a channel name and genre C . As is further illustrated in this example the agent has tracked the number of requests for each of the media files requested. In this example the music file has had 51 requests the video file has had 12 requests and the web TV file has had 2 requests

In this example the agent uses a single count threshold for all media files . Assume that the agent has determined the threshold to be 10 requests. Because the agent has detected 10 or more requests for the music file and the video file it uses the transcoder to transcode the music file as a native format music file and the video file as a native format video file which are stored in the local memory cache . The one or more decoders are used to decode the media files . For example for the first nine requests of the music file and the video file the decoders were used to decode the files from their original format which were then presented using the one or more displays and the one or more speakers . From the tenth or eleventh request depending on the configuration and beyond the decoders are used to decode the native format music file and the native format video file for presentation on the display s and speaker s .

Assume for example that the original format of the music file is MP3 which costs 40 mA to decode and 100 mA to transcode to native format. Further assume that the native format music file costs 5 mA to decode. Thus in the example illustrated decoding the native format music file has conserved 40 mA 51 9 5 mA 51 9 100 mA 1680 mA 210 mA 100 mA 1370 mA for the battery .

In the example illustrated the BCAST stream has only had two requests . Since two is less than the count threshold the wireless communication device will use a particular decoder to decode the BCAST stream in its original format for each request until the BCAST stream has been requested 10 times at which point it may transcode and or store the BCAST stream in the memory for subsequent requests .

In this example the agent uses a rate threshold . In one configuration the rate threshold is a threshold within a window of time. One example of such a rate threshold would be three requests within any hour window. In another configuration the rate threshold is an average rate threshold measured from the first media file request. Assume for example that the rate threshold is three requests in any 24 hour window. The agent monitors the multimedia player and detects a movie request for WMV movie file at 3 00 pm. On the first access the agent stores the movie file name the IP address the number of requests e.g. as one the access time e.g. as 3 00 pm for the current date the file size and the file format e.g. as WMV . The wireless communication device uses a decoder to decode the movie file in its original WMV format which it then presents using the display and speakers . The agent continues monitoring the multimedia player for media file requests. At 7 00 pm the multimedia player again requests the WMV movie file . The agent detects this request and increments the number of requests to two and stores an additional access time of 7 00 pm for the current date. Again the WMV movie file is decoded using a decoder in its original WMV format. The next morning the agent detects yet another request for the WMV movie file . The agent increments the number of requests to three and stores an additional access time of 10 00 am for the date following the initial access request. The agent determines that the rate of requests for the WMV movie file is greater than or equal to the rate threshold of three requests in any 24 hour period. Thus the agent determines that the WMV movie file should be saved in a native format.

In this example the agent determines that H.264 is the video format that will likely offer the greatest battery power conservation e.g. the lowest total transcoding and or decoding power cost over a likely number of subsequent requests . This may be due in part to the fact that the wireless communication device includes an H.264 hardware accelerator that allows it to efficiently decode and or present H.264 video files.

In one configuration the wireless communication device decodes and presents the WMV movie file using the same WMV decoder and then transcodes the WMV movie file into an H.264 movie file during or after decoding. The H.264 movie file is stored in the local memory cache . In another configuration the wireless communication device transcodes the WMV movie file into the H.264 movie file first and then uses an H.264 decoder and or H.264 hardware accelerator to decode and present the H.264 movie file using the display and speakers . The H.264 movie file may then be decoded and presented using a decoder and or the H.264 hardware accelerator for subsequent requests.

The electronic device also includes memory in electronic communication with the processor . That is the processor can read information from and or write information to the memory . The memory may be any electronic component capable of storing electronic information. The memory may be random access memory RAM read only memory ROM magnetic disk storage media optical storage media flash memory devices in RAM on board memory included with the processor programmable read only memory PROM erasable programmable read only memory EPROM electrically erasable PROM EEPROM registers and so forth including combinations thereof.

Data and instructions may be stored in the memory . The instructions may include one or more programs routines sub routines functions procedures etc. The instructions may include a single computer readable statement or many computer readable statements. The instructions may be executable by the processor to implement the methods that were described above. Executing the instructions may involve the use of the data that is stored in the memory . shows some instructions and data being loaded into the processor .

The electronic device may also include one or more communication interfaces for communicating with other electronic devices. The communication interfaces may be based on wired communication technology wireless communication technology or both. Examples of different types of communication interfaces include a serial port a parallel port a Universal Serial Bus USB an Ethernet adapter an IEEE 1394 bus interface a small computer system interface SCSI bus interface an infrared IR communication port a Bluetooth wireless communication adapter and so forth.

The electronic device may also include one or more input devices and one or more output devices . Examples of different kinds of input devices include a keyboard mouse microphone remote control device button joystick trackball touchpad lightpen etc. Examples of different kinds of output devices include a speaker printer etc. One specific type of output device which may be typically included in an electronic device is a display device . Display devices used with configurations disclosed herein may utilize any suitable image projection technology such as a cathode ray tube CRT liquid crystal display LCD light emitting diode LED gas plasma electroluminescence or the like. A display controller may also be provided for converting data stored in the memory into text graphics and or moving images as appropriate shown on the display device .

The various components of the electronic device may be coupled together by one or more buses which may include a power bus a control signal bus a status signal bus a data bus etc. For simplicity the various buses are illustrated in as a bus system . It should be noted that illustrates only one possible configuration of an electronic device . Various other architectures and components may be utilized.

The wireless communication device also includes memory in electronic communication with the processor i.e. the processor can read information from and or write information to the memory . The memory may be any electronic component capable of storing electronic information. The memory may be random access memory RAM read only memory ROM magnetic disk storage media optical storage media flash memory devices in RAM on board memory included with the processor programmable read only memory PROM erasable programmable read only memory EPROM electrically erasable PROM EEPROM registers and so forth including combinations thereof.

Data and instructions may be stored in the memory . The instructions may include one or more programs routines sub routines functions procedures etc. The instructions may include a single computer readable statement or many computer readable statements. The instructions may be executable by the processor to implement the methods that were described above. Executing the instructions may involve the use of the data that is stored in the memory . shows some instructions and data being loaded into the processor .

The wireless communication device may also include a transmitter and a receiver to allow transmission and reception of signals between the wireless communication device and a remote location e.g. a base station or other wireless communication device . The transmitter and receiver may be collectively referred to as a transceiver . An antenna may be electrically coupled to the transceiver . The wireless communication device may also include not shown multiple transmitters multiple receivers multiple transceivers and or multiple antenna.

The various components of the wireless communication device may be coupled together by one or more buses which may include a power bus a control signal bus a status signal bus a data bus etc. For simplicity the various buses are illustrated in as a bus system .

The base station also includes memory in electronic communication with the processor i.e. the processor can read information from and or write information to the memory . The memory may be any electronic component capable of storing electronic information. The memory may be random access memory RAM read only memory ROM magnetic disk storage media optical storage media flash memory devices in RAM on board memory included with the processor programmable read only memory PROM erasable programmable read only memory EPROM electrically erasable PROM EEPROM registers and so forth including combinations thereof.

Data and instructions may be stored in the memory . The instructions may include one or more programs routines sub routines functions procedures etc. The instructions may include a single computer readable statement or many computer readable statements. The instructions may be executable by the processor to implement the methods disclosed herein. Executing the instructions may involve the use of the data that is stored in the memory . shows some instructions and data being loaded into the processor .

The base station may also include a transmitter and a receiver to allow transmission and reception of signals between the base station and a remote location e.g. a wireless communication device . The transmitter and receiver may be collectively referred to as a transceiver . An antenna may be electrically coupled to the transceiver . The base station may also include not shown multiple transmitters multiple receivers multiple transceivers and or multiple antenna.

The various components of the base station may be coupled together by one or more buses which may include a power bus a control signal bus a status signal bus a data bus etc. For simplicity the various buses are illustrated in as a bus system .

In the above description reference numbers have sometimes been used in connection with various terms. Where a term is used in connection with a reference number this may be meant to refer to a specific element that is shown in one or more of the Figures. Where a term is used without a reference number this may be meant to refer generally to the term without limitation to any particular Figure.

The term determining encompasses a wide variety of actions and therefore determining can include calculating computing processing deriving investigating looking up e.g. looking up in a table a database or another data structure ascertaining and the like. Also determining can include receiving e.g. receiving information accessing e.g. accessing data in a memory and the like. Also determining can include resolving selecting choosing establishing and the like.

The phrase based on does not mean based only on unless expressly specified otherwise. In other words the phrase based on describes both based only on and based at least on. 

The functions described herein may be stored as one or more instructions on a processor readable or computer readable medium. The term computer readable medium refers to any available medium that can be accessed by a computer or processor. By way of example and not limitation such a medium may comprise RAM ROM EEPROM flash memory CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to store desired program code in the form of instructions or data structures and that can be accessed by a computer. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and Blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. It should be noted that a computer readable medium may be tangible and non transitory. The term computer program product refers to a computing device or processor in combination with code or instructions e.g. a program that may be executed processed or computed by the computing device or processor. As used herein the term code may refer to software instructions code or data that is are executable by a computing device or processor.

Software or instructions may also be transmitted over a transmission medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of transmission medium.

The methods disclosed herein comprise one or more steps or actions for achieving the described method. The method steps and or actions may be interchanged with one another without departing from the scope of the claims. In other words unless a specific order of steps or actions is required for proper operation of the method that is being described the order and or use of specific steps and or actions may be modified without departing from the scope of the claims.

It is to be understood that the claims are not limited to the precise configuration and components illustrated above. Various modifications changes and variations may be made in the arrangement operation and details of the systems methods and apparatus described herein without departing from the scope of the claims.

