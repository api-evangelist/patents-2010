---

title: System and method for enhanced energy control policy for unmanaged switch applications
abstract: A system and method for enhanced energy control policy for unmanaged device applications. EEE control customizations are provided to a profile element (e.g., PROM, EEPROM, flash memory, system memory, input pins, etc.) that is included in the unmanaged device. The configuration information stored in profile element is accessed by an EEE control policy for customization of the EEE control policy. In one embodiment, the EEE control customization can be generated by another device (e.g., managed device) separate from the unmanaged device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09215193&OS=09215193&RS=09215193
owner: BROADCOM CORPORATION
number: 09215193
owner_city: Irvine
owner_country: US
publication_date: 20100603
---
This application claims priority to provisional patent application No. 61 290 285 filed Dec. 28 2009 which is incorporated by reference herein in its entirety for all purposes.

The present invention relates generally to energy efficient Ethernet EEE and more particularly to a system and method for enhanced energy control policy for unmanaged switch applications.

Energy costs continue to escalate in a trend that has accelerated in recent years. Such being the case various industries have become increasingly sensitive to the impact of those rising costs. One area that has drawn increasing scrutiny is the IT infrastructure. Many companies are now looking at their IT systems power usage to determine whether the energy costs can be reduced. For this reason an industry focus on energy efficient networks IEEE 802.3az has arisen to address the rising costs of IT equipment usage as a whole i.e. PCs displays printers switches servers network equipment etc. .

In designing an energy efficient solution one of the considerations is the traffic profile on the network link. For example many network links are typically in an idle state between sporadic bursts of data while in other network links there can be regular or intermittent low bandwidth traffic with bursts of high bandwidth traffic. An additional consideration for an energy efficient solution is the extent to which the traffic is sensitive to buffering and latency. For example some traffic patterns e.g. HPC cluster or high end 24 hr data center are very sensitive to latency such that buffering would be problematic. For these and other reasons applying energy efficient concepts to different traffic profiles would lead to different solutions. These varied solutions can therefore seek to adapt the link link rate and layers above the link to an optimal solution based on various energy costs and impact on traffic which itself is dependent on the application.

The application itself can also be a significant consideration. For example one level of analysis can consider whether the application is a home network service provider enterprise or a data center. The analysis can go deeper still by examining scenarios such as the type of network element within a given application. For example the analysis can consider whether it is a gateway or a switch in a home network or can consider whether it is a wiring closet or aggregation point in an enterprise network. The particular use of the network element can also be considered such as whether it is an audio video bridging AVB switch for the home running a streaming application.

Implementation of various solutions in various applications is based on an EEE control policy. What is needed is an EEE solution that effectively addresses unmanaged switch applications.

A system and or method for enhanced energy control policy for unmanaged switch applications savings substantially as shown in and or described in connection with at least one of the figures as set forth more completely in the claims.

Various embodiments of the invention are discussed in detail below. While specific implementations are discussed it should be understood that this is done for illustration purposes only. A person skilled in the relevant art will recognize that other components and configurations may be used without parting from the spirit and scope of the invention.

Energy Efficient Ethernet EEE networks attempt to save power when the traffic utilization of the network is not at its maximum capacity. This serves to minimize the performance impact while maximizing power savings. At a broad level the EEE control policy for a particular link in the network determines when to enter a power saving state what power saving state i.e. level of power savings to enter how long to remain in that power saving state what power saving state to transition to out of the previous power saving state etc. In one example an EEE control policy can base these decisions on a combination of static settings established by an IT manager and the properties of the traffic on the link itself. In another example EEE control policy can be dynamic in nature but have static settings e.g. thresholds under which a new EEE control policy can be initiated .

As illustrated in enterprise managed switch includes physical layer device PHY media access control MAC and host . In general host can comprise suitable logic circuitry and or code that may enable operability and or functionality of the five highest functional layers for data packets that are to be transmitted over the link. Since each layer in the OSI model provides a service to the immediately higher interfacing layer MAC controller can provide the necessary services to host to ensure that packets are suitably formatted and communicated to PHY . MAC controller can comprise suitable logic circuitry and or code that may enable handling of data link layer Layer 2 operability and or functionality. MAC controller can be configured to implement Ethernet protocols such as those based on the IEEE 802.3 standard for example. PHY can be configured to handle physical layer requirements which include but are not limited to packetization data transfer and serialization deserialization SERDES .

In general controlling the data rate of the link may enable the enterprise managed switch and possibly its link partner to communicate in a more energy efficient manner. More specifically a reduction in link rate to a sub rate of the main rate enables a reduction in power thereby leading to power savings. In one example this sub rate can be a zero rate which produces maximum power savings.

One example of subrating is through the use of a subset PHY technique. In this subset PHY technique a low link utilization period can be accommodated by transitioning the PHY to a lower link rate that is enabled by a subset of the parent PHY. In one embodiment the subset PHY technique is enabled by turning off portions of the parent PHY to enable operation at a lower or subset rate e.g. turning off three of four channels . In another embodiment the subset PHY technique can be enabled by slowing down the clock rate of a parent PHY. For example a parent PHY having an enhanced core that can be slowed down and sped up by a frequency multiple can be slowed down by a factor of 10 during low link utilization then sped up by a factor of 10 when a burst of data is received. In this example of a factor of 10 a 10G enhanced core can be transitioned down to a 1G link rate when idle and sped back up to a 10G link rate when data is to be transmitted.

Another example of subrating is through the use of a low power idle LPI technique. In general LPI relies on entering a quiet state where power savings can be achieved when there is nothing to transmit. Power is thereby saved when the link is off. Refresh signals can be sent periodically to enable wake up from the sleep mode.

In general both the subset and LPI techniques involve turning off or otherwise modifying portions of the PHY during a period of low link utilization. As in the PHY power savings in the higher layers e.g. MAC can also be achieved by using various forms of subrating as well.

As illustrates enterprise managed switch also includes EEE control policy entity . In general EEE control policy entity can be designed to determine when to enter a power saving state what power saving state i.e. level of power savings to enter how long to remain in that power saving state what power saving state to transition to out of the previous power saving state etc. As noted EEE control policy entity can be designed to include both static and dynamic elements.

EEE control policy entity in enterprise managed switch includes software code that can interoperate with various layers including portions of the PHY MAC switch or other subsystems in the host. EEE control policy entity can be enabled to analyze traffic on the physical link and to analyze operations and or processing of data in itself or in its link partner. In this manner EEE control policy entity can exchange information from or pertaining to one or more layers of the OSI hierarchy in order to establish and or implement the EEE control policy. illustrates an example of an EEE control policy which can touch various layers on both ends e.g. controller and network switch of the link to produce a customizable and optimized control policy.

In general a managed switch has a configuration interface that a system administrator can use to configure features of the managed switch. For example managed switches may provide a configuration interface in the form of command line access SNMP APIs Websmart etc. that enables remote management. Through the configuration interface the system administrator can configure and monitor the managed switch.

The software based EEE control policy in enterprise managed switch can be designed to base its decisions on EEE settings parameters and configurations that are established by a system administrator through the configuration interface. For example the system administrator can establish empty or non empty conditions of ports queues buffers etc. to determine whether to transition to or from a power saving state.

Unlike the software based enterprise managed switches that boast a robust set of management features unmanaged switches are relatively unsophisticated. In general unmanaged switches are typically the least expensive switches e.g. gateway that are commonly found in homes home offices and small businesses. Unmanaged switches are relatively unsophisticated switches and may not include a configuration interface or configurable features. Unmanaged switches are not flexible in functionality and do not include monitoring functionality. As such unmanaged switches are typically plug and play devices that are configured by the manufacturer purely for switching functions. Unmanaged switches typically do not incorporate customer visible software that can be customized as needed. Notwithstanding the relative simplicity of such devices it is still desired to realize customized EEE power savings in such devices which are deployed on a wide scale basis.

For example computing environments such as medium and large enterprise environments can include computer networks having very large numbers of networking devices e.g. hundreds and even thousands of network switches designed to interconnect large numbers of computing devices . These computer networks can include a mix of managed and unmanaged devices that are connected in complex network topologies. While these unmanaged devices provide a valuable role in these enterprise environments due to their low cost there is still a desire to configure the unmanaged devices for power savings. As a result an ability to configure these unmanaged devices for power savings is important.

It is therefore a feature of the present invention that unsophisticated devices such as an unmanaged switch can be designed with a configurable EEE control policy to realize energy savings. In one embodiment of the present invention a configurable EEE control policy can be effected in an unmanaged switch using a configurable profile.

In one embodiment profile element and EEE control policy is implemented in the same memory device e.g. on board memory as EEE control policy . In another embodiment profile element is a memory device separate from the memory device containing EEE control policy . For example profile element can be embodied as a PROM EEPROM flash memory etc. This embodiment enables profile element to be added to unmanaged device by the manufacturer distributor customer or any other entity responsible for configuring the EEE function of the unmanaged device prior to deployment into the network.

For example in one scenario a configurable PROM memory can be installed during manufacturing to effect a particular EEE control policy that would be expected based on a selected configuration e.g. number of ports buffer size etc. of the unmanaged device. For example the original design manufacturer ODM can at the last second install a version of the PROM for a home network version of the device and package it that way or install a version of the PROM for a SMB network version of the device and package it that way. By this process the same product can be sold in different markets with slightly different packaging at vastly different cost points.

Here it is significant to note that the inclusion of profile element that reflects an EEE control customization enables an unmanaged device to implement a configurable or optimized control policy for energy savings thereby obviating the need to run sophisticated software such as that included in an enterprise managed device.

In another embodiment the EEE control policy can be effected using boot strapping functions e.g. input pin combinations . Here an entity responsible for configuring the EEE function of the unmanaged device can select a combination of input pin that can determine an EEE parameter. For example the input pins can be used to indicate a level of aggressiveness of the EEE control policy timer values amount of buffering etc. of the unmanaged device. As would be appreciated these pins can be set by any entity responsible for configuring the EEE function of the unmanaged device prior to functioning in the network. This example illustrates the importance of having a mechanism that can customize an EEE control policy to an expected application. As noted above traffic profiles in different applications networks may require different settings of parameters and or different levels of aggressiveness of energy savings versus performance for those applications networks.

As these examples illustrate profile element in unmanaged device can be embodied in various forms. Regardless of the particular form in which EEE control customizations can be reflected in unmanaged switch the inclusion of profile element in unmanaged device enables a customizable EEE control policy to be realized in unmanaged device .

In another embodiment the EEE control customization can be generated by another device separate from the unmanaged device. For example consider a scenario where a second device is a relatively sophisticated device that retains a user interface. This user interface can be used to generate an EEE control customization that can be transferred to unmanaged device for storage in profile element .

In yet another embodiment the EEE control customization can be generated through a web interface that enables a customer to specify EEE control policy parameters. For example a relatively unsophisticated unmanaged device can be designed to present a web interface to a user. Through the web interface the user can specify various EEE parameters e.g. level of aggressiveness timer values amount of buffering etc. that can be translated into an EEE control policy image that is stored in profile element . In this manner the EEE control policy customization is again retained without requiring the use of complex software in the device.

In another embodiment a computing device or neighboring switch can be designed to run a preloaded GUI application that is designed to generate and send specific management packets to the unmanaged device being programmed. The management packets can then be used to override the defaults add profiles etc. to the unmanaged device. In yet another embodiment the unmanaged device can be designed upon wake up to download profiles from a known pre programmed address e.g. stored in flash memory in the network.

Having described a general framework of enabling EEE configurability of an unmanaged device reference is now made to the flowchart of which illustrates a process of the present invention. As illustrated the process begins at step wherein configuration information is loaded into a profile element. The profile element can be a part of system memory that stores the EEE control policy or a separate memory device e.g. PROM EEPROM flash memory etc. . As such the profile element can be loaded into the unmanaged device by any entity responsible for configuring the EEE function of the unmanaged device prior to functioning in the network. Where the profile element is represented by pin inputs the pin settings can be set at any time prior to functioning of the unmanaged device in the network.

After the configuration information is loaded into the profile element the EEE control policy in the unmanaged device can then access the configuration information stored by the profile element at step . This access of the profile element by the EEE control policy facilitates the customization of the EEE control policy as the configuration information dictates one or more aspects of operation of the EEE control policy. In other words the EEE control policy can be customized without direct interaction with the EEE control policy. Finally at step the EEE control policy configures one or more EEE control parameters for the unmanaged device based on the configuration information. This completes the custom configuration process of the EEE control policy.

As would be appreciated the principles of the present invention can be applied to various devices such as a switch controller server VOIP phone WAP etc. that retain relatively unsophisticated EEE control features.

These and other aspects of the present invention will become apparent to those skilled in the art by a review of the preceding detailed description. Although a number of salient features of the present invention have been described above the invention is capable of other embodiments and of being practiced and carried out in various ways that would be apparent to one of ordinary skill in the art after reading the disclosed invention therefore the above description should not be considered to be exclusive of these other embodiments. Also it is to be understood that the phraseology and terminology employed herein are for the purposes of description and should not be regarded as limiting.

