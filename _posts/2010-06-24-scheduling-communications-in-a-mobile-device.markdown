---

title: Scheduling communications in a mobile device
abstract: A method scheduling outgoing communication in a mobile device is provided. The method includes receiving a signal quality profile for an area in which the device is located. The method further includes receiving a signal from a user application stored on the device that requests the mobile device to make the outgoing communication. Additionally, the method includes determining a current location, a speed, a direction, and a signal quality associated with the device and determining whether the signal quality is above a certain threshold. If not, the method includes predicting a future time at which the signal quality will be above the threshold based at least on the current location, the speed, the direction, the signal quality, and the signal quality profile. Finally, the method includes scheduling the outgoing communication from the mobile device at the future time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08345616&OS=08345616&RS=08345616
owner: Microsoft Corporation
number: 08345616
owner_city: Redmond
owner_country: US
publication_date: 20100624
---
As cellular networks and coverage around the world grow the popularity of cellular devices has greatly increased. In particular usage of Internet based mobile applications on smartphones has experienced a drastic increase as well. However these applications may tend to consume relatively large amounts of energy compared to the battery life of their corresponding devices. Indeed many such applications are designed to constantly access the cellular network and or the Internet e.g. checking email updating buddy lists on messaging applications real time maps weather etc. 

A relatively strong contributor to such large energy drains remains the devices wireless radios. To this end wireless radios are typically needed to provide the link between a device and a network so that the aforementioned applications can access the Internet. In some cases the radios add a factor of five or more times the energy cost of their base devices. Furthermore though some schemes currently exist to facilitate energy conservation in smartphones most of these solutions remain device centric rather than application centric. Such solutions are limited in their effectiveness against the backdrop of growing Internet traffic on mobile devices.

Described herein are implementations of various technologies for scheduling communications in a mobile device. Because the wireless radio of a mobile device remains a relatively large contributor to energy consumption the less activity the radio experiences the more energy that may be conserved in the mobile device. Furthermore various technologies described herein may operate under the assumption that a wireless radio may consume relatively less energy under a relatively strong signal quality than under a relatively weak signal quality. As such various technologies described herein generally seek to schedule communication incoming to and outgoing from the device during periods of relatively strong signal quality.

At a high level various technologies described herein encompass two aspects of scheduling communication in a mobile device. A first aspect may focus on scheduling communication outgoing from the mobile device. Here various technologies described herein contemplate a method which may attempt to schedule outgoing communication during instants where the mobile device is in a location having relatively good signal quality. In one implementation various signal quality profiles may be stored in a remote database. The signal quality profile for a given area may represent the signal qualities at various GPS coordinates within that area. Then a prediction algorithm may be employed to estimate signal qualities at future times based on the mobile device s current location trajectory of motion speed direction and the signal quality profiles. As such the prediction algorithm may determine the best time and or location at which to perform an outgoing communication for the mobile device.

In another implementation the prediction algorithm may take fewer inputs to determine when to schedule an outgoing communication. For example some areas may not have any associated data regarding a signal quality profile. Therefore the prediction algorithm may simply attempt to schedule outgoing communication whenever the signal qualities the mobile device has experienced in the recent past are above a certain signal threshold. To this end the prediction algorithm may generally assume that if in the recent past the signal quality for the mobile device has exceeded the signal threshold then it may be likely that the signal quality for the mobile device is currently exceeding the signal threshold as well.

A second aspect concerns scheduling incoming communication to the mobile device. In one implementation a cloud server may be contemplated to act as an intermediary or proxy between another remote device e.g. and Internet server attempting to send incoming communication to the mobile device. Therefore any communication attempting to reach the mobile device may first pass through the cloud server. The cloud server may then schedule when such communication is to be forwarded to the mobile device based on the same algorithms described above with regard to scheduling outgoing communication from the mobile device.

The above referenced summary section is provided to introduce a selection of concepts in a simplified form that are further described below in the detailed description section. The summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter. Furthermore the claimed subject matter is not limited to implementations that solve any or all disadvantages noted in any part of this disclosure.

In general one or more implementations described herein are directed to scheduling communication in a mobile device. Various techniques for scheduling communication in a mobile device will be described in more detail with reference to .

Implementations of various technologies described herein may be operational with numerous general purpose or special purpose computing system environments or configurations. Examples of well known computing systems environments and or configurations that may be suitable for use with the various technologies described herein include but are not limited to personal computers server computers hand held or laptop devices multiprocessor systems microprocessor based systems set top boxes programmable consumer electronics network PCs minicomputers mainframe computers distributed computing environments that include any of the above systems or devices and the like.

The various technologies described herein may be implemented in the general context of computer executable instructions such as program modules being executed by a computer. Generally program modules include routines programs objects components data structures etc. that performs particular tasks or implement particular abstract data types. The various technologies described herein may also be implemented in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network e.g. by hardwired links wireless links or combinations thereof. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

The computing system may include a central processing unit CPU a system memory and a system bus that couples various system components including the system memory to the CPU . Although only one CPU is illustrated in it should be understood that in some implementations the computing system may include more than one CPU. The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus. The system memory may include a read only memory ROM and a random access memory RAM . A basic input output system BIOS containing the basic routines that help transfer information between elements within the computing system such as during start up may be stored in the ROM .

The computing system may further include a hard disk drive for reading from and writing to a hard disk a magnetic disk drive for reading from and writing to a removable magnetic disk and an optical disk drive for reading from and writing to a removable optical disk such as a CD ROM or other optical media. The hard disk drive the magnetic disk drive and the optical disk drive may be connected to the system bus by a hard disk drive interface a magnetic disk drive interface and an optical drive interface respectively. The drives and their associated computer readable media may provide nonvolatile storage of computer readable instructions data structures program modules and other data for the computing system .

Although the computing system is described herein as having a hard disk a removable magnetic disk and a removable optical disk it should be appreciated by those skilled in the art that the computing system may also include other types of computer readable media that may be accessed by a computer. For example such computer readable media may include computer storage media and communication media. Computer storage media may include volatile and non volatile and removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media may further include RAM ROM erasable programmable read only memory EPROM electrically erasable programmable read only memory EEPROM flash memory or other solid state memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the computing system . Communication media may embody computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and may include any information delivery media. The term modulated data signal may mean a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media may include wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media. Combinations of any of the above may also be included within the scope of computer readable media.

A number of program modules may be stored on the hard disk magnetic disk optical disk ROM or RAM including an operating system one or more application programs a mobile application program data and a database system . The operating system may be any suitable operating system that may control the operation of a networked personal or server computer such as Windows XP Mac OS X Unix variants e.g. Linux and BSD and the like. The mobile application may be configured to schedule outgoing communication from computing system to a remote computer .

A user may enter commands and information into the computing system through input devices such as a keyboard and pointing device . Other input devices may include a microphone joystick game pad satellite dish scanner or the like. These and other input devices may be connected to the CPU through a serial port interface coupled to system bus but may be connected by other interfaces such as a parallel port game port or a universal serial bus USB . A monitor or other type of display device may also be connected to system bus via an interface such as a video adapter . In addition to the monitor the computing system may further include other peripheral output devices such as speakers and printers.

Further the computing system may operate in a networked environment using logical connections to one or more remote computers . The logical connections may be any connection that is commonplace in offices enterprise wide computer networks intranets and the Internet such as local area network LAN and a wide area network WAN . When using a LAN networking environment the computing system may be connected to the local network through a network interface or adapter . When used in a WAN networking environment the computing system may include a modem wireless router or other means for establishing communication over a wide area network such as the Internet. The modem which may be internal or external may be connected to the system bus via the serial port interface . In a networked environment program modules depicted relative to the computing system or portions thereof may be stored in a remote memory storage device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.

It should be understood that the various technologies described herein may be implemented in connection with hardware software or a combination of both. Thus various technologies or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various technologies. In the case of program code execution on programmable computers the computing device may include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. One or more programs that may implement or utilize the various technologies described herein may use an application programming interface API reusable controls and the like. Such programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s may be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

The mobile device may also include a wireless radio to wirelessly communicate with other devices including but not limited to Internet server and cloud server . As previously mentioned the wireless radio may consume more energy during periods of relatively weak signal quality than during periods of relatively strong signal quality. In one implementation the mobile application may be stored on the mobile device to schedule outgoing communication from the mobile device according to the signal quality of the mobile device. Such a scheduling method is further described with reference to .

At step the mobile application may receive a signal quality profile. A signal quality profile for a given area may provide the signal qualities along tracks which may be defined as a series of GPS coordinates representing paths that could be taken by a mobile device. For example a signal quality profile may provide signal qualities at various GPS coordinates in an area. In one implementation the signal quality profile for a given area may be stored at a remote location e.g. a cloud server and may be downloaded by the mobile application when the mobile device enters the given area. In another implementation the signal profile may be overlaid over existing geographical databases e.g. Google maps Yahoo maps Bing maps and or the like. For example different locations or coordinates along such maps in a geographical database may be annotated with data indicating the signal qualities at those locations.

Additionally obtaining GPS coordinates may be relatively expensive in terms of energy consumption unless it is already being used for another application. Therefore in another implementation instead of GPS coordinates a relative position of the mobile device may be determined using a current signal quality of the mobile device. For example the mobile application may using its cellular radio compare the current signal quality of the mobile device with the closest cell tower or towers in a given area. With this comparison the closest matching position of the mobile device may be calculated by determining the location at which the mobile device could experience the current signal quality. Such a method may be refined as more signal measurements may be available as the mobile device travels along a given path. Furthermore when compared with obtaining GPS coordinates such a method may consume significantly less energy since obtaining signal quality measurements via the cellular radio may be relatively free of cost.

At step a signal may be received by the mobile device requesting the mobile device to make an outgoing communication. In one implementation the signal may be generated by a user application stored on the mobile device . For example an email application may request the mobile device to communicate with an email server to check for any new emails.

At step the mobile application may determine certain factors associated with the mobile device. These factors may include the current location speed direction signal quality of the device and the like. Then at step the mobile application may determine whether the signal quality of the mobile device is above a certain threshold. If the signal quality is above the threshold the mobile application may allow the mobile device to perform the outgoing communication at step .

At step if the signal quality is not above the threshold the mobile application may predict a future time at which the signal quality may be above the threshold. Such a prediction may use a prediction algorithm that takes into account the current location speed and direction of the mobile device as determined at step . The signal quality profile received at step is also taken into account by the prediction algorithm to determine when the signal quality maybe above the threshold. Notably the prediction algorithm may use the direction of the mobile device to account for handoffs from one cell tower to another. For example consider a scenario where the mobile device may be associated with a first cell tower and may be travelling from the first cell tower to a second cell tower. As the mobile device moves farther away from the first cell tower its signal quality may decrease. However as the mobile device moves away from the first cell tower it may be moving closer to the second cell tower. At some point e.g. when the signal quality of the mobile device falls below a particular level the mobile device may be handed off and associated with the second cell tower. Consequently the mobile device s signal quality may now begin to increase as the mobile device moves in a direction toward the second cell tower. When travelling in the opposite direction from the second tower to the first tower however the handoff may occur at a different point since the signal quality of the mobile device may fall below the particular level at a different point. Thus direction of travel may be taken into account into the prediction algorithm because signal qualities may vary for a particular location as the mobile device approaches the particular location from different directions.

With these factors the mobile application may schedule the future time for the outgoing communication from the mobile device . In this manner the mobile application may be able to schedule outgoing communications from the mobile device during times when the signal quality is above the threshold. In one implementation the mobile device may delay the outgoing communication for the user application up until the user application s timeout period. Typically a timeout period may refer to a set period of time by which a user application is allowed to perform a task. After the timeout period the user application may be required to terminate performance of the task. For example an email application may have a timeout period for 60 seconds to establish a connection with an email server to retrieve new email. If at the end of 60 seconds the email application has failed to establish a connection the email application may cease requesting communication with the email server. Thus the mobile application allows delaying the outgoing communication for an application up until its timeout period to avoid termination of the communication.

In one implementation method may contemplate scheduling outgoing communication with regards to background applications. Background applications may refer to applications that may be executed even while a user is not directly interfacing with the application. For example typical applications that can be executed in the background may include but are not limited to instant messaging media downloads and uploads and RSS feeds. Usually the communications performed by background applications may be considered as non urgent by a user and may therefore be delayed without the user s notice.

In another implementation the mobile application may be operable to recognize that certain communication may never be scheduled or delayed. For instance such communication may typically apply to communication that the user desires to be performed immediately. These communications may include but are not limited to voice communication video communication and other types of communication designated by the user.

In another implementation the mobile application described at step may not use a prediction algorithm. For example if a signal quality profile is not available for a given area the mobile application may determine whether the signal quality for the mobile device has been above the threshold over a designated period of time in the past. If so the mobile application may determine that the current signal quality for the mobile device is also likely above the threshold and allow the outgoing communication to be performed. If not the mobile application may delay the outgoing communication for a predetermined period of time.

In yet another implementation the mobile application may regulate the actions of the wireless radio for the mobile device . The wireless radio may typically be left active for some period of time even following the end of a particular communication. While the wireless radio is active it may be consuming energy that could otherwise be saved. Therefore to reduce the activity of the wireless radio the mobile application may determine when no communication is to occur with mobile device for a predetermined period of time. If the mobile application makes such a determination it may quickly place the wireless radio of the mobile device into an idle state. While in the idle state the wireless radio may consume less power than when it is actively transmitting communication. For example the mobile application may use the Fast Dormancy API which enables a wireless radio to be quickly placed into an idle state to avoid the energy consumption associated with the radio being left active.

The method of scheduling outgoing mobile communication for a mobile device described above may have an advantage of enabling the mobile device to consume less energy with regard to its radio. To this end the method may schedule outgoing communication for a user application only when the signal quality is above a certain threshold i.e. when the signal quality is relatively strong. Additionally the method may have a further advantage for providing energy savings for all user applications. This may be in contrast to current schemes which may rely on developers for each user application to implement their own energy saving frameworks.

At step the cloud server may receive or determine the signal quality profile for a given area in which the mobile device is presently located. As previously mentioned the signal quality profile may be stored on the cloud server itself and may provide the signal qualities for the area along various tracks or GPS coordinates. In one implementation the signal quality profile received by the cloud server at step may be identical to signal quality profile received by the mobile device at step in .

At step the cloud server may receive communication directed toward the mobile device . Such communication may be viewed by the mobile device as incoming communication. To this end the cloud server may act as an intermediary to facilitate incoming communication to the mobile device . For example an email server may want to send new emails to be downloaded by the mobile device . Before the emails reach the mobile device the emails may first be handled by the cloud server .

As step the cloud server may determine the current location speed direction and signal quality of the mobile device . Then at step the cloud server may determine whether the signal quality of the mobile device is above a certain threshold. If the signal quality is above the threshold the cloud server may allow the mobile device to receive the incoming communication at step .

At step if the signal quality is not above the threshold the cloud server may predict the time at which the signal quality may be above the threshold in the future. To make such a prediction the cloud server may implement a prediction algorithm that takes into account the current location speed and direction of the mobile device as determined at step . Additionally the prediction algorithm may use the signal quality profile received at step as another input.

In one implementation the prediction algorithm implemented by the cloud server may also predict the location of the mobile device in addition to the time at which the signal quality for the mobile device will be above the threshold. If at the predicted time the mobile device is not at or near the predicted location the mobile device may update the cloud server with its current location. Furthermore in order to reduce the number of communications the mobile device may make with the cloud server the update may be piggybacked onto other outgoing communications. For example if the mobile device is ready to perform an outgoing communication for a user application the mobile device may also send an update of its location to the cloud server along with the outgoing communication for the user application.

An advantage of method includes enabling the mobile device to consume less energy with regard to its radio. As previously mentioned the radio of the mobile device may consume less energy with a relatively strong signal compared to a relatively weak signal. To this end method may schedule incoming communication for a user application only when the signal quality is above a certain threshold i.e. when the signal quality is relatively strong. As a result the mobile application may enable the mobile device as a whole to consume less energy thereby increasing battery life for the mobile device .

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

