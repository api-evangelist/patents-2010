---

title: Systems, methods and apparatus for determining a radiated performance of a wireless device
abstract: Systems, methods, apparatus, processors and computer-readable media include a radiated testing module that executes a predetermined radiated performance test on a wireless device. The test dictates various performance-related parameters to measure and log at each of a plurality of predetermined positions. Further, the wireless device receives synchronization information operable to enable synchronization between the logged measurements and each of the positions. The synchronized log allows the wireless device, or another apparatus, to determine a radiated performance characteristic based on a predetermined analysis protocol. Further, the described embodiments allow for the determination of several radiated performance characteristics in a single test, using a single, unaltered wireless device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08467756&OS=08467756&RS=08467756
owner: QUALCOMM Incorporated
number: 08467756
owner_city: San Diego
owner_country: US
publication_date: 20100701
---
The present Application for Patent claims priority to and is a continuation of application Ser. No. 11 258 334 entitled SYSTEMS METHODS AND APPARATUS FOR DETERMINING A RADIATED PERFORMANCE OF A WIRELESS DEVICE filed Oct. 24 2005 now U.S. Pat. No. 7 773 964 which claims the benefit of Provisional Application No. 60 660 918 entitled METHOD AND APPARATUS FOR PERFORMING RADIATED ANTENNA TESTS filed Mar. 11 2005 and Provisional Application No. 60 621 883 entitled ANTENNA CORRELATION FROM MEASURED COMPLEX RADIATION PATTERNS filed Oct. 25 2004 all assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The described embodiments relate to wireless communications devices and more particularly to systems methods apparatus processors and computer readable media for determining the radiated performance of an antenna system associated with a wireless device.

Wireless devices utilize radio waves to provide long distance communications without the physical constraints of a wire based system. The wireless device transmits and receives information using via the radio waves which may be carried over predetermined frequency bands. An antenna connected to a transmitter and a receiver along with the associated circuitry allows the wireless device to transmit and receive these radio wave signals. The design of the wireless device including the antenna and the various transmit and receiver related components impact the ability of the wireless device to transmit and receive radio wave signals and hence define and affect the radiated performance of the device. Thus it is desirable to determine and tune the radiated performance of a wireless device to optimize the ability of the wireless device to communicate radio wave signals.

Prior art methods of determining the radiated performance of a wireless device however have a number of drawbacks. Some tests to determine radiated performance involve destructive modification of the wireless device. For instance in one example the signal path between the antenna and receiver is interrupted and re routed to an external radio frequency RF connector. Radiated signal power measurements are then made by external test equipment interfaced at this connector thereby acting as a substitute for the receiver on the wireless device. The presence of the external RF connector and the associated external cable can distort the true radiated performance of the wireless device. Further these destructive modifications add expense to the testing procedure due to both the additional equipment and the additional manpower required to make the modification. Additionally destructive modifications add further expense by making the modified wireless device un usable for other tests.

Additionally in a wireless communication system an RF modulated signal from a transmitter may reach a receiver via a number of propagation paths. The characteristics of the propagation paths typically vary over time due to a number of factors such as fading and multipath.

Further structures such as buildings and surrounding terrain including walls and hillsides contribute to the scattering and reflection of the transmitted signal. The scattering and reflection of the transmit signal results in multiple signal paths from the transmitter to the receiver. The contributors to the multiple signal paths change as the receiver moves.

Other signal sources also result in degradation of the desired signal. The other signal sources may be other transmitters intentionally operating on the same frequency as the desired signal as well as transmitters that generate spurious signals in the frequency band of the desired signal. Yet another source of signal degradation may be generated within the receiver itself. Signal amplifiers and signal processing stages within the receiver may degrade the level of the desired signal with respect to the level of thermal noise. The signal amplifiers and processors within the receiver may also generate noise products or distort the received signal and further degrade its quality.

To provide diversity against deleterious path effects and improve performance multiple transmit and receive antennas may be used. If the propagation paths between the transmit and receive antennas are linearly independent i.e. a transmission on one path is not formed as a linear combination of the transmissions on other paths which is generally true to at least an extent then the likelihood of correctly receiving a data transmission increases as the number of antennas increases. Thus generally diversity increases and performance improves as the number of transmit and receive antennas increases.

Further a wireless device may use multiple antennas for a number of reasons. For example a wireless device often needs to operate over multiple bands and service multiple operating modes. Another reason is that advanced transceiver architectures are being implemented that use multiple antennas for improving the performance of some of these modes in the field. When operated simultaneously these modes can interfere with each other causing degrading overall performance. So it is important to devise accurate means of evaluating the radiated performance of a wireless device that can capture the effects of self interference. Current methods require several steps to evaluate a combined device antenna design and there is ambiguity with respect to test accuracy with current cabled tests. Therefore dependable design and test methodologies have yet to be developed.

Thus new and improved systems apparatus computer readable media processors and methods for determining the radiated performance of a wireless device are desired.

The described embodiments allow for the determination in a single test and using a single unaltered wireless device one or more radiated performance characteristics such as Effective Isotropic Radiated Power EIRP receiver sensitivity Total Radiated Power TRP Total Isotropic Sensitivity TIS and envelope correlation which is related to Rx diversity performance .

In one embodiment for example a method of determining a radiated performance characteristic of a wireless device comprises determining a measured signal characteristic of a signal received the wireless device at each one of a plurality of positions associated with a predetermined radiated performance test. The method further includes recording the measured signal characteristics in a test log on the wireless device. And the method includes recording in the test log on the wireless device synchronization data corresponding to a respective position for each one of the plurality of positions and further corresponding to each of the measured signal characteristics. The measured signal characteristics and the synchronization data are determinative of the radiated performance characteristic of the wireless device.

In another embodiment a computer program is resident in a computer readable medium that when executed directs a computer device to perform the actions of determining a measured signal characteristic of a signal received by a receiver module of a wireless device at each one of a plurality of positions associated with a predetermined radiated performance test. The actions further include recording the measured signal characteristics in a test log on the wireless device. And the action include recording in the test log on the wireless device synchronization data corresponding to a respective position for each one of the plurality of positions and further corresponding to each of the measured signal characteristics. The measured signal characteristics and the synchronization data are determinative of a radiated performance characteristic of the wireless device. In a related embodiment at least one processor is configured to performed the above described actions.

In yet another embodiment a wireless device comprises a means for determining a measured signal characteristic for a signal received at each one of a plurality of positions associated with a predetermined radiated performance test. The device further comprises a means for recording the measured signal characteristics. Additionally the device comprises a means for recording synchronization data corresponding to a respective position for each one of the plurality of positions and further corresponding to each of the measured signal characteristics. The measured signal characteristics and the synchronization data are determinative of a radiated performance characteristic of the wireless device.

In still another embodiment a wireless device comprises a receiver module operable to receive a signal at each one of a plurality of positions associated with a predetermined radiated performance test. The signal has a measured signal characteristic as determined by the receiver module and the signal further has synchronization data corresponding to a respective position for each one of the plurality of positions and further corresponding to each of the measured signal characteristics. And the device comprises a data repository having a device test log comprising the measured signal characteristic and the synchronization data corresponding to each one of the plurality of positions. The measured signal characteristics and the synchronization data are determinative of a radiated performance characteristic of the wireless device.

In a further embodiment a method of determining a radiated characteristic of a wireless device comprises transmitting a signal having a reference signal characteristic to the wireless device at each one of a plurality of positions associated with a predetermined radiated performance test. The method further includes transmitting synchronization data to the wireless device where the synchronization data corresponds to a respective position for each one of the plurality of positions and further corresponds to each of the transmitted signal characteristics. Additionally the reference signal characteristics and the synchronization data are used to determine a radiated performance characteristic of the wireless device. In a related embodiment at least one processor is configured to performed the above described actions. In another related embodiment a computer program resident in a computer readable medium that when executed directs a computer device to perform the actions noted above.

In another embodiment an apparatus for determining a radiated performance of a wireless device comprises a means for transmitting a signal having a reference signal characteristic to the wireless device at each one of a plurality of positions associated with a predetermined radiated performance test. The apparatus further comprises a means for transmitting synchronization data to the wireless device the synchronization data corresponding to a respective position for each one of the plurality of positions and further corresponding to each of the transmitted signal characteristics. The reference signal characteristics and the synchronization data are used to determine a radiated performance characteristic of the wireless device.

In still another embodiment a controller for determining a radiated performance of a wireless device comprises a radio signal system operable to transmit a signal to the wireless device at each one of a plurality of positions associated with a predetermined radiated performance test. The signal comprises a reference signal characteristic and synchronization data the synchronization data corresponding to a respective position for each one of the plurality of positions and further corresponding to each of the reference signal characteristics. The reference signal characteristics and the synchronization data are used to determine a radiated performance characteristic of the wireless device.

In a further embodiment a system for determining a radiated performance of a wireless device comprises controller system operable to generate a control signal based on a predetermined radiated performance test. The control signal comprises a positioning component and a corresponding signaling component where the positioning component defines a selected one of a plurality of predetermined positions and where the signaling component defines a radio signal having a reference signal characteristic and predetermined synchronization data. Further the predetermined synchronization data corresponds to the selected one of the plurality of predetermined positions. Additionally the system comprises a radio signal system comprising a signal generator where the radio signal system is operable to receive at least a portion of the control signal and generate the radio signal based on the signaling component.

In another embodiment a wireless device comprises a receiver mechanism operable to receive a signal having a reference signal characteristic and predetermined synchronization data. The reference signal characteristic is associated with a predetermined radiated performance test and wherein the predetermined synchronization data corresponds to a selected one of a plurality of positions of the wireless device associated with the predetermined radiated performance test. Further the device comprises a processing system in communication with the receiver mechanism and operable to determine a measured signal characteristic based on the received signal. The measured signal characteristic corresponds to the reference signal characteristic and the processing system is further operable to parse the predetermined synchronization data from the received signal. Further the device comprises a data repository operable to store a test log comprising the measured signal characteristic and the corresponding predetermined synchronization data. And the device comprises a radiated performance test module operable to gather from the processing system and cause storage in the data repository of the measured signal characteristic and the corresponding predetermined synchronization data both at least partially determinable of a predetermined radiated performance characteristic of the wireless device based on the predetermined radiated performance test.

In another embodiment a method of determining a radiated performance of a wireless device comprises positioning a wireless device at a selected one of a plurality of predetermined positions associated with a predetermined radiated performance test. The method includes sending a signal to the wireless device where the signal has a reference signal characteristic and predetermined synchronization data that corresponds to the selected position. Further the method includes receiving a record from the wireless device where the record includes a measured signal characteristic as measured by a receiver module on the wireless device and corresponding to the reference signal characteristic and correlated with the predetermined synchronization data. Additionally the method includes synchronizing the measured signal characteristic with position information corresponding to the selected position based on the predetermined synchronization data. And the method includes generating a radiated performance characteristic of the wireless device based on the synchronized measured signal characteristic and position information.

Referring to in one embodiment a system for determining a radiated performance of a wireless device includes a controller system operable to generate a control signal to transmit a radio wave signal to wireless device . Wireless device is located within a test chamber at a position selected from a plurality of predetermined positions associated with a predetermined radiated performance test being run by controller system . Control signal includes a positioning component which defines the physical coordinates of selected position and thereby dictates the movements of a positioning system to which wireless device is mounted. Further control signal includes a corresponding signaling component which defines a radio wave signal and thereby dictates a transmission by radio signal system . In one embodiment for example radio signal system simulates a base station in a cellular phone network and thus radio wave signal may be considered a forward channel signal. Further radio wave signal may include an actual or reference signal characteristic such as a signal power and predetermined synchronization data such as position information or time information that corresponds to selected position . For example reference signal characteristic is a known characteristic or value that may be used as a baseline value for later calculations such as a gain calculation. Similarly predetermined synchronization data allows measurements made by wireless device to be correlated to the physical coordinates of position of wireless device at the time when the measurement was obtained.

Wireless device receives and processes signal resulting in generating a measured signal characteristic corresponding to reference signal characteristic . In other words measured signal characteristic is the received value as measured by receiver related components resident on wireless device of reference signal characteristic . Further wireless device parses synchronization data from signal thereby providing the ability to relate the respective measured signal characteristic to the respective selected position at which the measurement occurred. Additionally wireless device includes a radiated performance test module which monitors the measurement of the received signal and directs the parsing of its data. Further radiated performance test module executes to log measured signal characteristic and synchronization data thereby forming a record of the test conditions and test results for each selected position . System then sequences through the remaining plurality of predetermined positions until the signals are received at all positions as determined by the given predetermined radiated performance test .

Once all testing information has been logged radiated performance testing module analyzes all of the logged measured signal characteristics and corresponding synchronization data and generates a radiated performance characteristic for wireless device . In one embodiment for example radiated performance characteristic may include a radiated sensitivity metric which is a function of the power gain and or the voltage gain at an antenna of wireless device and which may be measured for a single or for multiple antennas. For an embodiment of wireless device having multiple antennas radiated performance characteristic may include complex voltage receive gains which are utilized to predict the correlation between the multiple receive chains antennas thereby providing an indication of the diversity gain provided by the given antenna set up.

In another embodiment for example where synchronization data includes time information radiated performance characteristic may be determined at controller system . In this case the log of measured signal characteristics and corresponding synchronization data may be transferred from wireless device to a test manager module located at controller system . Test manager module maintains another log of corresponding time information and position information which it correlates with the log from wireless device to produce a record or log of position information synchronized with measured signal characteristics for each position dictated by predetermined radiated performance test . In this case test manager module initiates the analysis of this synchronized log to determine radiated performance characteristic .

In other embodiments for example predetermined radiated performance test may include a test that involves a wireless device originated radio wave signal transmitted to radio signal system . This test is a performance test of the transmit chain antenna of wireless device . In an embodiment where radio signal system simulates a base station of a cellular telephone network wireless device originated radio wave signal may be considered a reverse channel signal. Signal includes a reference signal characteristic which may be used as a baseline for future calculation and radio signal system receives and processes signal thereby generating a corresponding measured signal characteristic as received by system . In this embodiment test management module on controller system executes to log measured signal characteristic and the corresponding position information found in position component . System then sequences through the remaining plurality of predetermined positions until the signals are received at all positions as determined by the given predetermined radiated performance test . Once all testing information has been logged test management module analyzes all of the logged measured signal characteristics and corresponding position information from position components which also may be considered synchronization information and generates radiated performance characteristic for wireless device . In this case for example radiated performance characteristic may include a measure of the transmission performance of wireless device such as a transmit power gain. Further wireless device may be set up to simultaneously receive signal and transmit signal thereby shortening testing times if there is an overlap in the plurality of predetermined positions associated with each test.

Thus system advantageously includes logging of receiver data directly on wireless device thereby eliminating the need for external connectors and cables that may distort the true receiver related radiated performance of the device. Further system advantageously provides for the wireless synchronization of the measured signal characteristic and the position information or physical coordinates corresponding to each selected position thereby eliminating the need for external connectors and cables connected to external synchronization and post processing equipment. Further the logging and synchronization capability provided by wireless device of system allows for the simultaneous performance of multiple radiated performance tests. Therefore system provides an efficient set up for determining the radiated performance of wireless device .

In one particular embodiment for example the systems apparatus and methods described herein aide in the radiated testing of mobile phones. In this embodiment several radiated performance characteristics can be derived from measured data collected in a single test. In particular the radiated performance characteristics that can be determined are a total radiated power TRP characteristic a total isotropic sensitivity TIS characteristic a peak effective isotropic radiated power EIRP characteristic a peak receiver sensitivity characteristic a peak gain characteristic an average gain characteristic and a pattern correlation for diversity enabled phones. Generally the described embodiments perform over the air complex receive and maximum transmit EIRP pattern measurements at three channel frequencies without requiring test cables being connected to the test phone. By performing the predetermined radiated tests wirelessly the described embodiments improve measurement accuracy by eliminating external antenna test cables that can distort radiation patterns. Further the described embodiments do not require special test fixtures as only one phone is needed for all tests in contrast the prior art requires a separate cabled phone fixture for antenna gain pattern tests and a second wireless phone for the peak EIRP and receive sensitivity radiated tests. Additionally this particular embodiment provides accelerated testing methodologies as described in more detail below that are much faster than current TRP and TIS test methodologies. For example based on experimental results using the present system the total duration of the TRP and TIS tests is about 1.75 hours for low mid and high frequencies compared with about a 3 5 hour duration for the prior art TIS test at only one frequency.

In this particular embodiment for example the measurements are performed in a calibrated far field anechoic chamber. The testing application is loaded into the test phone while other special purpose control and post processing software is loaded into a host computer controlling the chamber equipment. A cell site simulator or call box is connected to the chamber horn antenna thereby enabling an over the air OTA call to a test phone mounted on a rotating pedestal at the far end of the chamber.

For receive mode tests the phone is commanded to log user defined data packets to memory on the test phone. The defined data packets such as a finger channel estimate log packet contain the complex pilot signals e.g. In phase and Quadrature phase received by the phone s antennae when the phone is illuminated by an electromagnetic plane wave transmitted from the call box equipment. The logging may be triggered by sending commands from the call box over the air to the test phone. By synchronizing this logging event with the movement of the pedestal and test phone the complex in phase and quadrature phase receive pattern data is obtained at each measurement angle over a field of view covering a sphere. Further tests are done with the chamber horn oriented for vertical and horizontal polarizations and thus vertical and horizontal receive patterns are obtained. Additionally for diversity enabled phones the complex receive pattern of the secondary antenna is obtained by logging the same packet data in a similar manner.

For transmit mode tests a power meter is used to measure the radiated power transmitted by the test phone in a given measurement direction with the phone transmitter at maximum power. The test phone is commanded such as via OTA signals from the call box equipment to radiate at its maximum transmit power. The transmitted power is collected by the chamber horn and measured by a power meter at each measurement angle. Further the chamber path loss is determined and thereby can be accounted for by the reference signal thereby allowing for the determination of the phone s EIRP. The measured data is stored in real time as the test phone is rotated to the various test angles covering a sphere. Further tests are done for the chamber horn oriented in both vertical and horizontal polarizations and thus the vertical and horizontal polarization EIRP patterns are obtained.

All three measurements the transmit EIRP and the primary and secondary antenna receive complex field measurements are done in sequence at each measurement angle. Hence all receive and transmit data can be collected with a single test run.

Referring to wireless device can include any type of computerized wireless device such as a cellular telephone a personal digital assistant a two way text pager and a portable computer. The wireless device can be a remote slave or other device that does not have an end user thereof but simply communicates data across a wireless network. Examples of a remote slave device include a remote sensor a diagnostic tool a data relay and the like. The functionalities performed on wireless device described herein can accordingly be performed on any form of wireless device or computer module including without limitation wireless modems PCMCIA cards wireless access terminals wireless personal computers wireless telephones or any combination or sub combination thereof.

Additionally wireless device has an input mechanism for generating inputs into wireless device and output mechanism for generating information for consumption by the user of the wireless device. For example input mechanism may include a mechanism such as a key or keyboard a mouse a touch screen display a voice recognition module etc. The inputs into wireless device may include menu selections to set up change parameters and run a radiated test or to transfer logged information out of the device. Further for example output mechanism may include a display an audio speaker a haptic feedback mechanism etc. The generated information to output may include the above referenced menus for performing a test and transferring the test results a view of the test results etc.

Further wireless device has computer platform that can transmit data across a wireless network and that can receive and execute software applications and display data transmitted from another computer device connected to the wireless network. Computer platform includes a data repository which may comprise volatile and nonvolatile memory such as read only memory ROM and or random access memory RAM erasable programmable read only memory EPROM electronically erasable programmable read only memory EEPROM flash memory cards or any memory common to computer platforms. Further data repository may include one or more secondary or tertiary storage devices such as magnetic media optical media tape or soft or hard disk.

Further computer platform also includes a processing engine which may be an application specific integrated circuit ASIC or other chipset processor logic circuit or other data processing device. Processing engine or other processor such as ASIC may execute an application programming interface API layer that interfaces with any resident programs such as radiated performance testing module in data repository of wireless device . API is a runtime environment executing on the respective wireless device. One such runtime environment is Binary Runtime Environment for Wireless BREW software developed by Qualcomm Inc. of San Diego Calif. Other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices.

Processing engine includes various processing subsystems embodied in hardware firmware software and combinations thereof that enable the functionality of wireless device and the operability of the wireless device on a wireless network. For example processing subsystems allow for initiating and maintaining communications and exchanging data with other networked devices. In one embodiment such as in a cellular telephone communications processing engine may include one or a combination of processing subsystems such as sound non volatile memory file system transmit receive searcher layer 1 layer 2 layer 3 main control remote procedure handset power management diagnostic digital signal processor vocoder messaging call manager Bluetooth system Bluetooth LPOS position determination position engine user interface sleep data services security authentication universal subscriber identity module subscriber identity module USIM SIM voice services graphics universal serial bus USB multimedia such as moving picture experts group MPEG general packet radio service GPRS etc. For the disclosed embodiments processing subsystems of processing engine may include any subsystem components that interact with applications executing on computer platform . For example processing subsystems may include any subsystem components which receive data reads and data writes from API on behalf of radiated performance testing module . Further all or portions of the receiver related data and or transmitter related data that is gathered and then logged by radiated performance testing module is available from these subsystems .

Computer platform may further include a communications module embodied in hardware firmware software and combinations thereof that enables communications among the various components of the wireless device as well as between wireless device and a wireless network. In one embodiment for example communications module includes a transmitter module for wirelessly transmitting information such as radio wave signal through an antenna system and a receiver module for wirelessly receiving information such as radio wave signal through antenna system . As noted above antenna system may include a single antenna such as a monopole antenna a dipole antenna a helical antenna a planar antenna etc. or any combination thereof to form multiple antennas. For example such multiple antenna systems may include a multiple input multiple output MIMO communication system which employs multiple N transmit antennas and multiple N receive antennas for data transmission. Alternately for example such multiple antenna systems may include a multiple input single output MISO communication system that employs multiple N transmit antennas and a single receive antenna for data transmission. In any case receiver module in combination with antenna system may be considered the receive chain of wireless device . Similarly transmitter module and antenna system may be considered the transmit chain of the wireless device.

Additionally as mentioned above computer platform further includes radiated performance test module to manage radiated testing related activities on wireless device . Radiated performance test module may include any hardware software firmware and or other set of executable instructions operable to manage the collection of any information such as receiver data and or transmitter data relating to a radiated performance characteristic of wireless device . Radiated performance test module may be initiated at any time to log store and make available measured signal characteristic synchronization data any transmitter and or receiver related data and or any information related to predetermined radiated performance test .

In one embodiment for example radiated performance test module includes performance logic that provides the capability to collect store and provide access to or forward radiated performance test related information. Further in some embodiments performance logic may initiate the capability of wireless device to generate radiated performance characteristic based on the parameters of a given performance test .

Further radiated performance test module includes a device test configuration that defines log parameters and or test variables corresponding to predetermined radiated performance test being run by controller system . For example log parameters define types of information to collect and log as receiver data and or transmitter data for the given radiated performance test. In one embodiment for example log parameters define measured or reference receiver data and or measured or reference transmitter data available from one or more processing subsystems . In the case of a wireless telephone for example log parameters may include log data packets available from processing engine and or processing subsystem . Examples of the information contained in such log data packets include but are not limited to received power from a given receive chain antenna transmitted power from a given transmit chain antenna in phase pilot voltages and quadrature phase pilot voltages associated with a given receive chain finger lock status relative delay in a received signal e.g. the time difference between receiving a first and second instance of the same signal such as when receiving a reflected signal etc. In particular in one embodiment of a CDMA system such log data packets include the Search TNG Finger Status packet the RF subpacket the Finger Info subpacket and the Filtered Pilot Symbol subpacket. Additionally or alternatively log parameters may define other radiated performance related information received by or otherwise accessible to wireless device . For example in one embodiment log parameters may include test configuration related information and or information in data packets from signals received by wireless device such as reference signal characteristic and or synchronization data from signal . It should be understood however that many other log parameters may be defined depending on the nature of the given radiated performance test.

Further for example test variables define values associated with collecting receiver data and or transmitter data and or performing analysis on the collected data. In one embodiment for example types of test variables include a sampling rate a number of data packets per sample a code to enable or disable logging etc. It should be understood however that many other test variables may be defined depending on the nature of the given radiated performance test.

Additionally performance logic may execute to prompt a user of wireless device to select a given device test configuration and or the associated log parameters and or test variables from a plurality of available test configurations log parameters and or test variables. For example referring to radiated performance testing module may include a user interface or views such as a plurality of navigation menus that may be presented to a user via output mechanism . Views may include header information and footer information such as to identify the given menu program and or version. Further views may present executable commands to enable various functionality associated with a given test. For example commands may include commands such as start to instruct the module to start logging based on the configuration stop to instruct the module to stop logging erase all logs to erase any logs stored in memory suspend to instruct the module to suspend logging however the module may include logic to automatically suspend logging if the memory being used reaches a predetermined threshold resume to re initiate logging following a suspend command release to release the internal memory buffer for example for use for debugging operations write to memory to write recorded data from a first memory to a second memory simulated power down to cause the device to mimic a normal power down so that clean up functions will be called and executed which is useful for debugging request upload to request an upload of any stored data and or logs to another computer device such as controller system and audio vibration a toggle for setting audio and or vibrate alert feedback for example for use when receiving a command from another device and or initiating a data call and or when requesting or completing an upload and for use in debugging operations. Additionally views may include changeable fields such as for entering values for test variables . Thus a user may configure and run a predetermined radiated performance test through views on wireless device .

Alternatively device test configuration may be transmitted to wireless device via a wired or wireless connection or may be included on computer platform at the time of manufacture.

Additionally radiated performance test module includes device test log for storing the radiated performance related information based on device test configuration . Device test log comprises a record stored in data repository that may include the test conditions and or the test results associated with one or more radiated performance tests performed using wireless device . As noted above for example device test log may include wireless device WD receiver data and or WD transmitter data . In one embodiment receiver data includes one or more measured signal characteristics which is are collected from processing subsystem upon the processing of signal at each selected position . Additionally device test log may include other information that corresponds to the data generated by wireless device during a given radiated performance test. For instance device test log may include information contained within a received signal such as predetermined synchronization data and or reference signal characteristic from signal . In one embodiment reference signal data may be data that defines the original state of signal received by wireless device such as a power value an amplitude value a phase value a frequency value a signal type protocol etc. In one embodiment predetermined synchronization data may be time information corresponding to a time when wireless device was in selected position or position information defining the coordinates of selected position . Further device test log may include all or any portion of device test configuration in association with the collected receiver data and or transmitter data to provide a convenient reference to the test conditions associated with a given set of collected data.

Further in some embodiments radiated performance test module may include device analyzer module to determine radiated performance characteristic associated with wireless device for a given predetermined radiated performance test . Device analyzer module may include any hardware software firmware and or other set of executable instructions operable to analyze any information collected in device test log and generate radiated performance characteristic . In one embodiment for example device analyzer module may include an analysis protocol which may include functions algorithms etc. associated with a method of processing and or analyzing the information in log to generate radiated performance characteristic . For example analysis protocol may include implementations of performance tests integration protocols simulation models predictive models statistical analysis etc. such as for utilizing the logged information to determine a desired metric such as a partial solution to a test result or the final solution to the test i.e. the radiated performance characteristic . As such radiated performance characteristic may be a metric such as but not limited to a power and or voltage gain a sensitivity measurement a complex pattern correlation a fading correlation a gain differential between two receive chains antennas etc. Further radiated performance test module may store the generated radiated performance characteristic in device test log or in some other record in association with one or more of the components of log for transmission review and or analysis on wireless device and or at another computerized device such as controller system . Additionally analysis protocol may be contained within device test configuration and accessed by device analyzer module during execution to determine a radiated performance test result.

Referring to FIGS. and controller system may comprise at least one of any type of hardware software firmware workstation server personal computer mini computer mainframe computer or any special purpose or general computing device. Further controller system may reside entirely on the wireless device . Additionally controller system can include separate servers or computer devices that work in concert to perform the functions describe herein. Controller system or plurality of modules can send software agents or applications such as the resident radiated performance testing module to wireless device across a wireless network such that wireless device returns information from its resident applications and subsystems. For example wireless device may transmit the result of executing device test configuration during a predetermined radiated performance test in the form of device test log where controller system may then synchronize this with predetermined time information or position information to generate radiated performance characteristic .

Additionally controller system has an input mechanism for generating inputs into the system and an output mechanism for generating information for consumption by the user of the controller system. For example input mechanism may include a mechanism such as a key or keyboard a mouse a touch screen display a voice recognition module etc. The inputs into controller system may include menu selections to set up change parameters and run a radiated test or to synchronize logged information from the wireless device with logged information on the controller system. Further for example output mechanism may include a display an audio speaker a haptic feedback mechanism etc. The generated information to output may include the above referenced menus for performing a test and synchronizing and or computing the test results a view of the test results etc.

Further controller system has computer platform that can transmit and receive data and that can receive and execute software applications and cause the display of data. Computer platform includes a storage mechanism which may comprise volatile and nonvolatile memory such as read only memory ROM and or random access memory RAM erasable programmable read only memory EPROM electronically erasable programmable read only memory EEPROM flash memory cards or any memory common to computer platforms. Further storage mechanism may include one or more secondary or tertiary storage devices such as magnetic media optical media tape or soft or hard disk.

Further computer platform also includes a central processing unit which may be one or a combination of an application specific integrated circuit ASIC or other chipset a logic circuit a programmable logic machine or any other data processing device. Central processing unit interprets and executes instructions and data contained in software such as all or portions of radiated test manager module as is discussed below in more detail.

Additionally computer platform further includes a communications module embodied in hardware firmware software and combinations thereof that enables communications among the various components of controller system as well as between controller system and other devices such as positioning system radio signal system and wireless device . For example communications module includes input ports and output ports such as for receiving device test log and transmitting control signal respectively.

As noted previously computer platform further includes radiated test manager module to execute and manage all radiated performance test activities on controller system . Radiated test manager module may be embodied in hardware firmware software and combinations thereof. In one embodiment radiated test manager module includes management logic that provides the capability to run predetermined radiated performance test . Further in some embodiments management logic may provide the capability to initiate the analysis of collects logs to generate radiated performance characteristic .

In one embodiment radiated test manager module includes a library having a plurality of predetermined radiated performance tests that may be run by controller system . For example the plurality of predetermined radiated performance tests may include different test protocols which can vary by standards body wireless carrier wireless device manufacturer wireless device processor antenna system model of wireless device and also which may be designed to determine different radiated performance characteristics. In any case management logic may provide an interface to a user to select radiated performance test from among the plurality of predetermined radiated performance tests . Alternately radiated performance test may be individually loaded onto computer platform and executed by radiated test manager module .

Referring to in one embodiment predetermined radiated performance test includes a set of a plurality of positions at which signals and are respectively transmitted to or from wireless device . The plurality of positions correspond to a particular test protocol. For example as required by some radiated tests the plurality of positions may comprise points on a sphere. It should be understood however that plurality of positions may comprise points that can be associated with any type of line or any type of shape. As noted previously associated with each signal may be one or more reference signal characteristics and respectively. These reference signal characteristics may include but are not limited to a signal power a signal amplitude a signal phase a signal frequency a signal type protocol and any other controllable signal parameter that may be set for purposes of determining a radiated performance of wireless device .

Additionally in some embodiments each signal may further include data packets which may be defined as predetermined over the air OTA data . For example as noted above predetermined OTA data may include predetermined synchronization data that defines time information and or position information . Time information includes data that defines a time when wireless device is at one of the plurality of positions such as selected position . In one embodiment for example time information may be acquired from a time module which may be a local module associated with central processing unit or which may be a remote module accessible by controller system for the purposes of synchronizing data. Position information includes data that defines the spatial coordinates of selected position . As previously mentioned predetermined synchronization data is utilized to associate the measured value such as measured signal characteristic received by wireless device or measured signal characteristic received by radio signal system at each selected position with for all of the plurality of positions in order to generate a set of measure data for analysis.

Further predetermined OTA data may include additional OTA data which may include predefined data packets that comprise messages in a given wireless protocol. These messages may include a plurality of subpackets that further define additional data. For example in a code division multiple access protocol additional OTA data may include paging messages acknowledgement messages registrations messages system parameter messages and any other overhead messages. Further additional OTA data may further include subpacket information such as service options system identification SID codes network identification NID codes coordinates of a latitude and longitude of a base station system configuration parameter information test configuration parameter information etc. Further additional OTA data may include codes to control functionality of wireless device such as to turn logging on and off to indicate a change of position to indicate when to transmit a signal and any other device control parameter. For instance different SID code values may be used to turn on and turn off the recording of log parameters . Further in one embodiment predetermined synchronization data may be embedded in an un used portion of a standard overhead message defined by additional OTA data .

Additionally predetermined radiated performance test may further include device test configuration as discussed above in detail. Device test configuration may comprise the relevant information for a computerized device having the appropriate testing modules to execute all or a portion of predetermined radiated performance test . For instance device test configuration may allow one or both of wireless device and controller system to carry out predetermined radiated performance test . Further device test configuration may comprise summary information detailing parameters of the test. In one embodiment for example device test configuration may be transmitted to wireless device as part of additional OTA data .

Additionally radiated performance test may include a set of log parameters and test variables for executing the test or for packaging within device test configuration . Also based on the given parameters of the test radiated performance test may include a predetermined set of control commands to carry out the test.

Further predetermined radiated performance test may additionally include analysis protocol processing and or analyzing the information in log to generate radiated performance characteristic as discussed above in detail. In an embodiment where wireless device performs the analysis for example analysis protocol may be transmitted to wireless device as part of additional OTA data . Alternately analysis protocol may be utilized locally by controller system .

Referring back to predetermined radiated performance test is executed by radiated test manager module to generate control signal based on various parameters associated with test at each position. As noted earlier control signal includes positioning component to move wireless device through each of the plurality of positions via positioning system . Further as noted earlier control signal includes signaling component to control the transmissions of signal from radio signal system to wireless device based on reference signal characteristic .

In an embodiment controller system determines radiated performance characteristic of wireless device such as when wireless device transfers device test log to controller system or when test involves the measurement of transmission signal from wireless device . In either case referring to radiated test manager module further includes a control test log to maintain a record of the test conditions and or the test results. In one embodiment for example control test log includes device test configuration to record the test parameters which may include all or any portion of the data associated with predetermined radiated test as discussed above.

Further control test log may include the predetermined values of test parameters that can then be compared to the measured values of test parameters in order to determine a radiated performance of wireless device . For example control test log may include a record of control receiver data which includes information on signals such as signal received by radio signal system from wireless device . For example control receiver data may include measured signal characteristic predetermined synchronization data reference signal characteristic and or any other information associated with signal received from wireless device . Similarly control test log may include a record of control transmitter data which includes information on signals such as signal transmitted by radio signal system to wireless device . For example control transmitter data may include reference signal characteristic which defines information about signal transmitted to wireless device synchronization data measured signal characteristic and or and or any other information associated with signal transmitted to wireless device .

Additionally in the above embodiments radiated test manager module may include a performance analyzer module to execute analysis protocol as discussed above on the data contained in control test log and or device test log in order to determine radiated performance characteristic . Performance analyzer module which may be the same as or similar to analyzer module on wireless device may include any hardware software firmware and or other set of executable instructions operable to analyze any information collected in control test log and or device test log .

Further performance analyzer module may additionally include synchronization logic executable to collect control test log and or device test log and combine records in order to synchronize signals measurements and positions in order to generate a synchronized data log . In particular synchronization logic matches synchronization data between device test log and control test log in order to correspondingly match measured signal characteristics with their associated reference signal characteristics. For example in one embodiment the result of this matching combination of records is synchronized data log . In this case performance analyzer module executes analysis protocol on synchronized data log in order to generate radiated performance characteristic .

Referring back to positioning system may be any mechanism capable of moving wireless device to selected position . In one embodiment for example positioning system includes a position controller that receives positioning component of control signal which identifies selected position and directs a positioner assembly to move an attached wireless device to selected position . For example positioner assembly may include a plurality of support structures such as arms and bases which may each be independently rotatable and or linearly movable to enable positioner assembly to move wireless device into any given planar and or spherical position or to rotate wireless device about an axis through the given position. In one embodiment for example positioner assembly may rotate wireless device at any angle about a vertical axis and about any angle about a horizontal axis. Further a height of wireless device may be adjusted to any elevation e about a vertical axis. Positioner assembly may include rotational and or linear motors such as servo motors in order to receive commands from position controller and precisely position wireless device . Further positioner assembly may include a mounting mechanism for removably securing wireless device to positioner assembly . For example mounting mechanism may be a corresponding hook and loop fastener system tape glue a slotted case sized to hold the wireless device etc.

Still referring to radio signal system may be any mechanism capable of transmitting and or receiving radio wave signals respectively to and or from wireless device . In one embodiment for example radio signal system includes a communication simulator module for generating and receiving signals based on signaling component of control command . For example in an embodiment where wireless device includes a cellular telephone communication simulator module may be a base station simulator that emulates the functions of a base station transceiver in a wireless network such as a model 8960 Wireless Communications Test Set available from Agilent Technologies of Palo Alto Calif. Communication simulator module may include transmit and receive components that enable radio signal system to transmit signal and receive signal through an antenna . In one embodiment antenna includes a direction horn type antenna which may include a positioner to adjust a horizontal h and or vertical v polarization associated with the signals. Additionally positioner may be able to adjust a vertical height of antenna although this may not be necessary if the vertical height of wireless device is adjustable by positioner assembly .

Additionally as noted above communication simulator module may include receive components to measure predetermined parameters of received signal . Alternatively radio signal system may include additional receiver components such as a power meter to measure parameters of interest. In any case radio signal system measures the received signal and reports this information to controller system . For example radio signal system reports control receiver data such as measured signal characteristic to controller system which records this information in control test log .

Still referring to test chamber provides an environment that isolates wireless device from external radio waves and noise. Further test chamber provides an environment that reduces interference from reflected radio wave signals and thus may comprise an anechoic chamber. For example test chamber includes a plurality of walls that form an enclosure surrounding wireless device . The internally facing sides of walls include wave absorbing materials such as a foam material having a plurality of cone shaped projections for absorbing and dissipating radio waves and noise. Further any component within test chamber such as positioning assembly may further include wave absorbing material on one or more surfaces to reduce radio wave reflection. Thus test chamber provides radio frequency RF isolation from the external environment and allows for the execution of radiated tests on the same frequency channels used by local wireless carriers without interference such as interference to or from the commercial wireless networks.

Referring to in one embodiment a method operable on a wireless device for determining a radiated performance characteristic of the wireless device comprises receiving and loading a radiated performance testing module Block . For example wireless device may receive and load radiated performance testing module via a wired or wireless connection.

Further the method may further include receiving a test configuration associated with the predetermined radiated performance test Block . For example wireless device may receive device test configuration which identifies parameters to log and variables to utilize during the performance of the given radiated performance test.

Additionally the method may further include executing the given radiated performance test based on the received test configuration Block . Execution of the given radiated performance test may involve a number of actions such as receiving a radio wave signal Block transmitting a radio wave signal Block and or logging measured and or reference signal characteristics and synchronization data based on the received test configuration at each of a plurality of positions defined by the predetermined radiated performance test Block . For example when testing the received capabilities of wireless device radiated performance testing module records receiver data such as measured signal characteristic based on the device test configuration . Similarly radiated performance testing module may transmit signal and log its associated reference signal characteristic based on the parameters of the given radiated performance test .

In an embodiment that involves local analysis Block the method further includes receiving and loading an analysis protocol associated with a given radiated performance test Block . For example radiated performance testing module may receive an analysis protocol to apply to the recorded log information in device test log . Further this embodiment includes analyzing the logged measured and or reference signal characteristics and synchronization data Block and generating a radiated performance characteristic based on the analysis protocol Block . For example radiated performance testing module executes analysis protocol to analyze predetermined parameters recorded within device test log . This analysis results in a generation of radiated performance characteristic .

Alternatively in an embodiment that provides for remote analysis Block the method further includes transferring the log records so that they may be analyzed by another device Block . For example radiated performance testing module transfers device test log to controller system for further analysis.

Referring to in another embodiment a method operable on an apparatus for determining a radiated performance characteristic of a wireless device includes receiving and loading a radiated performance application Block . For example controller system may receive and the load radiated test manager module having one or more radiated performance tests.

Further the method includes executing a predetermined radiated performance test Block . For example radiated test manager module may execute predetermined radiated performance test . The execution of a predetermined radiated performance test may involve a number of actions such as sending control signals based on the predetermined test to other system components Block . For example at each of a plurality of positions associated with a given performance test radiated test manager module may generate control signal having positioning component to change the position of wireless device through movements of positioning system . In embodiments involving the transmission of signals to wireless device the action of sending control signals may further include sending a signaling component to radio signal system to initiate generation of signal . Additionally for example the action of executing a predetermined radiated performance test may further involve logging predetermined reference and or measured signal characteristics and synchronization data Block . For example radiated test manager module may record control receiver data and or control transmitter data in control test log .

In an embodiment that involves local analysis Block the method further includes receiving a record of measured characteristics and synchronization data from the wireless device Block . For example radiated test manager module receives device test log from wireless device . If that the received log includes measured signal characteristics that are synchronized with position information Block then the method further includes analyzing the received log based on a predetermined analysis protocol Block and generating a radiated performance characteristic Block . For example performance analyzer module may analyze device test log using analysis protocol to determine radiated performance characteristic . Alternatively if the received log is not synchronized Block then the method includes synchronizing the received log information with local log information to generate a synchronized data log Block . For example performance analyzer module may execute synchronization logic to combine device test log with control test log by matching the synchronization information contained within each log. In this case once synchronize data log is generated then the method may continue with the analysis of the synchronized information via a predetermined analysis protocol Block and the generation of radiated performance characteristic Block .

Alternatively in an embodiment that involves remote analysis Block such as analysis on wireless device the method may include transmitting an analysis protocol associated with the predetermined radiated test to another device Block . For example if not already included as part of device test configuration radiated test manager module may transmit analysis protocol to wireless device such as through signal . Optionally this embodiment of the method may further include receiving the radiated performance characteristic from another device Block . For example radiated test manager module may receive radiated performance characteristic from wireless device if the wireless device includes analyzer module .

In particular in one non limiting example as highlighted earlier the described embodiments may be utilized for cellular telephone radiated antenna receiver tests such as 1 a Total Isotropic Sensitivity TIS test 2 a Total Radiated Power TRP test and 3 an antenna pattern correlation rho test.

All three of these radiated tests require spherical measurement of antenna gain for both vertical and horizontal polarizations. Inherent in the TIS test is a measurement of the antenna receive gain pattern although it is traditionally accomplished indirectly via receiver sensitivity. The TRP test depends on a measurement of the antenna s transmit gain. The antenna pattern correlation test or antenna rho test requires simultaneous measurement of complex voltage receive RX gain including amplitude and phase of two or more antennas. The physical procedure of measuring spherical gain is essentially the same for all tests measure the loss between transmitter and receiver as the phone is physically rotated around the sphere most commonly in a series of Great Circle cuts elevation cuts . What differs between each test is the nature and position of the transmitter and receiver.

In the case of the TIS test and antenna pattern correlation test the transmitter typically a cell site simulator such a communication simulator module is connected to a range directional antenna such as a horn antenna and the receiver is connected to the antenna under test. In this case the receiver is receiver module and the antenna under test is antenna system of wireless device . For the TRP test wireless device acts as the transmitter and the receiver is an RF power meter connected to the range antenna .

In these tests receiver module of wireless device makes the necessary measurements for the RX based tests RX Gain Antenna Rho . By using receiver module of wireless device the described embodiments provide a number of advantages such as time savings since wireless device does not have to be modified for testing and potentially more accurate results since the prior art modification of wireless device and the prior art use of external equipment and cables may alter the gain pattern of the antenna.

Additionally radiated performance testing module provides access to receiver data such as RX AGC received power and Pilot I Q estimates from each rake finger via API interfacing with processing subsystems . Further radiated performance testing module logs receiver data to device test log within data repository . This approach provides the advantage of being able to test wireless device with no cables attached. At this point wireless device becomes both the test equipment and the data logger. This provides a cleaner test setup which evaluates wireless device in a more representative state uncabled and may provide time savings as well.

Further the above described set up allows all necessary test data to be logged in one single place one wireless device . For example with system position controller can be queried for position information at the time of each power measurement. This position information or some data such as a time corresponding to this position information is communicated to wireless device during testing without cables such that all necessary test data can be logged on wireless device . This enables wireless device to synchronously log position information with receiver parameters such that a power vs. position record can be collected on the fly. Alternatively controller system may record the position information and a time or some other variable that can be synchronized with wireless device corresponding to the position information. At the same time wireless device records the measured data parameter and the time or other synchronization data . In this alternative wireless device may send the log to controller system which can synchronize the position information with the measured data parameters via the time or other synchronization data. For example position information or at least synchronization data may be transmitted to wireless device via a data socket opened over an active traffic channel encoding in one or more unused fields in the forward link overhead channel messages such as the SID network identification NID or base station latitude and longitude in system parameter message and data could be communicated over auxiliary channels such as Bluetooth or 802.11 frequency channels.

The TIS test accounts for interaction of antenna and phone electronics inclusive of jamming effects from unwanted noise radiated by phone electronics that can couple to the antenna module. In particular with regard to the TIS test a CDMA receiver sensitivity measurement entails finding the traffic channel power at which the received signal quality begins to degrade specifically the point at which the frame error rate FER becomes 0.5 . It should be noted however that some other FER threshold may be specified depending on the given scenario. Further it should be noted that other threshold parameters may be utilized. For example utilizing global system for mobile communications GSM technology the threshold parameter may be bit error rate BER . For the CDMA case however the Cellular Telecommunications Internet Association CTIA specified procedure for the TIS test dictates that a radiated sensitivity measurement is made at every 30 in the Theta elevation and Phi azimuth axes. Again depending on the scenario other predetermined positions may be utilized. Excluding points at Theta 0 and 180 this prior art technique requires 60 individual sensitivity measurements for each polarization which are subsequently integrated over the sphere producing the TIS metric. This is an extremely time consuming test to perform since identification of the sensitivity point at each position requires a gradual iterative process which in the past has been performed manually.

The described embodiments however provide for accelerating the speed at which the TIS test can be performed. The radiated sensitivity around the sphere varies only as a result of the variation of antenna RX gain. All other factors in the link are constant. As such it follows that if the antenna s RX gain pattern is known then a sensitivity measurement is required at only a single reference point preferably the point of maximum antenna gain. Therefore radiated sensitivity Sens at any other point on the sphere can be expressed as Sens Sens 1 where Sens is the radiated sensitivity at spherical coordinate expressed in dBm G is the RX antenna gain at spherical coordinate expressed in dB and is the coordinate of the reference sensitivity measurement i.e. preferably the sensitivity at the position of maximum gain.

In the prior art this approach is impractical since as mentioned previously prior art devices are altered destructively to measure G . However the described embodiments allow G to be determined non destructively since received power measurements are performed by receiver module of wireless device . Thus in one particular embodiment the following accelerated methodology for each polarization vertical and horizontal may be utilized 

 1 execute radiated performance testing module to measure and log G at a predetermined plurality of positions such as 30 increments for which in this case defines a shape of a sphere excluding 0 and 180 

 3 perform a single radiated sensitivity test at position i.e. ramping down transmitted power to the wireless device while monitoring FER or BER for a GSM based device until a predetermined threshold FER is reached to determine Sens 

 4 apply Equation 1 above to the entire set of predetermined positions such as the previously mentioned spherical positions to determine Sens for each predetermined position and

 5 integrate the calculated Sens over the shape of the predetermined positions in order to determine the TIS metric for the wireless device.

In other words TIS requires radiated sensitivity patterns EIS and EIS where EIS Effective Isotropic Sensitivity is the radiated receiver sensitivity at a given measurement angle for a given BER or FER threshold. In a test chamber however these values are difficult to measure directly since the call often drops when the test phone is rotated to an antenna pattern null e.g. the receive signal level can go below phone noise level . To avoid this problem the receive patterns are measured at a received power level high enough to avoid dropped calls and then scaled by the measured peak sensitivity value to derive EIS and EIS patterns. For example in one embodiment the chamber path losses are calibrated so that a known power level is incident on the test phone that is about equal to or greater than 30 dB above the phone s noise floor e.g. about 70 dBm at the phone test site is a good number for a typical phone . It should be noted however that other dBm values may be utilized depending on the given test scenario. The antenna gain patterns G G are derived from the above measured pattern data by normalizing to the received signal strength indication RSSI value i.e. the measured power reported by the phone when injecting the reference power level 70 dBm in this case directly into the receiver usually via the RF test port on the phone . This is the value the phone would report if the antenna gain at a given measurement angle was 0 dBi and the power incident at the phone was 70 dBm. Deviations from this value indicate the receive antenna gain.

The peak radiated receiver sensitivity Peak EIS is then measured in the anechoic chamber at the angle of incidence and for the chamber horn polarization vertical v or horizontal h resulting in the peak antenna gain. The EIS patterns are obtained by normalizing the antenna gain patterns by the peak EIS value Peak .

Once the EIS and EIS patterns are known the TIS metric is obtained by performing a spatial average of the patterns over a sphere of test angles 

This technique allows for the calculations to be made entirely on wireless device entirely at control system or some combination thereof. For example wireless device can independently make determinations when in receipt of synchronization data such as position information or synchronization data such as time information in combination with the log from controller system of synchronization data versus position information. Wireless device may determine G and transmit position to controller system for re orientation of positioning system and initiation of the sensitivity testing portion of the protocol. Wireless device may then calculate the required Sens and perform the integration to determine the TIS metric which it may store and or send to controller system .

Alternatively the data collection at wireless device may be interrupted after Steps and to allow device test log to be offloaded from wireless device to for example controller system for post processing to determine G and G . For example log includes a record of measured data versus synchronization data At this point controller system may send control signal to position wireless device at position for the radiated sensitivity test. Similarly wireless device may offload device test log after recording a set of sensitivity measurements at the position of maximum gain or after determining Sens . Then controller system can apply Equation 1 at all positions and or perform the integration across the sphere thereby determining the TIS metric.

Furthermore Step can be performed with wireless device in idle mode since the RX AGC is active. Advantageously this technique eliminates the need to maintain a traffic call during the duration of the test. Although it should be noted that wireless device may be in a call for Step since FER may be defined only for traffic data frames.

In one embodiment the above described sensitivity test is performed manually the forward link transmit power on the cell site simulator is adjusted by hand to reach the target FER on wireless device . As noted above the described embodiments provide for the automation of the sensitivity test. For example controller system establishes a call with wireless device and gradually ramps the forward link power down while maintaining a record of power vs. time i.e. in control test log . Simultaneously radiated performance testing module records FER vs. time i.e. in device test log . Radiated test manager module receives device test log and executes synchronization logic to synchronize the measurements associated with the recorded time in each log and thereby generating synchronized log which includes a record of FER vs. power. Based on this record of FER vs. power performance analyzer module may determine the point of 0.5 FER.

In another alternative if the forward transmit power is communicated to wireless device over the forward link then all necessary data can be logged at the wireless device . In this case radiated performance testing module executes analyzer module to determine the point of 0.5 FER. Thus consolidating the logging on wireless device advantageously eliminates the need for offline synchronization of logs and respectively from controller system and wireless device .

With regard TRP the TRP test is a performance test of the transmit chain of wireless device . For this test wireless device may be configured via device test configuration to transmit at full power. For example in a CDMA device this is most often accomplished by instructing the cell site simulator to send all up power control bits while a traffic call is maintained. Power received from wireless device is measured by power meter attached to antenna range directional horn antenna .

The CTIA specified procedure for the TRP test dictates that a power measurement is made at every 15 in the Theta elevation and Phi azimuth axes for each polarization. Excluding points at Theta 0 and 180 this technique requires 264 individual data points for each polarization which are subsequently integrated over the sphere producing the TRP metric. Due to the overlap in the positions at which measurements are desired the described embodiments allow the TRP test to be performed simultaneously with the TIS test thereby providing substantial time savings.

Alternatively another method to configure wireless device for full power operation is to manually set the digital transmit gain by placing it in Factory Test Mode FTM . In this configuration the TRP test can be performed simultaneously with the idle mode RX gain determination described above with regard to the TIS test providing for potential time savings.

where EIRP is the effective isotropic radiated power for the vertical polarization and EIRP is the effective isotropic radiated power for the horizontal polarization which can be determined from the transmit gain patterns G MaxOut

where MaxPAOut is the maximum power out of the power amplifier i.e. the maximum power out of transmitter module at each test frequency.

It follows that the peak effective radiated power PeakEIRP is the maximum value of the EIRP pattern Peak Max Max Max 

The PeakEIRP may be needed for regulatory certification of a wireless device i.e. SAR class level certification radiated emissions.

Pattern envelope correlation evaluates the potential for diversity gains of a dual antenna dual receiver phone in a mobile environment. The rho test determines fading correlation based on measuring complex gains. The measured complex Rx patterns for the primary and secondary antennas e.g. E E E E as discussed below can be used to estimate the envelope correlation resulting from a model of the incident field on the antenna pair.

With the advent of receiver diversity as an available feature in current generation of mobile station modem MSM ASICs a need has developed for radiated tests to predict how well a multi antenna system will perform in the field. MIMO devices will benefit from such a test as well. A crucial design parameter for a dual antenna device is the correlation between antennas. An antenna pair which produces highly correlated signals in the dual receive chains is of minimal use for receive diversity. The described embodiments utilize the envelope correlation also known as the fading correlation as a predictor of diversity gain in dual antenna systems.

The envelope correlation can be predicted from complex voltage gain patterns of a pair of antennas and an assumed incident RF field. As with other receive gain measurements the complex antenna gain pattern has traditionally been measured using a cabled test. In the case of a commercial wireless device this requires destructive modification of the device to install external connectors. Instead of destructive modification however the described embodiments utilize component of receiver module of wireless device . For example in the case of a cellular phone the CDMA rake receiver functionality requires accurate phase estimates of the Pilot channel. By providing an active Pilot channel from a cell site simulator such as simulator and having radiated performance test module log the received power from each receive chain antenna as may be found in an RX AGC data packet and the in phase quadrature phase I Q Pilot estimates as may be found in a RX Pilot Finger data packet from the rake receiver as the phone is rotated around a sphere a complex gain pattern can be generated entirely on wireless device . This requires no destructive modification of the handset.

As with the receiver gain pattern discussed above all logging may be consolidated on wireless device if position angle information is wirelessly transmitted to the device such as over the forward link during data collection.

If wireless device does not accurately implement receiver diversity in Idle mode multi antenna complex pattern determination may be accomplished with wireless device in a traffic call.

In particular the described embodiments include apparatus and methods for estimating the envelope fading correlation in a mobile environment from the measured complex radiated patterns from a pair of antennas on wireless device within test chamber .

The complex voltage V incident on an mantenna element at due to the kelectromagnetic plane wave ray F with a complex antenna field pattern E can be given by 

where P and P represent the incident field angular power density functions in vertical polarization and horizontal polarization directions Pand Pare constants representing the mean incident powers on wireless device in vertical and horizontal polarizations respectively over a representative RF environment such as may be found along a random drive route.

From the two signal variances and the cross covariance the envelope correlation coefficient is given by 

The measured complex antenna patterns E E E E for wireless device having antenna system with dual antennas at discrete angles over a field of view covering 4 steradians can be used in the previous formulation to calculate as follows 

where R is related to the cross covariance between antennas and i j are indices relating to the angular position of the measured sample N represents the number of angles and N represents the number of angles.

In these calculations values for XPR polarization ratio of incident field and and the form of P and P functions are dependent on the RF environment e.g. urban suburban rural highway etc. .

As an example expressions for P and P for a channel model with uniform spread in azimuth and Gaussian spread in elevation is given below 

Several phone mockups with dual antennas were fabricated. Complex patterns were measured and the fading correlation was calculated from the patterns for each test case. The resultant values ranged from 0.05 to 0.98. Additionally the same mockup phones were used to measure the correlation between signals received by each antenna in typical indoor environments. The tests were performed in areas covered by the local PCS service provider.

In particular referring to the measured pattern correlation results from measurements in test chamber were seen to compare favorably to those obtained from raw field measurements. For example graph includes a horizontal axis corresponding to measured pattern values and a vertical axis corresponding to field values for a phone having a single dipole antenna connected to a splitter and measured in non line of sight NLOS conditions indoors a phone having two pair of dipole antennas with 0.05 separation measured on a rooftop in near line of sight LOS conditions a phone having two pair of dipole antennas with 0.05 separation measured in NLOS conditions a clamshell phone having one external antenna and one internal antenna measured in NLOS conditions a clamshell phone having one external antenna and one internal antenna measured in NLOS conditions a phone with a dual stubby external antenna measured in NLOS conditions and a phone with a stubby external antenna and an internal antenna measured in NLOS conditions. Thus graph indicates that the s calculated from the patterns and field data nearly lay on top of each other for a large range of values.

Due to the correlation between the measured pattern s and the field s these results confirm that laboratory tests can be performed according to the described embodiments to evaluate the diversity performance of dual antenna diversity enabled wireless devices without having to resort to extensive field testing.

Further referring to a table includes an example of calculated s for different channel models using measured radiated patterns from a demonstration phone. In this case channel models include an indoor environment with an outside base transceiver station an urban microcell an urban macrocell and a highway macrocell. Further each channel model includes a different set of variables . In this case for example variables include polarized wave m angular spread and polarization ratio XPR. It should be noted that the statistics used for the channel models were from measurements done by Kalliola et. al. Angular Power Distribution and Mean Effective Gain of Mobile Antennas In Different Propagation Environments Vol. 51 No. 5 September 2002 hereby incorporated by reference. Based on these calculated results the described apparatus and methods provide a robust approach for using complex radiated patterns to estimate the fading correlation between dual antennas in mobile environments to characterize the diversity performance of diversity enabled wireless devices.

Thus in the described embodiments one or more predetermined radiated performance characteristics may be determined for a wireless device during a single test where the wireless device is uncabled and where the wireless device records its own measured values along with synchronization data in a resident memory. For example the radiated performance characteristics may include the TIS value the TRP value and the envelope correlation . The calculated value of the radiated performance characteristic based on measurements described herein may then be compared to some predetermined threshold such as may be set by a network carrier a manufacture or standards group in order to determine a radiated performance acceptability approval and or certification of the wireless device.

While the foregoing disclosure shows illustrative embodiments it should be noted that various changes and modifications could be made herein without departing from the scope of the described embodiments as defined by the appended claims. Furthermore although elements of the described embodiments may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

