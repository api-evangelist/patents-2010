---

title: Method and apparatus for optimization of SIGCOMP UDVM performance
abstract: A mobile communication system that utilizes multiple access technologies achieves multiple session registrations by deriving a plurality of extended unique device identifications from a specific unique device identification (e.g., private user identification (PIID) stored on a subscriber identity module (SIM)) assigned to a user equipment. Each of the plurality of extended unique device identifications have the benefit of allowing multiple registrations with one or more access networks while allowing a home subscriber system to detect the one unique device identification embedded in the extended unique device identifications for authentication purposes. Thereby, a large population of deployed UEs and access network infrastructure may benefit without replacement by allowing a UE to maintain session continuity when transitioning between access networks, to select a preferred access technology when in overlapping coverage areas without session interruption, or to maintain multiple sessions (e.g., simultaneous Voice over IP (VoIP) and media streaming) with different access networks.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08478886&OS=08478886&RS=08478886
owner: Qualcomm Incorporated
number: 08478886
owner_city: San Diego
owner_country: US
publication_date: 20100305
---
The present application is a Continuation of patent application Ser. No. 11 842 802 entitled Method and Apparatus for Optimization of SIGCOMP UDVM Performance filed Aug. 27 2007 now U.S. Pat. No. 7 685 293 and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

This invention relates to session continuity for data packet wireless communication between networks using different communication standards.

Wireless communication proliferates with introductions of new transmission modes communication protocols and types of communication content. Examples of wireless communication systems include the public land mobile network PLMN and the wireless local area network WLAN . In order for a mobile station also referred to as user equipment UE to have access to a communication channel at various locations increasingly a multi access or multi mode capability is incorporated into a single handheld UE. In addition more functionality is being incorporated including voice and data services. This integration poses challenges for seamless multi access and session continuity as the UE moves within range of various access networks. The interworking between Third Generation Partnership Project 3GPP e.g. Global System for Mobile Communications General Packet Radio Service GSM GPRS Wideband Code Division Multiple Access WCDMA High Speed Downlink Packet Access HSDPA and other access technologies such as IEEE 802.11 WiFi for instance creates situations where interruptions in service or inability to multi access are likely.

Multi access refers to the ability to use multiple different access networks with a single communications device. The communications device may for example be connected to the Internet at first using a WLAN and when outside the coverage of the WLAN network using conventional circuit switch CS communications network.

Session continuity refers to maintaining upper level connections for example transport level connection for a data packet protocol communication when the access technology that is the link layer changes. This means for example that applications in a communications device or User of a communication device does not notice changes in access technology or interruptions in connectivity.

Examples of access technologies and communication services include traditional CS services i.e. voice Short Message Service SMS along with some packet data service e.g. presence and instant messaging over GSM and Universal Mobile Telecommunication System UMTS access. Voice Over IP VoIP SMS IP and other packet data services e.g. push to talk video sharing etc. are available over Wireless Fidelity WiFi as well as UMTS HSDPA. Some services such as broadcast multicast are available over UMTS but not HSDPA WiFi.

Considerable deployment of wireless infrastructure and UEs have been made utilizing IMS IP Multimedia Subsystem which is an internationally recognized standard that specifies interoperability and roaming between devices and provides bearer network control and security. It is also well integrated with existing voice and data networks and hence makes IMS an important enabling technology for fixed mobile devices. IMS also makes efficient use of existing circuit and packet switched technologies. The third generation 3G IMS comprises a core network subsystem within the Universal Mobile Telecommunication System UMTS which uses the Session Initiation Protocol SIP to initiate modify and terminate multimedia sessions. IMS also uses the IETF Session Description Protocol SDP to define session parameters as well as negotiate codecs to be used during the multimedia session.

The IMS architecture requires that each UE register the network address provided by the access network by sending a unique device identifier that is authenticated by a home service provider. The problem thus is that a UE cannot maintain simultaneous registrations via different access technologies such as WLAN UMTS 1x Evolution Data Optimized EV DO etc. Thus it is not possible to maintain session continuity to deliver services over a preferred access or to have simultaneous services over different accesses.

With regard to the first scenario of maintaining session continuity over multiple access technologies considerable development has addressed certain aspects of the problem. Mobile IP protocol takes care that data packets relating to a communication device s home IP address are routed from a home network to a care of address at a mobile location of the communication device. While this allows certain simultaneous registration the Mobile IP provisioning functionality at the network end imposes certain challenges for implementation. In addition the Mobile IP protocol entails extra headers relating to tunneling to be present in data packets. Given the limited throughput typical of wireless access networks this overhead tends to degrade the data transfer capabilities to utilize Mobile IP.

It has also been proposed that changes be made to the IMS architecture so that at the point where the communication converges from two access networks. The unique device identifier would be detected with the two different network addresses with some provisions made to allow simultaneous registrations when desired and to override a prior registration in other situations. However such an implementation assumes that the two communication channels would have network addresses assigned by different proxy call session control function P CSCF which is not necessarily the case.

With regard to the second scenario of automatically switching to a preferred access network it is possible that a UE is within the coverage of multiple access networks e.g. UMTS and WiFi . A user of the UE may prefer to receive a service e.g. push to talk over a particular access network e.g. UMTS . However this would require the UE to be registered in the IMS domain over both WiFi and UTMS access networks which is prevented.

With regard to the third scenario of simultaneous services it may be desirable for the UE to receive different services over multiple accesses simultaneously e.g. video streaming over WiFi and push to talk over UMTS .

The following presents a simplified summary in order to provide a basic understanding of some aspects of the disclosed versions. This summary is not an extensive overview and is intended to neither identify key or critical elements nor delineate the scope of such versions. Its purpose is to present some concepts of the described versions in a simplified form as a prelude to the more detailed description that is presented later.

A user equipment registers selectively to more than one IMS IP Multimedia Subsystem capable access network by emulating more than one unique device identifier in a session initiation protocol SIP registration request so that a new IMS registration does not necessarily cause the overwriting of an assigned network address to correspond to the new access network. The SIP registrar server or home subscriber server is still able to discern the unique device identifier within the registration information and enables the multiple sessions. Thereby uses are supported whereby the user equipment seeks to enhance session continuity seeks to utilize preferred access networks when coverage exists for multiple access networks or wants to utilize multiple access networks simultaneously.

In one aspect a method for supporting multiple session registrations of a data packet protocol for a user equipment assigned a unique device identifier is by receiving a plurality of registration requests from a user equipment. Each registration request appears unique in that the unique device identifier is appended to one of a plurality of registration extensions so that the access network s do not necessarily drop an earlier session from the same user equipment. Yet a downstream enabler of the multiple sessions is still capable of detecting the unique device identifier authenticating that the unique device identifier is a subscriber and allowing the multiple data packet sessions.

In an additional aspect at least one processor is configured to support multiple session registrations of a data packet protocol for a user equipment assigned a unique device identifier by having modules for receiving a plurality of registration requests from a user equipment. Each registration request appears unique in that the unique device identifier is appended to one of a plurality of registration extensions so that the access network s do not necessarily drop an earlier session from the same user equipment. Yet a downstream enabler of the multiple sessions is still capable of detecting the unique device identifier authenticating that the unique device identifier is a subscriber and allowing the multiple data packet sessions.

In yet an additional aspect a computer program product has a computer readable medium containing sets of codes for causing a computer to support multiple session registrations of a data packet protocol for a user equipment assigned a unique device identifier is by receiving a plurality of registration requests from a user equipment. Each registration request appears unique in that the unique device identifier is appended to one of a plurality of registration extensions so that the access network s do not necessarily drop an earlier session from the same user equipment. Yet a downstream enabler of the multiple sessions is still capable of detecting the unique device identifier authenticating that the unique device identifier is a subscriber and allowing the multiple data packet sessions.

In another aspect an apparatus for supporting multiple SIP registrations is given that has a means for receiving a first SIP registration request from a user equipment comprising a unique device identifier for the user equipment appended to one of a plurality of registration extensions. A means is provided for detecting the unique device identifier authenticating that the unique device identifier is a subscriber and responding with a network address to enable a first data packet protocol session. In addition a means is provided for receiving a second SIP registration request from the user equipment comprising the unique device identifier appended to another of the plurality of registration extension for detecting the unique device identifier authenticating that the unique device identifier is a subscriber and responding with a second network address to enable a second data packet protocol session.

In yet another aspect an apparatus for supporting multiple session registrations of a data packet protocol includes user equipment having memory that contains a unique device identifier. A processor generates SIP registration requests comprising the unique device identifier appended to one of a plurality of registration extensions and for generating a second SIP registration comprising the unique device identifier appended to another of the plurality of registration extensions. At least one transceiver sends the SIP registration requests to at least one SIP proxy server and receives corresponding network addresses to establish multiple data packet protocol sessions. An SIP registrar server includes a memory containing a subscriber database containing the unique device identifier and a temporary network address data structure. A processor detects the unique device identifier and the network addresses in communications from the at least one SIP proxy. By authenticating the unique device identifier and by recognizing the multiple sessions the processor enables multiple simultaneous registrations for the user equipment.

In another aspect a method for initiating multiple session registrations of a data packet protocol for a user equipment assigned a unique device identifier utilizes the method of sending first and second SIP registration requests each made to appear unique by appending an extension to the unique device identifier and then utilizing two data packet protocol sessions established by the two requests.

In yet another aspect at least one processor for initiating multiple session registrations of a data packet protocol for a user equipment assigned a unique device identifier comprises modules for sending first and second SIP registration requests each made to appear unique by appending an extension to the unique device identifier and then utilizing two data packet protocol sessions established by the two requests.

In yet a further aspect a computer program product has a computer readable medium containing sets of codes for sending first and second SIP registration requests each made to appear unique by appending an extension to the unique device identifier and then utilizing two data packet protocol sessions established by the two requests.

In an additional aspect an apparatus is given for requesting multiple session registrations of a data packet protocol first uses means for sending first and second SIP registration requests each made to appear unique by appending an extension to the unique device identifier and then a means for utilizing two data packet protocol sessions established by the two requests.

In yet another aspect an apparatus for requesting multiple session registrations of a data packet protocol includes a transmitter for sending first and second session initiation protocol SIP registration requests of a unique device identifier for the user equipment appended to one of a plurality of registration extensions. The apparatus also includes a processor for utilizing first and second data packet protocol sessions in response to at least one access network detecting the unique device identifier authenticating that the unique device identifier is a subscriber and responding with a network address for each SIP registration request to enable the first and second data packet protocol sessions.

To the accomplishment of the foregoing and related ends one or more versions comprise the features hereinafter fully described and particularly pointed out in the claims. The following description and the annexed drawings set forth in detail certain illustrative aspects and are indicative of but a few of the various ways in which the principles of the versions may be employed. Other advantages and novel features will become apparent from the following detailed description when considered in conjunction with the drawings and the disclosed versions are intended to include all such aspects and their equivalents.

A mobile communication system that utilizes multiple access technologies achieves multiple session registrations by deriving a plurality of extended unique device identifications from a specific unique device identification assigned to a user equipment. Each of the plurality of extended unique device identifications have the benefit of allowing multiple registrations with one or more access networks while allowing a home subscriber system to detect the one unique device identification embedded in the extended unique device identifications for authentication purposes. Thereby a large population of deployed UEs and access network infrastructure may benefit without replacement by allowing a UE to maintain session continuity when transitioning between access networks to select a preferred access technology when in overlapping coverage areas without session interruption or to maintain multiple sessions e.g. simultaneous Voice over IP VoIP and media streaming with different access networks.

Various aspects are now described with reference to the drawings. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of one or more aspects. It may be evident however that the various aspects may be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form in order to concisely describing these versions.

With reference to a communication system enables a user equipment UE to wirelessly communicate to at least two different access networks utilizing Mode A and B transceiver circuitry respectively. In particular the UE can start a session depicted at advantageously registering an extended unique device identifier EUDID A that includes a unique device identifier stored on the UE . An address registering server A of the access network assigns a network address A to the UE in order to establish the session and passes this information to a gateway to a data packet network . A home subscriber server detects the unique device ID within the EUDID and authenticates this unique device ID in a subscriber database and stores the temporary network related information .

It should be appreciated with the benefit of the present disclosure that a multiple link function incorporated into the UE that embeds the unique device ID into the EUDID has an advantage of providing a large if not unlimited number of variations for multiple registrations. The address registering server of the access network A would accept as a different registration each of the variations of the unique device ID represented by the EUDID yet the home subscriber server can recognize the multiple registrations during authentication of each session. Moreover already deployed UEs having unique device IDs already assigned may benefit from utilizing this approach without necessitating replacement and large scale infrastructure modifications.

Thereafter one of three situations occurs requiring an additional registration to an access network . . The first is when the UE moves from the coverage area of access network A to the coverage area of access network B during a session registered with EUDID A and network address A. The multiple link function of the UE derives another EUDID B from the unique device ID and transmits it as depicted at from mode B transceiver circuitry to an address registering server B . The address registering server B of the access network B assigns a network address to the UE in order to establish a session and passes this information to a gateway to the data packet network . The home subscriber server detects the unique device ID within the EUDID B and authenticates this unique device ID in the subscriber database and stores the temporary network related information . Thereafter the multiple link function may maintain a seamless user experience during a transition when receiving over one or both of the two network addresses A B to maintain session continuity.

In a second situation the multiple link function advantageously recognizes that the UE is simultaneously within the coverage area of the two access networks and that a current session is not registered with the preferred access network. Thus the multiple link function initiates the second registration as previously described.

In a third situation the multiple link function of the UE seeks to initiate multiple registrations with the same address registering server A as depicted at . Use of a different EUDID allows the address registering server A to register the UE a second time which would have been precluded if the same code had been used.

With reference to according to some aspects the UE may comprise any type of computerized communication device. For example as illustrated in the UE may comprise a mobile communication device such as a wireless and or cellular telephone. Alternatively the UE may comprise a fixed communication device such as a Proxy Call Session Control Function P CSCF server a network device a server a computer workstation etc. It should be understood that UE is not limited to such a described or illustrated device but may further include a Personal Digital Assistant PDA a two way text pager a portable computer having a wired or wireless communication portal and any type of computer platform having a wired and or wireless communications portal. Further the UE can he a remote slave or other similar device such as remote sensors remote servers diagnostic tools data relays and the like which does not have an end user thereof but which simply communicates data across a wireless or wired network. In alternate aspects the UE may be a wired communication device such as a landline telephone personal computer set top box or the like. Additionally it should be noted that any combination of any number of UEs of a single type or a plurality of the afore mentioned types may be utilized in the communication system . Therefore the present apparatus and methods can accordingly be performed on any form of wired or wireless device or computer module including a wired or wireless communication portal including without limitation wireless modems Personal Computer Memory Card International Association PCMCIA cards access terminals personal computers telephones or any combination or sub combination thereof.

Additionally the UE may include a user interface for purposes such as requesting interacting with and or playing multimedia content performing voice or data communication etc. This user interface includes an input device operable to generate or receive an input into the UE and an output device operable to generate and or present information for consumption by the user of the UE . For example input device may include at least one device such as a keypad and or keyboard a mouse a touch screen display a microphone in association with a voice recognition module etc. In certain aspects input device may provide for user input of a request for content or for user input of a request for additional information. Further for example output device may include a display an audio speaker a haptic feedback mechanism etc. Output device may generate a graphical user interface a sound a feeling such as a vibration etc.

Further UE may include a computer platform operable to execute applications to provide functionality to the device and which may further interact with input device and output device . Computer platform may include a memory which may comprise volatile and nonvolatile memory portions such as read only and or random access memory RAM and ROM erasable programmable read only memory EPROM electrically erasable programmable read only memory EEPROM flash memory and or any memory common to computer platforms. Further memory may include active memory and storage memory including an electronic file system and any secondary and or tertiary storage device such as magnetic media optical media tape soft and or hard disk and removable memory components.

Further computer platform may also include a processor which may be an application specific integrated circuit ASIC or other chipset processor logic circuit or other data processing device. In some aspects such as when UE comprises a cellular telephone processor or other logic such as ASIC may execute an application programming interface API layer that interfaces with any resident software components such as voice call data call and media related applications in memory . API may be a runtime environment executing on the respective communication device. One such runtime environment is Binary Runtime Environment for Wireless BREW software developed by Qualcomm Incorporated of San Diego Calif. Other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices.

Additionally processor may include various processing subsystems embodied in hardware firmware software and combinations thereof that enable the functionality of UE and the operability of the UE on communication system . For example processing subsystems allow for initiating and maintaining communications and exchanging data with other networked devices as well as within and or among components of UE . In one aspect such as in a cellular telephone processor may include one or a combination of processing subsystems such as sound non volatile memory tile system transmit receive searcher layer layer layer main control remote procedure handset power management diagnostic digital signal processor vocoder messaging call manager Bluetooth system Bluetooth LPOS position determination position engine user interface sleep data services security authentication USIM SIM universal subscriber identity module subscriber identity module voice services graphics USB universal serial bus multimedia such as MPEG Moving Picture Experts Group protocol multimedia GPRS General Packet Radio Service short message service SMS short voice service SVS web browser etc. For the disclosed aspects processing subsystems of processor may include any subsystem components that interact with applications executing on computer platform . GPRS is a packet data communications system integrated with the GSM cellular telephone system.

Computer platform may further include communication modules that enables communications among the various components of UE as well as being operable to exchange data and communication requests between the UE and the communication system . Communication modules may he embodied in hardware firmware software and or combinations thereof and may further include all protocols for use in intra device and inter device communications. Further communication modules are operable to transmit and or receive information in accordance with the apparatus and methods described herein.

The multiple link function resident in memory can utilize the communication modules to initiate and maintain two separate network registrations based upon extended unique device identification EUDID data structure maintained in memory so that a channel A application and a channel B application may execute in memory . In particular the multiple link function may maintain session continuity during a transition between channel applications may select a preferred channel application or maintain simultaneous channel applications .

In some aspects the memory of the UE may further store a user interface module to operate the user interface such as for retrieving storing and playing multimedia content in a background or a foreground process or effecting a communication session. The user interface module may comprise one or any combination of hardware software firmware data and executable instructions operable to perform these functions including a media player appropriate for the type of multimedia content and capabilities of the user interface .

The UE can have multiple mode capability utilized by the communication module by including Mode A transmit and receive circuitry e.g. CS link and Mode B transmit and receive circuitry e.g. WiFi link .

In the illustrative UE of the computer platform is provisioned for session initiation protocol SIP by including a subscriber identity module SIM that may be compatible with or encompass one or more of a standard SIM universal subscriber identity module USIM and an IMS subscriber identity module ISIM .

In the exemplary version the SIM is a UICC UMTS integrated Circuit Card which is the chip card used in mobile terminals in GSM and UMTS networks. The UICC ensures the integrity and security of all kinds of personal data. In a GSM network the UICC contains a SIM application and in a UMTS network it is the USIM application. A UICC may contain several applications making it possible for the same smartcard to give access to both GSM and UMTS networks and also provide storage of a phone book and other applications. In support of UMTS release 5 the IP multimedia Services Identity Module ISIM is required for services in the IMS. IP Multimedia Services Identity Module ISIM is an application running on a UICC smart card in a 3G mobile telephone in the IP Multimedia Subsystem IMS . It contains parameters for identifying and authenticating the user to the IMS. The ISIM application can co exist with SIM and USIM on the same UICC making it possible to use the same smartcard in both GSM networks and earlier releases of UMTS.

The ISIM consists of a SIM processor CPU read only memory ROM random access memory RAM nonvolatile memory e.g. EEPROM and input output I O circuitry . The ROM contains a SIM operating system the SIM applications and security algorithms A A . The RAM is used for buffering transmission data and executing the applications . The EEPROM contains the unique device identification UDID .

In the illustrative version this unique device identification is derived from those codes stored in accordance with the SIM and ISIM standards. The SIM standard employs the following codes International Mobile Subscriber Identity IMSI Temporary Mobile Subscriber Identity TMSI International Mobile Equipment Identity IMEI and Mobile Subscriber ISDN Number MSISDN . The IMSI is a unique user identity that is stored in the SIM. To improve privacy a IMSI is generated per geographical location. While IMSI TMSI are used for user identification the IMEI is a unique device identity and is phone specific. The MSISDN is the telephone number of a user. With IMS the following additional identities are implemented IP Multimedia Private Identity IMPI and IP Multimedia Public Identity IMPU . To that end the EEPROM stores a Subscriber ID IMSI Pin a call number IMSI MSISDN equipment ED IMEI keys Ki and network related information TMSI LAI . LAI Location Area Identity identifies under which Base Station Controller the UE is currently present. The EEPROM also contains the private user identification PIID and the public user identification PUID .

The use and content of the ISIM can be protected by use of PIN codes not depicted . One code PIN can be defined to control normal use of the phone. Another code PIN can be set to allow the use of special functions like limiting outbound telephone calls to a list of numbers . PUK and PUK i.e. pin unlock key is used to reset PIN and PIN respectively.

With the ISIM thus provisioned the UE may utilize Session Initiation Protocol SIP which is the protocol used for call control in the third generation mobile network starting from the 3GPP release 5. SIP uses textual encoding which makes it easier to build services based on SIP design extensions to SIP and debug the protocol. SIP is specified by the Internet Engineering Task Force IETF and comprises a highly generalized and widely applicable protocol for establishing user sessions across packet networks. SIP affords the capability for users to establish sessions that can transfer multimedia data including for example voice video and audio between two or more participants. The session is established according to a specified protocol including invite messages issued from a client requesting access to an asset on another device server .

At the most general level SIP sessions utilize up to four major components i SIP User Agents VA which are the UEs such as cell phones multimedia handsets personal computers PCs personal digital assistants PDAs etc. used to create and manage a SIP session ii SIP Registrar Servers which are databases that contain the location of all User Agents within a particular domain in SIP messaging these servers retrieve and send participants IP addresses and other pertinent information to the SIP Proxy Server iii SIP Proxy Servers accept session requests made by a SIP UA and query the SIP Registrar Server to obtain the recipient UAs addressing information the session invitation is then forwarded directly to the recipient UA if it is located in the same domain or to a Proxy Server if the UA resides in another domain and iv SIP Redirect Servers which allow SIP Proxy Servers to direct SIP session invitations to external domains. SIP Redirect Servers may reside in the same hardware as SIP Registrar Servers and SIP Proxy Servers. Together these systems deliver messages embedded with the SDP protocol defining their content and characteristics to complete a SIP session.

IMS IP Multimedia Subsystem is an internationally recognized standard that specifies interoperability and roaming between devices and provides bearer network control and security. It is also well integrated with existing voice and data networks and hence makes IMS an important enabling technology for fixed mobile devices. IMS also makes efficient use of existing circuit and packet switched technologies. The 3G IMS comprises a core network subsystem within the Universal Mobile Telecommunication System UMTS which uses the Session Initiation Protocol SIP to initiate modify and terminate multimedia sessions. IMS also uses the IETF Session Description Protocol SDP to define session parameters as well as negotiate codecs to be used during the multimedia session.

SIP runs atop different transport protocols such as the User Datagram Protocol UDP and the Transmission Control Protocol TCP and hence typically is implemented at the Session Layer. The IMS architecture specified in 3GPP TS 23.22829 is built upon the UMTS packet domain. However the IMS architecture is purposely designed so as to be forward compatible with mechanisms for IP connectivity other than those utilized by the UMTS packet domain. This feature is known as access network independence and affords a significant degree of flexibility and forward compatibility. For example in the context of security the generalized IETF architecture of SIP allows several security trust models to be defined providing hop by hop end to middle and end to end security solutions. The IETF SIP working group has accordingly defined several security mechanisms that can be applied to the different uses of SIP. These mechanisms offer for example authentication message integrity confidentiality and replay protection. A 3GPP IMS subscriber has one IP multimedia private identity IMPI and at least one IP multimedia public identity IMPU . To participate in multimedia sessions an IMS subscriber must register at least one IMPU with the IMS. The private identity is generally used only for authentication purposes.

With reference to a dual mode communication system is depicted as including a dual mode mobile station having a channel A wireless communication path to an IP connectivity Access Network IP CAN A connecting an IMS subscriber to IMS services depicted as UMTS packet data network . Typically the IP CAN will be General Packet Radio Service GPRS either being supported by GSM EDGE Radio Access Network GERAN or UMTS Terrestrial Radio Access Network UTRAN functionality. The dual mode mobile station also has a channel wireless communication path to an access network B depicted as a WiFi access network and an IP CAN comprising a Packet Data Gateway PDG communicating to a Wireless Access Gateway WAG which is in SIP IETF Realtime Transport Protocol RTP communication with a WiFi access point AP .

There are several IMS entities that are generally relevant to the 3G IMS architecture. The UE contains the SIP user agent UA and the ISIM that contains the IMS security information. As described the ISIM can be a distinct application sharing no data and functions with the USIM or it can share data and security functions with the USIM or it can be a reused USIM. There can only be one ISIM per IMPI. A proxy call session control function. P CSCF acts as an outbound SIP proxy. The P CSCF is the first contact point in the serving network and forwards SIP requests towards an interrogating call session control function I CSCF . The I CSCF is the contact point in the home network and acts as a SIP proxy. It forwards SIP requests or responses towards a serving call session control function and may be located at any number of different locations. The Serving Call Session Control Function S CSCF may behave as a SIP registrar a SIP proxy server and a SIP UA. Before the UE can send a SIP INVITE message to invoke a session it must first register an IMPU with the S CSCE. The registration of an MPU is accomplished by the UE by sending a SIP REGISTER message towards the home network.

Sessions are established using INVITE messages. In one scenario an INVITE message is sent from one UE to another both of which reside in a 3GPP network. The INVITE from UE in the first Home Network first passes through a P CSCF and then to an I CSCF which forwards the message to a home subscriber system HSS which looks up to which S CSCF the user is registered. A similar process is performed within the second Home Network and the INVITE message is terminated for example in another UE for a voice communication. The IMS transmission may now start for example by using the IETF Realtime Transport Protocol RTP .

Returning to the GERAN communicates via Iu interface and the UTRAN communicates via a IU Gb interface to a Serving GPRS Support Node Gateway GPRS Support Node SGSN GGSN which in turn is in communication via a Gs interface to a Visitor Location Register VLR via a Gr Gc interface to the HSS and via a Gr Gc interface to a Home Location Register Authentication Center HLR AuC . VLR contains selected administrative information from the HLR necessary for call control and provision of the subscribed services for each mobile currently located in the geographical area controlled by the VLR .

Although each functional entity can be implemented as an independent unit most manufacturers of switching equipment implement one VLR together with one Mobile services Switching Center MSC so that the geographical area controlled by the MSC corresponds to that controlled by the VLR. The MSC acts like a normal switching node of the PSTN or ISDN and in addition provides all the functionality needed to handle a mobile subscriber such as registration authentication location updating handovers and call routing to a roaming subscriber. These services are provided in conjunction with several functional entities which together form the Network Subsystem. The MSC provides the connection to the public fixed network PSTN or ISDN and signaling between functional entities. The Home Location Register HLR provides the Call routing and possibly international roaming capabilities of GSM. The HLR contains all the administrative information of each subscriber registered in the corresponding GSM network along with the current location of the mobile. There is logically one HLR per GSM network but it may be implemented as a distributed database. The HLR stores all permanent subscriber data and the relevant temporary data of all subscribers permanently registered in the HLR. The IMSI International Mobile Subscriber Identity and authentication data are stored in it. The Authentication Center AuC is a protected database that stores a copy of the secret key stored in each subscriber s SIM card which is used for authentication and ciphering of the radio channel. The Visitor Location Register VLR is a database part of the GSM mobile phone system which stores information about all the mobile stations that are currently under the jurisdiction of the MSC Mobile Switching Center which it serves. Of all the information it stores about each MS Mobile Station the most important is the current LAI Location Area Identity . LAI identifies under which BSC Base Station Controller the MS is currently present. This information is vital in the call setup process. Whenever an MSC detects a new MS in its network in addition to creating a new record in the VLR it also updates the HLR of the mobile subscriber with the new location of that MS.

IMS domain supports both access networks and includes the HSS . In particular a call state control function CSCE communicates with the HSS via a Sh interface communicates with the SGSN GGSN via an interface Gi Gp communicates via SIP signaling to the PDG and via SIP signaling with Media Gateway Control Function MGCF which in turn communicates via Media Gateway Control IETF working group MEGACO to media gateway MGW which in turn communicates via RTP to the PDG .

In an exemplary version of the extended unique device identifier EUDID which is one of many that can be derived from the one unique device identifier e.g. PIID begins with a unique identifier field e.g. the PIID . An extension field can be appended to the unique identifier field . For instance the extension field can include three base 10 digits that will allow the UE to have 1000 concurrent links. This approach allows passing through a conventional P CSCF that would otherwise not allow multiple registrations. The EUDID may advantageously include an identification field that communicates an intention for multiple registrations for those P CSCE capable of interpreting this information.

Thus this EUDID can be used to register without modifications to the P CSCF by having the UE and S CSCF emulate different IMPIs using the IMPI that is assigned to the device. As an example UE A is assigned IMPI privateIDA networkdomain.com. When registering with IP address via IP CAN UE A adds a suffix to the IMPI such as IMPI ext privateIDA ext networkdomain.com. When registering with IP address via IP CAN UE A adds a suffix to the IMPI such as IMPI ext privateIDA ext networkdomain.com. This allows the UE A to send two REGISTER requests with different IMPIs from point of view of the P CSCF. However the S CSCF recognizes the extensions to the IMPI and removes the extension before querying the HSS etc. Thus this solution only requires an upgrade in the UE and S CSCF behavior. There is no dependency on the P CSCF and no protocol change is required.

In an approach is first presented for multiple registrations that entails modifications to the third stage of a 3G IMS architecture. Then advantageously generalizes this approach by making modifications to the first stage to address a limitation. First to re cap the existing limitation with regard to supporting multiple registrations in today s IMS specifications. Consider a scenario when a UE A is in WLAN access and assigned IP address . UE A is registered in IMS with . Then UE A moves to UMTS network and is assigned IP address . If HE A registers with the previous registration is over ridden.

In a recent but generally known proposal addresses supports simultaneous IMS registrations when changing the IP CAN by requiring communicating via a new P CSCF and means that a new IP address is assigned. The solution considers the following situation UE A is connected through IP CAN to PCSCF I. UE A is assigned IP address I and is registered in IMS. UE A moves to IP CAN and is now connected to IMS through PCSCF . UE A is now assigned IP address . Two options are proposed for supporting simultaneous registrations in such a scenario I Protocol Changes in UE and S CSCF When registering from new IP CAN . UE uses a Reg ID to help S CSCF separate different registrations

When UE A registers via IP CAN P CSCF it includes a reg id see draft ietf sip outbound to help S CSCF separate different registrations. Also if S CSCF supports simultaneous registrations it responds with supported outbound .

S CSCF a authenticates and accepts the registration. In case UE really wants to override the old registration instead of maintaining simultaneous registrations the UE simply sends the subsequent REGISTER message with the same reg id . This is shown below.

A change should be noted in S CSCF behaviour S CSCF checks connectivity to the UE via old P CSCF and IP CAN . S CSCF checks connectivity to UE A via IP CAN P CSCF by issuing a NOTIFY for the reg event possibly with event attribute set to shortened to trigger a re authentication . This is a change in S CSCF behaviour as today the S CSCF according to 24.229 would de register the UE A s contact via IP CAN P CSCF .

In a further feature is disclosed that obviates the need to route through different P CSCFs which currently only have one security mapping for each IMPI. Thus we propose a solution below for the P CSCF to support multiple security mappings for one IMPI when needed. The issues addressed include letting the P CSCF whether UE is requesting simultaneous registrations or not and informing the UE if current P CSCFs does support simultaneous registrations. Thus the protocol changes in UE and P CSCF are as follows. When registering from new IP CAN UE uses mreg field in the Proxy Require header to help P CSCF separate different security associations fur the same IMPI. When the P CSCF receives the value mreg in Proxy Require header the P CSCF that supports this extension recognizes the need to maintain multiple security associations for the same UE IMPI . A P CSCF that does not recognize this extension rejects the REGISTER request with a failure response. On receipt of a failure response the UE may re REGISTER without asking for simultaneous registrations i.e. without the mreg field in Proxy Require header . Thus we have a full solution by combining the approach of with . However this solution depends on whether the P CSCF in the path is upgraded to support simultaneous registrations or not.

Therefore while the foregoing disclosure shows illustrative aspects it should he noted that various changes and modifications could be made herein without departing from the scope of the described aspects as defined by the appended claims. Furthermore although elements of the described aspects may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

In addition while a particular feature may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application. To the extent that the terms includes and including and variants thereof are used in either the detailed description or the claims these terms are intended to be inclusive in a manner similar to the term comprising. Furthermore the term or as used in either the detailed description of the claims is meant to be a non exclusive or .

Furthermore although elements of the described aspects and or versions may he described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated. Additionally all or a portion of any aspect and or version may be utilized with all or a portion of any other aspect and or version unless stated otherwise.

