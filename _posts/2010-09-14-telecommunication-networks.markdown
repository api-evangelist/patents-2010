---

title: Telecommunication networks
abstract: A mobile telecommunications network includes a core and a radio access network having a wireless device for wireless communication with mobile terminals registered with the network, wherein the radio access network includes a controller operable to control the use of network resources by the mobile terminals. The controller may include an application programming interface (API) which provides a consistent interface to a multiplicity of applications hosted on the controller. The controller may be provided at an access node site and/or a gateway site.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09055507&OS=09055507&RS=09055507
owner: VODAFONE GROUP PLC
number: 09055507
owner_city: Newbury, Berkshire
owner_country: GB
publication_date: 20100914
---
This application relates to a mobile telecommunications network including a core and a radio access network having a wireless device for wireless communication with mobile terminals registered with the network.

Recently a dramatic rise in sales of both smart phones and laptop data cards has resulted in a substantial increase in the amount of data communications passing through mobile telecommunications networks. This volumetric increase can also be attributed to enhancements made to the capabilities of the networks. In fact it has been reported that mobile data growth grew 30 percent over the course of the second quarter of 2009. The most popular use for mobile data was HTTP browsing although usage of HTTP streaming is growing considerably. Other mobile data uses include HTTP downloading and Peer to Peer P2P activities such as file sharing.

This ability to use the cellular networks for mobile data services such as Internet browsing is resulting in subscribers treating their mobile networks in much the same way as they treat their fixed networks. That is users are tending to expect the same service from the Internet irrespective of their access method. However mobile networks have a more restricted capacity and are more costly to operate as compared to fixed networks.

In this regard from the network operator s viewpoint as the mobile broadband traffic volume carried over 2G 3G and HSPA High Speed Packet Access networks continues to grow the cost of supporting this data volume is becoming more and more expensive based on the current network architecture and deployments. In fact access and data volumes are likely to rise faster than the revenue used to build and maintain the networks. This cost differential is exacerbated by one of the current business models being utilized whereby operators charge a flat rate for unlimited amounts of data.

The increased usage is also unfortunately likely to result in an increase of data traffic jams and hence a degradation of service for mobile users if not properly managed.

It has been proposed to control data heavy users by choking the bandwidth available to them when a maximum data volume limit is exceeded. Whilst this addresses the problem on an individual level it does not address the network capacity problem as a whole.

It is therefore apparent that mobile broadband is at a crossroads as networks and business models are strained by bandwidth demand that is unmatched by revenue generation.

These problems will only get worse with moves to position mobile data as a replacement for fixed DSL Digital Subscriber Line access and with the advent of higher radio access speeds with the proposed 4G LTE SAE Long Term Evolution System Architecture Evolution network. A large percentage of this traffic will consist of data which is destined for the public Internet a significant proportion of which mobile operators will not be able to add value to despite carrying the data on their own backhaul transport core transport or cellular core infrastructure.

In addition to the problems discussed above conventional mobile telephone communications networks have architectures that are hierarchical and expensive to scale. Many of the network elements such as the BTS routers BSC RNC etc are proprietary devices of one manufacturer often do not interface with devices from another manufacturer. This makes it difficult to introduce new capabilities into the network as a different interface will be required for devices from each manufacturer. Further conventional base stations are not capable of intelligent local routing or processing. Furthermore the capacity of existing networks is not always used effectively. For example many cell sites are under used whilst others are heavily used.

There is therefore a need to overcome or ameliorate at least one of the problems of the prior art. In particular there is a need to address the needs of both the network operators and the users in improving the provision of mobile broadband data services.

According to the system described herein a mobile telecommunications network includes a core and a radio access network having a wireless device for wireless communication with mobile terminals registered with the network the radio access network including a controller operable to control the use of network resources by said mobile terminals.

The controller may include an application programming interface API. The API may provide a consistent interface to a multiplicity of applications hosted on the controller. The API may be operable to provide application characteristics to the controller. The API may be operable by the controller to provide link quality information to the applications hosted. The API may be operable by the controller to allow disallow and or adapt the applications hosted.

The controller may be provided at an access node site and or a gateway site. The controller may be distributed between at least one access node site and at least one gateway site.

The controller may be operable to select intelligently the site at which functions are performed. The controller may be operable to intelligently select functions performed at respective ones of said access node sites. The controller may alternatively or additionally be operable to intelligently select functions performed at respective ones of said gateway sites.

The controller may be operable to intelligently select hosted applications to provide the applications to the terminals. The controller may select intelligently hosted applications from the gateway sites. The controller may select intelligently hosted applications from the access node sites.

The controller may be operable to control the reception and or transmission of the content at each of said sites. The reception and or transmission of the content may be controlled through communication with a hosted application over the API interface. The reception and or transmission of the content may be controlled through communication with a hosted function within the controller. The reception and or transmission of the content may be controlled through communication with both hosted applications and functions.

The controller may control the allocation of functions at the sites in response to a cell handover or reselection in the radio access network.

The controller may be operable to adjust the bandwidth used by particular applications hosted thereon.

The controller may be operable to adjust the bandwidth provided in dependence upon the user of the application.

The controller may be operable to adjust the bandwidth provided in dependence upon any combination of terminal capability access technology used and available resource.

The controller may be operable to charge based on users location application used and or the application s characteristics.

According further to the system described herein a non transitory computer readable medium stores software for a mobile telecommunications network. The software includes executable code that provides wireless communication with terminals registered with the network and executable code for a controller that controls use of network resources by the terminals. The executable code that the controller may include executable code that provides an application programming interface API . The API may provide a consistent interface to a multiplicity of applications hosted on the controller. The API may be operable to perform at least one of provide application characteristics to the controller provide link quality information to the applications hosted allow applications hosted on the controller disallow the applications hosted on the controller adapt the applications hosted on the controller. The executable code for the controller may further include executable code that performs at least one of intelligently selects functions to provide to the mobile terminals intelligently selects a site at which functions are performed intelligently selects hosted applications to provide the applications to the terminals controls reception of content at the site controls transmission of content at the site controls the caching of content and controls allocation of functions at the site in response to a handover process or a reselection process. The executable code for the controller may further include executable code that adjusts bandwidth provided in dependence upon at least one of the following a particular application hosted by the controller a user of the application a terminal capability access technology used and an available resource.

Certain elements of a 3G mobile telecommunications network and its operation will now briefly be described with reference to .

Each base station e.g. Node B and Femto corresponds to a respective cell of the cellular or mobile telecommunications network and receives calls from and transmits calls to a mobile terminal not shown in that cell by wireless radio communication in one or both of the circuit switched or packet switched domains. The mobile terminal may be any portable telecommunications device including a handheld mobile telephone a personal digital assistant PDA or a laptop computer equipped with a network access datacard.

The nodeB or Femto can be considered to comprise two main parts a radio frequency part and a baseband part. The radio frequency part handles the transmission of radio frequency signals between the antenna of the nodeB or Femto and the mobile terminal and for converting radio frequency signals into digital baseband signals and vice versa . The baseband part is responsible for controlling and managing the transmission of the baseband signals to other components of the mobile telecommunications network.

In a macro 3G network the Radio Access Network RAN comprises Node Bs and Radio Network Controllers RNCs . The Node B is the function within the 3G network that provides the physical and transport radio link between the mobile terminal User Equipment UE and the network. The Node B performs the transmission and reception of data wirelessly across the radio interface and also applies the codes that describe channels in a CDMA system. The RNC is responsible for control the Node Bs that are connected to it. The RNC performs Radio Resource Management RRM some of the mobility management functions and is the point where encryption is done before user data is sent to and from a mobile terminal. The RNC connects to the Circuit Switched Core Network through a Media Gateway MGW and to an SGSN Serving GPRS Support Node in the Packet Switched Core Network. In Node B is controlled by RNC across the Iub interface. An RNC may control more than one node B.

The radio link between the Femto and the mobile terminal uses the same cellular telecommunication transport protocols as Node B but with a smaller range for example 25 m. The Femto appears to the mobile terminal as a conventional base station so no modification to the mobile terminal is required for it to operate with the Femto . The Femto performs a role corresponding to that of Node B in the macro 3G RAN.

The Femto may be configured to serve a Wireless Local Area Network WLAN located in a home or office in addition to GSM UMTS LTE networks. The WLAN could belong to the subscriber of the mobile terminal or be an independently operated WLAN. The owner of Femto can prescribe whether it is open or closed whereby an open AP is able to carry communications from any mobile device in the GSM UMTS LTE network and a closed AP is only able to carry communications from specific pre assigned mobile devices.

In a 3G network macro or Femto the RANs may be controlled by a mobile switching centre MSC and an SGSN Serving GPRS Support Node of the core network. The MSC supports communications in the circuit switched domain whilst the SGSN supports communications in the packet switched domain such as GPRS data transmissions. The SGSN is responsible for the delivery of data packets from and to the mobile terminals within its geographical service area. It performs packet routing and transfer mobility management attach detach and location management logical link management and authentication and charging functions. A location register of the SGSN stores location information e.g. current cell current VLR and user profiles e.g. IMSI address es used in the packet data network of all mobile terminals registered with this SGSN. In since the embodiment is concerned with data transmission only the SGSN is illustrated as being in communication with RNC and AGW across the Iu interface. The RNC may have a dedicated not shared connection to its SGSN such as a cable connection.

Communications between the AGW and the SGSN may be IP based communications and may be for example transmitted over a broadband IP network. Further the connection between the Femto and the AGW may use the PSTN Public Switched Telephone Network . Typically a DSL cable connects the AGW to the PSTN and data is transmitted there between by IP transport DSL transport. The Femto or AGW converts the cellular telecommunications transport protocols used between the mobile terminal and the Femto to the appropriate IP based signalling.

The Femto may be connected to the AGW by other than a DSL cable and the PSTN network. For example the Femto may be connected to the AGW by a dedicated cable connection that is independent of the PSTN or by a satellite connection.

The SGSN is in communication with the GGSN Gateway GPRS Support Node across the Gn interface. The GGSN is responsible for the interworking between the GPRS network and external packet switched networks e.g. the Internet. The GGSN enables the mobility of mobile terminals in the networks. It maintains routing to tunnel the Protocol Data Units PDUs to the SGSN that service a particular mobile terminal. The GGSN converts the GPRS packets coming from the SGSN into the appropriate packet data protocol PDP format e.g. IP or X.25 and sends them out on the corresponding packet data network. In the other direction PDP addresses of incoming data packets are converted to the mobile network address of the destination user. The readdressed packets are sent to the responsible SGSN. For this purpose the GGSN stores the current SGSN address of the user and their profile in its location register. The GGSN is responsible for IP address assignment and is the default router for the connected mobile terminal. The GGSN also performs authentication and charging functions. Other functions include IP Pool management and address mapping QoS and PDP context enforcement.

In turn the GGSN may route data via any applicable Value Added Service VAS equipment before data is forwarded towards its intended destination via the Internet . As an example of the functionality of the VAS equipment the traffic may be inspected for adult content before reaching the end user if this user is under 18 years of age.

For billing purposes in particular a PCRF Policy and Charging Rules Function apparatus is also provided in communication with both the SGSN and the GGSN .

The SGSN GGSN VAS and PCRF apparatus comprise the core network of the mobile telecommunications network.

Mobile telecommunications networks have an active state of communication with their mobile terminals and an inactive idle state of communication with their terminals. When in the active state as the mobile terminals move between different cells of the network the communication session is maintained by performing a handover operation between the cells. In the inactive idle state as a mobile terminal moves between different cells of the network the mobile terminal performs cell reselection to select the most appropriate cell on which to camp in order that the mobile terminal can be paged by the network when mobile terminating data is destined for that mobile terminal.

The mobile terminal or network may determine whether a handover cell reselection procedure should be triggered in dependence upon measurements of the radio signals of the cells in the region of the mobile terminal. A filter is applied to the signals either by the network or by the mobile terminal which calculates an average e.g. arithmetical mean value of these signals over a particular time period. This filtered average values of the cells are then compared with each other or with a threshold value. In dependence upon these comparisons cell reselection handover related procedures are triggered. This cell reselection handover process generally comprises taking radio signal measurements of neighbouring cells and comparing these to each other and to the radio signal of the current cell to determine which cell provides the best signal strength quality. Handover reselection to the best cell can then occur.

Generally calculations to determine whether to perform a handover from one base station to another base station are performed by the network whereas calculations whether to perform cell reselection are performed by the mobile terminal.

Data in a mobile telecommunications network can be considered to be separated into control plane and user plane . The control plane performs the required signalling and includes the relevant application protocol and signalling bearer for transporting the application protocol messages. Among other things the application protocol is used for setting up the radio access bearer and the radio network layer. The user plane transmits data traffic and includes data streams and data bearers for the data streams. The data streams are characterized by one or more frame protocols specific for a particular interface. Generally speaking the user plane carries data for use by a receiving terminal such as data that allow a voice or picture to be reproduced and the control plane controls how data are transmitted.

In addition to the elements and functions described above mobile telecommunications networks also include facilities for transmitting SMS messages. SMS messages are transmitted over the control plane only and not the user plane .

This architecture is what currently is being used to carry all packet data to and from mobile terminals. That is in today s implementation of the Packet data architecture user plane traffic traverses across all the network elements shown between the Node B or Femto on which the user is camped and the internet. That is all data is directed from the applicable RAN through the core network components SGSN GGSN and VAS before reaching the internet. All PS traffic accordingly follows the same path and therefore has the same network costs. All applications are processed on the client on the mobile device or on the server which is connected to the internet and the network core therefore acts like a bit pipe in the current architecture. For data where the mobile network operator cannot add any value by carrying it on its own backhaul transport core transport or cellular core infrastructure the core network such as data destined for the public internet without required intervention from the core network there is no benefit to routing this data via the core network.

However a large percentage of this traffic can be handled in a more intelligent manner for example through content optimisation Video Web content caching or locally routed or directly routing content to the public Internet. All these techniques reduce the investment required by a mobile operator to carry the data on its own backhaul and core transport or cellular core infrastructure.

In order to offer low cost packet data to support new services and to manage customer expectation a step change reduction in the end to end cost per bit is required.

Mobile operators want to reduce their packet data handling costs through alternate network architectures based on commoditized IT platforms breaking away from the traditional architecture based on their voice legacy. These new network architectures overcome the Access architecture issues of today

In order to successfully offer cheap packet data and be able to compete with the fixed broadband offers flat fee a solution is proposed which focuses on the reduction of the end to end cost per bit especially for Internet access service.

This enables mobile operators to reduce packet data handling costs using an alternative network cost model architecture which breaks out of the traditional network architecture and nodes and utilizes lower cost transport networks to optimize the data flow.

In this regard shows a high level description of the architecture that may be adopted to deploy this on a 3G network.

According to this embodiment of the system described herein novel platforms for performing functions such as caching routing optimisation and offload return decision functionality are integrated into the network. This decision functionality may be incorporated in the radio architecture. In this regard the platforms may be incorporated into the NodeBs RNCs or exist as separate physical entities . It is these platforms that for example determine the path of communications originating from the mobile terminals.

The exact placement of the platform may be modified according to the system described herein and for a macro 3G network it can be placed at or between the Node Bs and the RNCs and also between the RNCs and the SGSNs or any combination thereof . It would also be possible to place the platform at the GGSN although not the SGSN as this does not control user data only control data .

In the 3G Macro network the aim is to offload a high percentage of the macro network traffic from the core and transport IuPS Gn etc by diverting specific traffic type for certain user s class directly to the Internet.

Where the platform is located in the Node Bs or on the Iub interface it may be possible to redirect the data from all the remaining mobile network elements e.g. the RNC SGSN GGSN and VAS for macro 3G and sending the data directly to the Internet . In a similar manner where the platform is located at the RNC or on the Iu interface it becomes possible to redirect the data from the SGSN GGSN and the VAS . The alternative data route may be a DSL using ADSL.

The alternative data routes may be aggregated for each cell where applicable. In this regard each cell will have at least one RNC and a plurality of Node Bs so where the decision blocks are situated at or in the vicinity of the Node Bs for instance there will be a plurality of links which should ideally be aggregated before being passed to the Internet . At the point of this aggregation there may be a further decision block which enables data to be returned to the legacy route. For instance a new policy rule may have been implemented which requires or enables previously offloaded data to be returned to the core network route. This new policy rule may be communicated to the return decision module by the core network policy module. In this returning of data is only shown to the VAS but the data may be returned to one or more of the other core network elements.

Each of the NodeBs is connected to the mobile network core through a Point of Concentration PoC . All traffic from the NodeBs which is to be routed through the core mobile network is routed to the PoC . This includes both user plane and control plane data. On the control plane level the PoC routes data to and from the SGSN and the GGSN . Control data is also sent to and from other core network components including the Lawful Interception Database LI DB DNS Server Policy Server including Charging rules and IT Network A and Home Location Register Home Subscriber Server HLR HSS which contains subscriber and device profile and state information .

User plane data is transmitted by the PoC to the SGSN and the GGSN . From the GGSN data is routed across a VAS node to the Internet . In 3G this is the standard data path from the mobile terminals to the Internet.

To implement an advantageous feature of this embodiment of the system described herein an alternative path on which to re route certain data to the internet is provided whereby each NodeB and Femto may be connected to a fixed line connection e.g. xDSL which is directly connected to the internet . These xDSL connections may be made directly to the NodeB and or Femto or made to the NodeB Femto via other components such as the PoC . In the xDSL Network may be a third party network or may be a network owned or controlled by the owner of the mobile telecommunications network. By using such an alternative path radio capacity backhaul transport resource core transport resource cellular core network resources can be saved as well as improving performance and enhancing revenue for the mobile network operator.

As each Node B and or PoC is associated with a platform for each data packet request originating from a mobile terminal a decision at the platform is made as to whether the traffic may bypass the core mobile network entirely or may be passed into the core mobile network. The location at which the traffic is routed towards the internet may be at the platform however it may alternatively be routed out from the core network towards the internet at a different component. Traffic offloaded from the macro network is routed by the platform to the xDSL network by link the decision to offload this traffic may have been made at platform or although the decision is implemented at platform 

The Offload Return decision may be dependent upon the type of data or user. To exemplify this feature of the embodiment is a flow diagram showing the steps taken when deciding how to route the traffic in the architecture of . For instance consider an NodeB receives a request to set up a data call from a user device which is camped on the NodeB at . Once the NodeB has identified the request as a data call and the type of traffic user rather than automatically routing the data traffic to the core network the data request is held at the NodeB at until a decision has been made as to how to route the data in particular whether to offload the traffic directly to the internet or whether to return the data through the core mobile network. The signalling control plane for the connection may continue through the normal route but the user data traffic will be held at the NodeB this is possible by virtue of the separate user and control planes as shown in .

The decision as to whether or not to use the Core mobile Network to route the data traffic can be based on various aspects particularly relating to the properties of the data being routed and or status of the user routing the data.

The Mobile Network may add value to traffic by providing a number of services such as compressing the user data to speed up the data transfer while downloading if this functionality is not already supported by the platforms . These different services can be broken up into groups and provided by different entities e.g. this enables greater flexibility in the provision of the services such as the mandated Internet Watch Foundation IWF requirement which can only be supported by the mobile operator . The platforms therefore make a decision on whether to service the data locally through caching fetch the data from other node or from the internet via offload functionally or whether to route the traffic through the core network based on the applicability of one or more of the services to the traffic. That is platform decides when data traffic requires one or more of the services and when it can do without them.

It should also be noted that these services are ones that could be provided without using the core network. These are services that add value to the customer and which subscribers will pay for explicitly or implicitly .

Referring again to the platform determines at what to do with the traffic from coming for the network internet or orientated by the device and at the decision is made. This decision may be made by interrogating certain servers or databases stored centrally within the core network which can compare the type of service type of user etc with criteria which identifies the type of action shall be considered e.g. whether the traffic is suitable for offloading directly to the internet at from the NodeB or whether the traffic should be routed through the core at . Examples of some of the considerations used in influencing the decision of whether to offload the traffic are discussed below in more detail. The implementation of this data offload technique needs to be carefully considered as it places additional constraints on the network design.

The following is a non exhaustive list of examples of challenges that have to be considered when implementing the data offload technique 

Some specific examples of Customer Services that can be taken into account by the offload decision module include 

The Network Services that can be taken into account by the offload decision module are typically those that the network operator needs to manage its network. Some examples include 

Regulatory Services are services that are mandated by legislation and may be provided to all traffic. Some specific examples of Regulatory Services that can be taken into consideration by the offload decision module include 

A further criterion that the platform module may consider is the priority of the customer. In this regard a network operator may wish to prioritize traffic across its network based on the priority level of the customer. For example a high value customer e.g. a corporate customer or a subscriber with on a high tariff contract may be given priority over a low value customer. In this situation a network may decide to offload lower value customers directly to the interne. This is related to the QoS criterion mentioned above although the QoS criterion is generally linked to traffic management to maintain a balanced network whereas the priority referred to can be used to ensure subscribers get a level of service commensurate with their service agreement.

The embodiment of is in relation to a 3G network. Embodiments of the system described herein are equally applicable to 4G LTE SAE networks.

The LTE SAE macro network includes eNode Bs which make up the RAN. The eNode Bs effectively combine the functionality of the node B and the RNC of the 3G network. These eNodeBs are the network components which communicate with the mobile communication devices. It is envisaged that the eNodeBs will be arranged in groups and each group controlled by a Mobility Management Entity MME and a User Plane Entity UPE .

The MME performs many of the mobility functions traditionally provided by the SGSN. The MME terminates the control plane with the mobile device. It is responsible for terminating NAS Non Access Stratum Signalling such as MM Mobility Management and SM Session Management information as well as coordinating Idle Mode procedures. Other responsibilities of the MME include gateway selection inter MME Mobility and authentication of the mobile device.

The UPE manages protocols on the user plane such as storing mobile terminal contexts terminating the Idle Mode on the user plane and PDP context encryption.

The platforms would operate in the same manner as described in relation to the 3G network. The platforms may be located at many different locations in the 4G network.

A more specific example of how the platform may be implemented is described in relation to . is a flow diagram illustrating a method according to an embodiment of the system described herein for deciding whether to offload data traffic to the interne. The decision structure is composed in a hierarchical form in order that certain types of user or data are always directed through the core network. The example of is described for a 3G network but it will be clear to those skilled in the art that these decisions could be applied to any type of radio access technology.

Once a PS HSPA data call or other connection is made and received at the Node B at a primary consideration by the platform at is whether the device is operating on its home network or whether it is roaming. If the device is roaming then all traffic is automatically routed through the core network. The reason for this is that the home network would want to guarantee the security and accurate billing due to different charging principle between home and visited operator of the user s traffic. The platform at will also consider other factors such as what application types running on the mobile terminal require connections. If the mobile device is operating on its home network at or if the applications do not require a connection to the core network the platform considers secondary offloading criteria at . Examples of secondary criteria may include the functions required by the device the radio bearer currently used by the device the APN or the priority level of the customer identified for example through IMSI IMEI or the target subscriber. If the offloading criteria are met at the decision moves to the tertiary criteria otherwise the traffic is not offloaded.

At the system checks the mobility of the user. If the user is moving he is considered not suitable for offload due to an expected interruption delay of the user data when moving between source and target cell.

Finally at the system conducts a contents and policy check to confirm whether the user is suitable for offload. If it is determined that the user is suitable for offload to the internet the eNodeB offloads the traffic to the internet at . If it is determined that the user is not suitable for offloading to the internet at then the procedure returns home at . A connection is provided by a network core in a conventional way and the tests of the flowchart shown in are repeated periodically to determine whether offloading directly to the internet becomes possible subsequently.

If the device is determined to be roaming at step then the device is not offloaded directly to the internet but remains connected via the network core in a conventional way at . Similarly if the offloading criteria are not met at steps the mobile device remains communicating via the network core in the conventional way again at .

The hierarchical decision method is useful because it reduces the number of challenges across the network. It will be evident to those skilled in the art that different hierarchical structures will be appropriate for different networks different conditions etc and that the example of is just one way the decision could be made.

For instance while arrangements have chiefly been described in relation to transmitting data traffic from a mobile terminal to a data network the principles may also be applied to transmissions from a data network towards a mobile terminal.

In the arrangements described above the decision regarding the route is said to me made at call set up. However it should be appreciated that a decision to change the routing of data may be made at the beginning of a communication session for example establishment of a PDP context or during a communication session. The routing of data may change several times during a single communication session. For example when a communication session is initiated it may be detected that the user is not moving in which case a decision will be made to offload the data over the alternative data route. Subsequently it may be detected that the user is moving and at this point a decision may be made to beginning routing data for the communication session via the mobile network. During the communication session the mobile terminal may become stationary for a prolonged period of time again and at this time a further decision may be made to send subsequent data during the communication session via the alternative data route. Subsequently again the user may then attempt to access age restricted content and it will be detected that parental control is required. In response for the requirement for parental control a decision may be made to redirect subsequent data during the Communication session via the core network so that core network parental controls can be applied.

It is to be appreciated that the present embodiments of the system described herein are to be distinguished from HSDPA offload a technique used on the Iub interface between the Node B and the RNC. HSDPA offload which serves to separate data traffic from voice traffic so that non real time data traffic is sent down a less expensive backhaul to complement or replace the expensive E1 T1 TDM backhaul link between the two. Once this diverted traffic reaches the RNC however it is returned to the cellular and transport core networks and there is no differentiation made based upon data traffic type.

In the arrangement described above the platform primarily handles data offload decisions. As will be described below the platform can perform may other functions.

Embodiments of the system described herein in which the Radio Access Network controls the use of resources by mobile terminals will now be described.

As discussed above a mobile telecommunication network is modified by the introduction of a platform . Such a platform is shown in more detail at and which includes three principal parts soft nodes physical transport layer network functions and services application layer .

The platform communicates with the radio frequency RF part of a base station such as a NodeB . The soft nodes of the platform compromise components such as a soft NodeB soft BTS soft eNodeB and soft RNC and soft SGSN GGSN . The soft nodeB provides functions equivalent to the baseband part of a conventional NodeB in a 3G telecommunications network. The soft BTS provides baseband functions equivalent to the baseband functions of a BTS in a conventional 2G mobile telecommunications network. The soft enodeB provides baseband functions equivalent to the baseband functions provided by a conventional enodeB in a 4G mobile telecommunications network. The platform may therefore communicate with the radio frequency part of a 2G 3G or 4G base station and provide appropriate baseband services for 2G 3G or 4G technologies or indeed for other technologies . A 3G mobile terminal that wishes to obtain telecommunication services from the mobile telecommunications networks connects wirelessly to the radio frequency part of a NodeB. Baseband functions may be provided either by a baseband part of the conventional NodeB or by the soft NodeB forming an element of the soft node part of the platform . For example the soft NodeB may receive radio measurements from the radio frequency part of the NodeB to which it is connected and may provide these radio measurements to other elements of the platform .

The network functions part of the platform includes modules for performing functions similar to those performed by the core network of a mobile telecommunications network such as billing location tracking and the radio resource management RRM . The network functions may further comprise an offload decision module that performs a function similar to the offload decision modules and described above. The network functions part may further comprise a caching function and Content Delivery Network function .

The network functions parts of the platform provides an Application Programming Interface API framework to the services part of the platform . The services part of the platform supports a plurality of applications etc.

The network functions fall into three main categories those that enable the network operation e.g. charging O M those that support service operation e.g. Location and those that optimize the usage of the network by certain applications and services e.g. Caching Video Optimisation .

The applications supported on the SAVi platform are the entities that supply or demand the flow of data on the network akin to a server on the interne e.g. gaming server navigation server.

The API is implemented by a software program running on the network function part which presents a novel standardized interface for the applications etc of the services part . The novel standardized API provides a consistent interface defining communication protocols ports etc. Full details of the API may be published to allow a multiplicity of applications to be developed for the platform by multiple developers. This should be contrasted with prior art arrangements where each component of a mobile telecommunications network such as BTS BSC RNC SGSN etc is proprietary and tends to have a unique interface meaning that a different application must be written for each node of a conventional network.

The applications etc may provide services to users of the telecommunications network by co operating with other parts of the platform .

The details of the use of each application used by the a user of the mobile telecommunications network is stored in an application context container. The Application context contains application names protocol used to carry such application their characterizes that measured reported over period of time and some statistical information about these applications volume number of users using these applications etc. .

As shown in a platform may be provided at each base station of the mobile network where it is connected to the radio frequency part of the base station NodeB in forming an access node . Platform may also be provided at the RNC item in where it forms a gateway . The access node and the gateway are both configured to communicate directly with the network core for example comprising the SGSN GGSN and VAS as shown in . The access node and gateway may also be connected to the Internet for direct Internet access via direct links and respectively such that at least a portion of the core network is bypassed in the manner described above.

The steps performed when a mobile terminal is activated at a NodeB at the Femto or at the Access Point AP of the network which includes the novel platform will now described with reference to . At step A the mobile terminal UE is activated within the coverage area of a particular NodeB at the Femto or at the AP. The access part of the NodeB at the Femto or at the AP communicates information from the mobile terminal to the platform associated with the NodeB at the Femto or at the AP. At step B the platform then allocates the baseband NodeB at the Femto or at the AP function and the RNC or BRAS Broadband Remote Access Server function either at access node at the NodeB at the Femto or at the AP site or at the gateway at the RNC or BRAS site of the network or even from neighbouring nodes that have spare resources to pull. The decision as to whether the RNC or BRAS function is allocated at the platform of access node or the gateway node may be made depending on various criteria including 

Upon allocating the baseband NodeB at the Femto or at the AP and the RNC or BRAS function the NodeB at the Femto or at the AP may allocate the mobile terminal to a particular carrier dedicated to the RNC or BRAS function.

Once the RNC or BRAS function is allocated to either the access node or the gateway at step C other functions performed by the platform at the access node or other access node and the gateway or other gateway are allocated to the mobile device. All other platform functions may be provided by the platform where the RNC or BRAS function is allocated to the mobile terminal. However a platform at a different location to that which provides the RNC or BRAS function to the mobile terminal may provide some or all other functions.

At step D the platform which is allocated the RNC or BRAS function is provided with a Common ID message from the core network .

At step E this message is used by the platform to look up the complete subscription information for the mobile terminal as well as the resource requirements QoS of the services required and negotiated PDP context this information being provided by the core network .

The subscription information relating to the device that is obtained from the central nodes e.g. core network is used to allocate the other functions at access node and or the gateway in dependence upon various factors including 

As mentioned above a single mobile terminal may have platform functions applications allocated on a plurality of platforms. Generally when a mobile terminal is near stationary it is most efficient for its functions applications to be served from an access node i.e. distributed whereas mobile terminals with greater mobility or lower anticipated cell hold times will be most efficiently served by having fewer or no functions applications served from the access Node and more or all functions applications served from a gateway i.e. centralized . The assignment of functions applications to a mobile terminal between an access node and a gateway will also depend upon the characteristics of the service type provided by the application for example the average IP session duration the popularity of the particular application the average mobility of mobile terminal using the service provided by the application etc .

Traffic management may be performed at the access node where there is access to real time radio information from the radio frequency part of the NodeB the Femto or the AP serving the mobile device.

Centralized Radio Resource Management RRM may be provided at the gateway and maintains performance across different access modes which may have different radio access technologies frequency bands coverage etc. The RRM function of the platform of the gateway may obtain information regarding radio traffic management from each access node to dynamically position subscribers to particular radio technology. This technique will be used to allocate network resources based on the resource availability application used and user mobility For example the traffic management information may be provided by the soft NodeB Femto or AP of the platform at the access node . This soft NodeB obtains radio information relating to the mobile terminal from the radio frequency part of the NodeB to which the mobile terminal is wirelessly connected.

For a particular mobile terminal functions provided by an access node and gateway may be coordinated to work together in an advantageous manner i.e. a hybrid or distributed arrangement . For example the gateway may set operating limits or ranges within which functions performed by the access node may be performed without reference to the gateway . When the functions move outside the ranges set control of those functions may be passed to the gateway .

Further the access node and the gateway may cooperate to advantageously optimize content delivery to a mobile terminal.

The optimization of content delivery will now be described with reference to of the drawings. Content may be optimized at gateway and at an access node . The gateway may serve multiple access nodes and my distribute content to those multiple access nodes for onward transmissions from each of those access nodes to a mobile terminal via the radio frequency part of NodeB the Femto or the AP serving that node. Radio quality measurements are reported by the mobile terminal to the access node at regular intervals such as 2 millisecond intervals. Radio quality measurement relating to that mobile terminal are transmitted between the radio frequency part of the NodeB the Femto or the AP serving the mobile terminal to the access node at regular intervals such as between 2 and 10 millisecond intervals. These radio measurements are received at the soft nodes and are passed to functions e.g. to QoS function for analysis . These radio frequency measurements from the mobile terminal and the NodeB are reported by the access node to the gateway e.g. to QoS function of the gateway for analysis at regular intervals such as intervals of between 1 and 10 seconds. The gateway may receive radio information from multiple access nodes . The radio measurements received by the gateway may be analyzed over a relatively long period such as between 1 and 2 minutes. The radio quality measurements may be averaged for example the arithmetical mean of the radio quality maybe determined over this time period. The transmission of content from the gateway may then be optimized according to this calculation. Where the content is distributed by the gateway to a plurality of access nodes the content distribution will be based on the analysis of the radio quality indicators from all of the access nodes . The analysis may consider the maximum or peak radio performance over the time period of between 1 and 2 minutes.

When the content is received by each access node the access node then distributes the content to each mobile terminal. This distribution is optimized based on real time network mode and mobile terminal specific radio link quality as determined over a period of for example between 1 and 10 milliseconds. That is content delivered to a mobile terminal that has high radio link quality may be optimized in a different manner to a mobile terminal that had poor radio link quality.

The co operation between access nodes and gateways may further enhance the distribution of content in a manner now to be described with reference to .

When a mobile terminal requests a particular content item this request is transmitted to the access node serving that mobile terminal assuming that this is the first request for this content item to the access node the access node passes this request to the gateway serving the access node . Assuming that this is the first request for this content item from the gateway the gateway retrieves the content from a content server. The content is then provided by the content server to the gateway and from there is distributed to the access node and onwardly to the requesting mobile terminal. Advantageously the gateway maintains a record of content items that are requested frequently. When a content item is determined by the gateway to be requested frequently this is stored in a cache associated with the gateway which may be the cache of the platform . Subsequent requests for that content item from access nodes to the gateway can then be serviced by retrieving the content item from the cache and distributing the content item to the requesting access node and thus avoiding the need to request the content from the content server.

The gateway may be further configured to identify popular content items that are likely to be requested by a large number of access nodes . When it is determined that a content item is popular the gateway may push these content items to each of the access nodes associated therewith so that this content is hosted at the access node using Content Delivery Network CDN function of the network functions of the gateway and the access node . The content is then available at the access node for transmission to any mobile terminal that requests it without having to retrieve this content from the gateway or the content server. Advantageously the distribution of such content items is performed in a manner which takes into account the capacity or the congestion of the link between the mobile terminal and the gateway and the nature of the content. For example typically a link between a mobile terminal and the gateway may experience very little usage and congestion in the early hours of the morning. The content item can be advantageously transmitted in between the gateway and the access node at this time when there is spare capacity. The gateway will determine whether the content item is suitable for transmission on this basis for example by taking into account a number of times that the content item has been requested the size of the content item and the storage space at the access node . If a content item is relatively small and is time critical such as news headlines then such a content item may be distributed frequently throughout the day as such content is not suitable for transmission once a day at early hours of the morning as it becomes quickly out of date.

The procedures performed when a mobile terminal moves between cells in the mobile telecommunications network will now be described with reference to . In the conventional manner at step A when the mobile terminal moves to the edge of its current serving cell the radio measurements reported from the mobile terminal and the radio frequency part of the NodeB the Femto or the AP serving that mobile terminal are used by the core network to determine when to perform a handover and to which target cell the handover should be performed. When the best target cell has been identified handover to that target cell from the serving cell it is performed at B in a conventional manner.

At step C selected platform functions may be relocated from the source access node that served the old cell to the destination access node that serves the new target cell .

When the source and destination access nodes are served by the same gateway only base station function such as soft NodeB functions may be relocated to the destination access node.

The relocation of functions of the access nodes is performed independently to the radio handover so for some time after the radio handover the source access node continues to serve content to the mobile terminal through the destination access node. The routing of data packets for the 3G network between the destination and the source access nodes may be performed using an Iu interface between the RNC or BRAS function of the destination access node and the SGSN GGSN function of the source access node. Alternatively the routing of data packets between the destination and the source access nodes can be completed by the SGSN GGSN function of the destination access node connecting directly to functions of the source access node through an IP interface.

After handover has been completed at step B the access node controlling the mobile terminal may be relocated from the source access node to the destination access node in coordination with the gateway. the standardized handover decisions mainly based on coverage quality power interference etc. for 2G 3G LTE fixed network are used to move the mobile from one node or system to another. However the platform introduces new opportunity to make the handover decision based on type or characteristics of the certain application type of user and the QoS requirements.

The timing of the relocation of access node functions from the source to destination platform may be dependent on the following 

At step D optionally some functions will be reallocated from the access nodes to the gateway. For example if the destination access node is heavily loaded and is congested or has a lower capability then the source access node or the mobile terminal is determined to be very mobile it may be advantageous to transfer functions to the gateway. Functions are reallocated from the access node to the gateway by for example a Serving Radio Network Subsystem SRNS relocation between the RNC function of the access node and the gateway. Alternatively the functions may be reallocated by performing a radio reconfiguration of user connection to the mobile terminal.

The reallocation of functions from an access node to the gateway may be performed at call communication sessions set up. At call communication session set up further subscriber information will be provided which may be used by the access node or gateway to be determine whether it would be advantageous to reallocate functions from the access node to the gateway. Reallocation of functions from the access node to the gateway may be performed during an active connection when a requirement of the communication sessions has been modified or where the required resource is not available at the access node .

According to the same principles applications may be re located or distributed between access nodes and for gateways to provide optimized application delivery best use of the communication resources.

As mentioned above information about each application used by the user at the mobile terminal is stored in an application context. The application context is shared between each access node and gateway that control the user connection for that mobile terminal. One of the access nodes gateways will be the master for that particular application and that will also be the master of an application specific record in the application context. The application context is advantageously periodically synchronized between the access node and the gateway .

The application information is the application context specific to a particular mobile terminal and this is passed between access nodes and gateways during reallocation for a mobile terminal enabling the application to be seamlessly passed access nodes gateways avoiding impacts to the user experience.

Radio measurements received from the radio frequency part of the NodeB the Femto or the AP serving the mobile terminal are passed to the soft nodes of the platform of the access node or gateway serving the mobile terminal and are passed to the network functions of the platform which then distributes the measurements to where necessary within the platform . The platform has access to the subscriber information from the core network which allows the network functions to deliver data traffic in a manner that is optimized for radio conditions as indicated by the radio measurements. The data traffic may also be optimized according to the subscription of the user of the mobile terminal available radio resource mobile terminal capability and or for the class of the terminal e.g. access technologies used . This optimisation allows bandwidth usage to be balanced with customer experience. The subscriber information may include information about the price plan of the user of the mobile terminal. The mobile network operator may track the type of application used by the user the total data usage of the user and may differentially target radio resources the highest data value stream of users.

By hosting applications in the services part of the platform the access node or at least the gateway the point of the network that is aware of the application being used by the user of the mobile terminal closer in the link between the mobile terminal and the core network to the NodeB serving the mobile terminal. This enables the sharing of network resources to the most appropriate data streams such as the most profitable data streams. Such awareness of the application to which a request for data transmission relates allows the use low value data streams such as peer to peer file sharing to be allocated only limited bandwidth so that remaining bandwidth can be targeted to particular users. In the uplink transmission of data can be controlled by the access node or gateway hosting the application to control data flow appropriately before data is onwardly transmitted towards the core of the network which was not possible with conventional arrangements .

As mentioned above a novel API is provided which defines the language that each of the software modules of the platform use to communicate to coordinate to optimize application delivery to users. The platform negotiates which each application the specific resource and performance requirements based on the application characteristics allowing the application to directly communicate the scheduling performance requirements rather than using a predefined set of quality of service parameters. This negotiation between the platform and the applications is facilitated by the API.

The API may also facilitate the provision of radio link quality information e.g. from QoS function to applications .

The API may further enable the platform to control use of the applications e.g. to allow disallow or adapt the applications.

By way of example the application may be a Voice over IP VoIP application. The nature of Voice over IP communications is that there is a virtually continuous succession of small data packets in which voice data is communicated. The voice data must be communicated with no or minimal latency in order that a two way conversation can be performed successfully. The Voice over IP application is able to compress voice data before transmission using a variety of techniques CODECs. The compression techniques CODECS may range from a relatively low compression technique which provides high quality voice reproduction but requires a large bandwidth to a much higher compression technique which provides reduced voice quality and which requires a much lower bandwidth.

The API is operable to provide details of the application characteristics to the network functions part of the platform . This makes the network functions part of the platform aware of the characteristics of the application. In the present example as the application is a Voice over IP application the network functions part may be made aware that the application will tend to transmit continuous successions of small data packets that require transmission with no or low latency. The network function may then be configured appropriately.

The API may further be operable to allow the network functions part to communicate radio link quality information to the application . For example when the network functions part received information regarding the application characteristics via the API it may allocate radio link resources to that application . This allocation of radio link resources may be communicated by the network functions part to the application via the API . The application may then select an appropriate compression technique CODEC in dependence upon the radio link quality available. During a Voice over IP call the available radio link quality may be communicated regularly from the network functions part to the application via the API to allow the application to vary the compression technique CODEC used in accordance with changes to the radio link quality.

The network functions part may control how the applications work via the API . The network functions part may allow disallow or adapt the applications hosted in the services part of the platform . For example the network functions part may require the Voice over IP application to use a particular compression technique CODEC if radio link bandwidth is restricted.

Another example of how the network functions part may advantageously provide radio link quality information to an application via the API is when the application is gaining application used by several users. If the radio link quality information received by the application indicates that bandwidth is restricted the application may adapt is communications to the users such that latency of the communications is increased uniformly for all of the users so that they all experience the same delay in order that each of the users is provided with the same gaming experience.

In the embodiments described the devices that connect to the platforms are mobile devices that connect to the platforms via the radio access network of a mobile cellular telecommunications network. It should be appreciated that non mobile fixed devices may be connected to the platforms for example by a wired or cable connection.

The controller is responsible for allocating the service instance for each UE based on the UE locations and the controller capacity capability and available resources to host another instance of a service.

For certain low popularity services or where the available serving controller capacity or capability is limited the service can be hosted from a central controller or from a neighbouring distributed controller.

For some services functions where the source and destination client applications are in the same geographical region being served by the same site e.g. BTS location or site cluster e.g. finite number of sites the access node gateway ensures that the server for the service is located close to both users and the traffic is routed between the users within the site.

Various embodiments discussed herein may be combined with each other in appropriate combinations in connection with the system described herein. Additionally in some instances the order of steps in the flowcharts flow diagrams and or described flow processing may be modified where appropriate. Further various aspects of the system described herein may be implemented using software hardware a combination of software and hardware and or other computer implemented modules or devices having the described features and performing the described functions. Software implementations of the system described herein may include executable code that is stored in a computer readable storage medium and executed by one or more processors. The computer readable storage medium may include a computer hard drive ROM RAM flash memory portable computer storage media such as a CD ROM a DVD ROM a flash drive and or other drive with for example a universal serial bus USB interface and or any other appropriate tangible storage medium or computer memory on which executable code may be stored and executed by a processor. The system described herein may be used in connection with any appropriate operating system.

Other embodiments of the invention will be apparent to those skilled in the art from a consideration of the specification or practice of the invention disclosed herein. It is intended that the specification and examples be considered as exemplary only with the true scope and spirit of the invention being indicated by the following claims.

