---

title: Automated floodplain encroachment computation
abstract: A method, apparatus, and article of manufacture provide the ability to define a floodplain encroachment. River reach and station information are received into a geographic information system (GIS). Floodplain encroachment values are defined using a graphical user interface (GUI). The GUI provides a simultaneous view of station identifiers for each station for which the floodplain encroachment is to be defined, profiles defined for each of the station identifiers, a method identification corresponding to each of the defined profiles, and a target water surface elevation change for each profile. The values are provided to a HEC-RAS engine which outputs analysis results that are simultaneously displayed in the GUI with the other information. The analysis results include a water surface elevation change, a top width, and a velocity for each profile-station pair. Users can modify the values and dynamically view the results from HEC-RAS in the GUI.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08510667&OS=08510667&RS=08510667
owner: Autodesk, Inc.
number: 08510667
owner_city: San Rafael
owner_country: US
publication_date: 20100401
---
The present invention relates generally to geospatial mapping systems and in particular to a method apparatus and article of manufacture for computing floodplain encroachments using a geospatial mapping system.

A floodplain is a land area usually adjacent to a stream or river that is susceptible to being inundated occasionally or periodically by flood waters from any source. Due to the high value of land and structures built adjacent to a stream or river it is desirable to maximize and develop in the floodplain area. A floodplain development that can obstruct flood flows such as a fill backfill a bridge or a building is referred to as an encroachment . Various federal agencies require the purchase of flood insurance in floodplain areas and regulate new development for encroachments. As part of the analysis for encroachments such federal agencies require the use of the HEC RAS Hydrologic Engineering Centers River Analysis System program developed by the United States Army Corps of Engineers that provides a computer model used to conduct a hydraulic study that produces flood elevations velocities and floodplain widths. The use of the HEC RAS system is time consuming labor intensive and therefore fails to provide an efficient mechanism for analyzing floodplains and encroachments. To better understand the problems of the prior art a more detailed explanation of floodplains and HEC RAS is useful.

Referring to a floodplain includes a floodway and flood fringe . The floodway is the channel of a river or other watercourse and adjacent areas the cover flood flows. In other words the floodway is the channel of a river or other watercourse and the adjacent land areas that must be reserved in order to discharge the base flood see description below without cumulatively increasing the water surface elevation by more than a designated height. The flood fringe is the portion of the floodplain lying outside of the floodway i.e. areas that are covered by the flood but do not experience a strong current .

Generally no new development is permitted within a floodway unless a licensed professional demonstrates that the proposed encroachment will not result in a rise in the 100 year flood also known as the base flood elevation more than a designated height usually 1 foot . The 100 year base flood is a flood having a 1 chance of being equaled or exceeded in any given year. The base flood is used by the NFIP national flood insurance program as the basis for mapping insurance rating and regulating new construction. FEMA Federal Emergency Management Agency is the agency that is responsible for the NFIP field work including floodplain maps and community coordination.

As can be seen in encroachments may be constructed on the flood fringe . However as stated above FEMA will often not permit the constructions of any encroachment unless an engineer using HEC RAS can verify that it will not increase the flood elevation of the base flood more than a designated height e.g. 1 foot .

Currently FEMA utilizes paper based maps as part of the analysis and to obtain measurements. Calculations are performed based on the paper based maps and data is entered into the HEC RAS user interface. The HEC RAS user interface utilizes a HEC RAS engine to process the input data and outputs data that can be used to determine whether the encroachment with the specified input data is acceptable. However the paper based maps are not georeferenced not current and must be modernized. Accordingly FEMA is in the process of modernizing the current floodplain maps over the next five 5 years where the paper based maps are being converted to digital maps. In addition numerous engineering flood studies are going to be performed to update inadequate and inaccurate previous studies upon which the paper maps are based.

The studies used to determine the floodmaps examine the areas through which floodwater will flow which requires a determination of ground elevations and obstructions to flow such as vegetation buildings bridges and other development for these areas. Accurate data on the channel geometry and changes in the floodplain are obtained from ground surveys aerial photography or topographic maps. A cross section is a graphical depiction of the stream river and the floodplain at a particular point along the stream river. Cross sections are taken at right angles to the flow of the stream river. At each cross section the engineer has accurate information on the size and geometry of the channel the shape of the floodplain and the changes in the elevation of the ground. Accordingly when calculating the stream channel through a floodway and the base flood measurements engineers must perform various calculations and enter data for each cross section into the HEC RAS system.

The prior art process for utilizing HEC RAS often requires the manual construction of HEC RAS input data the manual determination and entry of cross section geometry data and an iterative trial and error method for computing floodplain encroachments. Alternative methods may provide for a more automated method for extracting and entering cross section geometry e.g. by exporting and importing data from a GIS geographic information system mapping system river mapping but still require the manual entry of data into HEC RAS along with an iterative trial and error method for computing the floodplain encroachments. Further even the alternative partially automated systems are not integrated with HEC RAS thereby requiring users to restart their entire mapping process if an error or undesirable results are output from HEC RAS. Further due to the lack of integration once complete the user must export any final computations values back to the GIS system.

As described above the user must first manually construct the HEC RAS input data and manually determine and enter the cross section geometry data which is input into HEC RAS. Thereafter the HEC RAS floodplain encroachment computation procedure is based on calculating a natural profile existing conditions geometry as the first profile in a multiple profile run. A profile also known as a discharge profile represents the profile graph that specifies the amount of water that passes a point in a given period of time. Other profiles must then be run to simulate and calculate the change in the height of the floodway based on various encroachment options as desired. Accordingly before performing an encroachment analysis the user must develop an accurate model of the existing river system.

The user then selects a desired profile and attempts to set various values. To compute the floodplain encroachments an engineer would first define floodplain encroachment station locations i.e. the distances along a stream where computations are performed for each cross section of the river using a desired profile. illustrates a dialog window used to define the floodplain encroachment station locations for a single profile in the prior art. As illustrated thirteen 13 river stations are defined and for each station . The different stations may also be selected by specifying the river and reach in areas . Once a reach is selected the user can enter a starting and ending river station in fields .

The user is also required to select a profile number to work on i.e. to perform an encroachment analysis on . It may be noted that HEC RAS requires that each of the encroachment analysis steps described herein must be performed under a single discharge profile at a time. However the encroachment analysis is not performed on profile one 1 because profile is the base profile that is used for comparison.

The next step is to enter the desired encroachment method to be used for the currently selected profile . Once a method is selected the data entry boxes that correspond to the selected method will display below the method selection box . For the method HEC RAS contains five optional methods for specifying the floodplain encroachments. In method the user enters right and left encroachment stations. The final mapping of encroachment stations is performed using method . In method the user enters a fixed top width. In method the user specifies the percent reduction in conveyance. In method the user specifies a target water surface increase. Methods and are FEMA s preferred methods for defining encroachment stations. In method the user specifies a target water surface increase and a maximum change in energy. In method has been specified for all of the stations . In two value boxes are displayed for the target water surface increase and the maximum change in energy. By pressing the set selected range button all of the stations and values will fill in the table . After the data has been put into the table the user can manually change the method and corresponding data values directly from the table .

The station profile and data entry process is repeated for all of the different profiles for which the user wants to perform the encroachment analysis. Once all the profiles and data has been entered the user may select the OK button to proceed to the next step. Again the user can only view one discharge profile at a time and due to the manual entry required it is very easy to make a mistake and overwrite a value that should not be overwritten.

The next step in the process is to perform the floodplain encroachment computational analysis based on the data entered using the interface of . is the graphical user interface used to perform the computational analysis in the prior art. The user simply selects the compute button to perform the analysis.

Once computed the next step is to review the analysis results which may include a review of the increase in computed water surface elevation a review of the change in floodway top width and or a review of the change in flow velocity. A different interface must be used to display such results. is a graphical user interface used to display the results for the user to review in the prior art. As can be seen in the change i.e. the delta in the water surface elevation is displayed in column . As at least one of the values in column is over the one 1 foot mark i.e. 1.07 the process may need to be repeated. The developer can further increase the encroachment at the water stations where the delta value is under one 1 foot. In addition column displays the top width that should be based on FEMA guidelines fairly uniform across all of the stations cross sections.

However note that the other area of concern is that of the velocity which is not displayed in the user interface of of the prior art. With respect to velocity it is desirable and may be required to maintain a velocity of under 6 ft sec. Instead the user must proceed to a different screen to view the velocity information. Accordingly it is desirable to view all three items the change in water surface elevation the top width and the velocity. Some prior art techniques may provide a single screen to allow the user to view the top width water surface change as well as the velocity in a single screen. However such a display is in a separate graphical user interface and fails to show the user what encroachment definitions were used to obtain the results displayed. Instead the user must manually recall such information from memory if desired.

Once the results are viewed in to modify the different values used the engineer is required to return to the graphical user interface of redefine each field as desired select the compute button in the interface of and reevaluate the results using the interface of . Further he user must recall the values desired as displayed in and manually input such values into copy and paste commands are not available . Such entry must be repeated for each profile desired while attempting to recall from memory the desired settings for each river station and each profile. This process is repeated numerous times until the desired results are achieved. Further in the previously defined floodplain encroachment values results cannot be and are not displayed. In other words if the user forgets the values previously used or forgets to manually store them a set of computations may be repeated unnecessarily.

Once the final desired results are achieved since HEC RAS is not integrated with any GIS system the user must export the results from HEC RAS back to the GIS system and may need to further manipulate the data for compatibility purposes.

In view of the above one can see that the user is required to manually enter data for analysis and many steps are required merely to start the analysis. The user is then required to switch back and forth between user interfaces and dialogs for analysis and manipulating data while also requiring the user to export and import data back and forth between GIS systems and HEC RAS. Lastly there is no mechanism to mark a computation as finished or unfinished. Such manual efforts significantly slows the floodplain encroachment analysis process and is very inefficient.

What is needed is a mechanism to integrate a GIS system with HEC RAS a system that allows the user to view prior values utilized in a floodplain encroachment analysis and an easy to use interface for entering modifying and updating encroachment values.

Embodiments of the invention overcome the problems of the prior art by examining an entire river and allowing an engineer to quickly apply the necessary floodplain encroachments along the rivers as well as meeting the FEMA requirements.

A graphical user interface GUI shows the engineer in real time what affect a specified floodplain encroachment has on the river water surface profile. Such an interface allows the engineer to quickly try different alternative encroachments and develop a best solution in minimal time. The GUI utilizes the HEC RAS engine to compute the data analysis in a manner that is transparent to the user. Further the workflow is simplified making most data analysis automatic thereby reducing the amount of time required by the user.

Data e.g. floodplain river flow encroachment data points of flow etc. may be collected at a single point e.g. a single dialog . Once collected an analysis can be completed and marked according to however the user elects. Unlike the prior art the exportation and importation of the data into a GIS system is not necessary or needed and the prior art trial and error methodology that is prone to error is avoided.

In the following description reference is made to the accompanying drawings which form a part hereof and which is shown by way of illustration several embodiments of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.

One or more embodiments of the invention allow an engineer to quickly complete a FEMA floodplain encroachment study when compared to all prior art methods. The workflow greatly simplifies the prior art process that is manual disjointed and comprised of several different interfaces. Further embodiments of the invention provide the ability to compute and view floodplain encroachment data in a single location interface.

In one embodiment the computer operates by the general purpose processor A performing instructions defined by the computer program under control of an operating system . The computer program and or the operating system may be stored in the memory and may interface with the user and or other devices to accept input and commands and based on such input and commands and the instructions defined by the computer program and operating system to provide output and results.

Output results may be presented on the display or provided to another device for presentation or further processing or action. In one embodiment the display comprises a liquid crystal display LCD having a plurality of separately addressable liquid crystals. Each liquid crystal of the display changes to an opaque or translucent state to form a part of the image on the display in response to the data or information generated by the processor from the application of the instructions of the computer program and or operating system to the input and commands. The image may be provided through a graphical user interface GUI module A. Although the GUI module A is depicted as a separate module the instructions performing the GUI functions can be resident or distributed in the operating system the computer program or implemented with special purpose memory and processors.

Some or all of the operations performed by the computer according to the computer program instructions may be implemented in a special purpose processor B. In this embodiment the some or all of the computer program instructions may be implemented via firmware instructions stored in a read only memory ROM a programmable read only memory PROM or flash memory within the special purpose processor B or in memory . The special purpose processor B may also be hardwired through circuit design to perform some or all of the operations to implement the present invention. Further the special purpose processor B may be a hybrid processor which includes dedicated circuitry for performing a subset of functions and other circuits for performing more general functions such as responding to computer program instructions. In one embodiment the special purpose processor is an application specific integrated circuit ASIC .

The computer may also implement a compiler which allows an application program written in a programming language such as COBOL Pascal C FORTRAN or other language to be translated into processor readable code. After completion the application or computer program accesses and manipulates data accepted from I O devices and stored in the memory of the computer using the relationships and logic that was generated using the compiler .

The computer also optionally comprises an external communication device such as a modem satellite link Ethernet card or other device for accepting input from and providing output to other computers.

In one embodiment instructions implementing the operating system the computer program and the compiler are tangibly embodied in a computer readable medium e.g. data storage device which could include one or more fixed or removable data storage devices such as a zip drive floppy disc drive hard drive CD ROM drive tape drive etc. Further the operating system and the computer program are comprised of computer program instructions which when accessed read and executed by the computer causes the computer to perform the steps necessary to implement and or use the present invention or to load the program of instructions into a memory thus creating a special purpose data structure causing the computer to operate as a specially programmed computer executing the method steps described herein. Computer program and or operating instructions may also be tangibly embodied in memory and or data communication devices thereby making a computer program product or article of manufacture according to the invention. As such the terms article of manufacture program storage device and computer program product as used herein are intended to encompass a computer program accessible from any computer readable device or media.

Of course those skilled in the art will recognize that any combination of the above components or any number of different components peripherals and other devices may be used with the computer .

Computer program is configured to automate the process by which a water resource engineer would need to compute FEMA floodplain encroachment stationing along a river. Embodiments of the invention examine the entire river and allow the engineer to quickly apply the necessary floodplain encroachments along the river as well as meet the FEMA requirements. The program shows the engineer in real time what affect a specified floodplain encroachment has on the river water surface profile. Such a display allows the engineer to quickly try different alternative encroachments and come up with a best solution in minimal time. In this regard embodiments of the invention can reduce the amount of time to 1 10of the prior art time requirements.

The computer program utilizes interfaces with HEC RAS but simplifies the workflow automating a majority of the data analysis and reducing the amount of time required by the user. Various pieces of data are collected e.g. using a dialog box to determine the floodplain the river flow encroachment data points of flow etc. Once the data is collected an analysis is completed and marked according to how the user desires to utilize the data. Unlike the prior art imports and exports of the data are not required and a solution is not computed through a complex trial and error process.

Once selected in field the user can opt to set the values for the selected reach using area . In this regard once selected the reach may be displayed in area . In field the list of cross sections for the selected reach can be selected. In field the list of all cross sections upstream to the selected downstream cross section can be selected. In profile area a list of all defined profiles except for the base 100 year flood profile profile will be available. The list of methods is selectable in area . As described above in FEMA one of two methods are the preferred methods to use for defining encroachments method and method .

Method allows the user to specify where the user believes the specified encroachment stations should be. Method provides the ability to map over and finalize the station settings. Based on the selected method in field the values will be presented in field and . The caption and unit in field may change dynamically based on the selected method. Depending on the method selected value control may be disabled. Once the user has specified the desired values in fields button can be selected to set the values of the selected range into encroachment grid .

Once profiles have been configured and are displayed in grid the user identifies the method to be used for each profile in column . As can be seen methods are not selectable for the base profile since profile is used for comparison purposes to the other profiles . The different options from the drop down list for the methods are None Method Method and Copy to . The Copy to option is only available if the current method is method and there are analysis results available. Selection of Copy to presents a confirmation dialog that performs the operation and changes then changes the corresponding option in column to Method . Such a copying maps over the desired values and confirms the defined encroachment values that are defined by the user. Alternatively rather than specifying each method from within grid the user can simply specify the method and profile in areas and of and set the values within the grid using the set values button .

Once the methods have been specified for each method the user can input the target water surface elevation rise change in column . Such values can be sent manually per cell or can be set across multiple profiles methods using fields and of . In addition as part of the user input process the user can manually enter potential values for the left and right encroachment stations in columns .

Once entered the user can select the Analyze button that executes the HEC RAS analysis with the specified encroachment definitions input data. In other words the HEC RAS engine processes the station profile method etc. based on the user specified data. Computing the appropriate encroachment values to match the user input target value is computationally difficult. Such difficulty arises because a change at one cross section may significantly alter the rise surface elevation at another cross section. Accordingly the HEC RAS engine has limited capabilities and attempts to change the left right encroachment stations to meet the target value a non user specified pre defined number of times e.g. 4 times 20 times etc. before concluding. After the execution has completed the analysis results are loaded and displayed in columns which may be displayed with a different fill color such as yellow highlighting . If the results are not what is desired the user must specify a different target value is column and press the analyze button again.

As an example the actual change displayed in column may be exactly one foot and may match the target value specified in column . However the top width and velocity values with such a change may not be compatible with FEMA regulations guidelines. Accordingly the user may need to update the target values to arrive at desirable analysis results for each of the fields in columns .

Using the GUIs of the user can view the results of any adjustments to the encroachment definitions specified in columns . Such results are displayed dynamically in real time after the analyze button is selected in a single graphical user interface . Further rather than requiring the user to move to a separate dialog box and recall from memory what values were used in the HEC RAS analysis the graphical user interface of displays the values specified for the user to see simultaneously with the results. Accordingly no manual memory recall is required. Further the user can see the total width gained by the encroachment definitions specified.

As an example the top row of table in displays the original floodchannel width of 1862.61 feet. The encroachment definitions have provided the ability to increase the water surface elevation at station 5.76 by less than one foot i.e. 0.98 ft as can be seen in rows of column . Further the top width has been decreased to 1024.90 feet providing a gain of over 800 feet of developable encroachments based on the encroachment definitions specified.

Once the encroachment definitions and analysis results are satisfactory to the engineer a map similar to that illustrated in can be created that not only illustrates the old floodway using the base flood but also illustrating the new floodway with the specified encroachments. illustrates a magnified view of a floodplain map that illustrates a change in top width created in accordance with one or more embodiments of the invention. In the old floodway is delineated by the fine dotted lines . The new floodway is now a smaller channel delineated by the dashed lines . As illustrated the user has gained substantial land in the floodplain fringe for developing. A map similar to that of map of can be turned into FEMA as part of the support documentation to obtain approval for floodplain encroachment developments.

As described above the river mapping system can be used to define display and manipulate water ways such as rivers streams etc. Such a system may be used to provide geospatial data and to modernize the paper based maps currently used by FEMA. A user enters into the river mapping system the various river stations and settings from studies performed on the riverway. Once the river stations cross sections are entered into the system the user utilizes the graphical user interfaces of and to input encroachment definitions i.e. potential target water surface elevation changes rise and or potential left right station measurements .

The river mapping system interfaces with the HEC RAS engine which is written in FORTRAN and provides the encroachment definitions via an application programming interface API of the HEC RAS engine. The HEC RAS engine performs the analysis based on the encroachment definitions and responds with the analysis results to the river mapping system . To perform the analysis the HEC RAS engine may receive a geometry import file in accordance with a particular format that defines the river also known as the stream network that includes the various reaches the cross sections of the stream network one or more levees ineffective areas of the stream network and storage areas including elevation volumes and terrain specifications. The river mapping system may create such an import file in order to utilize the HEC RAS engine . After performing the analysis the HEC RAS engine exports a file in a predefined format that contains the analysis results.

The river mapping system displays the analysis results simultaneously with the previously submitted encroachment definitions to the user. This process is repeated various times until the user is satisfied with the analysis results and the encroachment definitions. The API and interaction with HEC RAS is performed in the background without transparently to the user. In other words the user is unaware of the existence or use of HEC RAS engine to perform the analysis.

At step floodplain encroachment values are defined using a flood plain encroachment GUI of the GIS. The floodplain GUI includes a simultaneous view of multiple fields including 

 c a method identification corresponding to each of the profiles except for a base profile where the method identification identifies the method used to analyze the corresponding profile to compute a base flood elevation and

 d a target water surface elevation change for each profile that is input e.g. by a user into the GIS.

To define the values in the GUI the user can specify values for individual settings or may simultaneously set a range of values using a dialog box within the GUI. Such a dialog box can provide fields for the user to specify values to be used across multiple cross sections profiles methods etc.

At step the GUI is populated with the analysis results by displaying the above described fields simultaneously with the analysis results. The analysis results include 

In one or more embodiments one or more of the steps are performed transparently to the user. In other words the use of the HEC RAS engine is transparent to the user as the user merely views the defined values and the analysis results in the same GUI. Multiple screens and dialog boxes are not used or needed.

The GUI may be displayed in any acceptable manner or format. In one or more embodiments the GUI is a grid having a row for each of the station identifier defined profile pairs wherein each row displays corresponding analysis results.

At step a determination is made regarding whether the results have been finalized. If they are not finalized the floodplain encroachment values can be modified e.g. by a user at step and the process repeats. To finalize the results the user can simply copy the values from method to method as illustrated in above . Alternatively the finalization may simply utilize the last used values that were defined by the user and or analyzed by the underlying HEC RAS engine.

Once the results have been finalized e.g. the user is satisfied with the results the finalized values are output at step . Such an output may display print the results on a map. For example newly calculated left and right encroachment stations may be plot on a river map that simultaneously to illustrate both the old and newly calculated floodway. Alternatively the data may simply be transmitted to an entity program utilized by FEMA or others for approving encroachment developments.

This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example any type of computer such as a mainframe minicomputer or personal computer or computer configuration such as a timesharing mainframe local area network or standalone personal computer could be used with the present invention. Further any type of thin client mobile device such as a cellular telephone satellite phone personal digital assistant computer tablet based computer or portable mobile computing device e.g. IPOD IPOD TOUCH etc. could be used with the present invention.

The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description but rather by the claims appended hereto.

