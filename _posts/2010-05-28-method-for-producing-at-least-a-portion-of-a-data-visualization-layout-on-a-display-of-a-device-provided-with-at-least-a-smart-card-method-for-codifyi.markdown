---

title: Method for producing at least a portion of a data visualization layout on a display of a device provided with at least a smart card, method for codifying a plurality of HTML instructions and corresponding system
abstract: A method for generating at least one portion of a data display layout on a display of a device equipped with at least one smart card may include generating a code sequence to define at least one portion of the data display layout and to store the code sequence in the at least one smart card. Each code of the code sequence may have a first portion including a first numerical code, and a second portion including a second numerical code. The first numerical code may correspond to a coded primitive action suitable to produce at least one part of the display layout. The second numerical code may correspond to a coded item of data correlated with a respective primitive action. The method may further include processing the code sequence to generate, on the device display at least one part of the display layout with the items of data in predefined positions of the layout.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09223894&OS=09223894&RS=09223894
owner: STMICROELECTRONICS INTERNATIONAL N.V.
number: 09223894
owner_city: Geneva
owner_country: CH
publication_date: 20100528
---
The present invention relates to a method for generating at least one portion of a data display layout on a display of a device equipped with at least one smart card. The invention also relates to a method for coding a plurality of HTML instructions comprising respective HTML elements suitable to generate a data display layout. The invention furthermore relates to a system for generating a data display layout on a display of a device equipped with at least one smart card.

As it may be known there may be an ever greater expectation that a device with a smart card namely an integrated circuit card equipped with a microprocessor will manage the exchange of information between software applications and the user by sequences of interactive screens. The term interactive screen is taken to mean an overall view of items of data appropriately displayed on the screen of the device. It may be possible for the user to observe select confirm and or modify such data by acting on appropriate input peripherals or provided buttons joystick touch screen stylus trackwheel trackball etc.

However to meet such requirements and to find widespread and advantageous use when creating such screens the smart cards should be suitable to occupy few memory resources because as may be known a smart card has limited memory due to its design and be suitable to generate pages quickly to be able to meet user requirements to the greatest possible extent. The most common devices with smart cards are cellular telephones handheld computers personal computers equipped with a dedicated port routers anti theft systems and other similar devices.

Prior art teaches making interactive screens such as for example a phonebook in a cellular telephone by displaying a list of data on a display. In such a case as shown in a cellular telephone equipped with a smart card accesses by appropriate communications protocols such as standard technical specifications ISO 7816 3 and ISO 7816 4 files held in the smart card memory by a dedicated application stored in the cellular telephone and activatable for example of a phonebook button .

The elementary file or EF of the smart card which comprises the phonebook stored in a standard format is identified with the hexadecimal code EF 6F3A and as may be known is a GSM file according to technical specification 3GPP TS 51.011 and contains the phonebook data. A display layout of such a phonebook is shown in and in this case EF comprises 

second record Agostino Agostino s number and so on. On a user request by pressing the phonebook button EF is opened and its content appropriately interpreted is displayed on the display.

This kind of application while adequate may be unattractive to a user wishing to interact quickly with the data displayed and stored in EF for example by changing names and telephone numbers or associating a photo or email account addresses with each contact or other multimedia application. Furthermore users may express greater demand for screens comprising portions which are automatically updated each time the application is activated for example to display information regarding the weather the latest news from a news service or commercial information relating to a telephone operator or other similar functions. Furthermore one disadvantage may be associated with the interface namely the numeric keypad which cellular telephones have because interaction with the data is somewhat complex to manage using such numeric keys.

One approach for overcoming such disadvantages is to make display layouts using a web or World Wide Web type interface namely a display similar to the web pages displayed on the internet. Such a display layout may enhance interactivity between the user and device and to exploit the potential of the web pages themselves. Furthermore a greater variety of controls and interaction may be available using check boxes radio buttons multiple selections and text fields which can be accessed for example with a joypad multifunction keypads or touch screens.

One approach shown in provides a second type of cellular telephone which comprises a browser which may be activated with standard functionality for Internet browsing by a radio signal interface and may be activated to communicate directly with a smart card when the entered URL address is of a predefined type for example http smartcard . Such a browser may also be known as a web browser .

As it may be known web pages may be created by strings of HTML instructions belonging to the HTML acronym for HyperText Markup Language markup language. A communications protocol used for exchanging data between the web pages stored on the smart card and the web browser running on the cellular telephone is documented in technical specification OMA TS Smart Card Web Server version 1.0 and subsequent versions supervised by the Open Mobile Alliance a consortium also known by the acronym OMA. The OMA TS Smart Card Web Server specification adopts some mechanisms already in use by internet web servers and other mechanisms present in the GSM protocol for example SIM Applied Toolkit Bearer Independent Protocol also known by the acronym SIP such as technical specification ETSI TS 101 267 in turn based on 3GPP TS 51.014.

In such a case the smart card may include a web server or Smart Card Web Server which enables the transmission of both static and dynamic web like pages described using strings of HTML instructions to the browser . Static web like pages may be stored in a memory portion of the smart card held for example in a static page file and transferred by the web server to the browser without further processing.

Dynamic web like pages in the case of the present example may be created by instructions executed by a JcRE or Javacard Run time Environment block based upon instructions stored in the Java Servlets subblock and with appropriate access to some files stored in the smart card such as specifically the phonebook elementary file EF . In such a case the phonebook display layout on the display of the cellular telephone may be of greater or lesser complexity an example being shown in . Such a phonebook may be personalized because the JcRE block of the smart card may allow storage of display preferences for each user for example with the indication Andrea s phonebook . Furthermore in addition to the name and telephone number each row of the display layout may include two links respectively making it possible to Change name and Change number .

Moreover a logo or trademark indicated schematically in with the number or the use of specific colors associated with a telephone operator connected to the smart card may be displayed automatically. In particular the appearance of the display layout may be independent of the device used.

The phonebook may also be displayed by making use of the conventional dedicated application stored on the cellular telephone which may be activated for example by the phonebook button in a similar manner to the previously described example with the data obtained from EF of the smart card . In this case the phonebook display layout may have an appearance and a structure which may vary depending on the device into which the smart card has been inserted.

Such an approach involving the creation of dynamic web like pages by strings of HTML instructions while satisfactory in many respects does however exhibit several major disadvantages. In particular it may be known that the basic structure of the HTML language known as an HTML element is enclosed within markup tags. Each tag is made up of a sequence of characters enclosed between two angle brackets as shown for example in . Some strings of HTML elements may include an opening tag and a closing tag while in others the closing tag is optional. Based upon suitable string coding some tags may have the function of formatting the stated data as items of information defining their font color and shape while others have the function of indicating specific defined applications to the browser such as for example that of permitting certain actions by the user and others make it possible to insert an image at a given location on the generated page web and so on.

HTML instruction strings are accordingly of a descriptive nature and may be somewhat lengthy requiring considerable time to be processed and transmitted to the cellular telephone browser even if transmitted in a compacted form. Furthermore such HTML instruction strings may require considerable memory resources in the smart card to be processed.

It may also be well known that HTML instructions allow the inclusion of other instructions processed by the server before transmission making it possible to add control of the graphic resolution of the displayed layout sections to be conditionally displayed dynamic interaction with the user interactive animation and multimedia content for creating dynamic web like pages. Various programming languages have been developed for this purpose. Among the most widely used languages are ASP based on Microsoft development elements JSP based on Java oriented technology and PHP the acronym for Hypertext Preprocessor which is a scripting language.

Such possible and attractive applications may make processing considerably more complex and the above stated disadvantages more serious. further show an example of HTML instruction strings in a mixed HTML PHP language while show the corresponding display layout. In each case instruction strings in PHP language although permitting a quantitative reduction in the content of the processing files but not a reduction in occupied memory space may increase the speed of transmission to the web browser and the speed of execution of such instructions by the browser and consequently may diminish but may not overcome the above stated disadvantages by increasing the processing load for a web server.

The technical problem underlying the present invention is that of making and providing a method for generating at least one portion of a data display layout on a device equipped with at least one smart card having structural and functional features of a nature to permit a dramatic reduction in the memory resources for the smart card allowing acceleration of processing the method may be simultaneously usable to code HTML instructions and being readily implemented in systems for generating a display layout on a display of a device comprising at least one smart card thus overcoming the limits and the drawbacks still affecting the prior art methods and devices.

The approach underlying the present invention is that of saving parts of the data display layout in the smart card s memory and generating the remaining parts by numerical coded instructions dedicated to laying out dynamic web like pages. Based upon this approach the technical problem is addressed by a method for generating at least one portion of a data display layout on a display of a device equipped with at least one smart card. The method may include generating a code sequence suitable to define the at least one portion of a data display layout and to store the code sequence in the at least one smart card. Each code of the code sequence may have a first portion including a first numerical code and a second portion including a second numerical code. The first numerical code may correspond to a coded primitive action suitable to produce the at least one portion of a display layout. The second numerical code may correspond to a coded item of data correlated with a respective primitive action. The method may also include processing the code sequence to generate on the display of the device the at least one portion of the display layout with the items of data in predefined positions in the layout.

Advantageously according to one aspect the method may include a first coding step suitable to code the primitive actions by generating a first correlation table. The method furthermore may include a second step suitable to code a sequence of variables associated with a respective item of data by generating a second correlation table associating a corresponding third numerical code with each variable The third numerical code may be included in the second portion.

According to a further aspect at least one primitive action may include the step of associating one of the items of data with a plurality of instruction strings stored in an elementary file of the at least one smart card. The elementary file may be programmable.

According to a further aspect the method may include the step of associating with each second portion at least one byte suitable to define the length of the second numerical code comprising the item of data. The method may provide that at least one primitive action comprises the step of processing a URL string including a URL address for determining at least one of the items of data. The URL address may be the address suitable to activate communication between the at least one smart card and a browser of the aid device.

The problem may also be addressed by a method for coding a plurality of HTML instructions comprising respective HTML elements suitable to generate at least one portion of a data display layout. The method may include generating a code sequence to define the at least one portion of a data display layout. Each code of the code sequence may have a first portion including a first numerical code and a second portion including a second numerical code. The method may include generating a plurality of primitive actions correlated with the HTML elements and making a first correlation table by coding the primitive actions with a corresponding first numerical code. The method may further include generating the first portion by comparing the HTML instructions with the primitive actions included in the first correlation table to define a corresponding first numerical code for the HTML element and generating the second portion by coding the respective HTML element to produce an item of data from the plurality of items of data.

According to a further aspect the method may include the step of storing a plurality of HTML elements suitable to define one of the items of data in an elementary file of the at least one smart card and the step of associating the elementary file with at least one primitive action. According to a further aspect the method may include the step of defining the length of the second numerical code and the step of associating the length with at least one byte of the second portion.

The problem may also be addressed by a system for generating at least one portion of a data display layout on a display of an electronic device equipped with at least one smart card comprising instructions suitable to generate the at least one portion of a data display layout. The instructions may be a code sequence and that each code has a first portion comprising a first numerical code and a second portion comprising a second numerical code. The at least one smart card may include a first coding means or first circuit suitable to generate the first numerical code by coding primitive actions associated with the instructions together with a second coding means or second circuit suitable to generate the second numerical code corresponding to an item of data correlated with a respective primitive action. The code sequence may be processed by the at least one smart card to create the at least one portion of a data display layout on the display of the device by setting the items of data in predefined positions in the layout. Advantageously an elementary file stored in the at least one smart card may include a plurality of HTML elements suitable to define one of the items of data.

According to a further aspect the plurality of HTML elements of the elementary file is processed by a web browser of the device. A web browser prototype for cellular telephones suitable to request web pages in HTML format from a smart card by a proprietary protocol has been created by the present applicant by adapting an open source browser written in Java 2 Mobile Edition language.

According to a further aspect the at least one smart card may include means or a processor to define the length of each second numerical code of the second portion. Such length may be stored in at least one byte of the second numerical code.

According to another aspect the system may include a means or a processor suitable to process a URL string for determining the first numerical code and the second numerical code of the instructions. The URL string may include a URL address suitable to activate communication between the at least one smart card and the web browser of the device.

The features and advantages of the method and system according to the invention will become clear from the following description of an exemplary embodiment thereof which is given purely by way of non limiting examples with reference to the appended drawings.

With reference to these Figures and in particular to reference number denotes a device with a smart card suitable to generate a data display layout processed by a method according to the present invention. Purely by way of non limiting example the electronic device is a cellular telephone and the display layout described is a phonebook. The examples given are not exhaustive but merely indicative for a person skilled in the art. The device may of course alternatively be a handheld computer a personal computer equipped with a dedicated smart card port a router an anti theft system or similar electronic devices.

According to the embodiment shown the cellular telephone comprises a web browser which with standard functionality allows a connection to a network of the WEB type by a radio signal interface and also allows direct communication with the smart card by entering a predefined URL address for example http smartcard . The smart card comprises a web server which is able to process appropriate instructions for generating web like pages which may be static or dynamic.

The cellular telephone may also comprise a phonebook which interfaces with the smart card with GSM commands to read and update the data present in an elementary file EF in particular file 6F3A stored in the Smart Card using known methods as indicated in and to display such data on an interactive screen of conventional type namely not transmitted by HTML instructions in accordance with the example shown in . The static web like pages are stored in a memory portion of the smart card included for example in a static page file and transferred by the web server to the display of the cellular telephone without further processing.

According to a first aspect the smart card comprises a first block which interfaces with the web server and interacts with a second block . The first block comprises predefined code sequences and appropriate coding suitable to define a plurality of data displays. The second block comprises appropriate complementary instructions.

In particular according to the exemplary embodiment shown in the first block may be made by a Bytecode to HTML interpreter. The second block comprises Bytecode to HTML applications. The first block and the second block interact with the web server for relatively rapid making of dynamic web like pages such as for example a dynamic phonebook shown in using reduced memory resources as will become clearer from the following description.

According to the embodiment shown the dynamic phonebook comprises a header zone and a data zone the latter in tabular form thus comprising a plurality of rows etc. each associated with a name or contact etc. inserted in the first column . The second column comprises a telephone number etc. associated with the contact etc. while the third column comprises a first link and a second link associated with corresponding change actions. In particular the first link makes it possible to change the name associated with contact while the second link makes it possible to change the corresponding telephone number etc.

According to one aspect the display layout may vary depending on requirements and may comprise a layout of a standard structure maintained according to a predefined setting or may vary depending on user requirements or needs during use of the dynamic phonebook by changing or adding data associated with each contact . For example groups of contacts may be created or images photos or other items may be associated with each contact and may include a link with an email address of an email account or with a URL address and so on.

According to a further aspect as shown in the phonebook may be provided with some supplementary functions or complementary actions or change actions relative to the example of . In particular as shown in each box of the data zone each inserted item of data may in turn be a link which may make it possible to open a window with inserts for other specific and preset details while by actuating the corresponding link with a telephone number for example by clicking the cellular telephone is instructed by the web browser to call the given telephone number 

According to one aspect each second code of the second portion etc. has a variable length which is stored in a first byte of the second portion etc. itself. For clarity s sake in the attached figures the first byte is displayed with the indication len .

In particular the first numerical code etc. is coded by a first coding means or circuit and corresponds to a primitive action. The primitive action Title Put File Set etc. is a specific operation suitable to generate the structure or layout of the dynamic web page and is coded in advance in accordance with a first correlation table T for example the table shown in . Thus in other words the first numerical code etc. is nothing other than an operation code.

The second numerical code corresponds to an item of data correlated with a respective primitive action Title Put File Set etc. The item of data may be coded by a second coding means or circuit. In other words the code sequence etc. all of which codes are numerical codes produces an expressive and essential formal scheme of programming which makes it possible to reduce processing complexity together with the memory space required for storage.

According to one aspect the codes of code sequence etc. are coded in hexadecimal. Each code of code sequence etc. is associated with a mnemonic code which is more convenient for an operator. However the mnemonic codes are not stored in the smart card . By way of example some primitive actions are stated below with a respective mnemonic code 

Some primitive actions may include as predefined some settings of the associated item of data such as for example font size color relative position within the page and so on. A primitive action may include parameters which better specify or detail its effect such as for example in the case of 

The method then provides a first coding step which by the first coding means or circuit creates the first correlation table T and defines a corresponding first numerical code etc. for each primitive action. Furthermore according to one aspect of the present invention the first numerical code occupies one byte in each code etc.

The method then provides a second coding step for coding by the second coding means or circuit. Each item of data is correlated with a respective action or primitive operation Title Put File Set etc. to define the content of the second portion etc. of each code etc. According to one aspect the second coding means or circuit code the data in corresponding hexadecimal numbers.

For example by way of indicative non limiting example with reference to which represents a draft with mnemonic code suitable to produce the dynamic phonebook it will in particular be noted that 

Thus according to the example shown in the code comprises in the first portion the first numerical code derived from the first correlation table T and in the second portion the second numerical code 52756272696361 which according to the hexadecimal ASCII code table corresponds to the word PHONEBOOK RUBRICA in Italian .

Code comprises in the first portion the first numerical code and in the second portion the name of the corresponding EF namely 6F95. Code comprises in the first portion the first numerical code and in the second portion a first variable A which is the value corresponding to varK according to coding on the basis of a second correlation table T one portion of which is shown in and a respective first value to be initialised namely .

Advantageously according to a further aspect the variables to perform loops instruction jumps or other actions are thus appropriately coded and associated with a third numerical code or with a byte array in accordance with an appropriate sequence for example A A A etc. by the second coding means or circuit as shown in . The sequence of variables A A A etc. is stored in the first block . In particular as a person skilled in the art will appreciate the third numerical codes of the second correlation table T associated with the variables make it possible to simplify any arithmetic operations or loops which can consequently be managed more easily and efficiently. Of course according to one aspect the first coding means or circuit could also create the second coding means or circuit.

According to a further aspect the second block comprises a plurality of accessory change and or association actions such as for example detail p changename.HTML p and changenumb.HTML p which are in turn generated by associating a corresponding fourth numerical code etc. with each accessory action for example by means of the second coding means or circuit as shown in . Such accessory actions are appropriately called within respective primitive actions.

In the presence of the fourth code etc. some additional items of data are taken into consideration in particular a byte suitable to include the length sublen which differentiates the fourth code present in the second numerical code by indicating the number of bytes which make up the fourth code. In this manner the value differentiates between the first len byte and the sublen byte determining the number of bytes which make up the second code.

Advantageously such accessory actions may not be executed automatically during the creation of the phonebook but generally only when explicitly requested by the user of the cellular telephone by an appropriate command such as a click on a predefined link or other item on the display.

Furthermore some appropriate elementary files EF or support files such as that shown in identified for example with the hexadecimal code 6F95 are stored in the smart card . Such support files include HTML instruction strings which without being processed either by the web server or by the first block are appended by the respective associated primitive action to the dynamic web page under construction and transmitted directly to the web browser of the cellular telephone . Such HTML instruction strings make it possible for example to activate the connection of the web browser of the cellular telephone to an external web server for example connected to the internet to download and add an image or other items of information to the display layout and optionally any further primitive action which may not be worth condensing by the numerical code sequence etc.

According to another aspect the method provides the step of automatically programming or updating the elementary files EF making it possible to change the data displayed on the display of the cellular telephone the next time the code sequence etc. is processed. According to a further aspect the second coding step comprises processing a URL string for determining one or more items of data correlated therewith.

When a browser or HTTP client makes a request to an HTML page it supplies the URL string which according to IETF RFC 1738 specifications comprises some predefined portions. An example of such a string is shown in .

In a typical HTTP request the initial portion of the URL string identifies which resource on the entire Internet is to process the actual request. The initial portion is made up of the scheme host path which respectively indicate a protocol a server and an allocated resource on the server.

The initial portion is optionally followed by a question mark and a subsequent portion known as the query which is usually structured as a list of parameters each having a field and a respective value. The query is typically made available to the resource which is to process the request thus in the present case it is made available to the dynamic page generator and in particular to the second block and used to carry out processing which determines the appearance and content of the dynamic page to be generated. Furthermore still according to IETF RFC 1738 specifications a request may be of the GET type or POST type. When the request is of the POST type further data of interest to the resource which is to process the request could be present in the URL string and input into a body field of the request itself. Such further data may be generated automatically by the browser or may be information input by the user.

According to one aspect the method provides specific primitive actions for processing the URL string some of which are 

According to the present method such primitive actions are thus coded according to the first correlation table T by generating the first numerical code etc. of the first portion of the code sequence etc. The parameter fields of the query identify the query variables and are coded based upon the second correlation table T while the respective values associated with the variables identify the data to be displayed on the display. The data are advantageously stored after being appropriately coded in hexadecimal.

The coded variables and data create the second portion and of the code sequence etc. In the example shown in the URL address http smartcard resource activates communication between the smart card and the web browser of the cellular telephone while the query comprises two parameter fields and their respective values PARAM and VALUE PARAM and VALUE in particular surname Smith name John .

In general due to the limited support offered by a smart card for managing the parameters present in URL strings such management is somewhat laborious for the programmer. In contrast the primitive actions according to the present embodiments do not compare between strings but only a predetermined order of the parameters present and this allows transparent processing of URL strings with a reduction in occupied memory space and fewer resources used for processing.

Based upon the description given the code sequence etc. makes it possible to produce logic flow and control schemes web page layout writing of elementary files or support files management of a URL address and or extraction of information from the URL itself. When it comes to creating a dynamic web like page the primitive actions Title Put File Set etc. are coded in advance by the first coding means or circuit to define corresponding first numerical codes etc. and the code sequence etc. is generated based upon the predefined data display layout of the web page namely based upon the structure of the web page to be produced.

Such code sequence etc. is stored in the smart card and processed by the first block to generate before transmission to the web browser of the cellular telephone via the web server the dynamic web page both producing the predefined positions for insertion of data or information and automatically inserting the data obtained from the elementary files stored in the smart card . In particular the first block processes and executes a translation of the code sequence etc. into HTML instructions.

Such a dynamic web page is thus transmitted to the cellular telephone for display on the display and for optional completion of the data which have to be obtained from the external network web server by the web browser . The web server of the smart card is the interface between the smart card and the cellular telephone and according to one exemplary embodiment one standard protocol which may be used for the transmission is identified by the OMA TS Smart Card Web Server Version 1.0 code or subsequent versions. However other transmission protocols between the smart card and cellular telephone may be used.

Advantageously the numerical code sequence etc. makes it possible to achieve a dramatic reduction in the memory space occupied in the smart card and in complexity during processing. This in particular makes it possible to obtain a dynamic web like page which is processed in less time so reducing waiting between the user request and the beginning of transmission of the page to the web browser of the cellular telephone .

Advantageously the present embodiments thus make it possible to produce dynamic web like pages with a plurality of automatically updatable applications and well developed interaction while nevertheless retaining simple processing and using relatively little memory space. In particular the elementary files EF stored in the smart card may be updated automatically by an intentional or programmed connection of the cellular telephone to the network of the telephone operator or to another internet like network so generating on subsequent processing of the corresponding application an automatic update of the data on the display of the cellular telephone itself.

According to a further aspect a smart card suitable to create a data display layout processed with a method according to the present embodiments may also comprise a third Java Run time Environment or Javacard Run time Environment block which interacts with a fourth Java Servlets block as shown in for generating standard HTML instruction strings.

Advantageously in such a case based upon the developers preferences and of variation in content some dynamic web like pages may be produced directly in standard mode by the third block while other dynamic web like pages may in contrast be generated by the first block . Otherwise appropriate and efficient interaction between the two blocks makes it possible to generate some portions of dynamic web like pages by means of the first block and to generate the remaining portions of the dynamic web like pages by the third block .

The present embodiments also relate to a method for coding a plurality of HTML instruction strings comprising respective HTML elements suitable to produce a data display layout. The method comprises the step of generating a code sequence etc. suitable to define the data display layout each code of the code sequence etc. having a first portion etc. suitable to comprise a first numerical code etc. together with a second portion etc. suitable to comprise a second numerical code.

The method also comprises the steps of generating a plurality of primitive actions Title Put File Set etc. correlated with the HTML elements and making by means of first coding means or circuit a first correlation table T by coding the primitive actions Title Put File Set etc. with a corresponding first numerical code etc. The method also includes sequentially comparing the plurality of HTML instructions with the primitive actions Title Put File Set etc. present in the first correlation table T and defining for each HTML element a corresponding first numerical code etc. by generating the first portion for a corresponding code etc. The method further includes generating the second portion of the corresponding code etc. by coding using a second coding means or circuit the respective HTML element suitable to produce an item of data from said plurality of items of data. According to one aspect the first and second coding means code or circuit the code sequence etc. in corresponding numbers coded in hexadecimal.

According to another aspect the second numerical code of each second portion etc. is identified by a plurality of bytes and comprises a first byte which identifies the length of the item of data present in the second code. In the examples shown purely for greater clarity the byte is denoted len . According to a further aspect the primitive actions Title Put File Set etc. are highly specified previously coded actions for creating the first correlation table T.

In particular each HTML element as shown in comprises an item of information enclosed within markup tags. The tags are made up of a sequence of characters enclosed between two angle brackets for example etc.

According to one aspect the method provides generating the plurality of primitive actions in relation to the specific data display layout and in such a case some primitive actions include some predefined settings relating to the item of data to be displayed on the device display such as font size color relative position in the display and others. Some HTML elements are not coded being such items of information which can be automatically managed by the first block without further programming or are already included in a specific primitive action. Furthermore some portions of HTML instructions are grouped together in a single primitive action for example in the case shown in the sequence of HTML instruction strings is stored in an elementary file EF or support file appropriately identified and stored in the smart card . In the example the support file is identified as an elementary file EF 6F95 and called with the primitive action PUT FILE which based upon the first correlation table T corresponds to the first numerical code .

Other primitive actions are specific and appropriately predefined sets of coding without having a corresponding HTML instruction string. For example the primitive action varN READ RECORD varK offset 0 len 12 is essentially an action which reads the first twelve characters of a record varK from a previously selected file. The primitive action furthermore makes reference to appropriate variables varN and varK which are themselves coded for creating a second correlation table T. shows an example of a portion of a table.

In particular the variables present in the second correlation table T are appropriately coded and associated with a third numerical code or with a byte array in accordance with an appropriate sequence for example A A A etc. for example by the second coding means or circuit. Still more particularly as a person skilled in the art will appreciate the third codes associated with the variables may be deemed to be integers and this simplifies any arithmetic operations or loops defined by the variables making them more readily and efficiently managed.

According to a further aspect a plurality of accessory change and or association actions such as for example the HTML instructions defined by the HTML elements comprising detail p changename.HTML p and changenumb.HTML p are called internally within the primitive actions and are generated in turn by associating a corresponding fourth numerical code etc. by the second coding means or circuit as shown in .

In the presence of each fourth code etc. some additional items of data are taken into consideration and in particular a byte suitable to include the length sublen which differentiates the fourth numerical code present in the second numerical code by indicating the number of bytes which make up the fourth code. Furthermore the value differentiates between the first len byte and the sublen byte determining the number of bytes which make up the second code.

According to another aspect some support files comprise for example HTML instruction strings which make it possible to add an image or other items of information to the display layout which generally must be downloaded with a separate connection to an external server for example to another internet like network or to the Smart Card Web Server of the smart card itself.

According to some examples shown in the HTML instruction string PHONEBOOK is coded with a first code which comprises in the first portion the first numerical code corresponding according to the first correlation table T to the primitive action Title and in the second portion the second numerical code 52756272696361 which according to the hexadecimal ASCII code table corresponds to the word PHONEBOOK RUBRICA in Italian .

The second code makes reference to a plurality of HTML instruction strings present in a support file for example the file EF identified with the hexadecimal code 6F95 shown in . In particular in the stated example the image to be included in the display layout is present in the file EF 6101.gif which generally must be downloaded by a further connection to the web server of smart card .

In such a case the HTML instruction string is not processed but is transmitted directly to the web browser of the device. The second code thus comprises in the first portion the first numerical code and in the second portion the name of the referred EF namely 6F95. The third code in contrast comprises in the first portion the first numerical code and in the second portion a first variable A and a respective first initialization value which in the example corresponds to .

Essentially the numerical code sequences etc. each of which comprises a first and a second numerical portion thus replace the sequence of HTML element strings so advantageously making it possible to reduce the occupied memory space both in terms of storage in the smart card and in terms of processing. Thus the method makes it possible to achieve a substantial reduction in occupied memory space and also to reduce waiting time between the user request and the beginning of transmission after processing to an external browser.

The present embodiments also relate to a system for generating a data display layout on a display of an electronic device for example the device shown in equipped with at least one smart card comprising instructions suitable to produce the data display layout. Conveniently the plurality of instructions is a code sequence etc. obtained by a method of the type previously described for which details and cooperating parts having the same structure and function will be denoted with the same reference numbers and letters. Each code of such a code sequence etc. has a first portion etc. comprising a first numerical code etc. and a second portion etc. comprising a second numerical code.

The smart card comprises a first coding means or circuit suitable to produce a corresponding first numerical code etc. by coding primitive actions Title Put File Set etc. associated with the instructions together with second coding means or circuit suitable to produce the second numerical code corresponding to an item of data correlated with a respective primitive action Title Put File Set etc. Such a code sequence etc. is accordingly processed by the smart card to create the data display layout on the device display by setting the items of data in predefined positions of the layout.

According to one aspect each code of the code sequence etc. comprises numbers coded in hexadecimal. According to a further aspect the smart card comprises a first correlation table T created by the first coding means or circuit for example the table shown in which makes it possible to code the primitive actions Title Put File Set etc. with the corresponding unambiguous first numerical code etc. to generate the first portion of the code sequence etc.

According to another aspect the smart card comprises a second correlation table T having a plurality of variables appropriately coded and associated with a third numerical code by the second coding means or circuit to generate an appropriate sequence A A A etc. as shown in . Such variables are used to generate the second portion corresponding to the item of data correlated with the respective primitive action Title Put File Set etc.

According to a further aspect the smart card stores at least one elementary file EF comprising a plurality of instructions namely HTML elements suitable to define one of the items of data. Such HTML elements are transmitted without being processed by the smart card to a web browser associated with the cellular telephone .

According to a further aspect the smart card comprises means or a circuit suitable to define the length of each second numerical code of the second portion etc. The length is thus stored in at least one len byte of each second numerical code of the second portion etc.

According to a further aspect the smart card process a URL string for determining one or more data correlated therewith. The URL string is a string supplied by a browser or by an HTTP client to make a request from an HTML page. According to IETF RFC 1738 specifications the URL string comprises predefined portions.

In a typical HTTP request as shown in the initial portion of the URL string identifies which resource on the entire Internet is to process the actual request and is followed by a question mark and by a subsequent portion known as the query. The query is usually structured as a list of parameters each having a field and a respective value.

In the example shown in the URL address http smartcard resource activates communication between the smart card and the web browser of the cellular telephone while the query comprises two parameter fields and their respective values PARAM and VALUE PARAM and VALUE. In the explanatory example the query is surname Smith name John . According to the system the first coding means or circuit and the second coding means or circuit of the smart card make it possible to process the query by defining the code sequence etc. in accordance with the above stated method as shown in particular in .

By way of completeness in a servlet in Javacard language is illustrated that can process the URL string in the example shown in . The servlet example uses API Application Programming Interface dedicated to the web server described by the standard ETSI TS 102 588 version 7.2.0 Release 7 or later. By comparing the sequence of codes etc. in and the servlet in the method reduces the computational complexity of process as well as the storage space in memory in the Smart Card .

According to a further aspect it should be noted that the code sequence etc. suitable to produce a portion of a data display layout may be used not only in a cellular telephone or other device compatible with Smart Card Web Server but also in a cellular telephone which is not compatible with Smart Card Web Server. In this latter case as shown in there will be a difference in the data displayed on the display of the cellular telephone but all the advantages of the present embodiment will be retained namely the reduction in space occupied by the code sequence etc. in the memory of the smart card and the reduction in processing time of the code sequence.

The main advantage of the method is that of generating dynamic web like pages with appropriate numerical codes which when specifically defined make it possible to achieve a significant reduction in occupied memory and thus in the number of instructions stored in the smart card. Furthermore the effect of method is that of supplying the dynamic web like page to the device subsequently to its being processed directly by the smart card.

Furthermore the code sequence generated by the method makes it significantly possible to reduce the repetitive parts and static parts present in the sequence of HTML instruction strings generated by prior art methods.

Moreover the method and in particular the first coding means or circuit and the second coding means or circuit make it possible to generate a reduced sequence of highly specialized predefined numerical codes which allow the creation of particularly complex dynamic web like pages with the items of data stored in predefined positions on the display layout. Moreover the code sequence converted into hexadecimal numbers makes it possible to minimize occupied memory space and to achieve a significant reduction in parsing time during processing. In conclusion the code sequence generated according to the method makes it possible to create dynamic web like pages with a plurality of applications and well developed interaction while nevertheless retaining simple processing and requiring greatly reduced memory space.

