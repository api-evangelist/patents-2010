---

title: Social graph that includes web pages outside of a social networking system
abstract: A social networking system includes a mechanism for incorporating nodes in the social graph, where the nodes are associated with a web page. Each web page includes one or more tags, which contain meta-information for defining the node in the social networking system, such as the type of the node. The social networking system retrieves the tags from the markup language document and stores their information in connection with the node for the web page. The web page may be outside of the social networking system's domain and may be operated by an entity other than the social networking operator; thus, third parties can define, create, and maintain nodes that are then used by the social networking system. Users may then interact with the nodes on websites outside of the social networking system, and these interactions are tracked by and reflected back within the social networking system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09530166&OS=09530166&RS=09530166
owner: Facebook, Inc.
number: 09530166
owner_city: Menlo Park
owner_country: US
publication_date: 20100421
---
This invention relates generally to social networking and in particular to a social networking environment in which a social graph may include web pages outside of a social networking system.

Social networking systems have become prevalent in recent years because they provide a useful environment in which users can connect to and communicate with other users. Although a variety of different types of social networking systems exist these systems commonly provide mechanisms allowing users to define and interact within their social networks. In this context a user may be an individual or any other entity such as a business or other non person entity. Accordingly while enabling social communications among friends a social networking system can also be a valuable tool for businesses to engage with potential consumers. Even without a commercial purpose a social networking system may allow other types of entities to spread their message. For example a non person entity may set up a page or group that other users can join or become a fan of which enables the non person entity to provide a forum to receive and transmit communications to a group of interested users.

The useful social information that is tracked and maintained by a social networking system can be thought of in terms of a social graph which includes a plurality of nodes that are interconnected by a plurality of edges. Each node in the social graph may represent something that can act on and or be acted upon by another node. Common examples of nodes include users non person entities content items groups events messages concepts and any other things that can be represented by an object in a social networking system. An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node.

For example if one user establishes a connection with another user in the social networking system the two users are represented as a node and the edge between them represents the established connection. Continuing this example one of these users may send a message to the other user within the social networking system. This act of sending the message is another edge between those two nodes which can be tracked by the social networking system. The message itself may be treated as a node. In another example one user may tag another user in an image that is maintained by the social networking system. This tagging action may create edges between the users as well as an edge between each of the users and the image which is also a node. In yet another example if a user confirms attending an event the user and the event are nodes where the attendance of the event is the edge. Using a social graph therefore a social networking system may keep track of many different types of objects and the interactions and connections among those objects thereby maintaining an extremely rich store of socially relevant information.

One limitation of a social networking system s ability to track socially relevant information is the ability to represent different objects and to track any interactions among them. This problem can be appreciated in the context of the discussion of the social graph. If something is not represented by a node in the first place then other nodes cannot interact with it such that the social networking system can track an edge between those nodes. For example if it were desirable to track whether a user purchased a product outside of the social networking system the information necessary to track that product as a node would have to be provided to the social networking system. However there is no efficient mechanism to provide this information so that it can be used effectively by the social networking system. Accordingly what are needed are mechanisms to facilitate expansion of the social graph to allow a social networking system to track socially relevant information for a wide variety of things.

To enable a social networking system to track socially relevant information about objects and their interactions embodiments of the invention provide a flexible mechanism for incorporating nodes in the social graph. In particular embodiments of the invention enable a node to be defined by an association with a web page or anything represented by a URL URI or any other address on the Internet or other network which may be outside of the domain of the social networking system. Since anything can be represented by a web page and web pages may be easily created to represent any person place or other thing this effectively expands the social graph across any arbitrary place on the Internet.

In one embodiment a web page is associated with a node in a social networking system. The web page is encoded by a markup language document which a web browser application can use to render and display the web page on a user device. The markup language document includes one or more tags which contain meta information about the node. The tags may provide textual titles labels an identifier unique to the node a micro format and or descriptions about the node as well as other information such as the type of the node. The social networking system retrieves the tags from the markup language document and stores their information in connection with the node for the web page. In this way a node in the social networking system may be created and defined based on the information contained within a web page. The web page may be outside of the social networking system s domain and may be operated by an entity other than the social networking operator thus third parties can define create and maintain nodes that are then used by the social networking system. This effectively opens the social graph to third party developers and encourages further development and definition of a complex and rich social graph.

In use in one embodiment a user device requests a web page from a website server which may be outside of and separate from the social networking system. The server sends to the user device a markup language document that includes an instruction for a browser application running on the user device to incorporate within the web page information obtained from the social networking system. In one embodiment the instruction creates a frame within the web page that contains content pulled directly from the social networking system e.g. an iframe . The content of the frame provided by the social networking system contains an action button that enables a user to interact with the node. This action may depend on the type of node such as becoming a fan or liking of a fan page node joining a group or interest associated with the node submitting a review associated with the node connecting with the node sharing the node with another user confirming attendance to an event node checking in to a location node commenting on a media item node just to name a few examples. The frame may also contain social information that is relevant to the user and the node such as an indication of one or more of the user s connections in the social networking system who have also performed the action.

Since the frame is a direct interface with the social networking system the user may select the action button to perform the action just as when the user is normally on the social networking system. The external website need not know that the action was taken or even the identity of the user. Once the action is taken by the user the social networking system can react just as if the user were interacting with node within the social networking system. For example the social networking system can update the user s profile to add an association with the node post the action to the user s connections and or any combination of responses that are appropriate when a user interacts with a node in the social networking system.

Accordingly embodiments of the invention allow the social graph used by the social networking system to include anything that can be represented by a web page. This also enables users to interact easily with nodes in the social graph outside of the domain of the social networking system. Finally this allows for a user s interactions with a node that represents a web page to be propagated back to the social networking system which may then use the resulting socially relevant information for various purposes e.g. posting activity feeds targeting advertising etc. .

The figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.

A user device comprises one or more computing devices that can receive input from a user and can transmit and receive data via the network . For example the user device may be a desktop computer a laptop computer a smart phone a personal digital assistant PDAs or any other device including computing functionality and data communication capabilities. The user device is configured to communicate with the external website and the social networking system via the network which may comprise any combination of local area and or wide area networks using both wired and wireless communication systems.

In one embodiment the user device displays content from the external website or from the social networking system by processing a markup language document received from the external website or from the social networking system using a browser application . The markup language document identifies content and one or more instructions describing formatting or presentation of the content. By executing the instructions included in the markup language document the browser application displays the identified content using the format or presentation described by the markup language document . For example the markup language document includes instructions for generating and displaying a web page having multiple frames that include text and or image data retrieved from the external website and or the social networking system . In various embodiments the markup language document comprises a data file including extensible markup language XML data extensible hypertext markup language XHTML data or other markup language data.

In one embodiment the user device also includes a cookie including data indicating whether a user of the user device is logged into the social networking system . The cookie indicates whether the user of the computing device is involved in an active session where the user device exchanges data with the social networking system allowing modification of the data communicated from the social networking system to the user device . Use of the cookie in exchanging data between the user device the social networking system and or the external website is further described below in conjunction with .

The external website comprises one or more web servers including one or more web pages which are communicated to the user device using the network . The external website is separate from the social networking system . For example the external website is associated with a first domain while the social networking website is associated with a separate social networking domain. A web page included in the external website comprises a markup language document identifying content and including instructions specifying formatting or presentation of the identified content as described above.

The markup language document includes one or more tags including meta information associating the web page represented by the markup language document with a node in the social networking system which are further described below. The tags may provide textual titles labels and or descriptions about the node in the social networking system as well as other information such as a title label unique identifier micro format and or descriptions about the node as well as other information such as the type of the node. The tags allow creation of a node in the social networking system based on the information within the markup language document comprising a web page . As the web page may be maintained by an external website that is outside of the domain of the social networking system and may be operated by an entity other than an operator of the social networking system the tags in the markup language document allow external websites to define create and maintain nodes used by the social networking system as further described below.

In one embodiment a web page includes a widget comprising instructions that when executed by a browser application of a user device retrieve data from the social networking system and display the information retrieved from the social networking system . For example the widget comprises an instruction associated with the social networking system that generates a frame within the web page that includes information from the social networking system . Hence the widget allows a web page from the external website to provide personalized content from the social networking website when the web page is rendered and displayed by a browser application of a user device . The widget also allows a user to interact with content from the social networking website by interacting with content in the frame generated within the web page .

The social networking system comprises one or more computing devices storing a social network or a social graph comprising a plurality of users and providing users of the social network with the ability to communicate and interact with other users of the social network. The social networking system is further described below in conjunction with . In use users join the social networking system and then add connections to a number of other users of the social networking system to whom they desire to be connected. As used herein the term friend refers to any other user of the social networking system to whom a user has formed a connection association or relationship via the social networking system .

Connections may be added explicitly by a user or may be automatically created by the social networking systems based on common characteristics of the users e.g. users who are alumni of the same educational institution . For example a first user specifically selects a particular other user to be a friend. Connections in the social networking system are usually in both directions but need not be so the terms user and friend depend on the frame of reference. Connections between users of the social networking system are usually bilateral or mutual but connections may also be unilateral or one way. For example if Bob and Joe are both users of the social networking system and connected to each other Bob and Joe are each other s connections. If on the other hand Bob wishes to connect to Joe to view data communicated to the social networking system by Joe but Joe does not wish to form a mutual connection a unilateral connection may be established. The connection between users may be a direct connection however some embodiments of a social networking system allow the connection to be indirect via one or more levels of connections or degrees or separation.

In addition to establishing and maintaining connections between users and allowing interactions between users the social networking system provides users with the ability to take actions on various types of items supported by the social networking system . These items may include groups or networks where networks here refer not to physical communication networks but rather social networks of people entities and concepts to which users of the social networking system may belong events or calendar entries in which a user might be interested computer based applications that a user may use via the social networking system transactions that allow users to buy or sell items via the service and interactions with advertisements that a user may perform on or off the social networking system. These are just a few examples of the items upon which a user may act on a social networking system and many others are possible. A user may interact with anything that is capable of being represented in the social networking system or in an external website separate from the social networking system coupled to the social networking system via a network .

The social networking system is also capable of linking a variety of entities. For example the social networking system enables users to interact with each other as well as external websites or other entities through an API or other communication channels. Thus the social networking system generates and maintains a social graph comprising a plurality of nodes interconnected by a plurality of edges. Each node in the social graph may represent an entity that can act on another node and or that can be acted on by another node. The social graph may include various types of nodes. Examples of types of nodes include users non person entities content items web pages groups events messages concepts and any other things that can be represented by an object in the social networking system . An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node. For example when a first user identifies a second user as a friend an edge in the social graph is generated connecting a node representing the first user and a second node representing the second user. As various nodes interact with each other the social networking system modifies edges connecting the various nodes to reflect the interactions.

The social networking system also includes user generated content which enhances a user s interactions with the social networking system . User generated content may include anything a user can add upload send or post to the social networking system . For example a user communicates posts to the social networking system from a user device . Posts may include data such as status updates or other textual data location information photos videos links music or other similar data and or media. Content may also be added to the social networking system by a third party through a communication channel such as a newsfeed or stream. Content items represent single pieces of content that are represented as objects in the social networking system . In this way users of the social networking system are encouraged to communicate with each other by posting text and content items of various types of media through various communication channels increasing the interaction of users with each other and increasing the frequency with which users interact with the social networking system .

As described above in conjunction with the social networking system comprises a computing system that allows users to communicate or otherwise interact with each other and access content as described herein. The social networking system stores user profiles describing the users of a social network. The user profiles include biographic demographic and other types of descriptive information such as work experience educational history hobbies or preferences location and the like. The social networking system further stores data describing one or more connections between different users in the connection store . The connection information may indicate users who have similar or common work experience group memberships hobbies or educational history. Additionally the social networking system includes user defined connections between different users allowing users to specify their relationships with other users. For example user defined connections allow users to generate relationships with other users that parallel the users real life relationships such as friends co workers partners and so forth. Users may select from predefined types of connections or define their own connection types as needed.

The web server links the social networking system to one or more user device and or one or more external websites via the network . The web server serves web pages as well as other web related content such as Java Flash XML and so forth. The web server may include a mail server or other messaging functionality for receiving and routing messages between the social networking system and one or more user devices . The messages can be instant messages queued messages e.g. email text and SMS messages or any other suitable messaging format.

The Application Programming Interface API request server allows one or more external websites to access information from the social networking system by calling one or more APIs. The API request server may also allow external websites to send information to social networking website by calling APIs. For example an external website sends an API request to the social networking system via the network and the API request server receives the API request. The API request server processes the request by calling an API associated with the API request to generate an appropriate response which the API request server communicates to the external website via the network . For example responsive to an API request the API request server collects data associated with a user and communicates the collected data to the external website .

The action logger is capable of receiving communications from the web server about user actions on and or off the social networking system . The action logger populates the action log with information about user actions allowing the social networking system to track various actions taken by its users within the social networking system and outside of the social networking system . Any action that a particular user takes with respect to another user is associated with each user s profile through information maintained in the action log or in a similar database or other data repository. Examples of actions taken by a user within the social network that are identified and stored may include for example adding a connection to another user sending a message to another user reading a message from another user viewing content associated with another user attending an event posted by another user or other actions interacting with another user. When a user takes an action within the social networking system the action is recorded in an action log . In one embodiment the social networking system maintains the action log as a database of entries. When an action is taken within the social networking system an entry for the action is added to the action log .

Additionally user actions may be associated with an entity outside of the social networking system such as an external website that is separate from the social networking system . For example the action logger receives data describing a user s interaction with an external website from the web server . Examples of actions where a user interacts with an external website include a user expressing an interest in an external website or another entity a user posting a comment to the social networking system that discusses an external website or a web page within the external website a user posting to the social networking system a Uniform Resource Locator URL or other identifier associated with an external website a user attending an event associated with an external website or any other action by a user that is related to an external website . Thus the action log may include actions describing interactions between a social networking system user and an external website that is separate from the social networking system .

The authorization server enforces one or more privacy settings of the users of the social networking system . A privacy setting of a user determines how particular information associated with a user can be shared. The privacy setting comprises the specification of particular information associated with a user and the specification of the entity or entities with whom the information can be shared. Examples of entities with which information can be shared may include other users applications external websites or any entity that can potentially access the information. The information that can be shared by a user comprises user profile information like profile photo phone numbers associated with the user user s connections actions taken by the user such as adding a connection changing user profile information and the like.

The privacy setting specification may be provided at different levels of granularity. For example the privacy setting may identify specific information to be shared with other users. For example the privacy setting identifies a work phone number or a specific set of related information such as personal information including profile photo home phone number and status. Alternatively the privacy setting may apply to all the information associated with the user. The specification of the set of entities that can access particular information can also be specified at various levels of granularity. Various sets of entities with which information can be shared may include for example all friends of the user all friends of friends all applications all external websites or all external systems. One embodiment allows the specification of the set of entries comprise an enumeration of entities for example the user may provide a list of external websites that are allowed to access certain information. Another embodiment allows the specification to comprise a set of entities along with exceptions that are not allowed to access the information. For example a user may allow all external websites to access the user s work information but specify a list of external websites that are not allowed to access the work information. Certain embodiments call the list of exceptions that are not allowed to access certain information a block list. External systems such as external websites belonging to a block list specified by a user are blocked from accessing the information specified in the privacy setting. Note that the various combinations of granularity of specification of information and the granularity of specification of entities with which information is shared are possible i.e. all personal information may be shared with friends whereas all work information may be shared with friends of friends.

For example a user s privacy setting indicates that a first friend is allowed to access the user s work phone number and the user s mobile phone number while preventing the first friend from accessing other information about the user such as the user s profile photo or the user s list of friends. However the user s privacy setting indicates that a second friend is allowed to access the user s friend list. The information associated with a user includes actions taken by a user such as the action of adding a new friend . The user can completely block another user or an application from accessing any information associated with the user . A user or an application that is blocked by the user does not have access to any information associated with user .

The authorization server contains logic to determine if certain information associated with a user can be accessed by a user s friends external websites and or other applications and entities. For example an external website that attempts to access a user s comment about a URL associated with the external website must get authorization from the authorization server to access the user s work phone number. Based on the user s privacy settings the authorization server determines if another user an external website an application or another entity is allowed to access information associated with the user including information about actions taken by the user. For example the authorization server uses a users privacy setting to determine if the user s comment about a URL associated with the external website can be accessed by the external website . This enables a user s privacy setting to specify which other users or other entities are allowed to receive data about the user s actions or other data associated with the user.

Additionally the social networking system maintains data about objects with which a user may interact with using the social networking system . To maintain this data the user profile store and the connection store store instances of the corresponding type of objects maintained by the social networking system . Each object type has information fields that are suitable for storing information appropriate to the type of object. For example the user profile store contains data structures with fields suitable for describing a user s profile. When a new object of a particular type is created the social networking system initializes a new data structure of the corresponding type assigns a unique object identifier to it and begins to add data to the object as needed. This might occur for example when a user becomes a user of the social networking system the social networking system generates a new instance of a user profile in the user profile store assigns a unique identifier to the user profile and begins to populate the fields of the user profile with information provided by the user.

The connection store includes data structures suitable for describing a user s connections to other users connections to external websites or connections to other entities. The connection stores may also associate a connection type with a user s connections which may be used in conjunction with the user s privacy setting further described above to regulate access to information about the user.

Data stored in the connection store the user profile store and the action log allows the social networking system to generate a social graph that uses nodes to identify various objects and edges connecting nodes to identify relationships between different objects. An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node.

For example if a first user establishes a connection with a second user in the social networking system user profiles of the first user and the second users from the user profile store may act as nodes in the social graph. The connection between the first user and the second user stored by the connection store is an edge between the nodes associated with the first user and the second user. Continuing this example the second user man then send the first user a message within the social networking system which is identified by the action logger and stored in the action log . The stored action of sending the message is another edge between the two nodes in the social graph representing the first user and the second user. Additionally the message itself may be identified from the action log and included in the social graph as another node connected to the nodes representing the first user and the second user.

In another example a first user may tag a second user in an image that is maintained by the social networking system or alternatively in an image maintained by another system outside of the social networking system . The image may itself be represented a node in the social networking system . This tagging action may create edges between the first user and the second user as well as create an edge between each of the users and the image which is also a node in the social graph. In yet another example if a user confirms attending an event the user and the event are nodes obtained from the user profile store where the attendance of the event is an edge between the nodes that may be retrieved from the action log . By generating and maintaining the social graph the social networking system includes data describing many different types of objects and the interactions and connections among those objects providing a rich source of socially relevant information.

In one embodiment the web page comprises a markup language document that includes the content and the instructions for formatting or presenting the content . In various embodiments the markup language document comprises a data file including extensible markup language XML data extensible hypertext markup language XHTML data or other markup language data. In addition to the content and instructions for formatting or presenting the content the markup language document comprising the web page also includes one or more tags that include meta information about a node in the social graph maintained by the social networking system associated with the web page . The tags may provide textual titles labels and or descriptions about the node as well as other information such as a title label unique identifier micro format and or descriptions about the node as well as other information such as the type of the node. The social networking system retrieves the tags from the markup language document and stores their information in connection with the node for the web page . The tags allow the social networking system to create and define a node in a social graph based on the information contained within the web page . Because the web page may be outside of a domain of the social networking system and may be operated by an entity other than the social networking system operator the tags enable third parties to define create and maintain nodes that are then used by the social networking system .

Examples of information about the node provided by one or more tags included in the markup language document encoding the web page may include without limitation a title label unique identifier micro format and or descriptions about the node as well as other information such as the type of the node one or more social networking system user identifiers specifying one or more administrators of the node and or location information associated with the node. A title tag identifies a text string to be shown when the social networking system or a widget accesses the node. Similarly a keyword tag includes text information identifying one or more keywords identifying the web page and or a description tag comprises text information describing the web page that is displayed by the social networking system or by a widget when the node is presented. An image tag may identify an image displayed by the social networking system or by a widget when the node is presented. Additionally a canonical tag identifies a canonical uniform resource locator URL or other web identifier which identifies the web page .

An administrator tag includes one or more social networking system user identifiers specifying users of the social networking system with the ability to create and or maintain nodes associated with the web page . The administrator tag potentially allows users outside of the social networking system to create and maintain nodes used by the social networking system effectively opening the social graph to third party developers and encourages further development and definition of a complex and rich social graph. In one embodiment the social networking system provides a user interface to the user identifiers specified by the administrator tag which facilitates modification of the node associated with the web page .

One or more microformat tags attach semantics to other markup tags included in the markup language document which allows information identified by the markup tags to be automatically processed by the social networking system . The microformat tags allow data describing the node in the social networking system or describing the object represented by the node in the social networking system to be standardized. Additionally one or more microformat tags may increase the information the social networking system obtains from the web page to more particularly identify a node type or to associate a type with a node. For example the additional information obtained from the web page using a microformat tag may allow the social networking system to use data from the web page to learn more about the interests of social networking system users connected to the node associated with the web page . Similarly a location tag provides information about a location associated with the web page to the social networking system . For example a location tag identifies one or more addresses associated with the web page .

A node type tag identifies a type of node created by the social networking website and associated with the web page . As the social networking system enables different actions to be performed on different types of nodes the node type tag allows customization of how social networking system users interact with the node associated with the web page . In one embodiment the node type tag includes one or more values selected from a list maintained by the social networking system . For example the node type tag may include a value identifying a user a non person entities a content item a group an event a message a concept a sports team a blog an activity a web site a movie a musician a hotel a university a government organization a restaurant a company an landmark a bar a location or any other thing that can be represented by an object in the social networking system .

In one embodiment multiple node type tags are included in the web page or a node type tag includes multiple values so that the social networking system generates different types of nodes associated with the web page . For example a web page identifying a marathon may include node type tags identifying an event a non person entity and a location. This causes the social networking system to generate three different nodes a first node having an event type a second node having a non person entity type and a third node having a location type each associated with the web page the social networking system enables users to perform different actions on each node depending on the type of the node as further described below. Alternatively the social networking system generates a single node having properties of different types of node. In the previous example rather than generate a node having an event type a node having a non person entity type and a node having a location type a single node is generated having the properties of a node having an event type a node having a non person entity type and a node having a location type is generated.

The web page also includes a frame that calls a Uniform Resource Locator URL within a domain associated with the social networking system . The frame is rendered by a browser application operating on a user device executing a widget included in the markup language document encoding the web page . The widget comprising one or more instructions that when executed by a browser application generate the frame the frame within the web page and include information from the social networking system in the frame . In one embodiment the frame is an iframe including data obtained from the social networking system .

The frame includes data from the social networking system associated with a node maintained by the social networking system and associated with a URL or other web identifier specified by the widget . For example when a browser application executes the widget a request for content including a URL or other web identifier is communicated from the browser application to the social networking system . The social networking system identifies a node associated with the URL or other web identifier from the request for content and communicates information about the identified node to browser application which displays the information in the frame . In one embodiment the widget communicates one or more parameters to the social networking system . The parameters allow the web page to customize the frame . For example the parameters specify the height and or width of the frame .

In one embodiment the frame includes one or more action buttons and may also include social information from the social networking system allowing a user to take a specific action with respect to the node associated with the content shown in the frame . The one or more action buttons allow a user to take a specific action with respect to the node associated with the content shown in the frame . The specific action may depend upon the type of node associated with the content in the frame . For example if the node has an event type an action button allows a user to indicate attendance to the event. If the node has an entity type an action button allows a user to indicate an interest in the entity. If the node has a location type an action button allows a user to check in or otherwise indicate the user s presence at the location. Thus an action button allows a social networking system user to perform one or more interactions with a node in the social networking system presented by the frame .

The frame may also include social information obtained from the social networking system allowing the content of the frame to be personalized for an identified user of the social networking system . For example the social information may identify the number of friends of an identified user of the social networking system who have taken an action associated with an action button or may identify one or more specific friends of the identified user of the social networking system who have taken an action associated with the action button . As an example if the action button allows a user to indicate an interest in an entity type node the social information may identify a number of friends of the user who have also indicated an interest in the entity type node. Further if the action button allows a user to indicate that the user will be attending an event associated with an event type node the social information may identify specific fiends of the user who have also indicated they will be attending the event. The social information may be personalized to friends of an identified user or may be information obtained from all users if a user of the social networking system is unable to be identified.

For example the web page is maintained by an online retailer and displays links identifying multiple items for purchase from the online retailer. Each item for purchase is associated with a node in the social graph of the social networking system and the web page includes multiple widgets each associated with an identified item for purchase. A widget associated with a first item communicates a first request for content including a URL or other web identifier of a web page associated with the first item to the social networking system . The request thus identifies a node associated with the URL or other web identifier of the web page associated with the first item and communicates information about the first node to browser application which displays the information in the first frame A. Similarly a second and third widget communicate second and third requests for content respectively to the social networking system identifying URLs of web pages associated with the second item and the third item respectively. Content received from the social networking system for a node associated with the second item and a node associated with the third item is then displayed in the second frame B and the third frame C respectively. For example the widget associated with an item communicates a URL identifying product page within the online retailer to the social networking system .

The frames A B C may include one or more action buttons allowing a user to interact with a node on the graph associated with the item displayed by the web page . For example an online retailer may present frames A B C identifying different items for purchase and an action button A B C in a frame A B C allows a user to comment on an item for purchase or to express an interest in an item.

As another example the web page is maintained by a movie review or a movie rental site that lists multiple movies and maintains a separate web page for each movie. The web page may include links for accessing web pages associated with different movies with a frame A B C associated with each movie. The frames A B C are generated by different widgets communicating URLs or web identifiers of different web pages associated with different movies to the social networking system . The frames A B C may each include more than one action button A B C allowing a user to interact with a node in the social networking system associated with a web page associated with a movie. For example each frame A B C may include an action button A B C allowing a user to indicate an interest in the movie associated with a node in the social networking system .

In an additional example the web page is maintained by a restaurant reservation website and displays multiple open reservations. A frame A B C is proximate to each displayed reservation and includes content from the social networking system associated with nodes in the social graph associated with web pages corresponding to the open reservations. An action button A B C allows a user to interact with the node associated with an open reservation. However as discussed above in conjunction with the action performed by an action button A B C depends on a node type. For example if a first reservation is associated with a location node interaction with a first action button A allows a user to check in to indicate arrival at a location associated with the first reservation. If a second reservation is associated with an event node interaction with a second action button B allows a user to indicate attending the event.

Initially the social networking system generates a node associated with a web page outside of the social networking system . After the node is generated the web page is included in the social graph maintained by the social networking system effectively opening the social graph to third party developers and encouraging further development and definition of a complex and rich social graph.

An operator of an external website creates a markup language document encoding a web page that includes the widget described above in conjunction with . The markup language document may also include one or more tags as described above in conjunction with . The social networking system requests and receives the markup language document encoding the web page and extracts and records information from tags in the markup language document . The information extracted from the tags is used by the social networking system to create a new node and the information extracted from the tags is stored in the social networking system . For example the social networking system generates a node having a type identified by a node type tag and store data extracted from a title tag a keywords tag a description tag and an administrator tag included in the markup language document. If the markup language document does not include any tags the social networking system may generate a predetermined type of node and parse the markup language document to identify data for storage in the generated node.

The social networking system may request the markup language document encoding the web page in response to various types of events. For example an operator of the web page or of an external website including the web page communicates a request to the social networking system to generate a node associated with the web page . For example a user interface in the social networking system may receive a request to generate a node associated with a web page. Alternatively the social networking system requests the markup language document encoding the web page when the web page is initially loaded by a browser and the social networking system receives a request for content when the browser executes the widget included in the web page . As another example in response to receiving an initial interaction with an action button within the frame generated by the widget the social networking system requests the markup language document encoding the web page if the social networking system determines that a node associated with the web page does not currently exist.

Once the social networking system stores a node associated with a web page a user of the social networking system may interact with the node by interacting with the web page . is an interaction diagram of a process for interacting with a node outside of a social networking system in accordance with an embodiment of the invention. In the embodiment shown by the external website is separate from the social networking system . Initially a user device requests a web page from the external website . For example a user of the user device enters a uniform resource locator URL or other identifier associated with the web page into a browser application operating on the user device . The browser application identifies the external website associated with the received URL or other identifier and requests a web page associated with the received URL or other identifier from the identified external website .

After receiving the request for the web page the external website generates the requested web page using locally stored data. For example the external website generates a markup language document describing the content and formatting of the web page based on stored data. The external website includes a widget comprising instructions that when executed by a browser application of a user device retrieve data from the social networking system and display the information retrieved from the social networking system . For example the widget comprises an instruction associated with the social networking system that generates a frame within the web page that includes information from the social networking system . Hence the widget allows a web page from the external website to provide personalized content from the social networking website when the web page is rendered and displayed by a browser application of a user device . The widget also allows a user to interact with content from the social networking website by interacting with content in the frame generated within the web page . The widget includes a uniform resource locator URL or other web page identifier associated with the web page from the external website and may also include one or more parameters describing presentation of the frame or iframe by the browser of the user device . In one embodiment the URL included in the widget is the same as the URL of the requested web page . Alternatively the URL included in the widget is a URL associated with a web page other than the requested web page .

The external website then sends the markup language document describing the generated web page and including the widget to the user device through the network . After receiving the markup language document the browser renders the web page based on the content and formatting instructions included in the markup language document . In addition to rendering the web page the browser in the user device executes the widget to create a frame in the web page . Execution of the widget also causes the browser to request content from the social networking system for inclusion in the frame via the network . The URL or other web identifier included in the widget is communicated to the social networking system to request content from a node associated with the URL included in the widget . In one embodiment the browser also identifies one or more parameters from the widget and transmits the identified parameters to the social networking system when requesting content for inclusion in the frame to allow further customization of the requested content.

Responsive to receiving the request for content from the browser the social networking system checks the user device for a cookie . In response to the social networking system checking for the cookie the user device sends the cookie or a message associated with the cookie to the social networking system . In one embodiment the existence of cookie indicates whether the user of the computing device is a user of the social networking system e.g. whether the user has a valid account with the social networking system . If the user of the computing device is a user of the social networking system the cookie may contain information indicating whether the user is logged into the social networking system e.g. whether the user has a current valid session with the social networking system . Checking the user device for a cookie thus allows the social networking system to authenticate the user session. In other embodiments the social networking system may just determine whether the user is a user of the social networking system e.g. by checking for an existence of a cookie without determining whether the user is logged into the social networking system . Although cookies are described herein for authenticating the user and or the user session any other methods of user or session identification or authentication may be used such as recognizing a physical token .

If the user associated with the received cookie has been authenticated the social networking system generates content for inclusion in the frame that is personalized according to the user associated with the received cookie . For example the social networking system generates social information describing actions a node associated with the URL included in the widget and associated with friends of the identified user. For example the generated social information identifies a number of friends of the identified user taking a specific type of action regarding the node or identifies specific friends of a user recently taking a specified type of action regarding the node. Alternatively the social networking system generates content by extracting data from the node associated with the URL included in the widget without adding social information associated with the identified user. For example the social networking system determines a title a description and an image from the node. Additionally the social networking system generates one or more action buttons for inclusion in the frame. The one or more action buttons are dependent on the node type as described above in conjunction with and allow a user to interact with the node associated with the URL included in the widget by interacting with the one or more action buttons.

If the social networking system determines that the user associated with the received cookie matches an administrator user identifier stored in the node associated with the URL included in the widget the social networking system generates administration content for presentation by the frame. An administrator tag included in the markup language document encoding a web page specifies users of the social networking system with the ability to create and or maintain nodes associated with the web page . Hence when the social networking system identifies a user associated with an administrator user identifier the social networking system generates content allowing the user to modify the node associated with the URL included in the widget . For example the social networking system generates a link that directs the user to a debug page when accessed by the user via the frame. Alternatively the social networking system generates debugging information from the node associated with the URL included in the widget for display using the frame. For example the social networking system identifies tags missing from the markup language document encoding the web page and allows the user to enter the missing tags or to modify existing tags.

However if the social networking system is unable to authenticate the user associated with the received cookie the social networking system communicates a prompt for the user to enter authentication information to the user device . Alternatively the social networking system generates content by extracting data from the node associated with the URL included in the widget without adding social information. In another embodiment the social networking system generates content by extracting data from the node associated with the URL included in the widget and determining actions taken by any user of the social networking system regarding the identified node. For example the social networking system may identify the most recent actions regarding the identified node taken by any user of the social networking system . Thus until the social networking system receives authentication information associated with the user associated with the received cookie the content generated by the social networking system does not include social information describing actions performed by friends of the user associated with the received cookie regarding the identified node. After receiving and verifying authentication information associated with the user associated with the cookie the social networking system may generate social information for inclusion in the frame that is personalized for the user associated with the cookie as described above.

Similarly if the user device does not send a cookie to the social networking system generates content for inclusion in the frame by extracting information from the URL included in the widget . In one embodiment the generated content may also include one or more actions taken by any user of the social networking system and associated with the node associated with URL included in the widget . In one embodiment the social networking system also includes a prompt for joining the social networking system in the frame.

The social networking system then sends the frame content to the user device through the network . The browser application included on the user device then renders using the frame using the content received from the social networking system and displays the web page and the frame with the content from the social networking system displayed in the frame. The frame includes one or more action buttons generated by the social networking system .

When an action is selected by a user of the user device interacting with an action button the selected action is transmitted to the social networking system via the network . Selecting an action by interacting with an action button allows users to interact with the node associated with the URL identified by the widget as if the user were communicating within the node from within the social networking system . The external website need not know that the action was taken or even the identity of the user. The social networking system then records the action between the user and the node associated with the URL identified by the widget allowing the social networking system to react as if the user were interacting with the node from within the social networking system . Thus by interacting with the node associated with the URL identified by the widget using an action button in the frame the action taken by the user is equivalent to any other user interaction with the node from within the social networking system . As with any user interaction with another node in the social networking system this interaction may create an edge between the user and the node that the user interacted with. The stored edge provides useful contextual information about the connection between that node and the user where the user is also represented by a node .

In one embodiment the action button or other user interact enabling the user to interact with the node may be on a portion of the web page that is within the third party web page s domain rather than within the frame. In such an embodiment the third party website may need to communicate this action to the social networking system so that the action can be recorded. In such an embodiment the social networking system may provide one or more APIs which the third party website may use to send communications such as these to the social networking system . Alternatively any other appropriate mechanisms for communicating this information from the third party website to the social networking system may be used.

In addition to recording the action between the user and the node the social networking system may take additional actions dependent on the type of action. For example if the action selected in the frame is the user expressing an interest in the node the action is recorded by the social networking system and may be published to a feed associated with the user and the user s profile may be updated to include the affiliation between the user and the node. As another example if the action selected in the frame is the user indicating that the user is at a location the action may be published to a feed describing actions taken by the user and communicated to friends of the user. Further if the action selected in the frame is the user indicating attendance to an event the action is recorded and may also be added to a user s calendar and published to a feed describing actions taken by the user.

Additionally after recording the selected action the social networking system may allow an entity associated with the node associated with the URL identified by the widget to publish communications back to users who have performed an action relative to the node associated with the URL identified by the widget . For example if a user indicates an interest in the node associated with the URL identified by the widget an administrator of the URL identified by the widget may publish communications back to the user via the social networking system . Further the social networking system may communicate a message to the user via the frame to confirm that the selected action was taken by the social networking system or communicate a message to the user via the frame to authorize the social networking system to notify friends of the user that the action was taken.

Accordingly the social graph maintained by the social networking system may include anything that can be represented by a web page. In addition to increasing the amount of data stored by the social graph this allows users of the social networking system to easily interact with nodes in the social graph while outside of a domain associated with the social networking system . For example a user may interact with a node of the social graph associated with a web page from an external website while viewing the web page retrieved from the external website . Interactions between users and nodes representing web pages may be propagated back to the social networking system which may then use socially relevant data from the interaction for various purposes e.g. posting activity feeds targeting advertising etc. .

The foregoing description of the embodiments of the invention has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non transitory tangible computer readable storage medium or any type of media suitable for storing electronic instructions which may be coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Embodiments of the invention may also relate to a product that is produced by a computing process described herein. Such a product may comprise information resulting from a computing process where the information is stored on a non transitory tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments of the invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

