---

title: Recommendation ranking system with distrust
abstract: A recommendation ranking system that computes trust for entities based on negative expressions of trust. Negative expressions of trust are used to reduce the trust of entities. However, the system may discount entities that in the aggregate are distrusted. The system may be used with a social network to provide accurate, personalized recommendations for members of the social network. The network may be modeled as a voting network, with each member of the social network represented as a node and expressions of trust between members represented as weights on edges between nodes. Values of trust may be computed for nodes in the network and used to generate a recommendation. Opinions expressed on a topic may be weighted by trust in the node expressing the opinion. The system may be applied in other settings that can be modeled as a voting network, including ranking of Internet search results.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09152969&OS=09152969&RS=09152969
owner: Rovi Technologies Corporation
number: 09152969
owner_city: Santa Clara
owner_country: US
publication_date: 20100407
---
The Internet and the flexibility it provides has led to new ways of communication. One significant use of the Internet is used for searching for information from websites where information is posted. To aid people in finding information across a vast number of websites search engines have been developed. In addition to finding web pages that match user specified search queries search engines rank search results in a way intended to surface information that is most useful to the user. One approach to ranking web pages is called PageRank.

The PageRank algorithm is premised on the assumption that web pages to which many other web pages link are valuable. In practice PageRanks for web pages are determined using a crawler. A crawler is an automated tool that randomly picks a web page and follows links from that web page to other web pages. As the crawler follows links from page to page it records the frequency with which it visits a web page as an indication of the PageRank for that page.

Though it has been recognized that a link to a web page may not necessarily signify that the web page to which a link points is valuable. A first web page may link to a second web page to criticize the second web page or otherwise in a negative fashion. Accordingly some coding techniques for web pages support coding of links to other web pages as negative links. The crawler may ignore these negative links so that they do not influence the PageRank.

In addition to allowing users to find information available from publicly available web pages the Internet is used to facilitate feedback from a broad base of individuals. One way broad based feedback is obtained is through the use of collaborative ranking systems. There are many websites that provide recommendations on restaurants travel sites computer games music and a wide array of other topics. Such sites receive and aggregate user input on a topic and then present that information as a recommendation.

A further use of the Internet is to facilitate interactions broadly called social networking. In a social network a group of individuals that agree in some way to be linked can communicate frequently by posting information on a website to which access is restricted to members of the social network. Examples of such social networking applications are FACEBOOK and LINKEDIN. Through such systems users can make connections and express their likes or dislikes.

The inventors have recognized and appreciated that valuable personalized recommendations may be generated by forming a collaborative recommendation based on opinions expressed by members of a social network. In forming the recommendation information about a level to which members of the social network are trusted by other members may be used in combining the opinions expressed by those in the network. Trust may be expressed as a positive value or a negative value with a negative value indicating distrust. The trust values may be incorporated into the overall computation of a recommendation such that opinions of members of the network who have a level of trust below a threshold establishing a minimum level of trust are discounted. Opinions of members of the network who have a level of trust above the threshold are combined with the opinions of those with a higher level of trust being given greater weight.

In some embodiments levels of trust are determined for individuals in the social network based on the aggregate level of trust expressed in each individual weighted by the level of trust of the individuals expressing trust. Mathematical techniques may be used to compute trust values for individuals in the network in a way that leads to a consistent solution for values of trust for all members of the network. The solution may be constrained in one or more ways including ensuring that no individual expressing trust has a disproportionate impact on the overall recommendation regardless of the number of other individuals for which that user expresses trust. Also individuals that have an aggregate level of trust that is below some threshold may be discounted in computing the solution. In some embodiments individuals that have an aggregate level of trust that is negative indicating that they are distrusted by the network do not affect the computation of trust for other individuals and or computation of a recommendation.

The inventors have further recognized and appreciated that techniques appropriate for combining opinions in a social network may more generally be applied to any problem that can be modeled as a voting network with propagated distrust. Ranking of web pages may be modeled in this fashion. Web pages may be regarded as defining nodes of such a network. Positive and negative links to web pages may be taken as expression of trust. Accordingly in some embodiments the invention may relate to searching for web pages or other content on a network. Trust values may be computed for each web pages based on positive or negative links to the web page weighted by a level of trust computed for the respective web sites that are the sources of the links. A consistent set of trust values may be computed for all websites. As in the case of a social network the solution for trust values may be subject to constraints which may be the same or different than the constraints used in the social network context. These computed trust values may be used in ordering or filtering web pages returned in response to a search query.

The inventors have recognized and appreciated that existing recommendation ranking systems that incorporate negative trust could be improved. A known approach of simply discounting any information in which distrust has been expressed does not take full advantage of information contained in negative expressions of trust that could improve the recommendation produced by the system.

Another known approach sometimes referred to as enemy of an enemy is a friend or EEF though it incorporates negative expressions of trust does not always produce a desired result. With the EEF approach information from sources for which distrust has been expressed may be ignored. But information that is distrusted by a member who in turn is distrusted is considered. However an individual who is distrusted by someone else who is in turn distrusted by others is not necessarily trustworthy. A similar logic applies to ranking pages returned in response to a web search. A first web page to which a second web page contains a negative link is not necessarily more useful if yet a third web page has a negative link to the second web page. For this reason EEF may not produce an accurate result.

The inventors have recognized and appreciated that an improved approach to incorporate negative trust information into a ranking system can increase the utility of the ranking produced. The negative expressions of trust may be incorporated in a way that they can offset positive expressions of trust in determining a degree to which information is trusted but without allowing distrusted information to influence the output.

A recommendation ranking system that incorporates negative trust information may be applied as one example in the context of a social network. provides an example of a social network that may include a recommendation ranking component. Social network connects multiple individuals who are members of the social network in a way that allows them to share information. In the example of individuals A B and C are illustrated. It should be recognized that three individuals are shown for simplicity. However a social network may join any number of people and likely may join hundreds or thousands of people.

Each of the individuals A B and C accesses the social network through a user computer here illustrated as user computers A B and C. In this example user computers A . . . C are illustrated at desktop computers. However it should be appreciated that an individual may access social network through any computing device and desktop computers are shown for simplicity of illustration.

Each of the user computers A . . . C are coupled through a network to a server managed by an operator of the social network. In this example network may be the Internet. Though it should be appreciated that any network or combination of networks that allow exchanges of information among multiple individuals may be used to form a social network.

Server is an example of a computing device that may manage interactions between the individuals that are members of social network . Server may be programmed with computer executable instructions that perform functions that allow an individual to start a social network or invite other individuals to join the social network. Server may also be programmed to allow individuals who are members of social network to access information from or communicate with other individuals who are also members of social network .

Server is coupled to database . Database may hold information relating to management of social network . For example database may store information identifying individuals who are members of social network . Database may also store information supplied by individuals who are members of the social network. Server may manage access to such information ensuring that information intended for sharing among the individuals that are members of social network may access that information.

Social networks are known and social network may be implemented using techniques as are known in the art. However server may be modified to incorporate a recommendation ranking component. is a functional block diagram of server . It should be appreciated that and illustrate server as a single computing device. However the functions depicted in the functional block diagram of may be implemented across multiple computing devices.

Processor may be a processor or combination of processors or processor cores as known in the art. For example and not limitation processor may be a central processing unit CPU digital signal processor DSP controller addressable controller general or special purpose microprocessor microcontroller addressable microprocessor programmable processor programmable controller dedicated processor dedicated controller or any other suitable processing device.

Memory may store data and or software modules containing computer executable instructions that when executed by processor perform a desired function. Memory may be a computer readable storage medium as is known in the art or any suitable type of computer readable storage medium. For example and not limitation memory may be RAM a nanotechnology based memory one or more floppy discs compact discs optical discs volatile and non volatile memory devices magnetic tapes flash memories hard disk drive circuit configurations in Field Programmable Gate Arrays other semiconductor devices or other tangible computer storage medium or combination thereof.

Server may include any suitable number of network interfaces . Each network interface may be an interface suitable for wired and or wireless communication and may be implemented through any suitable combination of hardware and software configured to communicate over a network. For example a network interface may be implemented as a network interface driver and a network interface card NIC . The driver may be configured to receive instructions from other components of server to perform operations with the NIC. Network interfaces allow server to communicate with user computers A . . . C over network .

Server may also include modules configured to perform specific functions. In the illustrated embodiment server includes an operating system OS social network management module and recommendation ranking module . Though server may have any suitable modules. Modules may be implemented in hardware software or any suitable combination thereof. In some embodiments a module may comprise computer executable instructions. The instructions may be stored in memory and executed by processor .

OS may manage the activities and sharing of resources of server . OS may provide various functions and manage server through various components. These components may include for example and not limitation dynamically linked libraries e.g. a dynamic link library application programming interfaces APIs component object models COMs globally unique identifiers registry keys or any uniquely identifiable part of OS .

OS may be implemented using techniques as are now known in the art for implementing operating systems. Though any suitable techniques whether now known or hereafter developed may be used to implement OS . In some embodiments operating system may be a conventional operating system.

Social network management may perform functions associated with establishing a social network such as social network . The functions performed by social network module may be functions as are performed by conventional social networks. Those functions may include admitting new members to the social network receiving information from members of the network and sharing information from one member of the network with other members of the social network. Though illustrates a single social network hosted by server it should be appreciated that server may support multiple independent social networks. Accordingly social network management may also perform functions relating to segregating information provided by members of one social network from members of other social networks. However such functions are known in the art and social network management module may be implemented using known techniques or in any other suitable way.

In the embodiment illustrated server also includes a recommendation ranking module . Recommendation ranking module may perform functions associated with allowing members of social network to obtain recommendations based on opinions and trust expressed by members of the social network. Those functions may include receiving and storing opinions from members of the network on one or more topics.

The sub modules in recommendation ranking module may interact to generate personal recommendations for members of social network . Opinion receipt sub module may receive opinions relating to one or more topics from members of the social network. Opinion receipt sub module may store the opinions in a format that allows opinions relating to the same or similar topics expressed by multiple members of the social network to be identified and processed together to generate a recommendation.

Trust tracking sub module may receive and store information relating to the trust that members of the social network express for the members of the network. Trust tracking sub module may record such trust information in any suitable way. In some embodiments trust information may be context specific such that opinions expressed on different topics even if expressed by the same member of the social network may be afforded different levels of trust. Accordingly the trust information recorded by trust tracking sub module may be recorded in connection with a specific context in which it applies. For example trust information may be recorded for each opinion and that trust information may be used whenever the opinion is used to form a recommendation. Though in some embodiments trust information may be recorded based on categories of opinions and may be applied when a recommendation is request on a topic falling in the category. For example trust tracking sub module may separately record trust information associated with categories such as restaurants sports or politics. As a further alternative trust tracking sub module may record information about a general level of trust afforded to members of the social network and apply this general trust information regardless of context.

Moreover trust information may be stored in such a way that it may be related to specific individuals. Though other approaches for capturing trust information may be used. In some embodiments trust information may be grouped by profile of individual. As an example of such an approach trust information may be stored based on age range. Such an approach may be useful to compute recommendations involving tastes or experiences that may be age dependent.

In addition to organizing trust information on a member in which trust is expressed the trust information may be organized based on the member expressing trust. Though regardless of how trust information is stored trust tracking sub module may receive expressions of trust and store them so that they can be retrieved when a recommendation is requested in a context in which the expression of trust is relevant. Accordingly when trust information is used to compute a recommendation trust tracking sub module based on context may retrieve trust information applicable to any member of the network.

Recommendation ranking module may also include a personal recommendation generation sub module . Personal recommendation generation sub module may be activated in response to input from a member of social network requesting a recommendation. In response personal recommendation generation sub modules may search database for opinions relating to the topic of which the personal recommendation is requested. The opinions may be weighted in accordance with trust information stored by trust tracking sub module . The net result may be presented to a user as a personal recommendation.

To support personal recommendation generation database may store multiple types of information. conceptually illustrates some of the types of information that may be stored in database to facilitate management of social network in a way that allows personal recommendations to be generated. shows as an example that database contains user information . User information may identify users who subscribe to the social networking services provided through server .

Database may also store user links. In a social network members are added to the network based on a link to an existing member of the network. Personal network management module may maintain links stored as user links that identify users connected through social network .

Additionally database may contain user opinion information . User opinion information may be stored by opinion receipt sub module . This information may be stored in any suitable way. Likewise database may contain user to user trust information which may be stored by trust tracking sub module .

Information in database may be collect in any suitable way including through express or implied user inputs. A B and illustrate graphical user interfaces that may be presented to members of a social network during some of the operations performed by server to collection such inputs. The illustrated interfaces may appear on the displays associated with user computers such as user computers A . . . C . illustrates a graphical user interface that may be presented to a first user. Through the graphical user interface the first user may add a second user to the social network. Though any suitable mechanism may be used for managing the social network. In this example a second user has sent a request to the first user triggering personal network management module to generate graphical user interface . Through graphical user interface the first user may select control that accepts the second user into the social network of which the first user is already a member. Other options reflected by controls and may also be present. However in the embodiment illustrated the first user has elected to accept the second user into the social network. Accordingly the second user designated as John in this example is added to the social network.

Graphical user interface may be presented in response to any suitable triggering event. For example the second user John may provide an input expressly indicating a desire to provide an opinion. In other embodiments recommendation ranking module may periodically poll members of the network requesting opinions. As yet a further example a sub module of recommendation ranking module may monitor input provided by members interacting with the social network system to detect input indicating a connection with a topic about which an opinion may be solicited. As an example the second user John may send a message through the social networking system containing the name of the restaurant to be ranked or other indication that John has a connection with the restaurant. Accordingly it should be appreciated that the triggering event for receiving opinions is not critical to the invention.

Regardless of the triggering event opinion receipt sub module may collect through graphical user interface an opinion regarding the topic presented in graphical user interface . Opinion receipt sub module may receive opinions in any suitable format. In the example illustrated in the opinion collected may take on one of a discrete number of values. Accordingly graphical user interface contains interface elements through which a user may input one of a discrete number of choices representing the member s opinion. In the example of graphical user interface contains a control a control and a control . Control may be selected to express a favorable opinion. Control may be selected to express an unfavorable opinion. Control may be selected to indicate that the member expresses no opinion.

In this example each opinion may be expressed as a plus one a minus one or a zero. A plus value indicating a favorable opinion and a negative value indicating an unfavorable opinion. A zero may indicate no opinion has been expressed. Representing opinions as having a value from a set consisting of 1 0 1 may simplify mathematical operations used to form a recommendation. However it should be recognized that any suitable format may be used for representing opinions.

Opinion receipt sub module may record an opinion based on the number of stars specified through control . A value for the opinion expressed may be stored by opinion receipt sub module in any suitable format. For example a number from the set 0 1 2 3 4 5 may be stored to represent the number of stars selected through control . Though it should be recognized that any suitable value may be correlated to any user input and the specific value stored to reflect user input expressing an opinion may vary from scenario to scenario. As an example of a possible variation the value stored to reflect an opinion expressed by a member may vary non linearly in proportion to the number of stars selected through control .

As an example of another possible variation though controls and allow a discrete number of choices for an opinion there is no requirement that an opinion expressed by a member be selected from a set of discrete choices. In some embodiments a graphical user interface such as graphical user interface may include a control through which a user may express an opinion corresponding to a point in a continuous range of values. Such inputs may be obtained for example by controls shaped as sliders or text boxes in which a user may enter a number as examples of possible variations. Accordingly it should be recognized that the format in which opinions are input and stored for use by recommendation ranking module are not limitations on the invention.

In addition to obtaining opinions recommendation ranking module may also collect information about trust. In the context of social network in which recommendations are generated based on opinions expressed by members of the social network information about trust may reflect a belief that a member shares the taste of or agrees with opinions expressed by another member. Though in some scenarios tracking trust that members have in themselves may be useful. Such trust information also may be obtained from input of the members. illustrates a graphical user interface through which a member may input information that recommendation ranking module interprets as an expression of trust.

In the scenario illustrated in trust tracking sub module has presented graphical user interface to a third member of the social network identified as Mary in . Though it should be appreciated that a graphical user interface in the format of graphical user interface may be presented to any one of the members of social network including the user who invited John into the social network or even John himself about whom trust information is being obtained through graphical user interface .

A graphical user interface in the form of graphical user interface may be presented to a member of the social network at any suitable time. In some embodiments trust tracking sub module may present graphical user interface in response to a member viewing information about a topic on which another member has expressed an opinion. In the example of graphical user interface relates to a restaurant about which John has expressed an opinion. Accordingly graphical user interface may be presented to Mary if Mary requests information about the same restaurant. Alternatively graphical user interface may be presented to a member upon trust tracking sub module identifying in a communication from a member that the member may have a reason to consider an opinion expressed by a member or otherwise provide input that directly or indirectly indicates trust in opinions of members or categories of members.

Regardless of the event that triggers graphical user interface to be presented to a member an expression of trust may be obtained from the member through the graphical user interface. To facilitate obtaining an expression of trust graphical user interface may provide information about the member or members about which trust is to be expressed. In this example graphical user interface includes item which identifies the member that expressed an opinion. In the illustration of item may be a photo of the member that expressed an opinion. Though member may be identified in any suitable way.

Graphical user interface may also include information about a context in which the expression of trust applies. Graphical user interface also includes item providing information about a topic on which the member expressed an opinion. In this example the opinion was expressed about a restaurant. Item includes a photo depicting the restaurant. Though as noted above information may be presented through graphical user interface in any suitable form.

Further graphical user interface may include item providing information about the opinion. In this example item is in the form of a graphical indication of an opinion using a number of stars. Such display may be appropriate for an opinion entered through a control such as control . Though any suitable representation including a textual description of the opinion may be incorporated in graphical user interface .

Graphical user interface also includes elements through which a member Mary in this example may express trust. In this example trust is expressed in terms of agreement or disagreement with the opinion. Accordingly graphical user interface includes a control through which Mary could express agreement with the opinion represented by item . Control may be used to express disagreement. Control may be used if Mary does not wish to express agreement or disagreement with John s opinion. Though any suitable user interface elements may be used to obtain input relating to agreement or disagreement with the opinion.

Trust tracking sub module may use the input provided through one of control s or to develop a value of trust that may be used in computing a personalized recommendation for any member of social network . In some embodiments inputs on multiple opinions may be aggregated into a single trust value. For example trust tracking sub module could track trust on an individual recommendation by recommendation basis. However in some embodiments trust may be tracked based on a higher level categorization of opinions. For example the system may develop values of trust for a member s opinions in certain categories such as restaurants sports or politics. In such an embodiment expressions of trust may be aggregated based on category. Though it should be appreciated that it is not necessary that expressions of trust be aggregated in accordance with specific categories. In some embodiments expressions of trust in John s opinions may be aggregated regardless of the nature of the opinion expressed by John. As a further specific example in embodiments in which trust tracking sub module is aggregating expressions of trust for a category that includes opinion on restaurants input received through one of controls or may be averaged or otherwise aggregated with other expressions of trust for opinions John has expressed relating to restaurants.

Regardless of the level at which inputs relating to expressions of trust are aggregated expressions of trust may be aggregated on a member to member basis. In the example of a third member Mary has made an expression of trust in the second member John. This expression of trust may be aggregated only with other expressions of trust made by Mary for John s opinions. As a result the aggregated expressions of trust may be a member to member expression of trust reflecting the trust that Mary places in John.

Based on the opinions of multiple members which may be collected graphical user interfaces such as those illustrated in and expressions of trust such as may be obtained through graphical user interface such as that illustrated in personal recommendation generation sub module may generate a personalized recommendation. illustrates a graphical user interface through which a member of social network may request a personalized recommendation. In this example graphical user interface is illustrated as having a control through which a user may request a personalized recommendation on a specific topic.

In this example that specific topic is restaurants in general. It should be appreciated that for simplicity graphical user interface shows only a single topic on which a recommendation could be requested. Though a user interface through which a member may request a recommendation may present multiple choices. Further a graphical user interface may include controls or other items through which a user may qualify a topic on which a recommendation is desired. In the case of a recommendation for a restaurant graphical user interface may contain controls through which a user may specify a geographic region in which a recommended restaurant should be located. Alternatively or additionally graphical user interface may include controls through which a user can specify values of other parameters defining the topic on which a recommendation is requested such as a price range or a type of cuisine. However such variations are not shown in for simplicity. Further it should be recognized that graphical user interface shows an example of a recommendation in which express user input is provided to request a personalized recommendation. Personal recommendation generation sub module may operate in response to any suitable trigger. For example personalized recommendation generation sub module may monitor user input to detect a message or other interaction with social network suggesting that a member may want a recommendation on a topic.

Regardless of the manner in which generation of a personalized recommendation is triggered personalized recommendation generation sub module may in response to a request for a recommendation generate a personalized recommendation for the requesting member. Personal recommendation generation sub module may generate the personal recommendation based on opinions of other members of social network on the topic for which a recommendation is desired. Personal recommendation generation may aggregate the opinions from multiple members of the network to form an overall personalized recommendation. Accordingly graphical user interface is shown to contain an item identifying the recommendation. In this example item contains a photograph of a restaurant selected in response to a request for a restaurant recommendation. Though it should be recognized that the recommendation may be presented in any suitable way.

In addition to providing an overall recommendation personal recommendation generation may provide information representing the strength of the recommendation. In this example a graphical user interface contains an item representing the aggregate opinion of the recommended restaurant. In this example the aggregate opinion is represented in item by a number of stars. Such a user interface may be appropriate in embodiments in which opinions are obtained through a control such as control . However even in embodiments in which opinions are expressed in other formats an aggregate value representing the overall opinion may take on a value within a defined range. Accordingly item may be used to display a personalized recommendation even in embodiments in which opinions are obtained through controls such as controls and . Though it should be appreciated that the format in which an aggregate opinion is represented is not critical to the invention.

Though not shown in for simplicity other representations of the strength of the aggregated opinion may be presented. For example graphical user interface may contain items representing the number or percentage of members of the social network that expressed a favorable opinion of the recommended item and or the percentage of members of social network that expressed an unfavorable opinion.

Regardless of the manner in which the recommendation is displayed personal recommendation generation sub module may generate the recommendation and associated information based on opinions expressed by members of the social network and expressions of trust also from members of social network . As described above opinions may be expressed on multiple topics. Expressions of trust may be aggregated into categories that may be relevant to recommendations on different topics. Accordingly in preparing a recommendation such as presented through graphical user interface personal recommendation generation sub module may select based on the context of the request for a recommendation an appropriate set of opinions and expressions of trust. In this specific example of personal recommendation generation sub module will select opinions related to restaurants and expressions of trust associated with a category appropriate for use in computing a recommendation for a restaurant.

Regardless of the category to which the trust relates values representing member to member expressions of trust used in computing the recommendation may take on a range of values including values that represent negative trust. To compute the overall recommendation personal recommendation generation sub module may compute for each member a trust value from the values representing member to member expressions of trust and the trust values computed for the members may be used to weight the opinions of those members expressing an opinion relevant to the recommendation being generated by personal recommendation generation sub module . Each opinion may be weighted in proportion to the trust value computed for the member expressing the opinion.

In order to compute trust values for individual members an approach for combining positive and negative member to member expressions of trust may be employed. Negative values for member to member expressions of trust may be used to reduce the influence of members of the network. However in some embodiments inputs provided by members that have a computed trust value that in the aggregate is below some threshold associated with a minimum level of trust may be discounted such that inputs of untrusted members may be discounted. In some embodiments that threshold may correspond to zero trust such that inputs of untrusted members relating to an opinion may be discounted. Alternatively or additionally inputs representing expressions of trust may also be discounted when made by members that overall have a computed trust value that is below the threshold associated with a minimum level of trust may be discounted.

A complexity arises if trust values for individual members are computed based on trust expressed by other members but the inputs of some members are discounted based on level of trust computed for them. In discounting the inputs of some members the computation of trust values for the members may be impacted which may in turn impact which members should be discounted. One approach for addressing this scenario is to iteratively compute trust values for the members of the network. At each iteration trust values may be computed for members based on member to member trust values associated with members determined in the prior iteration to have a positive level of trust. Based on that computation if the set of members having a positive level of trust and are therefore considered in computing the trust values for other members changes a further iteration may be performed. Iterations may be performed in this fashion until a consistent solution is obtained.

Such a computation may be understood by reference to which illustrates a model by which data representing opinions and expressions of trust may be combined to produce an overall recommendation. In the example of each of the members of social network may be presented as a node. In this example seven members are represented by nodes N N . . . N. Network may include edges between the nodes. The edges may represent connections between members based on trust tracking sub module storing a value for a member to member expression of trust for members represented by the nodes joined by the edge. Each of the edges may have associated with it a value representing the member to member trust value. That value may be expressed as a weight of the edge.

In this example an edge Eis shown connecting nodes Nand N. An edge Eis shown connecting nodes Nand N. Edge Eis shown connecting node Nto node N. Edge Eis shown connecting node Nto node N. Edge Eis shown connecting node Nto node N. Edge Econnects node Nto node N. Edge Econnects node Nto node N. Edge Econnects node Nto node N.

Each of the edges is shown to have a weight W W . . . W. In the example of the weights are shown to have values expressing trust that are either positive or negative. Weights W W Wand Ware shown to have a positive value. In contrast weights W W W and Ware shown to have negative values. However it should be recognized that specific values are not critical. Also it should be recognized that the number of discrete values or the allowed range of values for weights is not critical to the invention.

Regardless of how the weights are represented network may represent data selected from personal recommendation generation sub module from database in response to a personalized recommendation in a topic. Node Nmay represent the member requesting the recommendation. Each of the edges and the nodes joined by the edges may be identified based on member to member expressions of trust stored in trust information that is relevant to the topic on which the recommendation is requested. As can be seen network includes nodes and edges for other members in whom the member represented by node Nhas expressed trust. The network is built out by including nodes and edges for members in which those members have expressed trust in the relevant context and so on.

Once the relevant data is obtained personal recommendation generation sub module may generate individual trust values for the members reflected in network . Here computed trust values t t . . . tare computed. In network the members represented by nodes Nand Nhave expressed opinions Oand O. An overall recommendation is computed by averaging a value associated with opinion O which in this example is negative weighted by trust value tplus the value associated with opinion O which in this case is positive weighted by trust value t. Though the trust values tand tdepend on trust values of other nodes. Accordingly generating a recommendation entails computing trust values for nodes in network even those that did not directly express an opinion.

In some embodiments each computed trust value represents the aggregate of weighted member to member trust values into each node. The weights to be applied to each member to member trust value are determined based on the computed trust for the member expressing trust. For example if the member represented by node Nis the only member that has expressed trust in the member represented by node N the value of trust t computed for node N equals the member to member trust value Wweighted by trust t. This scenario may be more complex if multiple members have expressed trust in another member. For example network shows that the members represented by nodes N N and Nhave all expressed trust in the member represented by N. Accordingly the value of trust tequals Wt Wt Wt.

In a scenario in which the nodes are linked in a network in a hierarchical fashion computation of trust values for each node may be relatively straight forward. The computation may begin at the root node N which represents the member requesting the personalized recommendation. That member may be assigned a trust tequal to a value indicating full trust. As an example tmay be assigned a value of 1. Though it should be recognized that the numerical representation of trust is not critical to the invention. Also though it may be assumed that a member requesting a recommendation has full trust in themselves embodiments may be formed in which the root node of a network such as network is assigned a value other than a value representing full trust.

Regardless of what value of trust tis assigned to the root node once that value is assigned the trust may be propagated to other nodes in the network. For example from node N trust may be propagated to node N node Nand node N. The trust values may be propagated by multiplying the trust of the route node tby the weights assigned to the edges linking the route node to each of nodes N N N. Once values of trust tand tare computed the trust may be propagated to node N. Similarly once trust value tis computed the trust may be propagated to node Nby computing tequals Wt.

So long as the network is hierarchical trust may be propagated to lower levels of the hierarchy in this fashion. However in a social network containing numerous members member to member trust may not be representable by a purely hierarchical network. For example an edge Emay be included in network reflecting an expression of trust for the member represented by node Nmade by the member represented by node N. With edge Eincluded in network the trust value tfor node Nis computed as Wt Wt where Wrepresents the member to member trust expressed by the member associated with node Nfor the member associated node N.

This network configuration sets up a scenario in which the value of tdepends on the value computed for t but the value of tdepends on the value computed for t. Despite such interlocking dependencies consistent values for trust associated with each of the nodes may be computed in an iterative fashion. As one example of an iterative approach each of the nodes may be initially assigned a trust value such as one or one half representing full trust or a half amount of trust respectively. Trust may be computed for each of the nodes based on the assigned trust values in an initial iteration. In a subsequent iteration the trust values may be recomputed based on the trust values computed in the preceding iteration. The computation may proceed in this fashion until consistent values are obtained.

In the example in which edge Eis included proceeding until a consistent value is obtained may mean that the value of trust t in combination with the assigned value for tand the computed value for t yields the value computed for trust twhile the value computed for trust t in combination with the assigned value for t yields the value computed for trust t. Iterative processing may proceed until the values computed for trust at all of the nodes are consistent across network . Though it should be recognized that in some embodiments it may not be necessary or desirable to iterate computations of trust until exact equality is achieved. Consistency for example may be defined to have been achieved when iteration to iteration changes in computed trust values is below a threshold.

Computation of trust values in the fashion allows constraints to be imposed on the solution. At that start of the computation at each iteration of the processing or at other suitable time constraints may be applied. One such constraint may be that a node that is in the aggregate distrusted by members of the network not impact the recommendation produced using the network. Accordingly in some embodiments opinions expressed at nodes having a computed level of trust below some threshold may not be aggregated with other opinions in forming an overall recommendation. In an embodiment in which a recommendation is formed by weighting an opinion at a node by a trust value for that same node this result may be achieved by setting to zero any trust value at a node that is below the threshold associated with a minimum level of trust to zero. In some embodiments the threshold associated with a minimum level of trust may also be zero. Accordingly if in any iteration a computed value of trust at any node is negative that trust value may be changed to zero. In a subsequent iteration that trust value set to zero may be used in computing trust values for other nodes.

Another constraint that may be imposed for the computation of trust values is that each member expressing trust may have a maximum impact on the generated recommendation and likewise on the trust values computed for other members. This constraint may be implemented for example by limiting the effects of expressions of trust made by any member in proportion to the number of expressions of trust for that member reflected in network . In the example of three expressions of trust made by node Nare reflected in network . These expressions of trust are captured in the weights W Wand W. Mathematically the effect of each of these expressions of trust may be limited by limiting the sum W W W W to be less than or equal 1 on some other suitable maximum value. One approach to achieving this result is by altering the weights associated with all edges leaving a node by scaling them in proportion to the sum of the absolute values of all the edges leaving the node. For edges E E Eand E the weight of each edge may be changed to equal the initial weighting divided by the sum W W W W . For example the weight of edge Emay be set equal to Wdivided by W W W W .

As an example of another constraint if a node expresses more than one opinion each opinion may be similarly weighted such that the total effect of opinions expressed by any node is limited. For example if node Nexpresses opinions about multiple restaurants the value of each opinion may be scaled by the total number of opinions. For example if a favorable opinion is nominally represented as a value of 1 if a node expresses two opinions each favorable opinion may be represented by a value of and each unfavorable opinion may be expressed as . Accordingly other constraints may be imposed by altering the values used to represent node s weights for edges or opinions in a network such as is illustrated in . In this way iterative processing based on the data set represented by network may lead first to computation of trust values which then may be used to produce a recommendation.

The recommendation may be produced from the trust values and opinions associated with nodes in the network in any suitable way. In embodiments in which opinions may take two values such as approve or disapprove a sum of trust values may be separately computed for nodes expressing a favorable opinion and nodes expressing an unfavorable opinion. The opinion for which the highest sum of trust values is computed may be reported as the recommendation. In embodiments in which there are more than two possible values of an opinion a similar computation may be performed with a separate sum combining trust values associated with nodes expressing an opinion having each of the possible values. Though it should be recognized that other approaches may be employed to translate trust values and opinions into a recommendation such that the result is influenced or weighted by the trust values. For example each of the opinions may be treated as a vote in favor of expressing a particular option as the recommendation. Accordingly another option is for the opinion expressed at the largest number of nodes having a trust value above some pre determined minimum level of trust to be selected as the recommendation. In embodiments in which the opinions expressed may take on a continuous range of values the recommendation may be determined by taking a weighted average of the individual expressions with the weight of each opinion being based on the computed value of trust for the node with which that opinion is associated.

Though network is illustrated in the context of a social network generating a personalized recommendation for a member may be generally regarded as an illustration of a voting network. Accordingly the constructs described in conjunction with for generating personalized recommendations may be used in other scenarios.

In other scenarios each node may represent an entity of any suitable type. For example rather than representing members of a social network each node may represent a web page.

Likewise in other scenarios expressions of trust may have other connotations. For example the connection with a social network trust was expressed based upon agreement or disagreement with opinions. In other scenarios an expression of trust could be taken as an assessment of the veracity of a person expressing an opinion. Though it should be appreciated that trust as that term is broadly used herein is not necessarily limited to a human characteristic. In some scenarios trust may be expressed in computers or other machines. In such a scenario an expression of trust may reflect an assessment of correct operation of a device.

Similarly opinions need not be limited to expressions of subjective assessments made by individuals. For example an opinion may reflect agreement with a stated fact or may reflect a conclusion that a web page satisfies search criteria or that the output of a device represents a correct solution to a problem some or all of these opinions may be based on observations heuristics or criteria other than subjective judgment. Therefore it should be recognized that the techniques described in conjunction with the voting network depicted in may be applied in multiple other context regardless of what each node each expression of trust and each opinion represents.

Turning to a method of computing a recommendation is illustrated. The method of may be used in any scenario in which a data set can be characterized as a voting network. Processing illustrated in may be performed in any suitable computing device including server .

The process of begins with a subprocess when a network is formed. At block nodes and edges in the network are identified. The processing at block may be performed in any suitable way which may depend on the scenario in which the technique is applied. In connection with a personal recommendation system attached to a social network processing at block may involve identifying other members that are linked directly or indirectly to a member requesting a personal recommendation based on member to member expressions of trust. Additionally edges in the network may be identified. In the scenario in which a personalized recommendation is generated for a member of a social network identifying edges may entail identifying expressions of member to member trust. In embodiments in which member to member trust is tracked separately for different types of opinions processing at block may involve identifying expressions of trust in the category relevant to the category about which a member has requested a personal recommendation. In other settings other techniques may be employed to identify nodes and edges.

Regardless of how the nodes and edges are identified the set of data to be processed may be reduced by eliminating nodes and edges that do not or should not effect the overall recommendation. Such simplification may be treated as option processing steps. Nonetheless at block edges may be removed from the network if they are outbound from a node that has an associated vote. Removing these outbound edges reflects a conclusion that fewer levels of indirection result in more accurate information. In the example of node Nexpresses an opinion O. The value of that opinion is weighted by the amount of trust that node Nplaces in node Nand further by the level of trust that node Nplaces in node N. Though if Node Nhad directly expressed an opinion it may be regarded as more reliable and therefore have a greater influence on an overall recommendation than the opinion expressed by node N. Accordingly if node Nhad expressed an opinion edge Emay be removed from the network effectively removing consideration of the opinion Oexpressed at node N. Though it should be appreciated that a similar effect may be achieved by reducing weight Wand leaving edge Ein network .

Another simplification that may be made at block is to remove inbound edges to the source. In the example of node Nis the source. In some embodiments the source may be assigned a trust tthat has a predefined value. In the example above the trust of node Nis assigned a value of 1. If the value of trust at node N were altered in computing consistent values of trust throughout the network that change would propagate through the network affecting trust computed for other nodes in a proportional fashion. Such proportional changes would not alter ratios between trusts of various nodes that therefore may not impact the relative ordering of weighted averages of opinions. Therefore any inbound edges to the source node may not impact the ultimate recommendation but may increase computation time. Therefore processing at block may remove those inbound edges in some embodiments.

Further simplification may be made at block . At block nodes that have no path to a node that has registered a vote may be removed.

Another preprocessing step may be performed at block . At block trust values associated with nodes having multiple outbound edges may be scaled such that the aggregate trust leaving any node is below a maximum trust threshold. As an example the maximum trust threshold may be set to a value such as 1. If the sum of the absolute values of the weights on all of the edges leaving any node exceeds that maximum trust threshold each of the weights may be scaled in proportion to the amount that the sum of the absolute values exceeds the maximum trust threshold. Though any suitable mathematical manipulation may be used to limit the aggregate effect of trust expressed by any node.

Once the preprocessing is completed a solution for trust values at each of the remaining nodes in the network may be computed at block .

Processing at block may use linear algebraic techniques to compute a value of trust for each node. These techniques may take into consideration the different paths that may be traced through the network such that positive levels of trust can reinforce trust in a node but negative levels of trust by some may cancel out positive levels of trust by others. These techniques may include constraints or other conditions as discussed above.

As a specific example a solution may be obtained as follows For all of nodes in the network remaining after preprocessing solve for xaccording to EQ. 1 

where u and v represent nodes in the voting network and wrepresents a node to node expression of trust from node u to node v.

The computed values of xfor all of the nodes in the network may then be used to compute values of trust t for each of the nodes by finding values of trust that minimize or at least reduce to an acceptably small level the value of EQ. 2 

Here wrepresents a node to node expression of trust from node v to node u. N represents the voting network being processed and trepresents trust at the source node.

Linear algebraic techniques are known in the art for solving equations such as EQ. 1 and EQ. 2 . Any suitable technique may be employed including numeric techniques that result in iterative computation of a consistent solution.

Regardless of the manner in which values of trust are computed at block the process may proceed to block . At block a recommendation may be computed based on votes weighted by the computed trust values. Any suitable computation may be performed at block and the specific processing may depend on the nature of votes within the network. In an embodiment in which votes may take on one of a number of discrete values processing at block may entail separately summing the trust values for nodes expressing votes corresponding to each of the possible discrete values. The discrete value associated with the highest sum may be the overall recommendation. Though other techniques for generating a recommendation may be used. As an example of one variation the recommendation may be selected based on the vote associated with the node that has the highest trust value.

Regardless of the manner in which a recommendation is selected based on trust values the process may proceed to block where the overall recommendation may be output. In an embodiment in which the recommendation is a personalized recommendation computed over a social network outputting a recommendation may entail rendering a display on a user s computing device. However any suitable output mechanism may be used.

Alternatively or additionally other parameters may be output. In a scenario in which votes take on one of multiple discrete values the sum of the trust values for nodes voting for each of the discrete values may also be output. This information may be a reflection of the closeness of the vote. In embodiments in which the recommendation is weighted average of values in a range analogous information may be expressed as a variance. Such information may be used as an indicator of certainty or reliability or for other purposes.

Some of the web pages depicted in include links to other web pages. For example web page includes a link to web page . Web page also includes a link to web page . Web page includes a link to web page .

Some of the links depicted in may be regarded as positive links. Others of the links may be regarded as negative links. For example link and may be regarded as positive links. In contrast link may be regarded as a negative link. The classification of links may be implemented by the developer of each web page containing a link. Though it should be recognized that links may be classified in other ways such as by a computer based analysis of the context in which the link appears. For example web page contains text surrounding link that may provide context for the link. In the simplified example the text contains words such as right that suggest that link is a positive link. Conversely the text surrounding link contains words such as wrong that indicate that link is a negative link.

The characterization of the links as positive or negative may be taken as an expression of trust from one web page to another. Accordingly the links may be regarded as edges in a voting network. depicts edges and . The expressions of trust may be taken as weights for these edges. For example edge may be assigned a weighting of 1 indicating a positive expression of trust. Similarly edge may be assigned a weight of 1. Conversely edge may be assigned a weight of 1 representing a negative expression of trust.

These expressions of trust may be used to produce a recommendation for useful web pages identified by a search engine by modeling the information represented in as a voting network and then applying a technique as illustrated in . Specifically a search engine may identify multiple pages matching search criteria. A computed level of trust in a matching web page may be used in filtering or ordering the web pages matching the search criteria. As a specific example a search query processed by a search engine may contain a phrase such as data collection. Such a search query may match both web pages and . By representing the information in as a voting network with the search engine s selection of web page taken as a vote that web page meets the search criteria and the search engine s identification of web page taken as a vote that web page meets the search criteria.

The values of trust associated with nodes having a vote may be used to weight the respective votes associated with those nodes which may then be used to filter or rank the web pages to be returned by the search engine. For example the matching web page with the highest computed trust may be ranked highest. Alternatively all matching web pages with a trust above some threshold may be returned or matching web pages may be ordered based on trust when presented to a user. In embodiments in which a search engine computes a score representing a degree of similarity to a search query web pages may be selected based on the score weighted by the valve of trust.

Though is a simple example derived from the simple dataset illustrated in an approach of propagating trust to generate values used to filter or rank results may be particularly useful if a large number of web pages are present and a search query generates a large number of matching web pages.

Having thus described several aspects of at least one embodiment of this invention it is to be appreciated that various alterations modifications and improvements will readily occur to those skilled in the art.

Such alterations modifications and improvements are intended to be part of this disclosure and are intended to be within the spirit and scope of the invention. Accordingly the foregoing description and drawings are by way of example only.

The above described embodiments of the present invention can be implemented in any of numerous ways. For example the embodiments may be implemented using hardware software or a combination thereof. When implemented in software the software code can be executed on any suitable processor or collection of processors whether provided in a single computer or distributed among multiple computers.

Further it should be appreciated that a computer may be embodied in any of a number of forms such as a rack mounted computer a desktop computer a laptop computer or a tablet computer. Additionally a computer may be embedded in a device not generally regarded as a computer but with suitable processing capabilities including a Personal Digital Assistant PDA a smart phone or any other suitable portable or fixed electronic device.

Also a computer may have one or more input and output devices. These devices can be used among other things to present a user interface. Examples of output devices that can be used to provide a user interface include printers or display screens for visual presentation of output and speakers or other sound generating devices for audible presentation of output. Examples of input devices that can be used for a user interface include keyboards and pointing devices such as mice touch pads and digitizing tablets. As another example a computer may receive input information through speech recognition or in other audible format.

Such computers may be interconnected by one or more networks in any suitable form including as a local area network or a wide area network such as an enterprise network or the Internet. Such networks may be based on any suitable technology and may operate according to any suitable protocol and may include wireless networks wired networks or fiber optic networks.

Also the various methods or processes outlined herein may be coded as software that is executable on one or more processors that employ any one of a variety of operating systems or platforms. Additionally such software may be written using any of a number of suitable programming languages and or programming or scripting tools and also may be compiled as executable machine language code or intermediate code that is executed on a framework or virtual machine.

In this respect the invention may be embodied as a computer readable medium or multiple computer readable media e.g. a computer memory one or more floppy discs compact discs CD optical discs digital video disks DVD magnetic tapes flash memories circuit configurations in Field Programmable Gate Arrays or other semiconductor devices or other non transitory tangible computer storage medium encoded with one or more programs that when executed on one or more computers or other processors perform methods that implement the various embodiments of the invention discussed above. The computer readable medium or media can be transportable such that the program or programs stored thereon can be loaded onto one or more different computers or other processors to implement various aspects of the present invention as discussed above.

The terms program or software are used herein in a generic sense to refer to any type of computer code or set of computer executable instructions that can be employed to program a computer or other processor to implement various aspects of the present invention as discussed above. Additionally it should be appreciated that according to one aspect of this embodiment one or more computer programs that when executed perform methods of the present invention need not reside on a single computer or processor but may be distributed in a modular fashion amongst a number of different computers or processors to implement various aspects of the present invention.

Computer executable instructions may be in many forms such as program modules executed by one or more computers or other devices. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Typically the functionality of the program modules may be combined or distributed as desired in various embodiments.

Also data structures may be stored in computer readable media in any suitable form. For simplicity of illustration data structures may be shown to have fields that are related through location in the data structure. Such relationships may likewise be achieved by assigning storage for the fields with locations in a computer readable medium that conveys relationship between the fields. However any suitable mechanism may be used to establish a relationship between information in fields of a data structure including through the use of pointers tags or other mechanisms that establish relationship between data elements.

Various aspects of the present invention may be used alone in combination or in a variety of arrangements not specifically discussed in the embodiments described in the foregoing and is therefore not limited in its application to the details and arrangement of components set forth in the foregoing description or illustrated in the drawings. For example aspects described in one embodiment may be combined in any manner with aspects described in other embodiments.

Also the invention may be embodied as a method of which an example has been provided. The acts performed as part of the method may be ordered in any suitable way. Accordingly embodiments may be constructed in which acts are performed in an order different than illustrated which may include performing some acts simultaneously even though shown as sequential acts in illustrative embodiments.

Use of ordinal terms such as first second third etc. in the claims to modify a claim element does not by itself connote any priority precedence or order of one claim element over another or the temporal order in which acts of a method are performed but are used merely as labels to distinguish one claim element having a certain name from another element having a same name but for use of the ordinal term to distinguish the claim elements.

Also the phraseology and terminology used herein is for the purpose of description and should not be regarded as limiting. The use of including comprising or having containing involving and variations thereof herein is meant to encompass the items listed thereafter and equivalents thereof as well as additional items.

