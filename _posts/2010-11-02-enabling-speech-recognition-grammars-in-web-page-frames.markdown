---

title: Enabling speech recognition grammars in web page frames
abstract: Enabling grammars in web page frames, including receiving, in a multimodal application on a multimodal device, a frameset document, where the frameset document includes markup defining web page frames; obtaining by the multimodal application content documents for display in each of the web page frames, where the content documents include navigable markup elements; generating by the multimodal application, for each navigable markup element in each content document, a segment of markup defining a speech recognition grammar, including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed; and enabling by the multimodal application all the generated grammars for speech recognition.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08073692&OS=08073692&RS=08073692
owner: Nuance Communications, Inc.
number: 08073692
owner_city: Burlington
owner_country: US
publication_date: 20101102
---
This application is a continuation of U.S. patent application Ser. No. 11 567 235 filed on Dec. 6 2006 now U.S. Pat. No. 7 827 033 issued on Nov. 2 2010 entitled Enabling Grammars In Web Page Frame the entirety of which is incorporated herein by reference.

The field of the invention is data processing or more specifically methods apparatus and products for enabling grammars in web page frames.

User interaction with applications running on small devices through a keyboard or stylus has become increasingly limited and cumbersome as those devices have become increasingly smaller. In particular small handheld devices like mobile phones and PDAs serve many functions and contain sufficient processing power to support user interaction through other modes such as multimodal access. Devices which support multimodal access combine multiple user input modes or channels in the same interaction allowing a user to interact with the applications on the device simultaneously through multiple input modes or channels. The methods of input include speech recognition keyboard touch screen stylus mouse handwriting and others. Multimodal input often makes using a small device easier.

Multimodal applications often run on servers that serve up multimodal web pages for display on a multimodal browser. A multimodal browser as the term is used in this specification generally means a web browser capable of receiving multimodal input and interacting with users with multimodal output. Multimodal browsers typically render web pages written in XHTML Voice X V . X V provides a markup language that enables users to interact with an multimodal application often running on a server through spoken dialog in addition to traditional means of input such as keyboard strokes and mouse pointer action. X V adds spoken interaction to standard web content by integrating XHTML eXtensible Hypertext Markup Language and speech recognition vocabularies supported by VoiceXML. For visual markup X V includes the XHTML standard. For voice markup X V includes a subset of VoiceXML.

Current lightweight voice solutions require a developer to build a grammar and lexicon to limit the potential number of words that an automatic speech recognition ASR engine must recognize as a means for increasing accuracy. Pervasive devices typically have limited interaction and input modalities due to the form factor of the device and kiosk devices have limited interaction and input modalities by design. In both cases the use of speaker independent voice recognition is implemented to enhance the user experience and interaction with the device. The state of the art in speaker independent recognition allows for some sophisticated voice applications to be written as long as there is a limited vocabulary associated with each potential voice command. For example if the user is prompted to speak the name of a city the system can with a decent level of confidence recognize the name of the city spoken.

Voice interaction features are integrated with X V and can consequently be used directly within X V content. X V includes voice modules that support speech synthesis speech dialogs command and control and speech grammars. Voice handlers can be attached to X V elements and respond to specific events. For synchronizing the VoiceXML elements with corresponding visual interface elements X V uses XML Events events referred to in this document generally as events . The specifications for X V may be had from the VoiceXML Forum Forum. The specifications for both XHTML and XML Events may be had from the HTML Home Page of the World Wide Consortium. The specifications for VoiceXML may be had from the Voice Browser Activity of the World Wide Consortium.

A multimodal application may span multiple XHTML web pages. One of these web pages may specify multiple frames where each frame contains its own XHTML page. For an overview of HTML frames see the website of the World Wide Web Consortium. Frames allow an author to present multiple views or subwindows that a browser displays simultaneously. One common use is to separate the navigation of the application as a separate subwindow. The navigation subwindow does not change as content is updated in another subwindow. To specify multiple frames there is a top level XHTML document known as a frameset document among the documents that comprise the application that contains a markup element. One or more elements are disposed as markup in the frameset document as children of . Each frame has a name so that multiple XHTML documents can be placed within it as new content. Each frame can be targeted by its name in markup that identifies a document to display in a subwindow defined by a frame. and elements within the XHTML document specify which frame will load the referenced XHTML document via a target markup attribute. By default the current frame is the target if the target attribute is missing. If a user activates a hyperlink in a frame by use of a mouseclick through a graphical user interface GUI only the target frame is updated with new content.

In current art however only the frame currently in focus will have speech recognition grammars enabled. Because the user can see all frames displayed by the browser at one time the user expects the grammars for all the frames to be enabled. The frames are enabled for hyperlinking through the GUI but not by voice.

In addition there is no targeting of a frame when voice is used to activate a hyperlink. The grammar that when matched against a user utterance activates a voice enabled hyperlink may be derived from the link s attributes from a title attribute a name attribute from another attribute or from text between a start tag and an end tag in markup of a link. But when the user says the hyperlink s title and the link is activated the whole page not a target frame will be updated with new content. All of the application s frames including its navigation frame will be replaced by a single new page. The frame structure defined in the frameset document is destroyed and the application becomes a single frame application.

This invention seeks to overcome the limitations of the current state of the art in enabling grammars in web page frames in multimodal browsers with methods systems and products that voice enable hyperlinks in all displayed frames at one time and set a target of the each hyperlink so that updated content appears in the appropriate frame. Methods apparatus and computer program products are described for enabling grammars in web page frames that include receiving in a multimodal application on a multimodal device a frameset document where the frameset document includes markup defining web page frames obtaining by the multimodal application content documents for display in each of the web page frames where the content documents include navigable markup elements generating by the multimodal application for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed and enabling by the multimodal application all the generated grammars for speech recognition.

The foregoing and other objects features and advantages of the invention will be apparent from the following more particular descriptions of exemplary embodiments of the invention as illustrated in the accompanying drawings wherein like reference numbers generally represent like parts of exemplary embodiments of the invention.

Exemplary methods apparatus and products for enabling grammars in web page frames according to embodiments of the present invention are described with reference to the accompanying drawings beginning with . sets forth a network diagram illustrating an exemplary system for enabling grammars in web page frames according to embodiments of the present invention. The system of operates generally to enable grammars in web page frames according to embodiments of the present invention by receiving in a multimodal application on a multimodal device a frameset document where the frameset document includes markup defining web page frames obtaining by the multimodal application content documents for display in each of the web page frames where the content documents include navigable markup elements generating by the multimodal application for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed and enabling by the multimodal application all the generated grammars for speech recognition. Operation of the system of typically also include providing by the multimodal application to an automated voice markup language interpreter speech for recognition from a user matching by the automated voice markup language interpreter with an enabled grammar at least part of the speech for recognition and returning from the automated voice markup language interpreter to the multimodal application an event indicating an instruction representative of the matched speech.

A multimodal application is a module of computer program instructions capable of operating a multimodal device as an apparatus that supports enabling grammars in web page frames according to embodiments of the present invention. A multimodal device is an automated device that is automated computing machinery or a computer program running on an automated device that is capable of accepting speech input from a user digitizing speech and providing digitized speech along with voice recognition grammars to an automated voice markup language interpreter. A multimodal device may be implemented for example with a voice enabled browser on a laptop computer a voice browser on a telephone handset an online game implemented with Java on a personal computer and with other combinations of hardware and software as may occur to those of skill in the art.

personal computer which is coupled for data communications to data communications network through wireline connection 

personal digital assistant PDA which is coupled for data communications to data communications network through wireless connection 

mobile telephone which is coupled for data communications to data communications network through wireless connection and

laptop computer which is coupled for data communications to data communications network through wireless connection .

Each of the example multimodal devices in the system of includes a microphone an audio amplifier a digital to analog converter and a multimodal application capable of accepting from a user speech for recognition digitizing the speech and providing the digitized speech along with voice recognition grammars to an automated voice markup language interpreter. The speech may be digitized according to industry standard codecs including but not limited to those used for Distributed Speech Recognition as such. Methods for COding DECoding speech are referred to as codecs. The European Telecommunications Standards Institute ETSI provides several codecs for encoding speech for use in DSR including for example the ETSI ES 201 108 DSR Front end Codec the ETSI ES 202 050 Advanced DSR Front end Codec the ETSI ES 202 211 Extended DSR Front end Codec and the ETSI ES 202 212 Extended Advanced DSR Front end Codec. In standards such as RFC3557 entitled

Each of the example multimodal devices in the system of may include automated voice markup language interpreter. An automated voice markup language interpreter may be installed locally in the multimodal device itself or an automated voice markup language interpreter may be installed remotely with respect to the multimodal device across a data communications network in a voice server . When the multimodal device includes an automated voice markup language interpreter enabling generated grammars may be carried out by providing the grammars to the automated voice markup language interpreter by one or more application programming interface API calls from the multimodal application to the automated voice markup language interpreter. When the automated voice markup language interpreter is located on a voice server the multimodal device may be coupled for data communications to the voice server enabling generated grammars may be carried out by providing the grammars to the automated voice markup language interpreter by one or more data communications protocol messages from the multimedia device to the automated voice markup language interpreter on the voice server.

Each of the example multimodal devices in the system of is configured and programmed to be capable of enabling grammars in web page frames according to embodiments of the present invention by receiving in a multimodal application on a multimodal device a frameset document where the frameset document includes markup defining web page frames obtaining by the multimodal application content documents for display in each of the web page frames where the content documents include navigable markup elements generating by the multimodal application for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed and enabling by the multimodal application all the generated grammars for speech recognition.

The description of these four example multimodal devices is for explanation only not for limitation of the invention. Any automated computing machinery capable of accepting speech from a user providing the speech digitized to an automated voice markup language interpreter and receiving and playing speech prompts and responses may be improved to function as a multimodal device for enabling grammars in web page frames according to embodiments of the present invention.

The system of also includes a voice server which is connected to data communications network through wireline connection . The voice server is a computer that runs an automated voice markup language interpreter such as for example a VoiceXML interpreter that provides voice recognition services for multimodal devices by accepting requests for speech recognition with voice recognition grammars and returning responses that may include text representing recognized speech or events for processing by a multimodal client application. Voice server also provides text to speech TTS conversion for voice prompts and voice responses to user input in multimodal client applications such as for example X V applications or Java voice applications.

The system of includes a data communications network that connects the multimodal devices and the voice server for data communications. A data communications network for enabling grammars in web page frames according to embodiments of the present invention is a data communications data communications network composed of a plurality of computers that function as data communications routers connected for data communications with packet switching protocols. Such a data communications network may be implemented with optical connections wireline connections or with wireless connections. Such a data communications network may include intranets internets local area data communications networks LANs and wide area data communications networks WANs . Such a data communications network may implement for example 

The arrangement of the voice server the multimodal devices and the data communications network making up the exemplary system illustrated in are for explanation not for limitation. Data processing systems useful for enabling grammars in web page frames according to various embodiments of the present invention may include additional servers routers other devices and peer to peer architectures not shown in as will occur to those of skill in the art. Data communications networks in such data processing systems may support many data communications protocols in addition to those noted above. Various embodiments of the present invention may be implemented on a variety of hardware platforms in addition to those illustrated in .

The term markup is used in this paper to refer to markup elements and markup attributes in markup languages HTML XHTML XML X V VoiceXML and so on. A web page frame is markup an XHTML element for example that defines multiple views windows or subwindows for display of content. The term frame is used to refer both to the markup that defines the views as well as to refer to the views themselves. Multiple views offer designers a way to keep certain information visible while other views are scrolled or replaced. For example within the same window one frame might display a static banner a second a navigation menu and a third the main document that can be scrolled through or replaced by navigating in the second frame.

A frameset document is a markup document such as for example an X V document that describes frame layout. A frameset document has a different makeup than an HTML document without frames. A standard HTML XHTML or X V document has one section and one . A frameset document has a and a in place of the . The section of a markup document specifies the layout of views on a computer display screen. The content to be displayed in a frame is not included in the same document where the frame is defined in the frameset document. The contents are in another document a content document which is typically remotely stored on a web server often not on the same web server that served the frameset document to a multimodal device. The locations of the content documents are specified in frame markup a src attribute. Each content document is typically in effect a web page itself an HTML XHTML XML or X V document also typically containing navigable markup elements such as link elements and anchor elements.

A grammar is markup that communicates to an automated voice markup language interpreter the words and sequences of words that may be recognized. Grammars for use in enabling grammars in web page frames according to embodiments of the present invention may be expressed in any format supported by any ASR engine including for example the Java Speech Grammar Format JSGF the format of the W3C Speech Recognition Grammar Specification SRGS the Augmented Backus Naur Format ABNF from the IETF s RFC2234 in the form of a stochastic grammar as described in the W3C s Stochastic Language Models N Gram Specification and in other grammar formats as may occur to those of skill in the art. Grammars typically operate as elements of dialogs such as for example a VoiceXML or an X V. A grammar s definition may be expressed in line in a dialog. Or the grammar may be implemented externally in a separate grammar document and referenced from within a dialog with a URI. Here is an example of a grammar expressed in JSFG 

In this example the markup elements and are rules of the grammar. Rules are a combination of a rulename and an expansion of a rule that advises an automated voice markup language interpreter which words presently can be recognized. In this example expansion includes conjunction and disjunction and the vertical bars mean or. An automated voice markup language interpreter processes the rules in sequence first then then . The rule matches call or phone or telephone plus that is in conjunction with whatever is returned from the rule and the rule. The rule matches bob or martha or joe or pete or chris or john or artoush and the rule matches today or this afternoon or tomorrow or next week. The command grammar as a whole matches utterances like these for example 

The system of includes a web server that uses request response protocols such as HTTP to provide web pages regular web pages as well as frameset documents to multimodal devices . Receiving in a multimodal application on a multimodal device a frameset document where the frameset document includes markup defining web page frames may be carried out by receiving in an HTTP message a frameset document such as this example frameset document 

This frameset document defines four frames organized in a hierarchy by framesets frameset1 and frameset2. Framset2 is nested in frameset1 creating a hierarchy of frames with frame3 and frame4 in a top layer and frame1 and frame2 in a lower layer. The content documents to be displayed in each frame are identified in the src attributes as three HTML documents named contents of frame1.html contents of frame3.html and contents of frame4.html and one image a Graphic Interchange Format GIF document named contents of frame2.gif. Each src value that is each content documents name is actually a relative Uniform Resource Locators URL that in addition to providing a name of a content document also specifies the content document s location in cyberspace in this example in relation to a base location taken as www.w3.org TR html4 .

Each of the HTML content documents in this example may contain navigable markup element link elements and anchor elements. The GIF document may not contain navigable elements. Obtaining by the multimodal application content documents for display in each of the web page frames here frames 1 through 4 can be carried out by retrieving through HTTP from www.w3.org TR html4 the identified content documents. In the ordinary course the multimodal application would then display each content document is its designated frame which is referred to as the content document s target frame. 

The multimodal applications generate for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed. Inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched may be carried out by scanning through each document for navigable markup elements link elements and anchor elements each of which has an href attribute specifying a URL that provides a location for a further content document and writing the href values the URLs into the grammar. A word in a grammar is matched when an automated voice markup language interpreter matches the word with speech for recognition from a user. Inserting in each such grammar markup identifying a frame where the content is to be displayed may be carried out by inserting in the grammar the frame identification the id attribute value of the target frame of the content document. In this way the following example anchor element from a content document 

to embodiments of the present invention creates grammars for each navigable element in each content document referenced by frames in the frameset document. The multimodal applications may then enable all the generated grammars for speech recognition by dynamically generating a markup language fragment specifying a grammar and providing the markup language fragment to an automated voice markup language interpreter. Dynamically generating a markup language fragment specifying a grammar means placing each generated grammar in a segment of markup that returns an event to the multimodal application when a word in such a grammar is matched by an automated voice markup language interpreter.

In this way a multimodal application can use an application programming interface API call or a message in a data communication protocol to provide to an automated voice markup language interpreter a segment of markup such as for example a segment of VoiceXML containing a element. When the link grammar is matched the interpretation result is raised as an event back to the application program. Here is an example of a VoiceXML link element that includes a generated grammar and an event 

A semantic interpretation function of a VoiceXML interpreter builds up an event string when it matches a user s utterance. An event is the representation of some asynchronous occurrence such as a mouse click on the presentation of an element a match on a word in a grammar of an element an arithmetical error in the value of an attribute of the element or any of many other possibilities that gets associated with an element targeted at it in an content document. The general behavior of a multimodal application is that when an event occurs it is dispatched by passing it down a DOM document tree to the element where the event occurred called its target . An action is some way of responding to an event a handler is some specification for such an action for instance using scripting or some other method. A listener is a binding of such a handler to an event targeting some element in a document. In this example the event is a voice activation of a hyperlink represented by an anchor element the handler is the element and the listener is a dialog specified by a element in the multimodal application.

Including the event string in the eventexpr attribute of the in the Pizza Demo example causes the semantic interpretation function to raise the event string as an event that invokes the hyperlink represented by the Pizza Demo anchor element. The also contains a element that processes the events generated by the semantic interpretation function. Within the catch element a Document Object Model DOM function window.c3nEvent is executed passing in the event string.

The multimodal application generates the markup for the element from the navigable markup elements in a content document referenced by a target frame. The multimodal application adds the and the to the markup segment with the grammar and provides the entire markup segment to a VoiceXML interpreter. Now if a user utters Pizza Demo the event expression attribute of the which contains application.lastresult .interpretation.c3n resolves to the string link.pizza pizza.html.contentFrame . The event is thrown by the and caught by the handler in the . A DOM API called in the catch handler interprets the event string according to the event hierarchy established by the grammar contained in the element. Strings that start with command. may be interpreted as menu commands while strings that start with link. may be interpreted as content navigation. This Pizza Demo is an example of content navigation.

Enabling grammars in web page frames according to embodiments of the present invention is generally implemented with one or more multimodal devices that is automated computing machinery or computers. In the system of for example all the multimodal devices are implemented to some extent at least as computers. For further explanation therefore sets forth a block diagram of automated computing machinery comprising an example of a computer useful as a multimodal device in enabling grammars in web page frames according to embodiments of the present invention. The multimodal device of includes at least one computer processor or CPU as well as random access memory RAM which is connected through a high speed memory bus and bus adapter to processor and to other components of the multimodal device.

Stored in RAM is a multimodal application a module of computer program instructions capable of operating a multimodal device as an apparatus that supports enabling grammars in web page frames according to embodiments of the present invention. Multimodal application in this example is programmed to enable grammars in web page frames according to embodiments of the present invention by receiving on a multimodal device a frameset document where the frameset document includes markup defining web page frames obtaining by the multimodal application content documents for display in each of the web page frames where the content documents include navigable markup elements generating by the multimodal application for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed and enabling by the multimodal application all the generated grammars for speech recognition. Multimodal application in this example is programmed to provide to an automated voice markup language interpreter speech for recognition from a user. In this example an automated voice markup language interpreter is represented as a VoiceXML interpreter . When a word or words in the user speech is matched by the automated voice markup language interpreter with an enabled grammar the multimodal application accepts from the interpreter and processes an event indicating an instruction representative of the matched speech. The automated voice markup language interpreter includes a grammar that in turn as described above includes rules defining which words and sequences of words are presently enabled for recognition.

Multimodal application typically is a user level multimodal client side computer program that provides a speech interface through which a user may provide oral speech for recognition through microphone have the speech digitized through an audio amplifier and a coder decoder codec of a sound card and provide the digitized speech for recognition to an automated voice markup language interpreter represented here as a VoiceXML interpreter. The multimodal application may be a Java voice application that itself process grammars and provides grammars and digitized speech for recognition directly through an API to an ASR engine . Or the multimodal application may be an X V application running in a browser or microbrowser that passes VoiceXML grammars through API calls directly to an embedded VoiceXML interpreter for processing. The embedded VoiceXML interpreter may in turn issue requests for speech recognition through API calls directly to an embedded ASR engine . Multimodal application also provides TTS conversion by API calls to an embedded TTS engine for voice prompts and voice responses to user input in multimodal applications such as for example X V applications or Java voice applications. The multimodal application in this example does not send speech for recognition across a network to a voice server for recognition and the multimodal application in this example does not receive TTS prompts and responses across a network from a voice server. All grammar processing voice recognition and text to speech conversion in this example is performed in an embedded fashion in the multimodal device itself.

ASR engine also stored in RAM in this example is a module of computer program instructions for carrying out automated speech recognition. An example of an embedded ASR engine that may be improved for enabling grammars in web page frames according to embodiments of the present invention is IBM s Embedded ViaVoice Enterprise an ASR product that also includes an embedded TTS engine. The ASR engine includes an ASR lexicon of words capable of recognition by the ASR engine. Also stored in RAM is an embedded TTS Engine a module of computer program instructions that accepts text as input and returns the same text in the form of digitally encoded speech for use in providing speech as prompts for and responses to users of multimodal systems.

Also stored in RAM is an operating system . Operating systems useful in voice servers according to embodiments of the present invention include UNIX Linux Microsoft NT AIX IBM s i5 OS and others as will occur to those of skill in the art. Operating system multimodal application VoiceXML interpreter ASR engine JVM and TTS Engine in the example of are shown in RAM but many components of such software typically are stored in non volatile memory also for example on a disk drive .

The multimodal device of includes a bus adapter a computer hardware component that contains drive electronics for the high speed buses the front side bus the video bus and the memory bus as well as for the slower expansion bus . Examples of bus adapters useful in multimodal devices according to embodiments of the present invention include the Intel Northbridge the Intel Memory Controller Hub the Intel Southbridge and the Intel I O Controller Hub. Examples of expansion buses useful in multimodal devices according to embodiments of the present invention include Industry Standard Architecture ISA buses and Peripheral Component Interconnect PCP buses.

Multimodal device of includes disk drive adapter coupled through expansion bus and bus adapter to processor and other components of the multimodal device . Disk drive adapter connects non volatile data storage to the multimodal device in the form of disk drive . Disk drive adapters useful in multimodal devices include Integrated Drive Electronics IDE adapters Small Computer System Interface SCSI adapters and others as will occur to those of skill in the art. In addition non volatile computer memory may be implemented for a multimodal device as an optical disk drive electrically erasable programmable read only memory space so called EEPROM or Flash memory RAM drives and so on as will occur to those of skill in the art.

The example multimodal device of includes one or more input output I O adapters . I O adapters in multimodal devices implement user oriented input output through for example software drivers and computer hardware for controlling output to display devices such as computer display screens as well as user input from user input devices such as keyboards and mice. The example multimodal device of includes video adapter which is an example of an I O adapter specially designed for graphic output to a display device such as a display screen or computer monitor. Video adapter is connected to processor through a high speed video bus bus adapter and the front side bus which is also a high speed bus.

The example multimodal device of also includes a sound card which is an example of an I O adapter specially designed for accepting analog audio signals from a microphone and converting the audio analog signals to digital form for further processing by a codec . The sound card is connected to processor through expansion bus bus adapter and front side bus .

The exemplary multimodal device of includes a communications adapter for data communications with other computers and for data communications with data communications network . Such data communications may be carried out through serially through RS 232 connections through external buses such as a Universal Serial Bus USB through data communications data communications networks such as IP data communications networks and in other ways as will occur to those of skill in the art. Communications adapters implement the hardware level of data communications through which one computer sends data communications to another computer directly or through a data communications network. Examples of communications adapters useful for enabling grammars in web page frames according to embodiments of the present invention include modems for wired dial up communications Ethernet IEEE 802.3 adapters for wired data communications network communications and 802.11b adapters for wireless data communications network communications.

Enabling grammars in web page frames according to embodiments of the present invention in some embodiments may be implemented with one or more voice servers computers that is automated computing machinery that provide speech recognition. For further explanation therefore sets forth a block diagram of automated computing machinery comprising an example of a computer useful as a voice server in enabling grammars in web page frames according to embodiments of the present invention. The voice server of includes at least one computer processor or CPU as well as random access memory RAM which is connected through a high speed memory bus and bus adapter to processor and to other components of the voice server.

Stored in RAM is a multimodal server application a module of computer program instructions capable of operating a voice server in a system that is configured to carry out data communications required to receive grammars and digitized speech for recognition from a multimodal client device pass the grammars and digitized speech to an automated voice markup language interpreter for processing and return responses from the automated voice markup language interpreter to the multimodal device. Such responses may include text representing recognized speech text for use as variable values in dialogs and events that is event text as string representations of scripts from semantic interpretation. Multimodal server application also includes computer program instructions that provide text to speech TTS conversion for voice prompts and voice responses to user input in multimodal applications such as for example X V applications or Java Speech applications.

Multimodal server application may be implemented as a web server implemented in Java C or another language that supports X V by providing responses to HTTP requests from X V clients. Multimodal server application may for a further example be implemented as a Java server that runs on a Java Virtual Machine and supports a Java voice framework by providing responses to HTTP requests from Java client applications running on multimodal devices. And multimodal server applications that support enabling grammars in web page frames may be implemented in other ways as may occur to those of skill in the art and all such ways are well within the scope of the present invention.

Also disposed in RAM in the example of is an ASR engine . ASR engine is a module of computer program instructions that carry out speech recognition by use of an ASR lexicon of words capable of recognition by the ASR engine. The lexicon is an association of words in text form with phonemes representing pronunciations of each word. In carrying out automated speech recognition the ASR engine receives speech for recognition from an automated voice markup language interpreter in the form of at least one digitized word uses frequency components of the digitized word to derive a Speech Feature Vector SFV uses the SFV to infer phonemes for the word from a language specific acoustic model not shown . A language specific acoustic model is a data structure a table or database for example that associates SFVs with phonemes representing to the extent that it is practically feasible to do so all pronunciations of all the words in a particular language. The ASR engine then uses the phonemes to find the word in the lexicon. If the word is found the text version of the word is returned to the automated voice markup language interpreter as recognized speech. The automated voice markup language interpreter may then determine whether the recognized speech matches a word in an enabled grammar.

Also stored in RAM is an automated voice markup language interpreter represented here for example as a VoiceXML interpreter a module of computer program instructions that processes VoiceXML grammars. VoiceXML input to VoiceXML interpreter may originate from VoiceXML clients running remotely on multimodal devices from X V multimodal client applications running remotely on multimodal devices or from Java client applications running remotely on multimedia devices. In this example VoiceXML interpreter interprets and executes VoiceXML segments received from remote multimedia clients and provided to VoiceXML interpreter through multimodal server application . The VoiceXML interpreter includes a grammar that in turn as described above includes rules defining which words and sequences of words are presently enabled for recognition. Also stored in RAM is a Text To Speech TTS Engine a module of computer program instructions that accepts text as input and returns the same text in the form of digitally encoded speech for use in providing speech as prompts for and responses to users of multimodal systems.

Also stored in RAM is an operating system . Operating systems useful in voice servers according to embodiments of the present invention include UNIX Linux Microsoft NTT AIX IBM s i5 OS and others as will occur to those of skill in the art. Operating system multimodal server application VoiceXML interpreter ASR engine JVM and TTS Engine in the example of are shown in RAM but many components of such software typically are stored in non volatile memory also for example on a disk drive .

Voice server of includes bus adapter a computer hardware component that contains drive electronics for high speed buses the front side bus the video bus and the memory bus as well as drive electronics for the slower expansion bus . Examples of bus adapters useful in voice servers according to embodiments of the present invention include the Intel Northbridge the Intel Memory Controller Hub the Intel Southbridge and the Intel I O Controller Hub. Examples of expansion buses useful in voice servers according to embodiments of the present invention include Industry Standard Architecture ISA buses and Peripheral Component Interconnect PCP buses.

Voice server of includes disk drive adapter coupled through expansion bus and bus adapter to processor and other components of the voice server . Disk drive adapter connects non volatile data storage to the voice server in the form of disk drive . Disk drive adapters useful in voice servers include Integrated Drive Electronics IDE adapters Small Computer System Interface SCSI adapters and others as will occur to those of skill in the art. In addition non volatile computer memory may be implemented for a voice server as an optical disk drive electrically erasable programmable read only memory so called EEPROM or Flash memory RAM drives and so on as will occur to those of skill in the art.

The example voice server of includes one or more input output I O adapters . I O adapters in voice servers implement user oriented input output through for example software drivers and computer hardware for controlling output to display devices such as computer display screens as well as user input from user input devices such as keyboards and mice. The example voice server of includes a video adapter which is an example of an I O adapter specially designed for graphic output to a display device such as a display screen or computer monitor. Video adapter is connected to processor through a high speed video bus bus adapter and the front side bus which is also a high speed bus.

The exemplary voice server of includes a communications adapter for data communications with other computers and for data communications with a data communications network . Such data communications may be carried out serially through RS 232 connections through external buses such as a Universal Serial Bus USB through data communications data communications networks such as IP data communications networks and in other ways as will occur to those of skill in the art. Communications adapters implement the hardware level of data communications through which one computer sends data communications to another computer directly or through a data communications network. Examples of communications adapters useful for enabling grammars in web page frames according to embodiments of the present invention include modems for wired dial up communications Ethernet IEEE 802.3 adapters for wired data communications network communications and 802.11 adapters for wireless data communications network communications.

For further explanation sets forth a functional block diagram of exemplary apparatus for enabling grammars in web page frames according to embodiments of the present invention. In the example of there is only a multimodal device and a user no network no VoIP connection and no voice server containing a remote ASR engine. All the components needed for enabling grammars in web page frames according to embodiments of the present invention are installed or embedded in the multimodal device itself a laptop a PDA a cell phone or the like.

The apparatus of operates in a manner similar to the system of . Multimodal application is a module of computer program instructions capable of operating a multimodal device as an apparatus that enables grammars in web page frames according to embodiments of the present invention. In this example multimodal application in this example is also configured to enable grammars in web page frames according to embodiments of the present invention by receiving on a multimodal device a frameset document where the frameset document includes markup defining web page frames obtaining by the multimodal application content documents for display in each of the web page frames where the content documents include navigable markup elements generating by the multimodal application for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed and enabling by the multimodal application all the generated grammars for speech recognition. Multimodal application in this example is programmed to provide to an automated voice markup language interpreter speech for recognition from a user. In this example an automated voice markup language interpreter is represented as a VoiceXML interpreter . The multimodal application accepts speech for recognition from a user and sends the speech for recognition through API to the VoiceXML interpreter . When a word or words in the user speech is matched by the automated voice markup language interpreter with an enabled grammar the multimodal application accepts from the interpreter and processes an event indicating an instruction representative of the matched speech. The VoiceXML interpreter includes a grammar that in turn as described above includes rules defining which words and sequences of words are presently enabled for recognition.

Multimodal device application is a user level multimodal client side computer program that provides a speech interface through which a user may provide oral speech for recognition through microphone have the speech digitized through an audio amplifier and a codec and provide the digitized speech for recognition to the embedded ASR engine . The multimodal device application may be a Java voice application that itself process grammars and provides grammars and digitized speech for recognition directly through API to the embedded ASR engine . Or the multimodal device application may be an X V application running in a browser or microbrowser that passes VoiceXML grammars through API to an embedded VoiceXML interpreter for processing. The embedded VoiceXML interpreter may in turn issue requests for speech recognition through API to the embedded ASR engine . Multimodal device application also provides TTS conversion by API calls to an embedded TTS engine for voice prompts and voice responses to user input in multimodal applications such as for example X V applications or Java voice applications. The multimodal device application in this example does not send speech for recognition across a network to a voice server for recognition and the multimodal device application in this example does not receive TTS prompts and responses across a network from a voice server. All grammar processing voice recognition and text to speech conversion is performed in an embedded fashion in the multimodal device itself.

For further explanation sets forth a functional block diagram of further exemplary apparatus for enabling grammars in web page frames according to embodiments of the present invention. The example of includes a multimodal device and a voice server connected for data communication by a VoIP connection through a data communications network . A multimodal application runs on the multimodal device and a multimodal server application runs on the voice server . The voice server also has installed upon it an ASR engine with an ASR lexicon a JVM and a Voice XML interpreter with an enabled grammar .

VoIP standing for Voice Over Internet Protocol is a generic term for routing speech over an IP based data communications network. The speech data flows over a general purpose packet switched data communications network instead of traditional dedicated circuit switched voice transmission lines. Protocols used to carry voice signals over the IP data communications network are commonly referred to as Voice over IP or VoIP protocols. VoIP traffic may be deployed on any IP data communications network including data communications networks lacking a connection to the rest of the Internet for instance on a private building wide local area data communications network or LAN. 

Many protocols are used to effect VoIP. The two most popular types of VoIP are effected with the IETF s Session Initiation Protocol SIP and the ITU s protocol known as H.323. SIP clients use TCP and UDP port 5060 to connect to SIP servers. SIP itself is used to set up and tear down calls for speech transmission. VoIP with SIP then uses RTP for transmitting the actual encoded speech. Similarly H.323 is an umbrella recommendation from the standards branch of the International Telecommunications Union that defines protocols to provide audio visual communication sessions on any packet switching data communications network.

The apparatus of operates in a manner that is similar to the operation of the system of described above. Multimodal application presents a voice interface to user sends enabled grammars to the voice server provides audio prompts and responses and accepts speech for recognition from a user . Multimodal application digitizes the speech for recognition according to some codec packages the speech in a recognition request message according to a VoIP protocol and transmits the speech to voice server through the VoIP connection on the network . Multimodal server application provides voice recognition services for multimodal devices by accepting requests for speech recognition including enabled grammars and digitized speech and returning speech recognition results including text representing recognized speech text for use as variable values in dialogs and text as string representations of scripts from semantic interpretation. Multimodal server application includes computer program instructions that provide text to speech TTS conversion for voice prompts and voice responses to user input in multimodal applications such as for example X V applications or Java Speech applications.

The multimodal server application receives grammars and digitized speech for recognition from a user and passes the grammars and the speech to the VoiceXML interpreter . The VoiceXML interpreter used ASR engine for recognition of individual words and determines whether a word or sequence of words is matched by a grammar. The ASR engine receives from the VoiceXML interpreter digitized speech for recognition uses frequency components of the digitized speech to derive an SFV uses the SFV to infer phonemes for the word from a language specific acoustic model not shown and uses the phonemes to find the speech in the lexicon .

For further explanation sets forth a flow chart illustrating an exemplary method of enabling grammars in web page frames according to embodiments of the present invention. The method of includes receiving in a multimodal application on a multimodal device a frameset document. Receiving a frameset document typically is carried out by receiving a web page in response to an data communications protocol request message such as for example an HTTP request that return a frameset document. The frameset document includes markup defining web page frames. The following is an example of a frameset document that organizes three frames in a hierarchy according to two framesets 

The method of also includes obtaining by the multimodal application content documents for display in each of the web page frames. The content documents typically are web pages that include navigable markup elements such as XHTML link elements and anchor elements. The content documents in this example are the content documents specified by the src URL values in the frame definitions in the frameset document. In this example the content documents are identified by URLs as contents of frame1.html contents of frame2.gif and contents of frame3.html.

In this example the web page frames are organized in a hierarchy according to two framesets and the hierarchy is characterized by a topmost frame frame3 and two child frames frame1 and frame2. Obtaining at least two content documents in this example therefore may be carried out by iteratively obtaining for the topmost frame and for each child frame a separate content document for display in each frame.

The method of also includes generating by the multimodal application for each navigable markup element in each content document a segment of markup defining a speech recognition grammar including inserting in each such grammar markup identifying content to be displayed when words in the grammar are matched and markup identifying a frame where the content is to be displayed. Markup identifying content to be displayed when words in the grammar are matched may be derived from href attributes in the navigable markup elements in the content documents. Markup identifying a frame where the content is to be displayed may be derived from the id attributes of the target frames for the content in the frameset document.

The method of also includes enabling by the multimodal application all the generated grammars for speech recognition. Enabling the generated grammars further may be carried out by dynamically generating a markup language fragment specifying a grammar and providing the markup language fragment to an automated voice markup language interpreter. In the method of the multimodal device may include an automated voice markup language interpreter and enabling the generated grammars may be carried out by providing the grammars to the automated voice markup language interpreter by one or more application programming interface API calls from the multimodal application to the automated voice markup language interpreter. Alternatively in the method of the multimodal device may be coupled for data communications to a voice server the voice server may include an automated voice markup language interpreter and enabling all the generated grammars may be carried out by providing the grammars to the automated voice markup language interpreter by one or more data communications protocol messages from the multimedia device to the automated voice markup language interpreter on the voice server.

The method of also includes providing by the multimodal application to an automated voice markup language interpreter speech for recognition from a user. That is the multimodal device acquires user speech as an analog audio signal from a microphone and digitizes the speech according to a codec. The multimodal application then provides the digitized speech to the automated voice markup language interpreter through API calls if the interpreter is on the multimodal device through data communications protocol messages if the interpreter is on a network voice server.

The method of also includes matching by the automated voice markup language interpreter with an enabled grammar at least part of the speech for recognition. The interpreter receives the digitized speech passes it to an ASR engine and receives text words in response. The interpreter then determines whether any of the text words match in value and in sequence words in enabled grammars.

The method of also includes returning from the automated voice markup language interpreter to the multimodal application an event indicating an instruction representative of the matched speech. If the interpreter matches a word or sequence of words with an enabled grammar the interpreter returns an event to an event listener in the multimodal application. If the interpreter is on the multimodal device with the multimodal application the event is returned from an API call to a DOM object that corresponds to the element at which the event is targeted. If the interpreter is on a network voice server the event is first passed back to the multimodal device in a data communications protocol message before being directed to the corresponding DOM object.

In view of the explanations set forth above in this document readers will recognize that enabling grammars in web page frames according to embodiments of the present invention provides the benefits of 

Exemplary embodiments of the present invention are described here largely in the context of a fully functional computer system for enabling grammars in web page frames. Readers of skill in the art will recognize however that the present invention also may be embodied in a computer program product disposed on signal bearing media for use with any suitable data processing system. Such signal bearing media may be transmission media or recordable media for machine readable information including magnetic media optical media or other suitable media. Examples of recordable media include magnetic disks in hard drives or diskettes compact disks for optical drives magnetic tape and others as will occur to those of skill in the art. Examples of transmission media include telephone data communications networks for voice communications and digital data communications data communications networks such as for example Ethernets and data communications networks that communicate with the Internet Protocol and the World Wide Web. Persons skilled in the art will immediately recognize that any computer system having suitable programming means will be capable of executing the steps of the method of the invention as embodied in a program product. Persons skilled in the art will recognize immediately that although some of the exemplary embodiments described in this specification are oriented to software installed and executing on computer hardware nevertheless alternative embodiments implemented as firmware or as hardware are well within the scope of the present invention.

It will be understood from the foregoing description that modifications and changes may be made in various embodiments of the present invention without departing from its true spirit. The descriptions in this specification are for purposes of illustration only and are not to be construed in a limiting sense. The scope of the present invention is limited only by the language of the following claims.

