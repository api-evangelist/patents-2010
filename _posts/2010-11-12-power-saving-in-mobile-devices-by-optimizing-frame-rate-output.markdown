---

title: Power saving in mobile devices by optimizing frame rate output
abstract: Embodiments of the present disclosure provide a method comprising providing 2-D or 3-D graphics content to a graphics processing module; processing the graphics content to generate a stream of images (e.g., three dimensional images and/or two dimensional images) for display, the stream having a frame rate; and governing a rate of processing the graphics content to limit the frame rate of the generated stream of images to be less than or equal to a frame rate threshold. Other embodiments may also be described and claimed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08872812&OS=08872812&RS=08872812
owner: Marvell World Trade Ltd.
number: 08872812
owner_city: St. Michael
owner_country: BB
publication_date: 20101112
---
This disclosure claims priority to U.S. Provisional Patent Application No. 61 260 735 filed Nov. 12 2009 the entire specification of which is hereby incorporated by reference in its entirety for all purposes except for those sections if any that are inconsistent with this specification.

Embodiments of the present disclosure relate to the generation of two dimensional 2 D and or three dimensional 3 D graphics in battery power devices and more particularly to reducing power consumption in mobile devices by optimizing a frame rate output of graphics images.

The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors to the extent it is described in this background section as well as aspects of the description that may not otherwise qualify as prior art at the time of filing are neither expressly nor impliedly admitted as prior art against the present disclosure.

Increasingly battery powered and mobile devices are providing graphics in general and more specifically are offering video gaming capabilities employing graphics images. Although image frames are two dimensional graphics can be rendered that is processed for display to depict either two dimensional or three dimensional scenery. In general graphics processors often referred to as graphics accelerators run at an undefined frame rate. In contrast to conventional video imagery graphics accelerators are typically configured to generate graphics at a variable frame rate of streaming images and to run at the fastest frame rate possible limited only by processing capability. In some cases graphics accelerators achieve a high a frame rate e.g. as high as 90 to even 100 frames per second. On the one hand the generation of graphics at such high frame rates consumes considerable amounts of power. However for various reasons including for example physical limitations of the human eye and refresh rates of displays exceptionally high frame rates do not necessarily contribute to an improved user experience when viewing graphics images.

In one embodiment the present disclosure provides a method comprising providing two dimensional 2 D and or three dimensional 3 D graphic content to a graphics processing module processing the graphics content to generate a stream of images for display the stream having a frame rate and governing a rate of processing the graphic content to limit the frame rate of the generated stream of images to be less than or equal to a frame rate threshold. In embodiments processing the graphics content includes one or more of preprocessing or decoding the content generating rendering commands and rendering graphics images for display responsively to the rendering commands. In some embodiment the graphics images are two dimensional and scenes in depicted in the images are two dimensional while in other embodiments the graphics images are two dimensional but the scenes depicted are three dimensional.

There is also provided an apparatus comprising a video processing module such as a video decoder for processing image content to generate a stream of images for display a graphics processing unit GPU for processing the stream of images e.g. depicting 3 D scenes and or 2 D scenes and a control module for governing a processing rate of the graphics processing module or the GPU based at least in part on a frame rate of the stream of images. In embodiments the control module is configured to govern the rate of processing at the graphics processing module and or the GPU so that the rate at which image frames are rendered for display is less than a threshold frame rate.

Embodiments of the present disclosure describe techniques structures and configurations for reducing power consumption in computing devices especially mobile devices by optimizing frame rate output in graphics acceleration applications. In the following detailed description reference is made to the accompanying drawings which form a part hereof wherein like numerals designate like parts throughout. Other embodiments may be utilized and structural or logical changes may be made without departing from the scope of the present disclosure. Therefore the following detailed description is not to be taken in a limiting sense and the scope of embodiments is defined by the appended claims and their equivalents.

As used herein the term module may refer to be part of or include an Application Specific Integrated Circuit ASIC an electronic circuit a processor shared dedicated or group and or memory shared dedicated or group that execute one or more software or firmware programs a combinational logic circuit and or other suitable components that provide the described functionality.

In an embodiment the arrangement comprises a system on chip SOC . In an embodiment the arrangement comprises a processing module e.g. a video processing module or a video decoder in the form of a central processing unit CPU and a graphics accelerator in the form of a graphics processing unit GPU that includes a processor module .

In an embodiment the CPU and the GPU are coupled by an interface which is generally in the form of an application programming interface API . The API transfers instructions and data from the CPU to the GPU . In accordance with an embodiment the CPU includes a frame rate determination module that determines a frame rate of rendered graphics image frames that are to be displayed by the display . In an embodiment the frame rate determination module is a sensing module that senses the frame rate of rendered graphics image frames e.g. 2 D images depicting 2 D or 3 D scenes which are to be displayed by the display . In an embodiment the CPU also includes a control module .

Although the CPU the API and the GPU are illustrated to be included in the SOC in another embodiment one or more of these components or a part of one or more of these components can be external to the SOC .

In accordance with an embodiment the CPU runs an application that requires graphics images to be displayed on display . The application may be for example a game a computer graphics animation live navigation maps or the like. The application provides graphic content for graphic image frames to be displayed on the display . Video content as used herein may refer to any type of graphic content e.g. graphic image content e.g. content associated with video games computer graphics animations live navigation maps streams of video images and or the like.

In an embodiment the graphic content includes variable frame rate streams of graphic content. The CPU processes formulas and or equations associated with the graphic content to generate image frames. For example the CPU includes video decoder functionality and processes formulas and or equations to generate image frames corresponding to scenes depicted in an application such as a video game navigation and the like. The formulas and or equations are associated with for example a manner in which the image frames are to be displayed e.g. associated with content of the image frames changes between subsequent images e.g. due to movement of objects within the image frames perspective and shading to provide 3 D effects when graphically depicting 3 D scenes and or the like. In an embodiment commands corresponding to image frames of the CPU which may be internal to the CPU for rendering 2 D or 3 D scenes are subsequently provided to the GPU which then decodes the commands and renders depicted scenes into two dimensional video frames for display on display . In some embodiments the scenes are two dimensional scenes that are rendered into two dimensional images for display. In other embodiments the scenes are three dimensional scenes that are rendered into two dimensional images for display. Also in some embodiments 3 D scenes are provided for stereoscopic display on display .

In some embodiments the processing rate is governed at CPU to throttle the rate of generation of graphic image frames which need to be rendered and or the rate of generation of one or more rendering commands. In other embodiments the processing rate is governed at GPU to directly throttle the rate at which the displayed image frames are rendered. In an example a screen refresh rate varies between about 30 to 60 frames second for the display although the teachings of the current disclosure are not limited by this aspect. The rate at which graphics images are generated for display is throttled so that rendered images are not supplied to the display faster than the refresh rate of the display. As previously noted in embodiments the rate of display image generation is governed at one or more of the CPU e.g. generation of rendering commands or GPU e.g. actual rendering of scenes into image frames for display .

In an embodiment the formulas and or equations along with video data are forwarded from the CPU to the GPU via the API . In an embodiment the frame rate determination module determines frame rates at which image frames can be generated from graphics content for example by sensing a rate of generated image frames for display or by estimating a speed at which frames of image content can be decoded and or rendered into images for display.

In an embodiment if a determined frame rate of a stream of rendered image frames exceeds a predetermined frame rate threshold a rate of processing the images e.g. by decoding at CPU and or by rendering at GPU is governed e.g. by the control module to limit the frame rate of the stream of graphics images to be less than or equal to the frame rate threshold. For example if the frame rate of the stream of rendered images of graphics for display e.g. as determined by the frame rate determination module is higher than the frame rate threshold then the control module instructs the CPU and or the GPU to slow down the generation of video frames and or rendered graphics images. In another example the control module instructs the CPU to provide graphic rendering commands at a different frame rate to the GPU for rendering of the particular stream of image frames for display on the display . In another example the CPU and or the GPU temporarily stalls processing of the graphics content so that the CPU and or the GPU do not advance to a next image frame and or use other suitable method to reduce the frame rate. In another example the control module governs the processing of graphic image content at the CPU such that the CPU limits processing formulas and or equations associated with the graphic image frames e.g. so that the frame rate of the stream of the rendered graphic image frames is less than the frame rate threshold . Since there is little or no difference in user experience when viewing a motion picture in which the image frames are streamed at for example about 30 frames second or greater than 30 frames second the predetermined frame rate threshold is generally in a range of about 24 frames per second to about 35 frames per second. In an example the frame rate threshold is 30 frames per second. Moreover as mentioned above a limiting factor affecting user experience when viewing images may be a refresh rate of the display when images are generated faster than the refresh rate not all changed image content can be displayed. Ultimately this would mean that the power used in rendering images that have changed content but which can not be displayed would be essentially wasted.

In an embodiment the GPU takes the formulas and or equations e.g. as determined by the CPU and the video frames of graphics from the CPU along with the limited frame rate or rates and processes the video data with processor module in accordance with the formulas and or equations in order to render scenes depicted in the video frames into images for display as required by the application. The stream of image frames for display which although are two dimensional may depict 2 D or 3 D scenes is then provided by the GPU to the display so that the images can be displayed on the display at the appropriate frame rate. In an embodiment the CPU receives data including image frames from the GPU for further processing for example for updating of images instead of calculation of the entire image from scratch. In other embodiments the CPU is configured to transmit graphic image frames directly to the display e.g. bypassing the GPU .

Referring to in accordance with an embodiment the API includes the frame rate determination module and the control module . In accordance with such an embodiment the CPU pre processes the image content e.g. performs video decoding for the application as previously described and forwards the calculated formulas and or equations e.g. in the form of rendering commands along with video data for the graphics to the API for forwarding on to the GPU . The frame rate determination module e.g. which can be a frame rate sensing module configured to sense frame rates of 3 D image streams within the API determines frame rates within either the pre processed video content or the video data from the CPU . Additionally or alternatively the frame rate determination module receives feedback indicative of an actual rate of rendering of image frames from the GPU . The control module within the API then instructs the GPU and or the CPU to govern the processing rate of the CPU and or the GPU such that the frame rate of output images for display as rendered by the GPU and or as displayed in the display is less than or about the frame rate threshold. For example control module instructs the CPU to slow down the generation of video frame rates or rendering commands and or instructs the GPU to slow down the generation of image frames of graphics for display when the rate of generating rendered image frames exceeds the frame rate threshold. In an embodiment the frame rate is slowed down to be within a predetermined range i.e. between about 24 35 frames per second e.g. at about 30 frames per second . Thus in such an embodiment the API serves as a throttle for the GPU and or the CPU .

In an embodiment the arrangement operates in two modes e.g. i a first mode in which the processing rate of the video content is governed such that the frame rate of the 3 D images as rendered by the GPU and or as displayed in the display is less than the frame rate threshold and ii a second mode in which no such governing is performed. In an example the first mode is associated with power consumption optimization while the second mode is associated with performance optimization.

Referring to another embodiment for arrangement is schematically illustrated. In this embodiment the GPU includes the frame rate determination module that is configured to determine e.g. estimate sense or measure a frame rate for a stream of 2 D images of the graphics to be displayed. As noted above displayed 2 D images may depict 2 D or 3 D scenes depending on the application. Alternatively in an embodiment sequences of 2 D images pairs are combined at the display device to provide stereoscopic images. In an embodiment the control module and the processor module are also included within the GPU . The GPU renders the stream of graphics images to be displayed on the display based upon receiving pre processed or decoded video content and or video data e.g. stream of video frames depicting scenes to be displayed and or image rendering commands from the CPU . The processor module processes the pre processed video content and video data received from the CPU . The control module controls the processor module to operate within frame rates based upon the determined frame rates from the frame rate determination module in comparison to the pre determined frame rate threshold. The control module governs a processing rate of the processor module such that the frame rates of the stream of generated e.g. rendered graphics image frames are within a predetermined range i.e. between 24 35 frames per second e.g. about 30 frames per second . In accordance with an embodiment the GPU includes a processing module not shown such as a video decoder that preprocesses video content instead of the CPU .

By governing e.g. slowing down a speed of pre processing e.g. speed of processing function equation associated with graphics image frames and or by governing a speed of rendering of graphics image frames e.g. such that the rendered image frames are output at less than or about the predetermined frame rate threshold relatively less power is required for the GPU and in some instances the CPU e.g. compared to a power requirement when the stream of graphics images are rendered at its original frame rates .

With reference to it is noted that in an embodiment the CPU or control module are configured to instruct a clock which for example supplies a clock signal to one or more components of the arrangement to control e.g. slow down a clock frequency for operation of the arrangement . By slowing down the clock frequency of the arrangement a corresponding drop in voltage for operation of the arrangement generally occurs within the arrangement thereby reducing power consumption by the arrangement . The CPU or control module can also instruct a voltage source e.g. which supplies voltage to one or more components of the arrangement to decrease a voltage provided to the arrangement based upon the reduced frame rate. Thus in an example where the application being processed by the arrangement is a 3 D video game the arrangement can start the 3 D video game and generate the accompanying stream of graphic image frames depicting 3 D scenes at full clock speed. Subsequently the arrangement estimates a clock speed needed to generate frames for display at about the frame rate threshold. The CPU or control module then lowers the clock rate which generally lowers the voltage in a corresponding manner and results in a decreased power consumption of the arrangement .

In an embodiment the teachings of the current disclosure apply to processing of graphics images that depict one or more of 2 D scenes and 3 D scenes. It is noted that the graphics images generated are two dimensional in nature inasmuch as they are displayed on a two dimensional display however scenery and other content may be projected in the image as depicting either 2 D scenes or 3 D scenes by using suitable perspective shading and the like. In graphics images provision of graphics effects that depict three dimensions typically requires intensive power consuming processing which can be reduced as described hereinabove. By the same token updating images that merely depict 2 D imagery as is used in some games and applications such as mapping navigational programs for example at a frame rate that does not contribute to user experience also unnecessarily consumes power.

As illustrated the computing device includes the arrangement e.g. any of the arrangements illustrated in . In an embodiment the computing device is configured to reduce power consumption when displaying images e.g. images of 2 D and or 3 D scenery on the display . For example the computing device processes video content to generate a stream of images for displaying moving images the stream having a frame rate and governs a rate of processing the video content to limit the frame rate of the generated stream of images to be less than or equal to a frame rate threshold.

Although certain embodiments have been illustrated and described herein a wide variety of alternate and or equivalent embodiments or implementations calculated to achieve the same purposes may be substituted for the embodiments illustrated and described without departing from the scope of the present disclosure. This disclosure is intended to cover any adaptations or variations of the embodiments discussed herein. Therefore it is manifestly intended that embodiments described herein be limited only by the claims and the equivalents thereof.

