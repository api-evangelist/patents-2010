---

title: Virtual content store in interactive services architecture
abstract: A virtual content store may be provided. Upon receiving a request for a content stream from a subscriber at a regional headend, a central content vault may be examined to determine whether the content stream is available. Once the content stream is determined to be available in the central content vault, a streaming session may be established to the subscriber from the regional headend. The content stream may be retrieved from the central content vault and provided to the subscriber via the streaming session.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08850474&OS=08850474&RS=08850474
owner: Cisco Technology, Inc.
number: 08850474
owner_city: San Jose
owner_country: US
publication_date: 20100726
---
A virtual content store in an Interactive Services Architecture provides a method and system for consolidating resources in a central storage facility while maintaining operational consistency. Further the virtual content store maintains adherence to the Interactive Services Architecture ISA standard as defined by the ISA 1.4 Specification which is hereby incorporated by reference in its entirety. In conventional systems content provider networks often have to use multiple content stores that are geographically proximate to their service areas. For example content stores that each maintain copies of all available content may need to be available for every 10 000 subscribers. This results in an inefficient and duplicative use of storage resources.

Consistent with embodiments of the present invention systems and methods are disclosed for providing a virtual content store. Upon receiving a request for a content stream from a subscriber and or headend a central content vault may be examined to determine whether the content stream is available. Once the content stream is determined to be available in the central content vault a streaming session may be established to the subscriber from the regional headend. The content stream may be retrieved from the central content vault and or an intermediate caching node. If the content is retrieved in response to a subscriber request the content may be provided to the subscriber via the streaming session.

It is to be understood that both the foregoing general description and the following detailed description are examples and explanatory only and should not be considered to restrict the invention s scope as described and claimed. Further features and or variations may be provided in addition to those set forth herein. For example embodiments of the invention may be directed to various feature combinations and sub combinations described in the detailed description.

The following detailed description refers to the accompanying drawings. Wherever possible the same reference numbers are used in the drawings and the following description to refer to the same or similar elements. While embodiments of the invention may be described modifications adaptations and other implementations are possible. For example substitutions additions or modifications may be made to the elements illustrated in the drawings and the methods described herein may be modified by substituting reordering or adding stages to the disclosed methods. Accordingly the following detailed description does not limit the invention. Instead the proper scope of the invention is defined by the appended claims.

Current content distribution implementations often result in multiple independent nodes with each node replicating the work effort and the hardware required to deliver Video on Demand VOD content to digital Set Top Boxes STBs . Building each of the nodes as an independent entity as a customer base expands is highly inefficient and expensive.

A virtual content store in an Interactive Services Architecture ISA may comprise a solution to deploy content distribution storage a central vault in a single location accessible by a large subscriber base through geographically dispersed regional distribution points. For example the central vault may provide at least 30 000 standard definition equivalent SDE hours of content storage. The central vault may create streamer assets in cooperation with the regional distribution point in order to provide requested content from the central vault to a requesting subscriber. Consistent with embodiments of the invention the regional distribution points may comprise local vaults for storing region specific content and or caching some live content to provide a Start Over feature. Such region specific content may comprise for example a local news program and or local sports team coverage. The Start Over feature may allow customers to jump to the beginning of a program in progress of a live broadcast without any preplanning or in home recording devices.

Digital and analog video programming and digital and analog data may be provided to a display device such as a television set via set top box STB associated with a subscriber. Interactive television services that allow a customer to input data to CTS may likewise be provided by STB . As illustrated in STB may comprise a multipurpose computing device having a computer processor memory and an input output mechanism. The input output mechanism may receive input from server side processes via access network and from customers via input devices such as a remote control device . Remote control device may communicate with STB via a suitable communication transport such as an infrared connection. STB may also include a video processor for processing and providing digital and analog video signaling to television set via a cable communication transport. A multi channel tuner may be provided for processing video and data to and from STB and headend . STB may also comprise an operating system for directing the functions of STB in conjunction with a variety of client applications.

Because a variety of different operating systems may be utilized by a variety of different brands and types of set top boxes a middleware layer may be provided to allow a given software application to be executed by a variety of different operating systems. According to embodiments of the present invention middleware layer may include a set of application programming interfaces API that are exposed to client application and operating system that allow client application to communicate with operating system through common data calls understood via the API set. A corresponding middleware layer may be included on the server side of CATV system for facilitating communication between server side content server and client side STB . In CTS STB may send a channel request signal back to headend . If a channel is not currently being transmitted on the coaxial line a distribution hub may allocate a new QAM channel and transmit the new channel to the coaxial cable via a fiber optic node in access network .

CTS may further comprise a central distribution node . Central distribution node may comprise a central vault an ingest driver and a caching node . Central vault may be operative to store a plurality of content streams that may be provided to regional distribution nodes such as headend and or to subscribers via STB . Ingest driver may be operative to contact content providers not shown request updates to available content and retrieve content from the content providers for storage in central vault on an automatic basis and or upon receiving a request from headend and or STB .

An ingest driver client may operate in association with local vault while ingest driver operates in association with central vault . Ingest driver may be operative to scan the contents of central vault and distribute a list of available content to each of a plurality of regional distribution nodes such as regional headend . The distribution list may comprise for example an XML file comprising details about each program such as an index code for locating the content in central vault pricing information title description file size format bit rate etc. The distribution list may be transmitted in the XML format through an HTTP communication. When the ingest driver client requests downloading of a content which has not been previously ingested ingest driver may create a record in a database for that content with an initial reference count of 1. Subsequent ingest requests by other regional distribution nodes may result in the reference count for that content being incremented and updated stored in the database record. Likewise deletion requests from the regional distribution nodes may result in decrementing the reference count associated with the record. When the reference count reaches 0 ingest driver may delete the content.

Caching node may comprise a streamer service that may provide a communication interface between central vault and streamer . Streamer may be configured to contact caching node instead of and or before contacting central vault to retrieve the requested content. Caching node may retrieve that content from the central vault and provide it to streamer . Caching node may be used when CTS comprises a geographically dispersed subscriber base such as a multi state region. In such a case caching node may be used to alleviate traffic congestion between numerous regional streamers such as streamer and central vault for retrieval playing of content. Caching node may mitigate this problem by retrieving single copies of popular content and serving them to multiple streamers requesting it within its region. Caching node may thus reduce traffic between the large numbers of individual streamers and central distribution node .

CTS may deliver broadcast video signals as digitally formatted signals in addition to delivering traditional broadcast analog video signals. Furthermore CTS may support one way broadcast services as well as both one way data services and two way media and data services. The two way operation of the network may allow for user interactivity with services such as Pay Per View programming Near Video On Demand NVOD programming Video on Demand VOD programming and interactive applications such as Internet connections and interactive services that render real time bi directional communication on a personalized basis such as bi directional audio visual communication. CTS may also provide interfaces network control transport control session control and servers to access content and services and may distribute content and services to STT users. CTS may also provide the interfaces network control transport control session control and servers to establish on demand session based bi directional communication service between a particular remote destination and a STT user for delivering media from the particular remote destination to the STT user and input information from the STT user to the particular remote destination. A remote destination during a session of a bi directional communication service may comprise a remote personal destination such as a friend or a remote vendor that offers a bi directional communication service for a purchasable period of time in which a viewer communicates real time with the vendor on a personal basis. In either case dedicated CTS resources may be allocated to fulfill individualized bi directional communication over a purchasable period.

Content manager may comprise a virtual content store comprising a list of available content stored on local vault and or known to be available via the distribution list associated with central vault . Content manager may be operative to generate requests for content such as new release movies to provide to video on demand subscribers. The content requests may be generated automatically such as by scheduling periodic requests for programs from a particular content provider and or may be individual requests generated by an operator at headend . Headend may be configured so that requests to ingest and or delete content may be based on licensing windows rental windows user purchase of content etc.

A request may first determine whether the content is available such as in local vault and or central vault . If the content is available on central vault for example a reference count associated with the content may be incremented. Otherwise ingest driver may download the requested content for storage in central vault .

Ingest driver may provide a communication proxy to an ingest driver client associated with content manager that may be transparent to the standard ISA communication protocol. This may allow regional sites such as headend to stream content from central distribution node without disruption to the streaming sessions should a failure requiring a switch to a new streaming source e.g. a backup vault occur. Further the regional sites may be able to set up their own networks without requiring a central domain name server DNS as is conventionally needed for in an ISA compliant setup.

Content manager may also be operative to receive requests for content from a subscriber such as standard programming and or video on demand content and configure streamer to transmit the content to the requesting subscriber.

Upon receiving a content request from STB content manager may be operative to determine whether the requested content is stored in local vault and or central vault . If the content is not stored in either content manager may request that the content be ingested if available. For example content manager may request that ingest driver retrieve the content from a content provider and store it in central vault . Streamer may then establish a transmission of the content to STB from central vault .

From stage method may advance to stage where computing device may determine whether the requested content is available. For example content manager may determine whether the content is stored and or cached in local vault and or may refer to a list of content available in central vault . The content list may comprise for example an XML formatted list of content stored in central vault created by ingest driver . The list may be retrieved by and or distributed to a plurality of regional headends including headend each of which may request access to content stored in central vault .

If the content is determined not to be currently available at stage method may advance to stage where computing device may determine whether the content comprises a local interest content stream. For example headend may comprise a list of categories of content that are unlikely to be requested by users accessing content through other regional headends such as local news local public access and local sports team coverage.

If the content is determined to be of local interest method may advance to stage where computing device may ingest the content locally. For example content manager may contact a provider of the requested content e.g. a local news station and download the content to local vault .

Otherwise method may advance to stage where computing device may cause the content to be ingested at a vault accessible to multiple headends. For example regional headend may send a request to central distribution node to retrieve and store the requested content. Ingest driver may receive the request contact a provider of the requested content such as a movie distributor retrieve the content and or a corresponding license and store the content in central vault . The license may comprise details such as a duration that the content may be retained in central vault .

After ingesting the content either locally at stage or centrally at stage or if the content was already determined to be available at stage method may advance to stage where computing device may establish a streaming session. For example streamer may retrieve the content from central vault and or caching node allocate a QAM channel for providing the content to STB and inform STB which channel should be tuned to receive and display the content on television . Regional headend may also determine appropriate pricing to be charged to a subscriber associated with STB and track such charges in a billing system not shown . The pricing information may be included for example in the content list provided by ingest driver .

From stage method may advance to stage where computing device may determine whether the content request comprises a first request for the content. For example central vault may periodically download content from content providers that has not been requested by a subscriber. This content may be maintained until space is needed a license expires or other business logic dictates that the content may be deleted.

If at stage computing device determines that the content request does comprise the first request computing device may create a retention record associated with the content. The retention record may comprise a counter initialized to 1 for the one subscriber currently receiving the streamed content. Otherwise computing device may increment the counter in the retention record associated with the content for each additional viewer. The retention record may be stored at regional headend and or central distribution node . Consistent with embodiments of the invention each of a plurality of regional headends may be operative to maintain their own retention records and or may be operative to request the creation and or update of retention records at central distribution node . Further consistent with embodiments of the invention retention records may be created as content is ingested at stage and or stage . For example the retention record may be created with the counter initialized to zero when content is ingested without a specific subscriber request for the content being received.

From stage and or stage method may advance to stage where computing device may determine whether the content has finished streaming. While the content continues streaming to STB method may remain in stage . Consistent with embodiments of the invention method may remain in stage if the subscriber pauses playback and or turns off STB if the content has not been finished. Further consistent with embodiments of the invention method may remain in stage after the streaming session to STB has been completed if the subscriber s request for the content comprises a requested duration. For example the request may comprise a purchase of video on demand content to which the subscriber will have access for 24 hours the subscriber may re watch the content multiple times during that duration. Streamer may establish a new streaming session for each repeat viewing and or after an interruption in viewing without re incrementing the counter in the retention record.

Once the content streaming has finished method may advance to stage where computing device may decrement the retention counter. For example regional headend may inform central distribution node that the content is no longer needed by the subscriber and the counter in the retention record may be decremented.

From stage method may advance to stage where computing device may delete the content. For example when a content s retention record reaches zero the content may be deleted from local vault and or central vault . Content deletion may occur according to one and or more business logic rules. For example content may be retained as long as the retention record s counter is greater than zero as long as a license associated with the content allows and or until space is needed on the vault. Consistent with embodiments of the invention content with a zero counter may be deleted to free up available space before the license has expired. Method may then end at stage .

An embodiment consistent with the invention may comprise a system for providing a virtual content store. The system may comprise a memory storage and a processing unit coupled to the memory storage. The processing unit may be operative to receive a request for a content stream from a subscriber or a regional distribution node determine whether the content stream is available from a central content vault and in response to determining that the content stream is available from the central content vault establish a streaming session to the subscriber and provide the requested content stream to the subscriber from the central content vault via the streaming session. In response to determining that the content stream is not available from the central content vault the processing unit may be operative to determine whether the content stream comprises a local interest content stream and if so establish the streaming session to the subscriber from the regional headend and provide the requested content stream to the subscriber from a local content vault via the streaming session.

The processing unit may be further operative to determine whether the request for the content stream comprises a first request for the content stream and if so create a retention record comprising a counter associated with the content stream. If not the processing unit may increment the counter of the retention record associated with the content stream. In response to determining that the streaming session has been completed the processing unit may be operative to decrement the counter of the retention record associated with the content stream. If the counter of the retention record associated with the content stream indicates that the content stream is not associated with an active streaming session and or that a license associated with the content stream has expired the processing unit may be operative to delete the content stream.

Another embodiment consistent with the invention may comprise a system for providing a virtual content store. The system may comprise a memory storage and a processing unit coupled to the memory storage. The processing unit may be operative to receive a request over a network from a regional headend for a content stream to be transmitted to a subscriber determine whether the content stream is available on a central content vault in response to determining that the content stream is available on the central content vault establish a transmission session between the central content vault and the regional headend and provide the content stream to the regional headend for transmission to the subscriber via the transmission session. The processing unit may be further operative to receive a plurality of requests from a plurality of regional headends. In response to determining that the content stream is not available on the central content vault the processing unit may be operative to determine whether the content stream is available from a content stream provider and in response to determining that the content stream is available from the content stream provider ingest the content stream to the central content vault. The processing unit may be further operative to establish a deletion date for the ingested content stream according to a license agreement with the content stream provider.

Yet another embodiment consistent with the invention may comprise a system for providing a virtual content store. The system may comprise a memory storage and a processing unit coupled to the memory storage. The processing unit may be operative to receive a request from at least one of a plurality of regional headends for a content stream to be transmitted to a subscriber determine whether the content stream is available from a central content vault and in response to determining that the content stream is not available from the central content vault ingest the content stream to the central content vault from a content provider and create a retention record associated with the content stream wherein the retention record comprises a viewer counter and a license expiration date. The processing unit may be further operative to increment the viewer counter associated with the retention record associated with the content stream and transmit the content stream from the central content vault to the subscriber via a streaming session established between the at least one of the regional headends and the subscriber. The processing unit may be further operative to determine whether the subscriber is no longer receiving the content stream and in response to determining that the subscriber is no longer receiving the content stream decrement the viewer counter associated with the retention record associated with the content stream. The processing unit may be further operative to download a plurality of available content streams from the content provider to the central content vault on a periodic basis and create a retention record associated with each of the plurality of available content streams.

Computing device may be implemented using a personal computer a network computer a mainframe or other similar microcomputer based workstation. The processor may comprise any computer operating environment such as hand held devices multiprocessor systems microprocessor based or programmable sender electronic devices minicomputers mainframe computers and the like. The processor may also be practiced in distributed computing environments where tasks are performed by remote processing devices. Furthermore the processor may comprise a mobile terminal such as a smart phone a cellular telephone a cellular telephone utilizing wireless application protocol WAP personal digital assistant PDA intelligent pager portable computer a hand held computer a conventional telephone a wireless fidelity Wi Fi access point or a facsimile machine. The aforementioned systems and devices are examples and the processor may comprise other systems or devices.

Embodiments of the present invention for example are described above with reference to block diagrams and or operational illustrations of methods systems and computer program products according to embodiments of the invention. The functions acts noted in the blocks may occur out of the order as shown in any flowchart. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality acts involved.

While certain embodiments of the invention have been described other embodiments may exist. Furthermore although embodiments of the present invention have been described as being associated with data stored in memory and other storage mediums data can also be stored on or read from other types of computer readable media such as secondary storage devices like hard disks floppy disks or a CD ROM a carrier wave from the Internet or other forms of RAM or ROM. Further the disclosed methods stages may be modified in any manner including by reordering stages and or inserting or deleting stages without departing from the invention.

All rights including copyrights in the code included herein are vested in and the property of the Applicant. The Applicant retains and reserves all rights in the code included herein and grants permission to reproduce the material only in connection with reproduction of the granted patent and for no other purpose.

While the specification includes examples the invention s scope is indicated by the following claims. Furthermore while the specification has been described in language specific to structural features and or methodological acts the claims are not limited to the features or acts described above. Rather the specific features and acts described above are disclosed as example for embodiments of the invention.

