---

title: Application of unreliable transfer mechanisms
abstract: A method for improved application of unreliable transfer mechanisms. An application uses application data delivered in data packets that become accessible from a peer entity via at least two packet data transmission mechanisms. The application is configured with a predefined operational range for a predefined application-specific characteristic. If the predefined application-specific characteristic exceeds the predefined operational range, the packet data transmission mechanism is changed. The mechanism facilitates maintaining an application-specific service level even if unreliable transmission mechanisms are applied.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08661078&OS=08661078&RS=08661078
owner: Cassidian Finland Oy
number: 08661078
owner_city: Helsinki
owner_country: FI
publication_date: 20100331
---
The present invention relates to information systems and especially to information systems working on unreliable packet data transmissions.

In packet switched communications logical data flows are transmitted as a stream of addressed packets. The packets may be forwarded by network nodes in a first come first serve fashion or forwarded according to some scheduling discipline for fair queuing or differentiated and or guaranteed quality of service. Examples of packet switching systems comprise the Internet local area networks and some advanced cellular communications networks.

The set of communications protocols commonly used for the Internet and other similar networks is called as the Internet Protocol IP suite. The Internet Protocol IP handles lower level transmissions from computer to computer as a message makes its way across the Internet. On top of IP there are higher level protocols that offer different types of reliability measures for the transmissions.

The Transmission Control Protocol TCP operates over IP and provides in endpoints a variety of procedures to facilitate reliable ordered delivery of a stream of data between these endpoints. As another option the User Datagram Protocol UDP assumes that error checking and correction is either not necessary or performed by the application avoiding the overhead of such processing at the network interface level. Time sensitive applications often use UDP because dropping packets is preferred over using delayed packets.

TCP and UDP are used here as examples of reliable and unreliable transmission protocols of one particular protocol suite. More generally unreliable transmission refers here to any protocol of any protocol suite where the transmission mechanism does not control that data packets are received successively from the transmission path. Accordingly if a packet is dropped or delayed in transmission the upper layer may have to perform its operations without it sometimes even without knowing that one packet is missing from the sequence.

Recently the low overhead and time sensitiveness of unreliable transmission mechanisms has been considered important and more and more applications are designed to apply unreliable data transmission mechanisms. Typically the applications can deal with small and temporary degradations in the transmission path but if the number of dropped packets gets too high the quality of service offered by the application naturally deteriorates.

Such deteriorations are conventionally avoided by subscribing for the applications network service levels with generous safety margins to absorb and or compensate any dynamic deviations in the network. However most of the time such safety margins consume costly resources unnecessarily. Due to severe commercial competition both service providers and network operators nowadays seek actively mechanisms that improve possibilities to apply unreliable data transmission mechanisms between communicating hosts but at the same time enable optimizing the service level requirements posed to the network connecting the hosts.

An object of the present invention is thus to improve application of unreliable communications in packet data transmissions. The object is achieved by a method an information system a module and a computer program product which are characterized by what is stated in the independent claims. The preferred embodiments of the invention are disclosed in the dependent claims.

The application is configured with a predefined application specific operational limit that reflects the quality of application data reception. The level of quality is monitored by reading the content of the application data and determining from the content of the received application data a value for a predefined application specific characteristic that varies for successive data packets according to the success or failure of their transmissions in the transmission path. When the quality of application data reception is not within the predefined operational limit the application initiates a change of the packet data transmission mechanism applied in transmissions with the peer entity.

The mechanism facilitates maintaining an application specific service level even if unreliable transmission mechanisms are applied. The monitoring system may operate individually in different applications so each application may manage its own service level. Further advantages of the invention are discussed with description of the disclosed embodiments of the invention.

The following embodiments are exemplary. Although the specification may refer to an one or some embodiment s in several locations this does not necessarily mean that each such reference is to the same embodiment s or that the feature only applies to a single embodiment. Single features of different embodiments may also be combined to provide other embodiments.

The present invention is applicable to any terminal network node and or to any information system or any combination of different information systems that support execution of applications. The information system may be a fixed communication system or a wireless communication system or a communication system utilizing both fixed networks and wireless networks. The protocols the specifications of communication systems servers and user terminals develop rapidly. Such development may require extra changes to an embodiment. Therefore all words and expressions should be interpreted broadly and they are intended to illustrate not to restrict the embodiment.

Telecommunications service refers to a specified set of information transfer capabilities provided by the information system to one or more communication entities . A communication entity CE comprises a collection of computer programs that autonomously or through interaction with a user accesses the telecommunications service . CE may thus comprise system software testware middleware firmware application software or the like. For example CE may comprise a voice codec that uses the services of media access control MAC protocol to input coded data for transfer over a communications system. On the other hand CE may comprise a base station mobility management functionality that uses services of a mobile link control entity MLE protocol to acquire information on location of a particular subscriber of the communications system.

In computing a protocol stands for a convention or standard that controls or enables a connection communication and data transfer between two computing endpoints. Protocols may be implemented by hardware software or a combination of the two. Communication protocols for digital computer network communication have features that are intended to ensure reliable interchange of data over an imperfect communication channel. A communication entity CE CE accesses the telecommunications services via a set of standardized requests called application programming interfaces API that have been defined for the telecommunications service of the information system .

Typically a communication entity CE CE accesses via API a set of layered communication protocols that are selected to provide necessary service level for the functions of CE CE. A request to API translates into a combination of applied protocols and a set of parameters used in their application. In a communication device like a terminal or a network node each different combination of a set of applied protocols and a set of parameters used in their application corresponds to a communication paradigm that is hereinafter considered as a separate communication interface. As illustrated with the block diagram of in conventional communication devices the relationship between a CE application function F that involves information transfer an API request for transfer of the information and a communication interface CIF applied for the transfer is one to one such that activation of the application function F generates a defined API request that is implemented via CIF and information transferred to the communication device over CIF translates into an incoming API call that associates to the defined application function F. The application function F may comprise a single operation or a plurality of inter related operations of the application.

The advantage in such arrangement is that the operations of the communication interfaces are transparent to the applications so the application providers do not need consider the transfer details and imperfections in the various links. However the downside is that success and failure of application functions are dependent on the achieved service level of the applied communication interface. Depending on the underlying conventions and protocols of the applied communication interface the application may have or get information on the transfer it initiated and thereby interpret whether the communication interface provided the desired service level or not. If this kind of feedback procedure is available the application may be configured to react to possible failure situations and initiate retransmissions or activate alternative functions to remedy the situation. However if such feedback procedure from the underlying network services to the application does not exist or is not utilized or the deviation from the desired service level manifests itself in a manner that is not carried over through the lower layer feedback procedures the application is not able to adjust its operation dynamically to the existing network conditions. Deviations from the designed service level show as failures of the operation of the application.

The conventional remedy is to apply acknowledged transmissions or service levels with generous safety margins to absorb and or compensate the dynamic deviations in the network. However due to the continued evolvement towards packet switched transmissions these conventional approaches are turning obsolete. It has been noted that unreliable transmissions are well suited for dynamic multi user packet switched communications. Effective unreliable data distribution methods are thus greatly favored in new advanced networks. On the other hand due to severe commercial competition service providers and network operators cannot afford to maintain service level agreements with exaggerated safety margins. A more effective method for improving the success of unreliable data transmissions between communication entities is needed.

The block chart of illustrates some elements applied in an embodied communication device CD . is a simplified architecture only illustrating some elements and functional entities as logical units of a communication device. It should be appreciated that the communication device may comprise other units used in or for performing other functions of the communication device. However they are irrelevant to the actual invention and therefore are not to be discussed in more detail here.

The communication device may be any node or a host which is able to communicate in a communications system. The communication device may also be a user terminal which corresponds to a piece of equipment or a device that is arranged to associate the user terminal and its user with a subscription and allows a user to interact with a communications system. The user terminal may be any terminal capable of receiving information from and or transmitting information to the network connectable to the network wirelessly or via a fixed connection. Examples of the user terminal include a personal computer a game console a laptop a notebook a personal digital assistant a mobile station mobile phone and a line telephone.

An embodied communication device comprises not only prior art means but also a communication entity CE that represents means for utilizing the communication interfaces CIF and CIF of the communication device CD . CE comprises at least one function F that via defined API requests may apply at least either of the communication interfaces CIF and CIF .

Present communication devices comprise processors and a memory that can be utilized in an embodiment. For example the communication entity may be a software application or a module or a unit configured as arithmetic operation or as a program executed by an operation processor. All modifications and configurations required for implementing functionality of an embodiment may be performed as routines which may be implemented as added or updated software routines application circuits ASIC and or programmable circuits. Software routines also called program products including applets and macros can be stored in any communication device readable data storage medium and they include program instructions to perform particular tasks. Software routines may be downloaded into a communication device.

The communication device such as a server or a corresponding server component or a user terminal may be configured as a computer including at least a memory for providing storage area used for arithmetic operation and an operation processor for executing the arithmetic operation. An example of the operation processor includes a central processing unit. The memory may be a fixed or removable memory detachably connected to the communication device.

As shown in the communication device CD also comprises a service level control element SLCP that is operatively connected to the function F Operative connection includes at least the options that SLCP is an integral part of F or a separate element to from which F may input output information. Let us first assume that CIF is a default interface of F. CIF is configured to apply unreliable transmissions i.e. F does not have information on packets lost in the transmission path. Accordingly CIF it does not provide lower layer feedback to F on success or failure of transmissions via it. However F receives via the lower protocol layers of CIF application data blocks that have been delivered transparently through the lower protocol layers of CIF and comprise information that is legible to F. Application data may thus be considered as a payload part of transferred information such that it is intelligible to the communicating applications but remains transparent to the intermediate nodes and lower protocol layers. Transparent in this context means that the lower layer protocols do not use content of the application data blocks in their own procedures and thus the content passed over to F does not have to have any semantic meaning to the lower layer functions. In the embodiment a characteristic of the application data is used by F as an operational characteristic ch on the basis of which it can monitor the unreliable transmissions implemented via CIF without direct feedback from the lower protocol layers of CIF.

Accordingly during operation F receives data via CIF applies the received data and at defined times determines from the content of received application data packets a status indicator value CHof ch and inputs it to SLCP. SLCP receives the input status indicator values and updates the information from status indications CHinto an accumulated value CH. The period of accumulation varies from case to case. For example the value of a new indicator CHmay be used to replace the earlier value at each time. Alternatively the value of the new indicator CHmay be used in a defined equation to calculate long term averages of the accumulated value CH. Other accumulation and averaging mechanisms may be applied without deviating from the scope of protection.

SLCP monitors the operational characteristic ch of F from the content of the received application data and associates a state or a range of states of ch to a deviation in the service level of CIF. When SLCP detects such deviation it informs F on it and may instruct F to initiate a corrective action for example select another communication interface that applies a different communication paradigm. In the embodiment of a range R of values of the accumulated value CH are associated to a specific service level in CIF. When the accumulated value CH exceeds this range R SLCP inputs to F an indication CIF. When F receives the CIF indication from SLCP it knows that the service level of CIF is at least temporarily not acceptable and initiates a corrective action. For example F may be configured with a predefined condition that begins to apply CIF when the service level of CIF is not acceptable. The condition may be this simple or comprise a logical decision chain involving a number of communication interfaces.

SLOP may monitor CIF only or it may monitor similarly results of several unreliable communication interfaces. For example also CIF may be associated with an operational characteristic ch which may be the same or different than ch. Then SLCP on the basis of status indicators CH input by F maintains correspondingly an accumulated value CH for monitoring the operational characteristic ch and notifies F when the accumulated value CH reaches a range R associated to a specific service level deviation of CIF. The decision of the order of the attempted communication interfaces may be made in SLCP or F depending on the application. If the accumulated value of both of the communication interfaces is inadequate the CE may generate an error message to be output to the user of the communication device or an external node monitoring or logging the operation of the communication device.

The operational characteristic ch ch refers here to a property that is measurable by the application function on the basis of data content in the application information received by the application function via unreliable data transmissions. The invention applies to a variety of systems nodes and protocols so also the monitored operational characteristics ch ch may vary considerably from application to application. In the following some exemplary embodiments are described in more detail.

In the present embodiment the network of the communications system comprises a plurality of subscriber registers SR SR SR . . . SRn and a plurality of base stations BS BS . . . BSm connected to a packet data network that provides packet switched communications to elements connected via it. It is noted that the applied configuration in the embodiment is a simplified example only. The base station configuration may vary considerably from implementation to implementation. The base stations receive location update messages from user terminals UT UT and act as event sources by providing the location update messages as event data items to the subscriber registers that store them as event data. In the present embodiment the databases are essentially parallel database instances that comprise both static subscriber data instances SSD SSD . . . SSDn and dynamic subscriber data instances DSD DSD . . . DSDn of all user terminals UT UT.

From the plurality of base stations BS BS . . . BSm a group of base stations BS BS BS are in area where a subscriber A with user terminal UT presently resides and another group of base stations BS BS . . . BSm in an area where another subscriber B with user terminal UT presently resides. When a base station BS receives a location update message from a user terminal UT it sends the message as an event data item to all subscriber registers SR SR SR . . . SRn using a defined unreliable packet switched protocol. This means that when a base station BS sends information on a location data update of UT of subscriber B to a database instance SR retransmission of the location update to SR is not dependent on acknowledgement from SR i.e. BS does not necessarily retransmit the location update to SR even if no acknowledgement is received from SR.

When subscriber A that resides presently in the cell of BS wishes to call subscriber B it initiates a call setup procedure in UT. The call setup procedure is a task that applies event data of mobility management. In order to access appropriate call set up parameters a relevant subscriber register needs to be accessed. In the present embodiment BS of subscriber A may select the database instance to which it sends the query requesting information on the present cell of subscriber B freely i.e. randomly or according to any defined unique or ubiquitous selection criterion or criteria. In the present application let us assume that BS is configured to send the query to SR that is geographically closest to it. SR responds with a message that includes UT as the present cell of BS.

Having this information BS sends the call setup signaling message to BS and if BS responds accordingly the call setup continues normally from there on. The probability that the location information in a subscriber register is correct depends by far on the transmission mechanism used to deliver the location update message.

Let us now use as an example of the communication device of one of the database instances SRi of . The corresponding exemplary application function F comprises maintenance of location data of user terminals on the basis of location update messages via unreliable data transmissions. SLOP corresponds to an entity that is responsible to control that the reception of location data update messages is continuously optimized. SLOP may be operatively connected to F or be a sub function of the application function F. illustrates steps of an exemplary embodiment of a method applied in SRi.

It is noted that the elements shown in are SRi logical entities and illustrate functions that are necessary for implementing defined operations within the communication device. The functions in the communication device are typically implemented as computer operations on received and or stored data according to predefined essentially programmed processes. The implementation of the logical entities may be divided to one or more physical entities of the communication device of SRi. The method of applies to a SRi element even though separate references are also made to the included functional entities.

The procedure begins when the database instance SRi is switched on and F is operative for receiving location update messages. Since the desired mode of operation is via unreliable transmissions the database instance SRi has a default communication interface CIF that corresponds to a combination of applied protocols and a set of parameters used in their application. For CIF in SR the combination of applied protocols and parameters create a communication paradigm that enables receiving multicast transmissions from BSk. IP multicast technology utilizes user datagram protocol UDP as an underneath protocol and does not provide explicit mechanisms to ensure successful data transmission. In the beginning this default communication interface CIF is activated step for use in communications between BSk and SRi. In addition to CIF SRi also comprises an alternative communication interface for more reliable transmissions here CIF applying transmission control protocol TCP in exchange of IP packets with BSk.

In order to be able to monitor the transmission path between BSk and SRi SRi is configured to collect status information on the transmissions implemented via CIF on the basis of application data without direct feedback from underlying protocols of CIF. This is done in F by monitoring a defined operational characteristic ch in the received content. In this example base stations are assumed to transmit location information at defined intervals so ch is designed to correspond with consistency of the series of successful transmissions of location information and ch is monitored on the basis of values of timestamps in successive location update messages. Thus SLCP of F establishes step conditions C and C where C associates to a level of consistency that matches with operating over CIF and C associates to a level of consistency that matches with operating over CIF. It is noted that step represents here generic means for analyzing content of application information in messages delivered over the transmission path between SR and BSk. Other exemplary mechanisms may be applied and for example for the successively transmitted messages comprise numbering of successive messages and use of checksums or the like.

SRi is now accessible step to BSk via CIF and ready to receive a location update message MSi from BSk. Let us assume that in this simplified example multicasting is to be applied as long as the sum of differrences between timestamps of three successively received location update messages from BSk does not exceed a predefined limit LIM location update messages may be delivered from BSk to SRi by multicasting. This implies that as long as C is valid CIF applying UDP may be used between BSk and SRi. On the other hand if the transmission path is not in good order too many packets are lost and the difference between timestamps of successively received messages begins to increase controlled transmissions applying TCP should be taken into use. In this example this implies that as long as C is not valid C is valid and CIF should be used between BSk and SRi.

Thus when a location update message is received step F extracts from content of the message the timestamp of the message and provides it as an indication to SLOP. SLCP retrieves step C C and any possible accumulated information data stored from earlier messages. In this case the accumulated information comprises the difference between the timestamps of the two recently received messages. SLOP adds the retrieved accumulated information data to the difference between the timestamps of the received and the previous message and compares step the resulting sum to a LIM value. LIM represents here means for analysing application data to determine whether data packets expectedly transmitted from the other communication endpoint BSk have been duly received or not. For example here LIM is used to show cases where the time period between timestamps of a first and a third application data block is too long. In such a case it is probable that an expected data packet is not received. One or more data packets are thus deemed to be missed between data packets carrying the respective application data blocks.

If the sum of the two successive intervals between received messages is less than LIM it seems that the location data updates have been received according to the transmission scheme and messages are not exceedingly missed in unreliable transmissions. In such a case C is valid and CIF may be used step as the applied communication interface for the transmissions between BSk and SRi.

On the other hand if the sum exceeds LIM data packets have been missed in unreliable transmissions and the location data updates have not been duly received according to the transmission scheme. C is thus valid and the unreliable transmission of CIF is not applicable anymore. In such a case SLOP informs F on the deviation i.e. on missed messages and possibly indicates to F that a corrective action step is required. In this example the SLOP informs F that operation via CIF is not in acceptable level and instructs to change to communication interface CIF for the transmissions between BSk and SRi.

It is noted that step represents here an example of a corrective action taken in SRi after F detects that the communication interface applying unreliable transmissions does not operate in acceptable level. The corrective actions may vary from application to application but advantageously comprise moving to use another communication paradigm that provides better success rate for deliveries even at the cost of some other characteristic for example use of communication resources from SRi and BSk or higher communication costs.

In the majority of applications SLCP monitors unreliable transmissions via incoming application information so the corrective action typically includes an exchange of messages between the endpoints of the monitored communication path here SRi and BSk. In the present example SLCP monitors successive transmissions of each base station so when informing F about the problems in the unreliable communication path SLCP also provides identity of the BSk in question. F may thus generate and send to BSk a message requesting to apply CIF in next transmissions of location information updates.

However the corrective action does not necessarily need to involve communications with the transmitting endpoint. In another aspect the communication system may comprise an intermediate node for example a master node to which essentially all base stations in an area may send their location update messages via reliable transmission mechanisms. The corrective action may comprise retrieving updates for location information of BSk from the intermediate node SRi and apply the mediated location information as long as the compromised conditions associated to C prevail. Reception and monitoring of BSk multicast messages may be continued normally and when the check of step indicates that conditions associated to C prevail use of intermediate node may be ended.

In the present example multicast transmissions were scheduled so that the status of the unreliable transmission path could be monitored on the basis of the timing of these scheduled transmissions. If scheduled transmissions are not used the transmitting endpoints may be configured to transmit unreliable dummy messages according to a defined schedule. F and SLCP recognize the dummy messages as such and on the basis of their timing SLOP determine whether unreliable transmissions achieve acceptable success rate i.e. whether unreliable transmissions may be applied or not.

On the other hand the monitored operative characteristic is an application specific choice and does not necessarily need to rely on timing of the messages. For example F may be a speech coding application of a user terminal that operates in a packet switched network where IP packets are delivered via unreliable transmission protocol for example via IP multicasting that applies UDP. F may be configured to feed to SLCP samples of its decoded speech and SLCP may be configured to test a defined characteristic of the speech to determine whether the quality achieved with unreliable transmission method is acceptable or not. If not SLCP requests F to initiate a corrective action as described above. Other monitoring mechanisms depending solely on content of the application data forwarded by the lower layers may be applied without deviating from the scope of protection.

Furthermore the corrective action does not necessarily need to involve change of the applied communication interface. In an aspect the receiving endpoint may request the transmitting endpoint to at least temporarily improve the quality of the transmission path by increasing the number of retransmissions of the multicast messages. For example in the present embodiment F may be configured to generate in step to BSk a message requesting it to adopt an improved retransmission scheme. Correspondingly in step F should generate to BSk a message requesting it to return to the original scheme with reduced retransmissions.

Accordingly by means of the proposed procedure an application in a communications device and operating on received IP data packets may automatically and essentially autonomously monitor the quality achieved by non acknowledged transmissions. On the basis of this monitoring it may determine whether the achieved level matches with its own specific requirements and on the basis of this match initiate a corrective action.

In a further embodiment of the invention the application may also adjust its operations to match with the different characteristics of the new applied communication interface. For example let us assume that the communication device CD of is a user terminal that receives live video data from a video application server in a configuration disclosed in . During normal operation the video server CE transmits video data to the user terminal CE in IP multicast data packets over the communications system CS. The video application in the user terminal is arranged to receive from the video decoder over a broadband communication interface a video stream resulting from received and decoded video data packets. The video application also comprises a function that inputs sample frames or a sequence of sample frames extracted at defined intervals and analyses therefrom a characteristic the properties of which change according to the success of the delivery of the video data packets in the communications system.

For example let us assume that the video frames transmitted from the video application server CE are consecutively numbered and the video application in the user terminal CE is configured to read the number of frames rendered in the user terminal. Video is a very poorly delay tolerant media so if a data packet is missed or it is considerably delayed in transmission the frame s delivered in the data packet is dropped from the video stream. Accordingly the application may take a sequence of rendered frames read their frame numbers and check how many frames are missing from the sequence. The check may be implemented for example by comparing the percentage of missed frames to a threshold number. If too many frames are missed the video application deems that the quality of the transmission path is too low.

It is clear that the user is likely to visually observe degradations in the video quality but his options to react to them are very limited. Basically he may decide to endure the substandard picture or terminate the application. However if the video transmission is very critical for example the video cornprises live footage from a hostage situation the user would naturally need more options than to operate without any picture or stare at a screen trying to interpret some foggy objects in it. In the present embodiment an improvement is provided according to the invention by configuring the video application to in response to deeming the quality of the transmission path by IP multicasting too low de activate the presently applied broadband communication interface and move over to apply a communication interface that in the present location provides a better transmission quality. Let us assume here that the communication interface is a cellular radio interface that provides a good local coverage but a considerably narrower bandwidth.

It is clear that transmission of video data over the narrower communication path is not sensible so in this embodiment when the user terminal informs the video application server on the problems in the broadband interface and requests changing over to the cellular radio interface it also requests the video application server to adjust the application to conform the new applied communication paradigm. In the exemplary case the video application server recognises the request moves to apply the cellular radio interface and instead of sending live video begins to send at intervals still images extracted from the video data stream. The video application in the user terminal refreshes the display with a new video frame when such arrives. The user thus has at any time available very current and good quality image data from the scene which gives much better support for the ongoing operation than the foggy video image.

As earlier the video application is preferably configured to at least from time to time activate the broadband communication interface and again analyse the status of the respective transmission path according to the number of missing frames an analysed sequence. Whenever the quality of the here preferred transmission path returns to acceptable level the video application initiates exchange of communications with the video data server to move over to broadband interface and use of video streams carrying live footage.

In an embodiment the invention is implemented as a computer program product encoding instructions for executing a computer process for the described operation of the communication device of . The computer program product may be stored in a distribution medium comprising a computer readable medium a program storage medium a record medium a computer readable memory a computer readable software distribution package a computer readable signal a computer readable telecommunications signal or a computer readable compressed software package.

It will be obvious to a person skilled in the art that as the technology advances the inventive concept can be implemented in various ways. The invention and its embodiments are not limited to the examples described above but may vary within the scope of the claims.

