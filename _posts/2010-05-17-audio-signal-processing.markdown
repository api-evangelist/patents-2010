---

title: Audio signal processing
abstract: Systems and methods of processing audio signals are described. The audio signals comprise information about spatial position of a sound source relative to a listener. At least one audio filter generates two filtered signals for each of audio signal. The two filtered signals are mixed with other filtered signals from other audio signals to create a right output audio channel and a left audio output channel, such that the spatial position of the sound source is perceptible from the right and left audio output channels.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08831254&OS=08831254&RS=08831254
owner: DTS LLC
number: 08831254
owner_city: Calabasas
owner_country: US
publication_date: 20100517
---
This application is a continuation of U.S. application Ser. No. 11 696 128 filed Apr. 3 2007 the disclosure of which is hereby incorporated by reference in its entirety. This application also claims the benefit of priority under 35 U.S.C. 119 e of U.S. Provisional Application No. 60 788 614 filed on Apr. 3 2006 and titled MULTI CHANNEL AUDIO ENHANCEMENT SYSTEM the disclosure of which is hereby incorporated by reference in its entirety.

Sound signals can be processed to provide enhanced listening effects. For example various processing techniques can make a sound source be perceived as being positioned or moving relative to a listener. Such techniques allow the listener to enjoy a simulated three dimensional listening experience even when using speakers having limited configuration and performance.

However many sound perception enhancing techniques are complicated and often require substantial computing power and resources. Thus use of these techniques are impractical when applied to many electronic devices having limited computing power and resources. Much of the portable devices such as cell phones PDAs MP3 players and the like generally fall under this category.

At least some of the foregoing problems can be addressed by various embodiments of systems and methods for audio signal processing as disclosed herein.

In one embodiment a discrete number of simple digital filters can be generated for particular portions of an audio frequency range. Studies have shown that certain frequency ranges are particularly important for human ears location discriminating capability while other ranges are generally ignored. Head Related Transfer Functions HRTFs are examples of response functions that characterize how ears perceive sound positioned at different locations. By selecting one or more location relevant portions of such response functions one can construct relatively simple filters that can be used to simulate hearing where location discriminating capability is substantially maintained. Because the complexity of the filters can be reduced they can be implemented in devices having limited computing power and resources to provide location discrimination responses that form the basis for many desirable audio effects.

One embodiment of the present disclosure relates to a method for processing audio signals for a set of headphones which includes receiving a plurality of audio signal inputs each audio signal input including information about a spatial position of a sound source relative to a listener mixing two or more of the audio signal inputs to produce a plurality of mixed audio signals providing each of the mixed audio signals to a plurality of positional filters each including a head related transfer function that provides a simulated hearing response passing each of the audio signal inputs as unmixed audio signals to one or more of the plurality of positional filters wherein the mixed and unmixed audio signals are arranged such that each audio signal input is provided in mixed and unmixed form to two or more of the positional filters applying the positional filters to the mixed audio signals and to the unmixed audio signals to create a plurality of left channel filtered signals a plurality of right channel filtered signals and downmixing the plurality of left channel filtered signals into a left audio output signal and downmixing the plurality of right channel filtered signals into a right audio output channel such that the spatial positions of the plurality of sound sources are perceptible from the left and right output channels of a set of headphones.

In another embodiment a method for processing audio signals includes receiving multiple audio signals including information about spatial position of sound sources relative to a listener applying at least one audio filter to each audio signal so as to yield two corresponding filtered signals for each audio signal and mixing the filtered signals to create a left audio output and a right audio output wherein the spatial position of the sound sources are perceptible from the right and left output channels.

Various embodiments of the disclosure contemplate an apparatus for processing audio signals including multiple audio signal inputs each including information about spatial position of a sound source relative to a listener a plurality of positional filters wherein each audio signal input is provided to two or more of the positional filters to create at least one right channel filtered signal and at least one left channel filter signal for each audio signal and a downmixer that downmixes the right channel filtered signals into a right audio output channel and that downmixes the left channel filtered signals into a left audio output channel such that the spatial positions of the plurality of sound sources are perceptible from the right and left output channels.

Moreover in another embodiment an apparatus for processing audio signals includes means for receiving an audio signal including information about spatial position of a sound source relative to a listener means for selecting at least one audio filter including a head related transfer function that provides a simulated hearing response means for applying the at least one audio filter to the audio signal so as to yield two corresponding filtered signals each of the filtered signals having a simulated effect of the head related transfer function applied to the sound source and means for providing one of the filtered signals to a left audio channel and the other filtered signal to a right audio channel such that the spatial position of the sound source is perceptible from each channel.

These and other aspects advantages and novel features of the present teachings will become apparent upon reading the following detailed description and upon reference to the accompanying drawings. In the drawings similar elements have similar reference numerals.

The present disclosure generally relates to audio signal processing technology. In some embodiments various features and techniques of the present disclosure can be implemented on audio or audio visual devices. As described herein various features of the present disclosure allow efficient processing of sound signals so that in some applications realistic positional sound imaging can be achieved even with reduced signal processing resources. As such in some embodiments sound having realistic impact on the listener can be output by portable devices such as handheld devices where computing power may be limited. It will be understood that various features and concepts disclosed herein are not limited to implementations in portable devices but can be implemented in a wide variety of electronic devices that process sound signals.

In some embodiments such audio perception combined with corresponding visual perception from a screen for example can provide an effective and powerful sensory effect to the listener. Thus for example a surround sound effect can be created for a listener listening to a handheld device through headphones speakers or the like. Various embodiments and features of the positional audio engine are described below in greater detail.

Other configurations are possible. For example various concepts and features of the present disclosure can be implemented for processing of signals in analog systems. In such systems analog equivalents of various filters in the positional audio engine can be configured based on location relevant information in a manner similar to the various techniques described herein. Thus it will be understood that various concepts and features of the present disclosure are not limited to digital systems.

The decoder is a component that decodes a relatively smaller number of audio channel inputs to provide a relatively larger number of audio channel outputs . In the example embodiment the decoder receives left and right audio channel inputs and provides six audio channel outputs to the positional audio engine . The audio channel outputs may correspond to surround sound channels. The audio channel inputs can include for example a Circle Surround 5.1 encoded source a Dolby Surround encoded source a conventional two channel stereo source encoded as raw audio MP3 audio RealAudio WMA audio etc. and or a single channel monaural source.

In one embodiment the decoder is a decoder for Circle Surround 5.1. Circle Surround 5.1 CS 5.1 technology as disclosed in U.S. Pat. No. 5 771 295 the 259 patent titled 5 2 5 MATRIX SYSTEM which is hereby incorporated by reference in its entirety is adaptable for use as a multi channel audio delivery technology. CS 5.1 enables the matrix encoding of 5.1 high quality channels on two channels of audio. These two channels can then be efficiently transmitted to the decoder using any of the popular compression schemes available Mp3 RealAudio WMA etc. or alternatively without using a compression scheme. The decoder may be used to decode a full multi channel audio output from the two channels which in one embodiment are streamed over the Internet. The CS 5.1 system is referred to as a 5 2 5 system in the 259 patent because five channels are encoded into two channels and then the two channels are decoded back into five channels. The 5.1 designation as used in CS 5.1 typically refers to the five channels e.g. left right center left rear also known as left surround right rear also known as right surround and an optional subwoofer channel derived from the five channels.

Although the 259 patent describes the CS 5.1 system using hardware terminology and diagrams one of ordinary skill in the art will recognize that a hardware oriented description of signal processing systems even signal processing systems intended to be implemented in software is common in the art convenient and efficiently provides a clear disclosure of the signal processing algorithms. One of ordinary skill in the art will recognize that the CS 5.1 system described in the 259 patent can be implement in software by using digital signal processing algorithms that mimic the operation of the described hardware.

Use of CS 5.1 technology to encode multi channel audio signals creates a backwardly compatible fully upgradeable audio delivery system. For example because a decoder implemented as a CS 5.1 decoder can create a multi channel output from any audio source the original format of the audio source can include a wide variety of encoded and non encoded source formats including Dolby Surround conventional stereo or a monaural source. When CS 5.1 technology is used to stream audio signals over the Internet CS 5.1 creates a seamless architecture for both the website developer performing Internet audio streaming and the listener receiving the audio signals over the Internet. If the website developer wants an even higher quality audio experience at the client side the audio source can first be encoded with CS 5.1 prior to streaming. The CS 5.1 decoding system can then generate 5.1 channels of full bandwidth audio providing an optimal audio experience.

The surround channels that are derived from the CS 5.1 decoder are of higher quality as compared to other available systems. While the bandwidth of the surround channels in a Dolby ProLogic system is limited to 7 kHz monaural CS 5.1 provides stereo surround channels that are limited only by the bandwidth of the transmission media.

The channel decoders and are various implementations of surround sound decoders that provide multiple channels of sound. For example the channel decoder provides 5.1 surround sound channels. The 5 in 5.1 typically refers to left right center left surround and right surround channels. The 1 in 5.1 typically refers to a subwoofer. Accordingly the 5.1 channel decoder provides six inputs to the positional audio engine . Similarly the 6.1 channel decoder provides 7 channels to the positional audio engine adding a center surround channel. In place of the center surround channel the 7.1 channel decoder adds left back and right back channels thereby providing 8 channels to the positional audio engine. More or fewer channels including for example 3.0 4.0 4.1 10.2 or 22.2 may be provided to the positional audio engine than shown in the depicted embodiments.

The positional audio engine provides two outputs which correspond to left and right headphone speakers. However the sounds transmitted to the speakers are perceived by the listener as coming from virtual speaker locations corresponding to the number of input channels to the positional audio engine . In many implementations the sound location of the subwoofer is indiscernible to the human ear. Thus for example if the 5.1 channel decoder is used to provide inputs to the positional audio engine a listener will perceive up to 5 sound sources at substantially fixed locations relative to the listener.

The inputs are provided to a premixer within the positional audio engine . The premixer may be implemented in hardware or software to include summation blocks gain blocks and delay blocks. The premixer mixes one or more of the inputs and provides mixed inputs to one or more positional filters . In an alternative embodiment the premixer passes certain inputs in unmixed form directly to one or more of the positional filters . In still other embodiments certain of the inputs are passed through the premixer and other inputs bypass the premixer and are provided directly to the positional filters . A more detailed example of a premixer is described below under .

The depicted positional filters are components that perform signal processing functions. The positional filters of various embodiments filter the premixed outputs to provide sounds that are perceived by the listener as coming from virtual speaker locations corresponding to the number of inputs .

The positional filters may be implemented in various ways. For instance the positional filters may comprise analog or digital circuitry software firmware or the like. The positional filters may also be passive or active discrete time e.g. sampled or continuous time linear or non linear infinite impulse response IIR or finite impulse response FIR or some combination of the above. Additionally the positional filters may have a transfer function implemented in a variety of ways. For example the positional filter may be implemented as a Butterworth filter Chebyshev filter Bessel filter elliptical filter or as another type of filter.

The positional filters may be formed from a combination of two three or more filters examples of which are described below. In addition the number of positional filters included in the positional audio engine may be varied to filter a different number of premixed outputs . Alternatively the positional audio engine includes a set number of positional filters that filter a varying number of premixed outputs .

In one embodiment the positional filter is a head related transfer function HRTF configured based on location relevant information such as a HRTF described in U.S. patent application Ser. No. 11 531 624 titled Systems and Methods for Audio Processing which is hereby incorporated by reference in its entirety. For the purpose of description location relevant means a portion of human hearing response spectrum for example a frequency response spectrum where sound source location discrimination is found to be particularly acute. An HRTF is an example of a human hearing response spectrum. Studies for example A comparison of spectral correlation and local feature matching models of pinna cue processing by E. A. Macperson 101 3105 1997 have shown that human listeners generally do not process entire HRTF information to distinguish where sound is coming from. Instead they appear to focus on certain features in HRTFs. For example local feature matches and gradient correlations in frequencies over 4 KHz appear to be particularly important for sound direction discrimination while other portions of HRTFs are generally ignored.

The positional filters of various embodiment are linear filters. Linearity provides that the filtered sum of the inputs is equivalent to a sum of the filtered inputs. Accordingly in one implementation the premixer is not included in the positional audio engine . Rather the outputs of one or more positional filters are combined instead to achieve the same or substantially same result of the premixer . The premixer may also be included in addition to combining the outputs of the positional filters in other embodiments.

The positional filters provide filtered outputs to a downmixer . Like the premixer the downmixer includes one or more summation blocks gain blocks or both. In addition the downmixer may include delay blocks and reverb blocks. The downmixer may be implemented in analog or digital hardware or software. In various embodiments the downmixer combines the filtered outputs into two output signals . In alternative embodiments the downmixer provides fewer or more output signals .

For the example surround sound configuration the positional filtering can be configured to process five sound sources for example from five channels of a 5.1 surround decoder . Information about the location of the sound sources for example which of the five virtual speakers is provided in some embodiments by the positional filters of .

In one particular implementation two positional filters are employed for each input . Consequently in this implementation two positional filters are used per each virtual speaker . In one embodiment one of the two positional filters corresponds to a sound perceived by the left ear and the other corresponds to a sound perceived by the right ear. Thus illustrates dashed lines extending from each virtual speaker . The dashed lines indicate sounds being provided from the virtual speaker to the left ear of the listener and the dashed lines indicate sounds being provided to the right ear . Because a real speaker is ordinarily heard by both ears certain embodiments of this pairing mechanism enhance the realism of the simulated virtual speaker locations.

Turning to the positional audio engine receives inputs from a multi channel decoder . In the depicted embodiment six inputs are provided and the multi channel decoder is a 5.1 channel decoder. The inputs correspond to different speaker locations in a 5.1 surround sound system including left center right subwoofer left surround and right surround speakers.

The inputs are provided to an input gain bank . In the depicted embodiment the input gain bank attenuates the inputs by 6 dB decibels . Attenuating the inputs provides added headroom which is a higher possible signal level without compression or distortion for later signal processing. The input gain bank provides a left output center output right output subwoofer output left surround output and a right surround output .

A premixer receives the outputs from the input gain bank . The premixer includes summers . In the depicted embodiments the premixer combines the center output with the left output through summer to produce a left center output . Likewise the premixer combines the center output with the right output through summer to produce a right center output . Advantageously by premixing the center output with the left and right outputs the premixer blends the left center and right sounds. As a result these sounds may be more accurately perceived as coming from a virtual left center or right speaker respectively without additional processing on the center channel. However in the depicted embodiments the premixer does not mix the subwoofer left surround and right surround outputs . Alternatively the premixer performs some mixing on one or more of these outputs .

The premixer provides at least some of the outputs to one or more positional filters . Specifically the left center output is provided to a front left positional filter and the left output is provided to a front right positional filter . The right output is provided to a front left positional filter and the right center output is provided to a front right positional filter . Likewise the left surround output is provided to both a rear left positional filter and a rear right positional filter and the right surround output is provided to both a rear left positional filter and a rear right positional filter . In contrast the subwoofer output is not provided to a positional filter in the depicted embodiments however the subwoofer output may be provided to a positional filter in an alternative implementation.

The positional filters may be combined in pairs to simulate virtual speaker locations. Within a pair of positional filters one positional filter represents the virtual speaker location heard at a listener s left ear and the other positional filter represents the virtual speaker location heard at the right ear. Because a real speaker is ordinarily heard by both ears certain embodiments of this pairing mechanism enhance the realism of the simulated virtual speaker locations.

Turning to the specific positional filter pairs the front left positional filter and the front right positional filter correspond to a virtual front left speaker. The front left positional filter and the front right positional filter correspond to a virtual front right speaker. The front left positional filters correspond to left channels of the virtual front speakers and the front right positional filters correspond to right channels of the virtual front speakers. Similarly the rear left positional filter and the rear right positional filter correspond to a left surround virtual speaker and the rear left positional filter and the rear right positional filter correspond to a right surround virtual speaker. The rear left positional filters and the rear right positional filters correspond to left and right channels of the virtual left and right surround speaker locations respectively.

The center output is mixed with the left and right outputs such that the front left positional filters and front right positional filter correspond to left and right channels from a virtual central speaker. As a result the front left and front right positional filters are used to generate multiple pairs of virtual speaker locations. Consequently rather than using ten positional filters to represent five virtual speakers the positional audio engine employs eight positional filters . Separate positional filters may be used for the center virtual speaker location in an alternative embodiment.

Outputs of the positional filters are provided to a downmixer . The downmixer includes gain blocks summers and reverberation components . The various components of the downmixer mix the filtered outputs down to two outputs including a left channel output and a right channel output .

The outputs pass through gain blocks . Gain blocks adjust the left and right channels separately to account for any interaural intensity differences IID that may exist and that is not accounted for by the application of one or more of the positional filters . In one embodiment the various gain blocks may have different values so as to compensate for IID. This adjustment to account for IID includes determining whether the sound source is positioned at left or right speaker locations relative to the listener. The adjustment further includes assigning as a weaker signal the left or right filtered signal that is on the opposite side as the sound source.

Various gain blocks provide outputs to the summers . Summer combines the gained output of the front left positional filters to create a left channel output from each virtual front speaker Summer likewise combines the gained output of the front right positional filters to create a right channel output from each virtual front speaker. Summers and similarly combine the gained positional filter output corresponding to left and right outputs from the left surround and right surround virtual speakers respectively.

Summer combines the gained outputs of the front left positional filters with the gained outputs of the left surround positional filters to create a left channel signal . Summer combines the gained outputs of the front right positional filters with the gained outputs of the right surround positional filters to create a right channel signal

The left and right channel signals are processed further by reverberation components to provide reverberation effect in the output signals . The reverberation components are used in various implementations to enhance the effect of moving the sound image out of the head and also to further spatialize the sound images in a 3 D space. The left and right channel signals are then multiplied by a gain block having a value 1 G. In parallel the left and right channel signals are multiplied by a gain block having a value G. Thereafter the output of the gain block and the gain block are combined at summer to produce a left channel output and a right channel output .

Thus the positional audio engine of various embodiments receives multiple inputs corresponding to a surround sound system and filters and combines the inputs to provide two channels of sound. The positional audio engine of various embodiments therefore enhances the listening experience of headphones or other two speaker listening devices.

Referring to a positional audio engine is shown that may be employed in a 6.1 channel surround system. In one implementation of a 6.1 channel surround system all of the channels of a 5.1 surround system are included and an additional center surround channel is included. Thus the positional audio engine includes many of the components of the positional audio engine corresponding to the left right center left surround and right surround channels of a 5.1 surround system. For instance the positional audio engine includes a premixer positional filters and the downmixer .

The premixer in one embodiment is similar to the premixer of . In addition to the functions performed by the premixer the premixer includes summers . In addition to the outputs provided to the premixer of the premixer receives a center surround output corresponding to a gained center surround channel.

The premixer combines the center surround output with the left surround output through summer to produce a left surround center output . Likewise the premixer combines the center surround output with the right surround output through summer to produce a right surround center output . Advantageously by premixing the center surround output with the left and right surround outputs the premixer blends the left center and right surround sounds. As a result these sounds may be more accurately perceived as coming from a virtual left center or right surround speaker respectively without additional processing on the center surround.

Turning to the positional filters some or all of the positional filters are the same or substantially the same as the positional filters shown in . Alternatively certain of the positional filters may be different from the positional filters . Certain of the positional filters however also process the additional center surround output . In the depicted embodiment the center surround output is mixed with the left and right surround outputs and provided to a left surround positional filter and a right surround positional filter . These filters are also used to filter the left and right surround outputs . As a result the left and right surround positional filters are used to generate multiple pairs of virtual speaker locations.

Consequently rather than using twelve positional filters to represent six virtual speakers the positional audio engine employs eight positional filters . Separate positional filters however may be used for the center and center surround virtual speaker location in alternative embodiments.

The various positional filters provide filtered outputs to the downmixer . The downmixer in the depicted embodiment includes the same components as the downmixer described under above. In addition to the functions performed by the downmixer the downmixer mixes the filtered center surround output into both left and right channel signals 

In a positional audio engine is shown that may be employed in a 7.1 channel surround system. In one implementation of a 7.1 channel surround system all of the channels of a 5.1 surround system are included and additional left back and right back channels are included. Thus the positional audio engine includes many of the components of the positional audio engine corresponding to the channels of a 5.1 surround system namely left right center left surround and right surround channels. For instance the positional audio engine includes a premixer positional filters and the downmixer .

The premixer in one embodiment is similar to the premixer of . In addition to the functions performed by the premixer the premixer includes delay blocks gain blocks and summers . In addition to the outputs provided to the premixer of the premixer receives a left back output and a right back output corresponding to gained left back and right back channels respectively.

The delay blocks are components that provide delayed signals to the gain blocks . The delay blocks receive output signals from the input gain bank . Specifically the left surround output is provided to the delay block the left back output is provided to the delay block the right back output is provided to the delay block and the right surround output is provided to the delay block . The various delay blocks are used to simulate an interaural time difference ITD based on the spatial positions of the virtual speakers in 3D space relative to the listener.

The delay blocks provide the delayed output signals to the gain blocks . Specifically the left surround output is provided to the gain block the left back output is provided to the gain block and the right back output is provided to the gain block and and the right surround output is provided to the gain block . The gain block are used to adjust the IID from the virtual surround and back speakers which are placed at different locations in a 3D space.

Thereafter the gain blocks provide the gained output signals to the summers . Summer mixes delayed left surround output with delayed left back output . Summer mixes the left surround output with the left back output . Summer mixes the right surround output with the right back output . Finally summer mixes the delayed right surround output with the delayed right back output .

The summers provide the combined outputs to the positional filters and . Some or all of the positional filters in the depicted embodiment are the same or substantially the same as the positional filters shown in . Alternatively certain of the positional filters may be different from the positional filters . Certain of the positional filters however also process the delayed and non delayed left and right back outputs received from summers . In the depicted embodiment the mixed delayed left surround output and delayed left back output are provided to a rear right positional filter . The mixed delayed right surround output and delayed right back output are provided to a rear left positional filter . Likewise the mixed left surround output and left back output are provided to a rear left positional filter and the mixed right surround output and right back output are provided to a rear right positional filter .

Each of the four output signals is therefore provided to one of the four positional filters twice. As a result these positional filters are used to generate multiple pairs of virtual speaker locations. Thus rather than using fourteen positional filters to represent seven virtual speakers the positional audio engine employs eight positional filters . Separate positional filters however may be used for the left back and right back virtual speaker locations in alternative embodiments.

The various positional filters provide filtered outputs to the downmixer . The downmixer in the depicted embodiment includes the same components as the downmixer described under above. In addition to the functions performed by the downmixer the downmixer mixes the filtered center surround output into both a left and right channel signals 

Although show configurations of the twelve component filters different configurations may be provided in alternative embodiments. For instance more or fewer than twelve component filters may be employed to construct the positional filters . For example one two or more component filters may be used to form a positional filter. The twelve component filters shown may be rearranged such that different component filters are provided for a different configuration of positional filters than that shown. Additionally one or more of the component filters may be replaced with one or more other filters which are not shown or described herein. In another embodiment one or more of the positional filters are formed from a custom filter kernel rather than from a combination of component filters . Moreover the depicted component filters in one embodiment are derived from a particular HRTF. The component filters may also be replaced with other filters derived from a different HRTF.

Of the component filters shown there are three types including band stop filters band pass filters and high pass filters. In addition though not shown in some embodiments low pass filters are employed. The characteristics of the component filters may be varied to produce a desired positional filter or . These characteristics may include cutoff frequencies bandwidth amplitude attenuation phase rolloff Q factor and the like. Moreover the component filters may be implemented as single pole or multi pole filters according to a Fourier Laplace or Z transform representation of the component filters .

More particularly various implementations of a band stop component filter stop or attenuate certain frequencies and pass others. The width of the stopband which attenuates certain frequencies may be adjusted to deemphasize certain frequencies. Likewise the passband may be adjusted to emphasize certain frequencies. Advantageously the band stop component filter shapes sound frequencies such that a listener associates those frequencies with a virtual speaker location.

In a similar vein various implementations of a band pass component filter pass certain frequencies and attenuate others. The width of the passband may be adjusted to emphasize certain frequencies and the stopband may be adjusted to deemphasize certain frequencies. Thus like the band stop component filter the band pass component filter shapes sound frequencies such that a listener associates those frequencies with a virtual speaker location.

Various implementations of a high pass or low pass component filter also pass certain frequencies and attenuate others. The width of the passband of these filters may be adjusted to emphasize certain frequencies and the stopband may be adjusted to deemphasize certain frequencies. High and low pass component filters therefore also shape sound frequencies such that a listener associates those frequencies with a virtual speaker location.

Turning to the particular examples of positional filters in the front left positional filter includes a band stop filter a band pass filter and a high pass filter . The front right positional filter includes a band stop filter a band stop filter and a band stop filter . The front left positional filter includes the band stop filter the band stop filter and the band stop filter . The front right positional filter includes the band stop filter the band pass filter and the high pass filter .

Referring to the particular examples of positional filters in the rear left positional filter includes a band stop filter a band pass filter and a band stop filter . The rear right positional filter includes a band stop filter a band pass filter and a band stop filter . The rear left positional filter includes the band stop filter the band pass filter and the band stop filter . The rear right positional filter includes the band stop filter the band pass filter and the band stop filter .

Referring to the particular examples of positional filters in the example left surround positional filter includes the same component filters as the rear left positional filter . The right surround positional filter includes the same component filters as the rear right positional filter . Likewise the left surround positional filter includes the same component filters as the rear left positional filter and the right surround positional filter includes the same component filters as the rear right positional filter .

Referring to the particular examples of positional filters in the rear right positional filter includes the band stop filter the band pass filter and the band stop filter . The rear left positional filter includes the band stop filter the band pass filter and the band stop filter . The rear right positional filter includes the band stop filter the band pass filter and the band stop filter . Finally the rear left positional filter includes the band stop filter the band pass filter and the band stop filter .

The graphs are plotted on a logarithmic frequency scale and an amplitude scale . While phase graphs are not shown in one embodiment each depicted graph has a corresponding phase graph. Different graphs may have different magnitude scales reflecting that different filters may have different amplitudes so as to emphasize certain components of sound and deemphasize others.

In the depicted embodiments each graph shows a trace having a passband and a stopband . In some of the depicted graphs the passband and the stopband are less well defined as the transition between passband and stopband is less apparent. By including a passband and stopband the traces graphically illustrate how the component filters emphasize certain frequencies and deemphasize others.

Turning to more detailed examples the graph of illustrates an example band pass filter. The trace illustrates the filter at 20 Hz attenuating at between 42 and 46 dBu decibels of a voltage ratio relative to 0.775 Volts RMS root mean square . The trace then ramps up to about 0 to 2 dBu at between 4 and 5 kHz thereafter falling off to about 18 to 22 dBu at 20 kHz. Cutoff frequencies e.g. frequencies at which the trace is 3 dBu below the maximum value of the trace are found at about 2.2 kHz to 2.5 kHz and at about 8 kHz to 9 kHz. The passband therefore includes frequencies in the range of about 2.2 2.5 kHz to about 8 9 kHz. Frequencies in the range of about 20 Hz to 2.2 2.5 kHz and about 8 9 kHz to 20 kHz are in the stopband .

The graph of illustrates an example band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 7 to 8 dBu until about 175 250 Hz where the trace rolls off to about 26 to 28 dBu attenuation at about 700 800 Hz. Thereafter the trace rises to between 7 and 8 dBu at about 2 kHz to 4 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 480 520 Hz and 980 1200 Hz. The passband therefore includes frequencies in the range of about 20 Hz to 480 520 Hz and 980 1200 Hz to 20 kHz. The stopband includes frequencies in the range of about 480 520 Hz to 980 1200 Hz.

The graph of illustrates an example high pass filter. The trace illustrates the filter at about 35 to 40 Hz having a value of about 50 dBu. The trace then rises to a value of between about 10 and 12 dBu at about 400 to 600 Hz. Thereafter the trace remains at about the same magnitude at least until 20 kHz. The cutoff frequency is found at about 290 330 Hz. Therefore the passband includes frequencies in the range of about 290 330 Hz to 20 kHz and the stopband includes frequencies in the range of about 20 Hz to 290 330 Hz.

The graph of illustrates another example of a band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 13 to 14 dBu until about 60 to 100 Hz where the trace rolls off to greater than 48 dBu attenuation at about 500 to 550 Hz. Thereafter the trace rises to between 13 and 14 dBu between about 2.5 kHz and 5 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 230 270 Hz and 980 1200 Hz. The passband therefore includes frequencies in the range of about 20 Hz to 290 330 Hz and 980 1200 Hz to 20 kHz. The stopband includes frequencies in the range of about 290 330 Hz to 980 1200 Hz.

The graph of also illustrates an example band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 16 to 17 dBu until about 4 to 7 kHz where the trace rolls off to greater than 32 dBu attenuation at about 10 to 12 kHz. Thereafter the trace rises to between 16 and 17 dBu at about 13 to 16 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 8.8 9.2 kHz and 12 14 kHz. The passband therefore includes frequencies in the range of about 20 Hz to 8.8 9.2 kHz and 12 14 kHz to 20 kHz. The stopband includes frequencies in the range of about 8.8 9.2 kHz to 12 14 kHz.

The graph of illustrates yet another example band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 7 to 8 dBu until about 500 Hz to 1 kHz where the trace rolls off to about 40 to 41 dBu attenuation at 1.6 kHz to 2 kHz. Thereafter the trace rises to between 7 and 8 dBu at about 3 kHz to 6 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 480 1.5 1.8 Hz and 2.3 2.5 Hz. The passband therefore includes frequencies in the range of about 20 Hz to 1.5 1.8 kHz and 2.3 2.5 kHz to 20 kHz. The stopband includes frequencies in the range of about 1.5 1.8 kHz to 2.3 2.5 kHz.

The graph of illustrates another example band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 5 to 6 dBu until about 500 Hz to 900 Hz where the trace rolls off to about 19 to 20 dBu attenuation at about 1.4 kHz to 1.8 kHz. Thereafter the trace rises to between 5 and 6 dBu at about 3 kHz to 5 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 1.4 1.6 kHz and 1.7 1.9 kHz. The passband therefore includes frequencies in the range of about 20 Hz to 1.4 1.6 kHz and 1.7 1.9 kHz to 20 kHz. The stopband includes frequencies in the range of about 1.4 1.6 Hz to 1.7 1.9 kHz.

The graph of illustrates an additional example band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 5 to 6 dBu until about 2 kHz to 4 kHz where the trace rolls off to about 12 to 13 dBu attenuation at about 5.5 kHz to 6 kHz. Thereafter the trace rises to between 5 and 6 dBu at about 9 kHz to 13 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 5.5 5.8 kHz and 6.5 6.8 kHz. The passband therefore includes frequencies in the range of about 20 Hz to 5.5 5.8 kHz and 6.5 6.8 kHz to 20 kHz. The stopband includes frequencies in the range of about 5.5 5.8 kHz to 6.5 6.8 kHz.

The graph of illustrates an example band pass filter. The trace illustrates the filter at 200 Hz attenuating at about 50 dBu. The trace ramps up to about 4 to 6 dBu at between 13 kHz to 17 kHz thereafter falling off to about 18 to 20 dBu at 20 kHz. The cutoff frequencies are found at about 11 13 kHz and 15 17 Hz. The passband includes frequencies in the range of about 11 13 kHz to about 15 17 kHz. Frequencies in the range of about 20 Hz to 15 17 kHz and 15 17 kHz to 20 kHz are in the stopband

The graph of illustrates another example band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 7 to 8 dBu until about 500 Hz to 800 Hz where the trace rolls off to about 40 to 41 dBu attenuation at about 16 kHz to 18 kHz. Thereafter the trace rises to between 7 and 8 dBu at about 3 kHz to 5 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 480 1.2 1.5 kHz and 1.8 2.1 kHz. The passband therefore includes frequencies in the range of about 20 Hz to 1.2 1.5 kHz and 1.8 2.1 kHz to 20 kHz. The stopband includes frequencies in the range of about 1.2 1.5 kHz to 1.8 2.1 kHz.

The graph of illustrates another example of a band stop filter. The trace illustrates the filter at 20 Hz having a magnitude of about 15 to 16 dBu until about 3 4 kHz where the trace rolls off to about 43 to 44 dBu attenuation at about 6 6.5 kHz. Thereafter the trace rises to between 5 and 16 dBu at about 8 10 kHz and remains at about the same magnitude at least until 20 kHz. The cutoff frequencies are found at about 5.3 5.7 kHz and 6.8 7.2 kHz. The passband therefore includes frequencies in the range of about 20 Hz to 5.3 5.7 Hz and 6.8 7.2 kHz to 20 kHz. The stopband includes frequencies in the range of about 5.3 5.7 Hz to 6.8 7.2 kHz.

The graph of illustrates a final example of a band pass filter. The trace L illustrates the filter at 400 Hz attenuating at between 56 and 58 dBu. The filter ramps up to about 19 to 20 dBu at between 14 and 17 kHz thereafter falling off to about 28 to 30 dBu at 20 kHz. The cutoff frequencies are found at about 11 13 kHz and 17 19 kHz. The passband L includes frequencies in the range of about 11 13 kHz to about 17 19 kHz. Frequencies in the range of about 20 Hz to 11 13 kHz and 17 19 kHz to 20 kHz are in the stopband L.

In the example embodiments shown the component filters are implemented with IIR filters. In one embodiment IIR filters are recursive filters that sum weighted inputs and previous outputs. Because IIR filters are recursive they may be calculated more quickly than other filter types such as convolution based FIR filters. Thus some implementations of IIR filters are able to process audio signals more easily on handheld devices which often have less processing power than other devices.

An IIR filter may be represented by a difference equation which defines how an input signal is related to an output signal. An example difference equation for a second order IIR filter has the form 2 1 where xis the input signal yis the output signal bare feedforward filter coefficients and aare feedback filter coefficients.

In certain of the example positional audio engines described above the input signal xis the input to the component filter and the output signal yis the output of the component filter . Example filter coefficients for the twelve example component filters shown in are shown in a table in . The sampling rate for the example filter coefficients is 48 kHz but alternative sampling rates may be used.

The filter coefficients shown in the table enable embodiments of the component filters and in turn embodiments of the various positional filters to simulate virtual speaker locations. The coefficients may be varied to simulate different virtual speaker locations or to emphasize or deemphasize certain virtual speaker locations. Thus the example component filters provide an enhanced virtual listening experience.

In one embodiment at least some portion of the 3D sound API can reside in the program memory of the system and be under the control of a processor . In one embodiment the system can also include a display component that can provide visual input to the listener. Visual cues provided by the display and the sound processing provided by the API can enhance the audio visual effect to the listener viewer.

As described herein various features of positional filtering and associated processing techniques allow generation of realistic three dimensional sound effect without heavy computation requirements. As such various features of the present disclosure can be particularly useful for implementations in portable devices where computation power and resources may be limited.

In the description herein various functionalities are described and depicted in terms of components or modules. Such depictions are for the purpose of description and do not necessarily mean physical boundaries or packaging configurations. It will be understood that the functionalities of these components can be implemented in a single device software separate devices softwares or any combination thereof. Moreover for a given component such as the positional filters its functionalities can be implemented in a single device software plurality of devices softwares or any combination thereof.

In general it will be appreciated that the processors can include by way of example computers program logic or other substrate configurations representing data and instructions which operate as described herein. In other embodiments the processors can include controller circuitry processor circuitry processors general purpose single chip or multi chip microprocessors digital signal processors embedded microprocessors microcontrollers and the like.

Furthermore it will be appreciated that in one embodiment the program logic may advantageously be implemented as one or more components. The components may advantageously be configured to execute on one or more processors. The components include but are not limited to software or hardware components modules such as software modules object oriented software components class components and task components processes methods functions attributes procedures subroutines segments of program code drivers firmware microcode circuitry data databases data structures tables arrays and variables.

Although the above disclosed embodiments have shown described and pointed out the fundamental novel features of the invention as applied to the above disclosed embodiments it should be understood that various omissions substitutions and changes in the form of the detail of the devices systems and or methods shown may be made by those skilled in the art without departing from the scope of the invention. Consequently the scope of the invention should not be limited to the foregoing description but should be defined by the appended claims.

