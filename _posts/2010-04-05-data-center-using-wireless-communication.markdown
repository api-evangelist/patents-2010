---

title: Data center using wireless communication
abstract: A data center includes a plurality of computing units that communicate with each other using wireless communication, such as high frequency RF wireless communication. The data center may organize the computing units into groups (e.g., racks). In one implementation, each group may form a three-dimensional structure, such as a column having a free-space region for accommodating intra-group communication among computing units. The data center can include a number of features to facilitate communication, including dual-use memory for handling computing and buffering tasks, failsafe routing mechanisms, provisions to address permanent interface and hidden terminal scenarios, etc.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09391716&OS=09391716&RS=09391716
owner: Microsoft Technology Licensing, LLC
number: 09391716
owner_city: Redmond
owner_country: US
publication_date: 20100405
---
Data centers traditionally use a hierarchical organization of computing units to handle computing tasks. In this organization the data center may include a plurality of racks. Each rack includes a plurality of computing units such as a plurality of servers for implementing a network accessible service . Each rack may also include a rack level switching mechanism for routing data to and from computing units within the rack. One or more higher level switching mechanisms may couple the racks together. Hence communication between computing units in a data center may involve sending data up and down through a hierarchical switching structure. Data centers physically implement these communication paths using hardwired links.

The hierarchical organization of computing units has proven effective for many data center applications. However it is not without its shortcomings. Among other potential problems the hierarchical nature of the switching structure can lead to bottlenecks in data flow for certain applications particularly those applications that involve communication between computing units in different racks.

A data center is described herein that includes plural computing units that interact with each other via wireless communication. Without limitation for instance the data center can implement the wireless communication using high frequency RF signals optical signals etc.

In one implementation the data center can include three or more computing units. Each computing unit may include processing resources general purpose memory resources and switching resources. Further each computing unit may include two or more wireless communication elements for wirelessly communicating with at least one other computing unit. These communication elements implement wireless communication by providing respective directionally focused beams e.g. in one implementation by using high attenuation signals in the range of 57 GHz 64 GHz.

According to another illustrative aspect the data center can include at least one group of computing units that forms a structure. For example the structure may form a column e.g. a cylinder having an inner free space region for accommodating intra group communication among computing units within the group.

According to another illustrative aspect the computing units can be placed with respect to each other to avoid permanent interference. Permanent interference exists when a first computing unit can communicate with a second computing unit but the second computing unit cannot directly communicate with the first computing unit.

According to another illustrative aspect the computing units form a wireless switching fabric for transmitting payload data from a source computing unit to a destination computing unit via in some cases at least one intermediary computing unit. The switching fabric can implement these functions using any type of routing technique or any combination of routing techniques.

According to another illustrative aspect a computing unit that is involved in transmission of payload data may use at least a portion of its memory resources if available as a buffer for temporarily storing the payload data being transmitted. Thus the memory resources of a computing unit can serve both a traditional role in performing computation and a buffering role.

According to another illustrative aspect the computing units are configured to communicate with each other using a media access protocol that addresses various hidden terminal scenarios.

The data center may offer various advantages in different environments. According to one advantage the data center more readily and flexibly accommodates communication among computing units compared to a fixed hierarchical approach . The data center can therefore offer improved throughput for many applications. According to another advantage the data center can reduce the amount of hardwired links and specialized routing infrastructure. This feature may lower the cost of the data center as well as simplify installation reconfiguration and maintenance of the data center. According to another advantage the computing units use a relatively low amount of power in performing wireless communication. This reduces the cost of running the data center.

The above approach can be manifested in various types of systems components methods computer readable media data centers articles of manufacture and so on.

This Summary is provided to introduce a non exhaustive selection of features and attendant benefits in a simplified form these features are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter.

The same numbers are used throughout the disclosure and figures to reference like components and features. Series numbers refer to features originally found in series numbers refer to features originally found in series numbers refer to features originally found in and so on.

This disclosure is organized as follows. Section A describes different types of computing units that provide wireless communication within a data center. Section B describes illustrative data centers that can be built using the computing units of Section A. Section C describes functionality for addressing the issue of permanent interference. Section D describes functionality for implementing signaling among computing units. Section E provides functionality for routing data within a data center that uses wireless communication.

As a preliminary matter some of the figures describe concepts in the context of one or more structural components variously referred to as functionality modules features elements etc. The various components shown in the figures can be implemented in any manner. In one case the illustrated separation of various components in the figures into distinct units may reflect the use of corresponding distinct components in an actual implementation. Alternatively or in addition any single component illustrated in the figures may be implemented by plural actual components. Alternatively or in addition the depiction of any two or more separate components in the figures may reflect different functions performed by a single actual component.

Other figures describe the concepts in flowchart form. In this form certain operations are described as constituting distinct blocks performed in a certain order. Such implementations are illustrative and non limiting. Certain blocks described herein can be grouped together and performed in a single operation certain blocks can be broken apart into plural component blocks and certain blocks can be performed in an order that differs from that which is illustrated herein including a parallel manner of performing the blocks . The blocks shown in the flowcharts can be implemented in any manner.

The following explanation may identify one or more features as optional. This type of statement is not to be interpreted as an exhaustive indication of features that may be considered optional that is other features can be considered as optional although not expressly identified in the text. Similarly the explanation may indicate that one or more features can be implemented in the plural that is by providing more than one of the features . This statement is not be interpreted as an exhaustive indication of features that can be duplicated. Finally the terms exemplary or illustrative refer to one implementation among potentially many implementations.

Other implementations of the computing unit can omit one or more of the features described above. In addition other implementations of the computing unit can provide additional resources e.g. other resources .

The computing unit can be provided in a housing having any shape. In general the housing is configured such that the computing unit can be efficiently combined with other computing units of like design to form a group e.g. a rack . By way of overview this section sets forth a first example in which the housing has a wedge type shape and a second example in which the housing has a cube shape. These implementations are not exhaustive.

The computing unit can include any number K of wireless communication elements . For example the wireless communication elements can communicate within the radio frequency RF spectrum. More specifically the communication elements can communicate within any portion of the extremely high frequency EHF part of the spectrum e.g. 30 GHz to 300 GHz . For example without limitation the wireless communication elements can provide communication within the 57 64 GHz portion of the spectrum. In another case the communication elements can communicate within an optical or infrared portion of the electromagnetic spectrum. These examples are representative rather than exhaustive no limitation is placed on the physical nature of the signals emitted by the K wireless communication elements .

Each wireless communication element can emit a directionally focused beam of energy. The shape of such a beam can be defined with respect to those points in space at which the energy of the beam decreases to a prescribed level. For instance note which shows an illustrative communication element that functions as a transceiver having a transmitting module TX for emitting a signal and a receiving module RX for receiving a signal transmitted by another communication element e.g. by communication element . The communication element emits a beam of electromagnetic energy that is defined with respect to a first angle which determines the lateral spread of the beam and a second angle not shown which determines the vertical spread of the beam. The beam extends a distance L. Finally the communication element expends an amount of power P. The values of L and P will vary for different implementations. Without limitation in one implementation and are each less than or equal to 30 degrees L is less than two meters and P is less than one Watt.

Generally the beam is relatively narrow and well defined particularly in the example in which communication takes place within the 57 GHz 64 GHz portion of the spectrum. In this range the beam is subject to dramatic attenuation in air. The use of a narrow beam allows a communication element to selectively communicate with one or more other communication elements without causing interference with respect to other communication elements. For example the communication element can successfully interact with the communication element . But the beam is well defined enough such that a close by point will not receive a signal with sufficient strength to cause interference at the point .

In one implementation each communication element provides a static beam that points in a fixed direction and has fixed and L. During setup a user can orient a beam in a desired direction by pointing the computing unit housing in the desired direction. Alternatively or in addition the user can orient the beam in the desired direction by adjusting the orientation of a communication element itself relative to the computing unit as a whole .

The wireless communication element itself can include any combination of components for transmitting and receiving signals. Without limitation the components can include one or more antennas one or more lenses or other focusing devices in the case of optical communication power amplifier functionality modulation and demodulation functionality error correction functionality and any type of filtering functionality and so on. In one case each wireless communication element can be implemented as a collection of components formed on a common substrate which is attached to or monolithically integrated with a motherboard associated with the computing unit itself.

Returning to the explanation of the K wireless communication elements are illustrated as including two sets of communication elements. A first set points in a first direction and the other set points in the opposite direction. This is merely representative of one option. In one particular implementation described below with respect to the computing unit includes a first single communication element pointing in a first direction and a second single communication element pointing in a second direction. In another particular implementation described below with respect to the computing unit includes four communication elements pointed in four respective directions.

In certain implementations the computing unit may be a member of a group e.g. a rack of computing units. And the data center as a whole may include plural such groups. In this setting a computing unit in a group can include at least one communication element that is used for interacting with one or more other computing units within the same group. This type of communication element is referred to as an intra group communication element. A computing unit can also include at least one communication element that is used for interacting with one or more computing units in one or more spatially neighboring groups. This type of communication element is referred to as an inter group communication element. Other computing units may include only one or more intra group communication elements or one or more inter group communication elements. In general each communication element can be said to communicate with one or more other computing units the relationship among these communication participants will vary for different data center topologies.

The computing unit may also include one or more wired communication elements . The wired communication elements can provide a hardwired connection between the computing unit and any entity such as another communication element a routing mechanism etc. For example a subset of computing units within a data center can use respective wired communication elements to interact with a network of any type and through the network with any remote entity. However the implementations shown in have no wired communication elements. To facilitate discussion the term communication element will henceforth refer to a wireless communication element unless otherwise expressly qualified as a wired communication element. Although not shown the computing unit can also include one or more omni directional communication elements.

The computing unit can also include switching resources . Generally the switching resources can include any type of connection mechanism that that dynamically connects together the various components within the computing unit . For example the switching resources can control the manner in which data is routed within the computing unit . At one point in time the switching resources may route data received through a communication element to the processing resources and memory resources so that this functionality can perform computation on the data. In another case the switching resources can route output data to a desired communication element to be transmitted by this communication element. In another case the switching resources can configure the computing unit so that it acts primarily as an intermediary agent that forwards data that is fed to it and so on.

Collectively the switching resources provided by a plurality of computing units within a data center comprise a wireless switching fabric. As will be described in Section D the switching fabric enables a source computing unit to transmit data to a destination computing unit or any other destination entity optionally via one or more intermediary computing units e.g. in one or more hops. To accomplish this aim the switching resources can also incorporate routing functionality for routing data using any type of routing strategy or any combination of routing strategies.

Further the computing unit can use at least a portion of the memory resources as a buffer . The computing unit uses the buffer to temporarily store data when acting in a routing mode. For example assume that the computing unit serves as an intermediary computing unit in a path that connects a source computing unit to a destination computing unit. Further assume that the computing unit cannot immediately transfer data that it receives to a next computing unit along the path. If so the computing unit can temporarily store the data in the buffer . In this case the computing unit uses the memory resources for buffering purposes in an on demand manner e.g. when the buffering is needed in the course of transmitting data providing that the memory resource are available at that particular time for use as the buffer .

Hence the memory resources of the computing unit serve at least two purposes. First the memory resources work in conjunction with the processing resources to perform computation e.g. by implementing one or more applications of any type. Second the memory resources use the buffer to temporarily store data in a routing mode. The dual use of the memory resources is advantageous because it eliminates or reduces the need for the data center to provide separate dedicated switching infrastructure.

Intra group communication elements such as representative communication element are disposed on the inner perimeter . Each such intra group communication element enables a corresponding computing unit to communicate with one or more other computing units across the free space region . For example shows an illustrative transmitting beam that extends from communication element across the free space region . Intra group communication element lies within the path of the beam and therefore is able to receive a signal transmitted by that beam .

Inter group communication elements such as representative communication element are disposed on the outer perimeter . Each such inter group communication element enables a corresponding computing unit to communicate with one or more other computing units in neighboring groups such as a computing unit in group . For example shows an illustrative transmitting beam that project from communication element of group to group . Intra group communication element lies within the path of the beam and there is able to receive a signal transmitted by that beam .

The diameter of the free space region is denoted by z while a closest separation between any two groups is denoted by d. The distances z and d are selected to accommodate intra group and inter group communication respectively. The distances will vary for different technical environments but in one implementation each of these distances is less than two meters.

The communication elements provided by each computing unit can communicate with intra group computing units and or inter group computing units e.g. depending on the placement of the computing unit within the group. For example the computing unit has a first wireless communication element not shown for interaction with a first neighboring intra group computing unit . The computing unit includes a second wireless communication element not shown for communicating with a second neighboring intra group computing unit . The computing unit includes a third wireless communication element not shown for communicating with a computing unit of the neighboring group . This organization of computing units and groups is merely representative other data centers can adopt other layouts.

Also note that the computing unit includes a hardwired communication element not shown for interacting with a routing mechanism . More specifically the computing unit is a member of a subset of computing units which are connected to the routing mechanism . The routing mechanism connects computing units within the data center to external entities. For example the data center may be coupled to an external network such as the Internet via the routing mechanism . Users and other entities may interact with the data center using the external network e.g. by submitting requests to the data center via the external network and receiving responses from the data center via the external network .

The data center shown in thus includes some hardwired communication links. However the data center will not present the same type of bottleneck concerns as a traditional data center. This is because a traditional data center routes communication to and from a rack via a single access point. In contrast the group includes plural access points that connect the routing mechanism to the group . For example the group shows three access points that connect to the routing mechanism . Assume that the group includes five layers not shown hence the group will include 3 5 access points forming a wall of input output access points. Computing units that are not directly wired to the routing mechanism can indirectly interact with the routing mechanism via one or more wireless hops. Hence the architecture shown in reduces the quantity of data that is funneled through any individual access point.

One way to address the issue of permanent interference is to provide an indirect route whereby the communication element can transmit data to the communication element . For instance that indirect route can involve sending the data through one or more intermediary computing units not shown . However this option is not fully satisfactory because it increases the complexity of the routing mechanism used by the data center.

Various mechanisms can assist the user in determining whether the placement of the computing unit will produce permanent interface. In one approach the computing unit itself can include a detection mechanism not shown that determines whether the interference phenomenon shown in is produced upon adding the computing unit to the group . For instance the detection mechanism can instruct the computing unit to transmit a test signal to nearby computing units the detection mechanism can then determine whether the computing unit fails to receive acknowledgement signals from these nearby computing units in those circumstances in which the nearby computing units have received the test signal . The detection mechanism can also determine whether the complementary problem exists e.g. whether the computing unit can receive a test signal from a nearby computing unit but it cannot successfully forward an acknowledgement signal to the nearby computing unit. The detection mechanism can also detect whether the introduction of the computing unit causes permanent interference among two or more already placed computing units in the group even though the permanent interference may not directly affect the computing unit . Already placed computing units can include their own respective detection mechanisms that can assess interference from their own respective perspectives. 

The computing unit can include an alarm mechanism that alerts the user to problems with permanent interference e.g. by providing an audio and or visual alert . Already placed computing units can include a similar alarm mechanism. Alternatively or in addition the housing of the group may include a detection mechanism not shown and an associated alarm mechanism for alerting the user to problems with permanent interference. More specifically the housing of the group can include a plurality of such detection mechanisms and alarm mechanisms associated with respective computing units within the group . The alarms identify the computing units that are affected by the proposed placement.

In block the user determines whether there are any new computing units to place in the housing associated with the group. If so the user repeats the above described operations with respect to a new computing unit. In block the user determines what is to be done regarding empty slots if any within the group. These empty slots lack computing units because of the presence of permanent interference. In one case the user can leave these slots empty. In another case the user can populate these slots with any type of computing unit that does not involve wireless communication. For example the user can allocate the empty slots for computing units which perform a dedicated data storage role.

The procedure can be varied in different ways. For example the user can address an interference situation by changing the location of one or more previously placed computing units instead of the newly introduced computing unit . For example the user may determine that a prior placement of a computing unit disproportionally constrains the placement of subsequent computing units. In this case the user can remove this previous computing unit to enable the more efficient placement of subsequent computing units.

As generally indicated in block at any point in the set up of the data center or following the set up of the data center the interaction capabilities of each computing unit can be assessed e.g. by determining the group of communication units if any with which each computing unit can interact without permanent interference. Topology information regarding the interconnection of nodes computing units in the data can be derived by aggregating these interaction capabilities.

Any type of media access control strategy can be used to transfer data among computing units. For instance the data centers described above can use any one of time division multiple access TDMA frequency division multiple access FDMA code division multiple access CDMA etc. or any combination thereof. For example shows an example which combines time division and frequency division techniques to define a collection of time vs. frequency slots for conducting communication among computing units. Guard region separate the slots in both the frequency dimension and the time dimension. These guard regions act as buffers to reduce the risk of interference among the slots.

In one approach a data center uses the slotted technique shown in to transfer control data among the computing units. More specifically the data center can assign slots for transferring control data between respective pairs of computing units. Hence suppose that a first computing unit wishes to interact with a second computing unit in its vicinity. The first computing unit waits until an appropriate slot becomes available where that slot is dedicated to the transfer of control data between the first computing unit and the second computing unit . The first computing unit then uses the assigned control slot to transfer the control data to the second computing unit. The second computing unit reads the control data and takes action based thereon. In one case the first computing unit may send the control data as a prelude to sending payload data to the second control unit. The second computing unit can respond by providing an acknowledge signal in the manner to be described below .

A data center can use any technique to transfer the actual payload data. In one approach the data center uses the same time vs. frequency multiplexing approach described above for the case of control data to transfer payload data. In a second approach the data center performs no multiplexing in sending payload data. That is in the second approach once a first computing unit receives permission to send payload data it can use that data channel to send all of its data. Once the first computing unit has finished sending its payload data it can free up the data channel for use by another computing it.

Generally a data center can allocate a certain amount of communication resources for handling control signaling and a certain amount of communication resources for handling the transfer of payload data. There is an environment specific tradeoff to consider in selecting a particular ratio of control related resources to payload related resources. Increasing the control signaling reduces the latency at which computing units can acquire control slots but this decreases the amount of resources that are available to handle the transfer of data. A designer can select a ratio to provide a target latency related and capacity related performance.

To begin with is used as a vehicle to set forth terminology that will be used to describe a number of signaling scenarios. That figure shows six illustrative participant computing units i.e. P P P P P and P. If any participant computing unit X is receiving data from any participant unit Y X is said to be occupied by Y. If any participant computing unit X is not receiving data from any participant computing unit Y but is nonetheless under the influence of a data signal from the participant computing unit Y then participant computing unit X is said to be covered by participant computing unit Y. In the case of participant computing unit P is occupied by participant computing unit P. Participant computing units P and P are each covered by participant computing unit P. The computing units will be referred to as simply P P to simplify explanation below.

In summary a data center contains plural groups e.g. racks . Each rack in turn includes plural computing units. In one case the data center uses wireless communication to couple the racks together e.g. to perform inter group communication. Moreover the data center uses wireless communication to couple individual computing units within a group together e.g. to perform intra group communication.

A data center may utilize the above described connections to transfer data from a source computing unit in a first group to a destination computing unit in a second group over a communication path that includes plural segments or hops. One or more segments may occur with a particular group one or more other segments may occur between two different groups. Further the path may pass through one or more intermediary groups.

For instance note the example of . Here a computing unit in group A sends data to a first computing unit in group B. The first computing unit in group B sends the data to a second computing unit in group B which in turn then sends the data to a third computing unit in group B. The third computing unit in group B then sends the data to some other computing unit in some other group and so on.

The switching resources of each individual computing unit collectively form a switching fabric within the data center. That switching fabric includes routing functionality for accomplishing the type of transfer described above. provides a high level depiction of this concept. Namely shows a data center that includes a plurality of groups of computing units. The switching resources of each computing unit collectively provide a switching fabric .

In general the switching fabric can form a graph that represents the possible connections within a data center. The distributed nodes in the graph represent computing units the edges represent connections among the computing units. The switching fabric can form this graph by determining what duplex communication links can be established by each computing unit. More specifically the switching fabric can distinguish between links that perform intra group routing and links that perform inter group routing. Further the switching fabric can also identify one way links to be avoided because they are associated with permanent interference .

The switching fabric can form this graph in a distributed manner in which each node collects connectivity information regarding other nodes in the switching fabric and or a centralized manner in which one or more agents monitors the connections in the switching fabric . In one case each node may have knowledge of just its neighbors. In another case each node may have knowledge of the connectivity within switching fabric as a whole. More specifically the nodes may maintain routing tables that convey connectivity information e.g. using any algorithm or combination thereof e.g. distance or path vector protocol algorithms link state vector algorithms etc. 

The switching fabric can implement the routing using any type of general routing strategy or any combination of routing strategies. Generally for instance the switching fabric can draw from any one or more of the following routing strategies unicast in which a first computing unit sends data to only a second computing unit broadcast in which a computing unit sends data to all other computing units in the data center multicast in which a computing unit sends data to a subset of computing units and any cast in which a computing unit sends data to any computing unit that is selected from a set of computing units e.g. based on random selection considerations etc. and so on.

More specifically the switching fabric can use any combination of static or dynamic considerations in routing messages within the data center . The switching fabric can use any metric or combination of metrics in selecting paths. Further the switching fabric can use without limitation any algorithm or combination of algorithms in routing messages including algorithms based on shortest path considerations e.g. based on Dijkstra s algorithm heuristic considerations policy based considerations fuzzy logic considerations hierarchical routing consideration geographic routing considerations dynamic learning considerations quality of service considerations and so on. For example in the scenario shown in the switching fabric can use a combination of random path selection and shortest path analysis to route data through the switching fabric .

Cut through switching. The switching fabric can employ cut through switching. In this approach any participant e.g. node within the switching fabric begins transmitting a message before it has received the complete message.

Deadlock and livelock prevention or reduction . The switching fabric can use various mechanisms to reduce or eliminate the occurrence of deadlock and livelock. In these circumstances a message becomes hung up because it enters an infinite loop or because it encounters any type of inefficiency in the switching fabric . The switching fabric can address this situation by using any type of time out mechanism which sets a maximum amount of time for transmitting a message and or a hop limit mechanism which sets a maximum amount of hops that a message can take in advancing from a source node to a destination node and so forth. Upon encountering such a time out or hop limit the switching fabric can resend the message.

Failsafe mechanisms. The wireless architecture of the data center is well suited for handling failures. A first type of failure may occur within one or more individual computing units within a group. A second type of failure may affect an entire group e.g. rack within the data center . Failure may represent any condition which renders functionality completely inoperable or which causes the functionality to exhibit suboptimal performance. The switching fabric can address these situations by routing a message around failing components. For example in assume that group and group have having failed within a data center. In the absence of this failure the switching fabric may have routed a message along a path defined by A B and C. Upon occurrence of the failure the switching fabric may route the message along a more circuitous route such as the path defined by V W X Y and Z to thereby avoid the failed groups . Any routing protocol can be used to achieve this failsafe behavior.

In closing the description may have described various concepts in the context of illustrative challenges or problems. This manner of explication does not constitute an admission that others have appreciated and or articulated the challenges or problems in the manner specified herein.

Further the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

