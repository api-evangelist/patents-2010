---

title: Method of detecting charger type and estimating remaining recharging time for mobile devices with USB recharging
abstract: Method, apparatus, and computer program product embodiments are disclosed for estimating the remaining charging time of a rechargeable battery. An example embodiment of the invention comprises a method comprising the steps of detecting an availability of a charging device to a battery in an apparatus; determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers, adapters, or charger-adapter combinations; measuring charging current of the battery; and calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09385552&OS=09385552&RS=09385552
owner: Nokia Technologies Oy
number: 09385552
owner_city: Espoo
owner_country: FI
publication_date: 20101025
---
The field of the invention relates to estimating the remaining charging time of a rechargeable battery.

Batteries are essential for the portability of wireless terminals for example cellular phones and other portable communication devices. Rechargeable batteries in cellular phones and other portable communication devices such as NiCd nickel metal hydride NiMH Lithium ion lithium iron phosphate LiFePO and Lithium Polymer batteries may be recharged with household alternating current AC power coupled through a voltage reduction transformer an alternating to direct current converter and appropriate battery monitoring and charging circuits. They may also be recharged with a 12 volt cigarette lighter socket provided in an automobile coupled through a DC voltage reduction circuit and appropriate battery monitoring and charging circuits. They may also be recharged using solar cell windmill another battery or any other suitable power source. However typical battery chargers do not provide a reliable estimate of the remaining charging time needed until the battery is charged to its maximum capacity.

Method apparatus and computer program product embodiments are disclosed for estimating the remaining charging time of a rechargeable battery.

determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

In example embodiments of the invention the charging device may be a charger an adapter or a charger adapter combination.

An example embodiment of the invention comprises a computer readable medium comprising program instructions which when executed by a computer processor perform the steps of 

determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

the at least one memory and the computer program code configured to with the at least one processor cause the processor at least to 

determine a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

calculate a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

means for determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

means for calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

The resulting example embodiments of the invention enable estimating the remaining charging time of a rechargeable battery.

A rechargeable battery is an electrochemical cell whose reactions are electrically reversible. Rechargeable power sources such as super capacitors or batteries in cellular phones and other portable communication devices such as NiCd nickel metal hydride NiMH lithium iron phosphate LiFePO4 Lithium ion and Lithium Polymer batteries may be recharged with a charger powered with household alternating current AC power coupled through a voltage reduction transformer an alternating to direct current converter and appropriate battery monitoring and charging circuits. The charger provides a DC charging current that is converted in the battery into chemical energy stored at the electrodes of the battery. In an alternative embodiment the batteries may be charged from a direct current source for example from a portable device an external battery pack a solar panel or another external internal power source. The capacity of a battery is the quantity of electrical charge stored in the battery at a given level. The capacity of a fully charged battery is usually measured in amp hours AH or milliamp hours mAH and is a measure of the size of the battery. An electrical charge of one amp hour is 3600 Coulombs or a milliamp hour is 3.6 Coulombs. As the charging current delivers electrical charge to the battery the energy of the battery increases and is determined by the product of the charge stored and the battery voltage. illustrates an example embodiment of the invention for estimating the remaining charging time of a rechargeable battery in a battery pack . The example apparatus such as a wireless device or terminal and the example battery pack are connected to an example charger adapter in accordance with an embodiment of the invention. The wireless device may be a communications device such as a cell phone portable radio portable TV personal digital assistant PDA laptop computer palmtop computer or the like capable of communicating in a personal area network PAN local area network LAN or wide area network WAN .

The example battery pack of comprises the battery . In an alternative embodiment the battery may comprise several batteries or cells. The charger adapter provides a DC voltage up to a maximum current but does not regulate the voltage and current at programmed levels. The charger adapter has its positive output terminal connected over line to the charger integrated circuit IC . The charger IC outputs a regulated current and voltage to charge the positive terminal of battery . The charging current from the negative terminal of battery passes over line and through the current measurement module to the ground terminal of the charger adapter. The current measurement module provides current measurement values I on line to the processor of the device . The voltage measurement module is connected across the terminals of the battery and provides voltage measurement values V on line to the processor of the device . The processing module of the device is programmed to control the charger IC over line to apply charging current and voltage to the battery in accordance with a constant current constant voltage charging process.

In the example embodiment of the device in the processor in device executes computer program code stored in the memory and or to cause the device to detect the availability of a charging device to the battery in the battery pack associated with the device . The processor executes the computer program code to determine the type of the charging device by measuring its charging characteristics for charging the battery and comparing its measured charging characteristics with stored charging characteristics previously stored in the memory and or of a plurality of chargers adapters or charger adapter combinations. The processor executes computer program code to cause the current measurement module in device to measure the charging current of the battery being charged by the charging device . The processor executes the computer program code to calculate the time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics. The charging device may be charger an adapter or a charger adapter combination.

The example wireless device or terminal of comprises a protocol stack including the radio and the media access control MAC which may be based for example on various cellular telephone network standards wireless local area network LAN standards or other wireless communications standards. Other network types may make use of example embodiments of the invention. The protocol stack may also comprise a network layer a transport layer and application programs . The example wireless device includes a processor that may include a dual core central processing unit CPU CPU  and CPU  a random access memory RAM memory a read only memory ROM memory an interface for a keypad display and other input output devices and circuits CKTS to carry out the functions of the example embodiments. The interface circuits may interface with one or more radio transceivers battery and other power sources key pad touch screen display microphone speakers ear pieces camera or other imaging devices etc. The RAM and ROM may be removable memory devices such as smart cards SIMs wireless identification modules WIMs semiconductor memories such as RAM ROM programmable read only memories PROMS flash memory devices etc. The processor protocol stack layers and or application program may be embodied as program logic stored in the RAM and or ROM in the form of sequences of programmed instructions which when executed in the CPU carry out the functions of the disclosed embodiments. The program logic may be delivered to the writeable RAM PROMS flash memory devices etc. of the coexistence enabler and processor from a computer program product or article of manufacture in the form of computer usable media such as resident memory devices smart cards or other removable memory devices. Alternately they may be embodied as integrated circuit logic in the form of programmed logic arrays or custom designed application specific integrated circuits ASIC . The one or more radios in the device may be separate transceiver circuits or alternately the one or more radios may be a single radio frequency RF module capable of handling one or multiple channels in a high speed time and frequency multiplexed manner in response to the processor.

In an example embodiment of the invention the battery may not be separate from the device but instead the battery may be integrated into the device . In an example embodiment of the invention there may be a plurality of batteries that may be of the same type or of different types. An example embodiment of the invention may be applied to a subset of the plurality of batteries or to all of the plurality of batteries . An example embodiment of the invention may be applied to each battery individually of a plurality of batteries . If applied to a plurality of batteries an example embodiment of the invention may effectively treat the plurality of batteries as a single integrated battery . The description above is for the case of a single battery but it should be understood that the description may be applied to a plurality of batteries .

In an example embodiment of the invention there may be a plurality of chargers adapters or charger adapter combinations whose charging characteristics were previously measured and stored in the memory and or . For example the device may be a mobile device that may be charged with both with a universal serial bus USB port of a personal computer and at a different time charged with a wall charger. In such an example an embodiment of the invention may compare the measured characteristics of the battery with the stored characteristics of each individual charger type or it may be compared with the stored characteristics of a plurality of types of chargers adapters or charger adapter combinations that may be treated as a single integrated charger.

In an example embodiment of the invention there may be any combination of a plurality of batteries whose measured characteristics may be compared with the stored characteristics of a plurality of chargers adapters or charger adapter combinations whose charging characteristics were previously measured and stored in the memory and or . For example two types of charger adapters or chargers may be used to recharge two or more batteries .

The example smart battery pack S of comprises a battery pack integrated circuit IC that comprises a CPU RAM memory ROM memory a timer and circuits CKTS to provide a regulated current and voltage over line to the power interface of the device S. The charger adapter has its positive output terminal connected over line and through the current measurement module to the positive terminal of the battery . The current measurement module provides current measurement values I on line to the battery pack integrated circuit IC . The ground terminal of the charger adapter is connected over line to the negative terminal of the battery . The voltage measurement module is connected across the terminals of the battery and provides voltage measurement values V on line to the battery pack integrated circuit IC .

The data exchanged between the device S and the battery pack integrated circuit IC passes between the processor in the device S over the line to the battery data interface in the device S and through the communication line that may be part of a battery connector to the data interface in the smart battery pack S and over the line to the battery pack integrated circuit IC . The estimated value of the remaining charging time TREM of a rechargeable battery may be sent from the battery pack integrated circuit IC to the processor in the device S and displayed to the user on the display in accordance with example embodiments of the invention. In an example embodiment of the invention the current measurement module and the voltage measurement module may send the respective measurement results directly to the processor in the device S to make the estimation of the remaining charging time TREM of a rechargeable battery .

The example charger adapter is a power supply that provides electrical energy to the smart battery pack S of . Power supplies may be generally classified as constant voltage constant current and constant voltage constant current sources. The constant voltage CV power supply provides a DC voltage that may be set to any desired value over a specified range. An ideal constant voltage supply has a zero output impedance. The constant current CC power supply gives a regulated current independent of the voltage over the load up to the maximum allowable voltage . The constant voltage constant current CV CC power supply may be used to provide either a constant voltage or a constant current. In an example embodiment of the invention the charger adapter may be a dedicated charger whose primary function is to provide recharging current. In an example embodiment of the invention the charger adapter may be a device whose secondary function is to provide recharging current such as a USB device while it performs some other primary function such as data transfer.

In example embodiments of the invention the RAM and or ROM memory of the device of and or the RAM and or ROM memory of the smart battery pack IC of may also store data sets of sampled instant current vs. sampled instant voltage initial charge value and integrated charge value in accordance with an embodiment of the invention.

In example embodiments of the invention the initial condition for a new battery may be that it has not been charged that is the value of the stored charge Q at sampling time T is substantially zero. This value Q typically represents a situation when a mobile device will power down in order not to damage the battery. Only in exceptional situations such as in emergency calls will the battery be further discharged which may damage the condition of the battery. The initial charging of the battery in the battery pack after being placed in the device may be performed by the charger adapter as shown in the graphs of . The device may be placed in a minimally powered operating state with only its display indicating that battery charging is taking place. At an initial sampling time T the battery is uncharged. At the next sampling time T the increment in the charge Q that has flowed into the battery is approximately Q I T T . At the next sampling time T the increment in the charge Q that has flowed into the battery is approximately Q I T T and at that instant T the present stored charge capacity that has accumulated in the battery is the sum of Q Q. At any sampling time Tj the present stored charge capacity that has accumulated in the battery is the sum of Q Q . . . Qj. At the end of the charging operation at a final sampling time T when the battery has reached its maximum stored charge capacity the charge that has accumulated in the battery is the sum of the incremental charges Q Q . . . Q. The values of the charge increments Qi may be computed from the values of the current Ii measured by the current measurement module at each sampling time Ti. The measured and computed values may be stored in the records Ii Vi Qi Ti in a dataset in the RAM and or ROM memory of the device and or the RAM and or ROM memory of the battery pack IC . The records Ii Vi Qi Ti may be available for monitoring and managing the battery in the following example processes. The records Ii Vi Qi Ti may be stored as directly measured data for example as a table or as processed data for example a mathematical function fitted to measured data . Example embodiments of the invention are disclosed for estimating the remaining charging time of a rechargeable battery.

An example embodiment of the invention may comprise three parts 1 determining what type of charger is used in recharging 2 estimating the remaining recharging time RRT and 3 adjusting on demand the estimation according to the device usage.

determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

The charging device may be a charger an adapter or a charger adapter combination. There may be a plurality of chargers adapters or charger adapter combinations whose charging characteristics were previously measured and stored in the memory.

The charger adapter type is identified based on voltage vs. current characteristics that are unique for different types of chargers. This can be seen as analogous to a fingerprint . Once the charger adapter type is identified then the remaining recharging time is estimated using Remaining Recharging Time RRT vs. battery voltage characteristics that were previously measured for this charger adapter .

In an example embodiment of the invention if the device is used during recharging or the charger adapter is of unknown type then the embodiment may adapt by interpolating between the stored characteristics of the two closest chargers. The approximation uses the stored data sets for the remaining recharging time vs. voltage curves of the two closest chargers and bases the interpolated recharging time estimate on the average of the two curves. An example embodiment of the invention comprises interpolating stored values characterizing plural types of chargers for an unidentified charger adapter type and using the interpolated values to calculate a time remaining to charge the battery with the unidentified charger adapter type.

In order to determine the charger type the recharging characteristics fingerprint of each type of charger adapter needs to be determined for the combination of the device type and the battery type. Since a single measurement may not be statistically significant due to noise for example repetition of the measurement cycle may be applied to obtain statistically significant results. The actual measurements may be performed by keeping a log of both the recharging current and battery voltage during the recharging. shows the results when the recharging currents of different chargers are plotted against the battery voltage during recharging for repetition of the measurement cycles that may be averaged to get a more reliable recharging characteristic. In the beginning of recharging i.e. when battery voltage is below 3.8V there may be some fluctuation in the recharging currents but soon afterward the currents stabilize and portray predictable behavior. Initially the recharging currents stay substantially at the constant level between voltages approximately 3.8V 4.0V after which they begin to approach zero. The period when the recharging currents stay at constant level may be quite long. From it may be determined that this period may last between 2000 s for the TYPE 1 charger within the range from H 5750 s to H 7750 s and 10000 s for the USB port type charger recharging within the range from H 6250 s to H 16250 s when the recharging was begun with an empty battery . Therefore during this time it is easy to detect what type of charger adapter is in question simply by observing the recharging currents. For example if the recharging current is about 1000 mA it may indicate that the charger adapter being used in recharging may be a TYPE 1 charger. However if the recharging current is about 700 mA then the charger adapter may be a TYPE 2 charger. When the charger type is known it is then possible to estimate for the remaining recharging time.

However when the battery is almost fully charged i.e. when battery level is above 4.1V determining the charger adapter type may be more difficult. As noted from the recharging currents of each wall charger type may be very close to each other. This makes the determination of charger type more difficult. However if recharging currents are the same or almost the same at least when estimating the remaining recharging time then the determination of the remaining charging time is not as strongly dependent on the charger type. This may be seen in when there is about 3700 s recharging time left the recharging currents of each wall charger type become the same. Recharging from a USB port type charger has a somewhat different behavior and it may be distinguished from wall charging for an almost full battery by simply observing the recharging current. In an alternate embodiment the data traffic through USB port may be observed to indicate a USB type charger. In an alternate embodiment an Application Programming Interface in the device or the device s internal events may provide information as to whether a USB cable is connected indicating a USB type charger.

Estimating the remaining recharging time RRT is a second aspect of an embodiment of the invention. This may be done more precisely once the charger type is known by studying the RRT as a function of battery voltage during recharging. shows an example of the RRT as a function of battery voltage during recharging for various charger adapter types. If a particular battery is in question and if the detected charger adapter type is a type 1 charger for example and the battery voltage may be 3.8V then the remaining recharging time at this point may be 8000 s. On the other hand if the detected voltage is 4.03V then the remaining recharging time may be 6000 s. Also if it turns out that the recharging current does not fit any charger type stored characteristics an estimate of the RRT may still be made either by using the closest charger match in estimating RRT or by using the two closest matches and then calculating RRT as a weighted average of these two closest matches. Possible reasons why the recharging current of the charger adapter may not fit the stored characteristic recharging currents of any known charger may comprise 1 the charger adapter may be in bad condition 2 the charger adapter may be made by an unknown manufacturer 3 the device may be operated during recharging so that part of the charger current goes to the operation of the device .

In addition a similar study may be done for battery charge level vs. battery voltage during recharging using dataset of . Information obtained from this may then be used to tell the user what the battery charge level is during the recharging for example in percentages. Alternately charge level during the recharging may also be determined by continuously integrating the charging current during recharging then adding the accumulated charge to the initial battery charge value. The sum of these values is the battery s charge level at that point in time which may be displayed to the user e.g. in percentages by comparing the value to the battery s fully charged value. In an example embodiment of the invention the battery charge level may be expressed in various other formats such as an arbitrary scale for example 0 10 in graphical formats for example battery bars color or shape of a symbol remaining operating time for example an announcement The current battery charge allows XX minutes of music playback or YY minutes of telephone calling. .

Alternately the initial charge of the battery may be obtained by an estimation of the remaining energy in the battery based on momentary measurements of voltage and current or power of the battery. The method may comprise the following preparation steps conducted once when a new battery is introduced to the device .

1. A battery is monitored and its energy E vs. voltage V characteristics E V are extracted with a small power taken from the battery close to open circuit .

2. A mathematical function is fitted to this measured E V curve. Alternately the curve can be simply stored as a table.

3. A set of test loads may be applied to the battery to identify the voltage drop V as a function of current I or power P taken from the battery V I or V P . The determined dependency is fitted with a mathematical formula or simply made as a table. These test loads may be made as a part of characterizing the battery and fixed formulas may be used. The test loads may be made during the operation of the device . The test load may be a separate calibration resistor or it may be a component such as display backlight whose current is known. This allows dynamic adjustment e.g. due to the aging of the battery temperature changes etc.

Then during the operation of the device the following method may be used for discovering the remaining energy in the battery .

3. The measured voltage is corrected using the V I or V P dependency to the corresponding open circuit close to zero current voltage.

1. The lower the residual stored charge in the battery the more rapid will be the determination of the type of the charger adapter by observing the recharging current. USB port type chargers are readily distinguished from wall chargers for charging levels approaching a fully charged battery by observing recharging current. In an alternate embodiment monitoring the USB traffic and or using device s internal APIs events or notifications may enable the determination of the charger type.

2. When estimating RRT there is no need to know the exact charger type if different chargers behave the same way. In this case the RRT is the same for all chargers that behave the same way.

3. If charger type cannot be detected an estimate for RRT may still be made either by referring to the closest known charger type or by referring to the two closest matches and calculating a weighted average of the RRT for example from the RRTs of the closest matches.

An example embodiment of the invention may provide a How to determine what charger type is used in recharging b If one single charger type cannot be detected how to determine the two closest matches and c How to estimate the remaining recharging time.

In an example implementation of an embodiment of the invention related parameters are likely to be dependent on the mobile terminal or mobile device and may need to be tailored for any device type behavior or battery type that differs from those measured in .

1. Initially a mobile device type and battery type dependent set of recharging measurements may be made. The measurements comprise but are not limited to voltage current and time. The device battery combination may be recharged by a set of known chargers adapters or charger adapter combinations from completely discharged state to a fully charged state. In an alternate embodiment the recharging and the associated measurements may be made in steps covering various ranges of battery charge between the empty and the full. The set of chargers may comprise wall chargers intended to be used with the particular device . In addition a representative set of chargers from different types of PC Laptop USB ports or from any other device with a USB port may be measured. The measurements may be repeated as many times as needed to stabilize the new battery and to obtain statistical significance. Statistical significance can be defined with Chi Square test or any other suitable method.

2. Once the measurements are done the results may be portrayed as curves in where the recharging currents of each charger type are plotted against the battery voltage during the recharging and where the remaining recharging time of each charger type is plotted against the battery voltage during the recharging.

3. Based on the measurements either a lookup table a functional fit a fit consisting of two or more piecewise continuous functions based e.g. on a Taylor series expansion or any other method for representing known relationships may be made for both the results the recharging current I vs. the battery voltage V and the remaining recharging time RRT vs. the battery voltage V. Let these two tables or functions or a set of functions for charger type c be called Ic V and RRTc V respectively. In addition a battery charge vs. recharging voltage lookup table or functional fit Cc V may be made in a similar manner and then be used to show the user the battery charge level for example in percentages during the recharging. Alternately a method may also be used to first detect the initial charge of the battery in the beginning of the recharging and then during the recharging integrate the recharging current and add the initial charge value to this to show what is the total charge of the battery for example in percentages during the recharging.

4. Once Ic V and RRTc V are available for various charger types and for various device types or at least for various different battery types the values may be stored into mobile device s memory as tables functions or any other suitable format and be called during recharging. Alternately the values may be stored into battery pack IC s memory as tables functions or any other suitable format and be called during recharging. In an alternate embodiment there may be several combinations of suitable chargers and batteries that have been measured and stored. But not all combinations are needed since a limited set of measurements may be adequate to make estimations based on the available measurements for unknown chargers . The data may be pre stored or may be downloaded or updated from a server in case a new battery model or charger is available. 5. As recharging is ongoing the Energy Management EM program or other similar type of functionality of the mobile device measures its instant current Im and its instant voltage Vm.

6. Since there may be random fluctuations in momentary current and voltage it may be advisable to smooth the consecutive sample values over time by a suitable averaging method to smooth out the averages Iav average Im and Vav average Vm . Smoothing can be done with Hamming window or any other suitable method. In the case of mobile device averaging over 1 5 minutes may work well. Also other averaging intervals may be also suitable. If the averaging interval is too short the results Iav and Vav may deviate significantly or if too long Iav and Vav may respond to changes too slowly. However if recharging power I V is to be determined and used in estimating RRT it may be appropriate to first multiply current with voltage sample by sample and perform the possible smoothing operation to the calculated set of power samples. Multiplying the smoothed Iav and Vav may lead to errors if both current and voltage are fluctuating at the same time.

8. Iav is compared against the lookup table function or set of functions Ic V to determine the charger type c. The charger type c that is determined is the one whose current best fits the recharging current of the mobile device and battery .

9. Once the charger type c is determined the remaining recharging time RRT may be obtained from RRT RRTc V . In addition the battery charge level for example in percentages may be shown to the user as a result of C Cc V or as a sum of battery s initial charge in the beginning of the recharging and the integrated charge from the recharge current.

10. If an unambiguous charger type c cannot be determined for example due to unknown charger adapter or due to operation of the device the two closest matches c and c are determined. They are the ones to which the differences Iav Ic and Iav Ic are the smallest.

11. If an unambiguous charger type c cannot be determined the remaining recharging time RRT may be calculated as a weighted average of the RRTs of the two closest matches RRT Ic RRTc Ic RRTc Ic Ic .

In addition the battery charge level for example in percentages may be shown as a sum of battery s initial charge in the beginning of the recharging and the integrated charge from the recharge current or as a weighted average of the charge levels of the two closest matches C Ic Cc Ic Cc Ic Ic .

12. The steps 5 11 may be repeated between some implementation dependent time intervals dt to let the process go on and get RRT continuously updated during the recharging.

Step determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

Step calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

The charging device may be a charger an adapter or a charger adapter combination. There may be a plurality of chargers adapters or charger adapter combinations whose charging characteristics were previously measured and stored in the memory.

The steps of the flow diagram of represent computer code instructions stored in the RAM and or ROM memory of the device and or the RAM and or ROM memory of the battery pack IC which when executed by the CPU carry out the functions of the example embodiments of the invention. The steps may be carried out in another order than shown and individual steps may be combined or separated into component steps.

If the device is operated during recharging or the charger adapter is of unknown type then an embodiment of the invention may be able to adapt by interpolating between the measured chargers and using characteristics of the closest or e.g. two closest remaining recharging time vs. voltage curves and then base the recharging time estimate on the average of these curves. This is illustrated in which is an example flow diagram of an example method to interpolate between the measured chargers and using characteristics of the closest remaining recharging time vs. voltage curves in accordance with an embodiment of the invention with example steps as follows 

Step If the device is being used or if the charger adapter is of unknown type then approximate the closest equivalent charger type or interpolate between the closest ones.

Step If the device is not being used then estimate the remaining recharging time based on RRT vs. voltage characteristics typical for the charger.

The steps of the flow diagram of represent computer code instructions stored in the RAM and or ROM memory of the device and or the RAM and or ROM memory of the battery pack IC which when executed by the CPU carry out the functions of the example embodiments of the invention. The steps may be carried out in another order than shown and individual steps may be combined or separated into component steps.

means for determining a type of the charging device by measuring its charging characteristics for charging the battery in the apparatus and comparing its measured charging characteristics with stored charging characteristics of a plurality of chargers adapters or charger adapter combinations 

means for calculating a time remaining to charge the battery based on a comparison of the measured charging current with the stored charging characteristics.

Using the description provided herein the embodiments may be implemented as a machine process or article of manufacture by using standard programming and or engineering techniques to produce programming software firmware hardware or any combination thereof.

Any resulting program s having computer readable program code may be embodied on one or more computer usable media such as resident memory devices smart cards or other removable memory devices or transmitting devices thereby making a computer program product or article of manufacture according to the embodiments. As such the terms article of manufacture and computer program product as used herein are intended to encompass a computer program that exists permanently or temporarily on any computer usable medium.

As indicated above memory storage devices include but are not limited to disks optical disks removable memory devices such as smart cards SIMs WIMs semiconductor memories such as RAM ROM PROMS etc. Transmitting mediums include but are not limited to transmissions via wireless communication networks the Internet intranets telephone modem based network communication hard wired cabled communication network satellite communication and other stationary or mobile network systems communication links.

Although specific example embodiments have been disclosed a person skilled in the art will understand that changes may be made to the specific example embodiments without departing from the spirit and scope of the invention.

