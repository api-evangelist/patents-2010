---

title: GUI for programming step and repeat operations in a machine vision inspection system
abstract: A method is provided for programming step and repeat operations of a machine vision inspection system. The machine vision inspection system includes an imaging portion, a stage for holding one or more workpieces in a field of view (FOV) of the imaging portion, a control portion, and a graphical user interface (GUI). According to the method, a user operates the machine vision inspection system to define a set of inspection operations to be performed on a first configuration of workpiece features. The user also operates the GUI to display a step and repeat dialog box, in which he defines a first plurality of parameters defining a set of default step and repeat locations for performing the defined set of inspection operations. The user further operates the GUI to define a set of inspection step and repeat locations, which is a subset of the defined set of default step and repeat locations, where the inspection operations are to be actually performed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08271895&OS=08271895&RS=08271895
owner: Mitutoyo Corporation
number: 08271895
owner_city: Kawasaki-shi
owner_country: JP
publication_date: 20100322
---
The invention relates generally to machine vision inspection systems and more particularly to methods video tools and user interface features usable to define and program inspection operations for such systems.

Precision machine vision inspection systems or vision systems for short can be utilized to obtain precise dimensional measurements of inspected objects and to inspect various other object characteristics. Such systems may include a computer a camera and optical system and a precision stage that is movable in multiple directions so as to allow the camera to scan the features of a workpiece that is being inspected. One exemplary prior art system that is commercially available is the QUICK VISION series of PC based vision systems and QVPAK software available from Mitutoyo America Corporation MAC located in Aurora Ill. The features and operation of the QUICK VISION series of vision systems and the QVPAK software are generally described for example in the 3 published January 2003 and the 3 published September 1996 each of which is hereby incorporated by reference in their entirety. This product as exemplified by the QV 302 Pro model for example is able to use a microscope type optical system to provide images of a workpiece at various magnifications and move the stage as necessary to traverse the workpiece surface beyond the limits of any single video image. A single video image typically encompasses only a portion of the workpiece being observed or inspected given the desired magnification measurement resolution and physical size limitations of such systems.

Machine vision inspection systems generally utilize automated video inspection. U.S. Pat. No. 6 542 180 the 180 patent teaches various aspects of such automated video inspection and is incorporated herein by reference in its entirety. As taught in the 180 patent automated video inspection metrology instruments generally have a programming capability that allows an automatic inspection event sequence to be defined by the user for each particular workpiece configuration. This can be implemented by text based programming for example or through a recording mode which progressively learns the inspection event sequence by storing a sequence of machine control instructions corresponding to a sequence of inspection operations performed by a user with the aid of a graphical user interface or through a combination of both methods. Such a recording mode is often referred to as learn mode or training mode. Once the inspection event sequence is defined in learn mode such a sequence can then be used to automatically acquire and additionally analyze or inspect images of a workpiece during run mode. 

The machine control instructions including the specific inspection event sequence i.e. how to acquire each image and how to analyze inspect each acquired image are generally stored as a part program or workpiece program that is specific to the particular workpiece configuration. For example a part program defines how to acquire each image such as how to position the camera relative to the workpiece at what lighting level at what magnification level etc. Further the part program defines how to analyze inspect an acquired image for example by using one or more video tools such as edge boundary detection video tools.

Video tools or tools for short and other graphical user interface features may be used manually to accomplish manual inspection and or machine control operations in manual mode . Their set up parameters and operation can also be recorded during learn mode in order to create automatic inspection programs or part programs. Video tools may include for example edge boundary detection tools autofocus tools shape or pattern matching tools dimension measuring tools and the like. Other graphical user interface features may include dialog boxes related to data analysis step and repeat loop programming and the like. For example such tools are routinely used in a variety of commercially available machine vision inspection systems such as the QUICK VISION series of vision systems and the associated QVPAK software discussed above.

The currently available features and graphical user interface GUI controls for step and repeat programming are limited. In particular there are limited alternatives available for setting up step and repeat operations and related operating parameters during learn mode or manual mode. Accordingly existing alternatives may be insufficient and not readily adaptable for efficient use with some workpieces. Furthermore existing user interfaces for the step and repeat operations are not particularly intuitive making user learning and retention difficult. A need exists for step and repeat user interface features which overcome these and other deficiencies to allow more efficient intuitive and flexible use and programming of precision machine vision inspection systems.

This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This summary is not intended to identify key features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

In accordance with some exemplary embodiments of the present invention a method is provided for programming step and repeat operations of a machine vision inspection system. The machine vision inspection system includes an imaging portion a stage for holding one or more workpieces to be inspected in a field of view FOV of the imaging portion a control portion and a graphical user interface GUI . The method includes generally five steps to be performed by an operator user of the machine vision inspection system.

First the user operates the machine vision inspection system to define a set of inspection operations to be performed on a first configuration of workpiece features. Second the user operates the GUI to display a step and repeat dialog box. The step and repeat dialog box includes a first plurality of parameters defining a set of default step and repeat locations where the defined set of inspection operations may be performed on corresponding instances of the first configuration of workpiece features. Third the user operates the GUI to define the first plurality of parameters in the displayed step and repeat dialog box in order to define the set of default step and repeat locations to thereby display a graphical representation of the members of the defined set of default step and repeat locations in the GUI. Fourth the user operates the GUI to define a set of inspection step and repeat locations which is a subset of the defined set of default step and repeat locations. The inspection step and repeat locations are where the defined set of inspection operations are to be actually performed. To define a set of inspection step and repeat locations the user first indicates at least one member to be excluded in the graphical representation of the members of the defined set of default step and repeat locations using for example a suitable input device such as a mouse. The user then defines the set of inspection step and repeat locations to be the set of default step and repeat locations less the indicated at least one member to be excluded to thereby display a graphical representation of the members of the defined set of inspection step and repeat locations in the GUI. Fifth the user records the defined set of inspection step and repeat locations in a part program to be used for inspecting a plurality of instances of the first configuration of workpiece features.

In accordance with further aspects of the present invention a machine vision inspection system suitable for carrying out the method described above is also provided.

The present invention according to various exemplary embodiments provides efficient intuitive and flexible GUI features that allow a user to readily program and use step and repeat loop operations in a machine vision inspection system.

The vision measuring machine includes a moveable workpiece stage and an optical imaging system which may include a zoom lens or interchangeable lenses. The zoom lens or interchangeable lenses generally provide various magnifications for the images provided by the optical imaging system . The machine vision inspection system is generally comparable to the QUICK VISION series of vision systems and the QVPAK software discussed above and similar state of the art commercially available precision machine vision inspection systems. The machine vision inspection system is also described in commonly assigned U.S. Pat. Nos. 7 454 053 7 324 682 and U.S. patent application Ser. Nos. 12 343 383 filed Dec. 23 2008 12 608 943 filed Oct. 29 2009 which are each incorporated herein by reference in their entireties.

Refined step and repeat user interface features and related methods and operations disclosed herein can provide more efficient intuitive and flexible use and programming of general purpose precision machine vision inspection systems such as that shown in particularly for novice or infrequent users.

A workpiece or a tray or fixture holding a plurality of workpieces which is to be imaged using the machine vision inspection system is placed on the workpiece stage . The workpiece stage may be controlled to move relative to the optical assembly portion such that the interchangeable objective lens moves between locations on a workpiece and or among a plurality of workpieces . One or more of a stage light a coaxial light and a surface light may emit source light or respectively to illuminate the workpiece or workpieces . The source light is reflected or transmitted as workpiece light which passes through the interchangeable objective lens and the turret lens assembly and is gathered by the camera system . The image of the workpiece s captured by the camera system is output on a signal line to the control system portion . The light sources and may be connected to the control system portion through signal lines or busses and respectively. To alter the image magnification the control system portion may rotate the turret lens assembly along axis to select a turret lens through a signal line or bus .

In various exemplary embodiments the optical assembly portion is movable in the vertical Z axis direction relative to the workpiece stage using a controllable motor that drives an actuator a connecting cable or the like to move the optical assembly portion along the Z axis to change the focus of the image of the workpiece captured by the camera system . The term Z axis as used herein refers to the axis that is intended to be used for focusing the image obtained by the optical assembly portion . The controllable motor when used is connected to the input output interface via a signal line .

As shown in in various exemplary embodiments the control system portion includes a controller the input output interface a memory a workpiece program generator and executor and a power supply portion . Each of these components as well as the additional components described below may be interconnected by one or more data control buses and or application programming interfaces or by direct connections between the various elements.

In various embodiments according to this invention the workpiece program generator and executor includes the step and repeat loop generating portion which provides or activates various operations and user interface features related to step and repeat operations and related programming as described in greater detail below. Alternative configurations are possible for the step and repeat loop generating portion . For example in some embodiments the workpiece program generator and executor and the step and repeat loop generating portion may be merged and or indistinguishable. More generally the invention may be implemented in any now known or later developed form that is operable in conjunction with the machine vision inspection system to provide the user interface features and related programming and other operations disclosed herein.

The input output interface includes an imaging control interface a motion control interface a lighting control interface and a lens control interface . The motion control interface may include a position control element and a speed acceleration control element . However it should be appreciated that in various exemplary embodiments such elements may be merged and or indistinguishable. The lighting control interface includes lighting control elements which control for example the selection power on off switch and strobe pulse timing if applicable for the various corresponding light sources of the machine vision inspection system .

The memory includes an image file memory portion a workpiece program memory portion that may include one or more part programs or the like and a video tool portion . The video tool portion includes tool portion and other similar tool portions which determine the GUI image processing operation etc. for each of the corresponding tools. The video tool portion also includes a region of interest generator that supports automatic semi automatic and or manual operations that define various ROIs that are operable in various video tools included in the video tool portion .

In general the memory portion stores data usable to operate the vision system components portion to capture or acquire an image of the workpiece such that the acquired image of the workpiece has desired image characteristics. The memory portion may also store inspection result data may further store data usable to operate the machine vision inspection system to perform various inspection and measurement operations on the acquired images e.g. implemented in part as video tools either manually or automatically and to output the results through the input output interface . The memory portion may also contain data defining a graphical user interface operable through the input output interface .

The signal lines or busses and of the stage light the coaxial light and the surface light respectively are all connected to the input output interface . The signal line from the camera system and the signal line from the controllable motor are connected to the input output interface . In addition to carrying image data the signal line may carry a signal from the controller that initiates image acquisition.

One or more display devices e.g. the display of and one or more input devices e.g. the joystick keyboard and mouse of can also be connected to the input output interface . The display devices and input devices can be used to display a user interface which may include various graphical user interface GUI features that are usable to perform inspection operations and or to create and or modify part programs to view the images captured by the camera system and or to directly control the vision system components portion . In particular according to various exemplary embodiments of the present invention the display devices and input devices are used to present various GUI features usable to allow efficient intuitive and flexible use and programming of step and repeat loop operations on the machine vision inspection system .

In various exemplary embodiments when a user utilizes the machine vision inspection system to create a part program for the workpiece the user generates part program instructions either by explicitly coding the instructions automatically semi automatically or manually using a workpiece programming language and or by generating the instructions by operating the machine vision inspection system in a learn mode to provide a desired image acquisition training sequence. For example a training sequence may comprise positioning a workpiece feature in the field of view FOV setting light levels focusing or autofocusing acquiring an image and providing an inspection training sequence applied to the image e.g. using video tools . The learn mode operates such that the sequence s are captured or recorded and converted to corresponding part program instructions. These instructions when the part program is executed will cause the machine vision inspection system to reproduce the trained image acquisition and inspection operations to automatically inspect a workpiece or workpieces matching the workpiece used when creating the part program.

These analysis and inspection methods that are used to inspect features in a workpiece image are typically embodied in various video tools included in the video tool portion of the memory . Many known video tools or tools for short are included in commercially available machine vision inspection systems such as the QUICK VISION series of vision systems and the associated QVPAK software discussed above.

In the following description due to the one to one correspondence between a widget and the location that it represents certain descriptions are more easily interpreted if the same reference number is used for either the widget or its corresponding location e.g. the widget X at location X . Any distinctions between a similarly numbered widget and the location that it represents will be clear based on description or context.

The display sub box graphically illustrates the location X e.g. of each similar configuration of workpiece features to be inspected. The location X of an instance of the configuration of workpiece features is represented as a dot shaped widget X in the illustrated embodiment. The configuration of workpiece features to be inspected at a particular step may take various forms for example a relatively simple form such as a single feature to a relatively complicated form such as a complex combination of various workpiece features. It should be understood that the dot shaped widget X is used to merely symbolically represent the relative location of a configuration of workpiece features to be inspected with respect to other configurations for the purpose of step and repeat programming and the widget shape at a location is not necessarily representative of the actual configuration of workpiece features to be inspected at that location.

In step and repeat programming the inspection of a configuration of workpiece features is repeated in a plurality of instances at different locations for example in five locations in a first block in the illustrated embodiment. In the illustrated embodiment the instances of the configuration in the five locations may be considered to correspond to an inner block ib repeat loop which can be defined by the user entering a set of instance repetition parameters in the block definition sub box . In the embodiment shown in the instance repetition parameters that define a block of step and repeat locations e.g. include the offset delta value along the X axis dXib between the instances or members of the block the offset value along the Y axis dYib and the offset value along the Z axis dZib all starting from the reference location the location . The user may also numerically define the number of instances or members to be repeated in the block Repeats in Block . In the illustrated example the user has specified the offset value along both the X axis and the Y axis to be 1 and specified the repeat value to be 5 to thereby cause the five 5 dot shaped widgets to appear at the five locations respectively in the graphical display sub box . If a non zero value is entered as dZib the locations of the instances will be programmed to be offset along the Z axis that is perpendicular to both the X axis and the Y axis even though this is not represented in the display sub box . In accordance with various exemplary embodiments of the present invention the user entry of numeric values in the block definition sub box automatically causes the widgets to be displayed at the corresponding locations e.g. in the graphical display sub box . If the user changes the values entered in the block definition sub box the display of widgets will automatically change to correspond to the newly specified values.

The block repetition definition sub box allows the user to define a set of block repetition parameters which may be considered to define an outer repeat loop of the step and repeat programming operations. However it should be appreciated that while the nomenclature of inner and outer repeat loops is used here to suggest one possible underlying programming approach other programming approaches are possible. Furthermore actual execution of inspection operations need not follow an inspection path that is constrained according to inner and outer loops or the like but may follow any efficient path. Thus the nomenclature used here is exemplary only and not limiting. In the embodiment shown in the block repetition parameters include the block to block offset value along the X axis dXbb the block to block offset value along the Y axis dYbb and the block to block offset value along the Z axis dZbb as well as the number of blocks to be repeated Block Repeats . In the illustrated example the user has specified the block to block offset value along the X axis to be 2 the block to block offset value along the Y axis to be 0.5 and the block repeat value to be 2. Accordingly the five widgets at the locations of the first block are initially repeated at locations respectively where the location is offset by 2 along the X axis and by 0.5 along the Y axis relative to the location for example. As with the block definition sub box user entry and editing of numeric values in the block repetition definition sub box automatically causes the widgets to be displayed in the corresponding locations in the graphical display sub box in accordance with various exemplary embodiments of the present invention.

In various exemplary embodiments a set of inspection operations to be performed on each instance of a configuration of workpiece features is defined by operations performed on a reference instance of the configuration at a reference location such as the location in . In other words in step and repeat programming the same operations performed on the reference location may be repeated at a plurality of instances of the configuration repeated at multiple locations. In accordance with various exemplary embodiments of the present invention the reference location in may be shown distinguished graphically e.g. in a different color from other locations to allow the user to readily identify the reference location.

The user may name the defined set of step and repeat locations in a Loop Name box . Also the user may designate whether the defined step and repeat locations correspond to multiple workpieces or to multiple locations within a single workpiece. Specifically when the step and repeat operations are to be repeated between a configuration on one workpiece and a configuration on another workpiece the user may select a Repeat Piece to Piece button . When the step and repeat operations are to be repeated among multiple configurations on the same workpiece the user may select a Repeat on Piece button .

The description above has explained how a user can readily and intuitively define and visually verify a plurality of regularly arranged step and repeat locations that is a regular array of locations where a plurality of instances of the configuration to be inspected are respectively arranged. Such a regular array of step and repeat locations as initially defined by the instance repetition parameters and the block repetition parameters outlined above are herein referred to as default step and repeat locations. According to various exemplary embodiments of the present invention the default step and repeat locations may thereafter be conveniently individually edited by the user. For example the user may wish to exclude one or more instances or locations from the defined set of default step and repeat locations. Still referring to for example the user may wish to exclude the instance at the location from the set. According to one embodiment of the present invention the user may use a suitable input device such as the mouse to select the location to be excluded. For example the user may position a cursor of the mouse proximate the location and make a selection by clicking thereon. When the instance or location of the configuration is excluded the graphical representation of the excluded location may change in the graphical display sub box according to various exemplary embodiments of the present invention. In one example the excluded location may simply disappear and be shown as an empty space. Alternatively as in the illustrated example the excluded location may be indicated by an altered widget such as a circle with X thereon as compared to other dot shaped widgets . In accordance with further embodiments of the present invention the user may reinstate the excluded location by for example again using the mouse to click on the excluded location. Then the graphical representation of the reinstated location returns to the original form for example to a dot shaped widget. Displaying the graphical representation of inspection step and repeat locations including excluding or reinstating some of the locations may be done by either overwriting or modifying the graphical representation of the original default step and repeat locations.

Accordingly the user may graphically edit e.g. exclude reinstate etc. individual instances or members of the set of default step and repeat locations which are originally defined based on the parameters included in the block definition sub box and the block repetition definition sub box within the confines of a single step and repeat dialog box . The user may also edit the defined set of default step and repeat locations by using the Define Excluded Range sub box if it is included in the step and repeat dialog box . Specifically if the Define Excluded Range sub box is included the user may numerically or textually define a range of locations or a number of ranges of locations of the configuration instances to be excluded from the default step and repeat locations in terms of From X Y and To X Y . For example the user may specify that the locations that are within From 4 3.5 To 6 4.5 are to be excluded. The locations that are within X 4 6 and Y 3.5 4.5 include the locations 4 4 5 3.5 and 6 4.5 in the illustrated embodiment and therefore these three locations would be excluded. The excluded locations in terms of their Cartesian coordinates may then be listed in the Excluded Location List within the Define Excluded Range sub box . Once the range of locations to be excluded is fully defined the user selects the OK button in the Define Excluded Range sub box . The Define Excluded Range sub box may be particularly useful for excluding large blocks of default locations for example locations to be excluded in the center of a ball grid array or the like. In various embodiments completed entries in the Define Excluded Range sub box are immediately reflected in the graphical display sub box . Similarly graphical editing in the graphical display sub box may be immediately reflected in the Define Excluded Range sub box .

It should be appreciated that a step and repeat dialog box that interactively combines various graphical representation and editing features with various text based definition and editing features as outlined above provides a particularly intuitive user interface. Furthermore either a novice or expert user can use such a dialog box with a high degree of ease and confidence because the approximate geometric similarity of the graphical representation to the actual inspection locations which may be visible in a field of view or on a drawing allows a user to quickly verify that the programmed configuration matches their intent even for an irregular step and repeat pattern.

The final set of step and repeat locations which are obtained after the user edits the default step and repeat locations are herein referred to as inspection step and repeat locations. As described above the present invention offers a number of intuitive and flexible GUI features that allow a user to define not only a regular array of the default step and repeat locations but also either a regular or irregular set of the inspection step and repeat locations. Once the inspection step and repeat locations are fully defined the user may select the OK button to accept the currently defined and displayed set of inspection step and repeat locations. On the other hand if the user wishes to cancel any step and repeat location definition performed so far the user may select the CANCEL button . In various exemplary embodiments of the present invention user selection of the OK button automatically records the defined set of inspection step and repeat locations in a part program to be used for inspecting a plurality of instances of the configuration of workpiece features.

The graphical display sub box shows four widgets or dots X arranged at four locations respectively. The location is the reference location in the cylindrical coordinates of and similarly to the reference location may be represented differently graphically from the other locations . The user may define a set of default step and repeat locations by using the repetition definition sub box to define a set of repetition parameters which define the location . The user defines the center of the circular or spiral or helical arrangement of step and repeat default locations by entering numeric values for center offsets Xc and Yc relative to the reference location . In the illustrated example the user has set the nominal center offset of step and repeat rotation Xc Yc as 1.5 0 . The user also defines the offset delta value of the radius dR the offset value of angles dA the offset value along the Z axis dZ and the number of instances the configuration is repeated. In the illustrated example the user has specified dA 90 and the repeat number to be 4. Therefore starting with the reference location A 0 the default locations for the configuration to be inspected are repeated three times at locations at A 90 180 and 270 respectively about the relative center Xc Yc at 1.5 0 . Though not illustrated if a non zero value is entered as dR instances of the configuration will be repeated in a generally spiral pattern with an increasing or decreasing radius and if a non zero value is entered as dZ the instances will be repeated helically with an offset along the Z axis that is perpendicular to both the X axis and the Y axis.

As before the user may name the defined set of step and repeat locations in a Loop Name box . Also the user may designate whether the defined step and repeat locations correspond to multiple workpieces using the Repeat Piece to Piece button or to multiple locations within a single workpiece using the Repeat on Piece button as previously outlined.

Also as before in accordance with various exemplary embodiments of the present invention the user may edit or modify the defined set of default step and repeat locations in the step and repeat dialog box . Specifically as with the embodiment shown in the user may use an input device such as the mouse to select one or more default step and repeat locations in the graphical display sub box to be excluded from the final set of step and repeat locations to be inspected i.e. the inspection step and repeat locations . Also as before the user may readily reinstate the excluded locations by for example selecting the excluded locations using the mouse . Though not illustrated a suitable Define Excluded Range sub box as shown in may be used in the step and repeat dialog box to allow the user to numerically or textually define a range of default step and repeat locations to be excluded from the final inspection set of step and repeat locations.

Once the inspection step and repeat locations are fully defined the user may select the OK button . On the other hand if the user wishes to cancel any step and repeat location definition performed so far the user may select the CANCEL button . The advantages of the combination of interactive graphical and text based features included in the step and repeat dialog box are similar to the advantages previously outlined for the embodiment shown in .

Specifically these elements include a Loop Name parameter various parameters Repeats dXib dYib dZib used in the block definition sub box various parameters Repeats dXbb dYbb dZbb used in the block repetition definition sub box and the Repeat Piece to Piece selection button and Repeat on Piece section button . Also included in the Cartesian mode elements are various elements used to define the inspection step and repeat locations in the graphical display sub box such as the Included Location element s the Reference Location element s and the Excluded Location element s .

The Included Location element s allow the user to specify or confirm the default step and repeat locations to be the inspection step and repeat locations to be actually inspected. In most applications of the present invention the reference location is one of the Included Locations i.e. one of the inspection step and repeat locations and the Reference Location parameter may additionally be used to render the reference location appear graphically differently from the rest of the inspection step and repeat locations. The Excluded Location element s allow the user to exclude one or more of the default step and repeat locations so that those excluded locations will not form part of the final set of inspection step and repeat locations. As described above the GUI features of the step and repeat dialog box allow the user to readily modify the Included Locations and Excluded Locations for example by placing a cursor over and clicking on the location to be included or excluded so as to intuitively confirm exclude or reinstate any of the default step and repeat locations to thereby define a final set of inspection step and repeat locations.

The Cylindrical mode elements similarly includes various parameters and features used to define step and repeat locations as described above in reference to . The same or similar elements as previously described in are referenced by the same numbers. Specifically these elements include a Loop Name parameter various parameters Repeats dR dA dZ Xc Yc used in the repetition definition sub box the Repeat Piece to Piece selection button and Repeat on Piece section button . The Cylindrical mode elements also includes various elements used to define the inspection step and repeat locations in the graphical display sub box such as the Included Location element s including the Reference Location element s and the Excluded Location element s . As before the Included Location element s allow the user to specify or confirm the default step and repeat locations to be the inspection step and repeat locations to be actually inspected. The Excluded Location element s allow the user to exclude one or more of the default step and repeat locations so that those excluded locations will not form part of the final set of inspection step and repeat locations.

In step the GUI is operated to display a step and repeat dialog box such as those dialog boxes shown in . The step and repeat dialog box includes a first plurality of parameters defining a set of default step and repeat locations e.g. the parameters in the block definition sub box the block repetition definition sub box and the repetition definition sub box for performing the set of inspection operations on corresponding instances of the first configuration of workpiece features.

In step the GUI is operated to define the first plurality of parameters in the displayed step and repeat dialog box in order to define the set of default step and repeat locations. In other words the first plurality of parameters are set so as to define the default step and repeat locations where the instances of the first configuration may appear and receive the set of inspection operations.

In step the graphical representation of the members of the defined set of default step and repeat locations is displayed in the GUI.

In step the GUI is operated to define a set of inspection step and repeat locations which is a subset of the set of default step and repeat locations. Specifically the user indicates at least one member to be excluded in the graphical representation of the members of the defined set of default step and repeat locations displayed in the GUI. As described above user indication may be based on placing a suitable input device such as a cursor of the mouse near or above the member to be excluded. Then the set of inspection step and repeat locations is defined to be the set of default step and repeat locations less the at least one indicated excluded member to thereby display a graphical representation of the members of the defined set of inspection step and repeat locations in the GUI.

In step the set of inspection step and repeat locations is recorded in a part program to be used for inspecting a plurality of instances of the first configuration of workpiece features. For example the set of inspection step and repeat locations defined in step above is recorded in the part program together with the set of inspection operations to be performed on the first configuration at each of the inspection step and repeat locations.

Still referring to the screen shot further includes a step and repeat dialog box similar to the step and repeat dialog box of comprising the graphical display sub box the block definition sub box and the block repetition definition sub box . As described in detail above the user may define using the step and repeat dialog box the default step and repeat locations as well as the inspection step and repeat locations where the set of inspection operations defined for the configuration are to be performed on additional instances that correspond to the configuration . The configuration may be defined as a reference location similar to the reference location described with reference to and used as a reference point for generating the default set of step and repeat locations. In various exemplary embodiments of the present invention it may be defined as the reference location because the Step and Repeat programming mode selector is activated in association with defining the inspection operations performed at that particular instance and location of that particular configuration of workpiece features . Activation of the Step and Repeat programming mode selector may initiate the display of the step and repeat dialog box . Then when the inspection step and repeat locations are defined using the step and repeat dialog box and recorded in a part program to be used for inspecting a plurality of instances of the first configuration of workpiece features step of the set of inspection operations originally defined relative to the configuration at the reference location is recorded in the part program so as to be repeatedly performed at each of the defined inspection step and repeat locations.

It should be noted that the order in which the set of inspection operations is defined and the set of inspection step and repeat locations is defined may vary in various embodiments. In some embodiments the user may define the inspection step and repeat locations first using the step and repeat dialog box and thereafter define the set of inspection operations to be performed relative to the instance of the configuration at the reference location. In other embodiments the user may define the set of inspection operations to be performed on the configuration first and thereafter define the inspection step and repeat locations based on the reference location in the step and repeat dialog box .

In step the step and repeat dialog box is displayed. In step the user defines default step and repeat locations and inspection step and repeat locations in the step and repeat dialog box and after accepting the inspection step and repeat locations may close the step and repeat dialog box .

In step the user defines using various video tools for example a set of inspection operations relative to the first configuration at a reference location included in the inspection step and repeat locations defined in the step and repeat dialog box . In step the user indicates the end of definition of inspection operations for the configuration of workpieces features associated with the reference location by for example selecting an OK button not shown .

In step the user selects one of generating simulated step and repeat inspection results and generating actual step and repeat inspection results. To this end in one embodiment a dialog box as shown in may be automatically displayed on the display device of the machine vision inspection system following the user indicated end of the definition of inspection operations associated with the reference location as outlined above. A dialog box such as that shown in may prompt a user to select one of these two options. Specifically once the set of inspection operations to be performed as well as all of the inspection step and repeat locations are fully defined during the learn mode the user may be prompted to select either generating simulated step and repeat inspection results or generating actual step and repeat inspection results. After making the selection the user then selects the OK or CANCEL button to finalize the selection. During the learn mode when the user finishes defining a step and repeat program to be part of a workpiece program or a part program typically the user wishes to actually run the newly defined step and repeat program to confirm its operability and performance. In some cases where there is a relatively large number of repeated instances to be inspected however the user may wish to forego actually running the program and instead merely simulate running the program to avoid time consuming actual measurements inspection to save time. The operation of generating actual or simulated step and repeat inspection results will be described in detail in reference to below.

In step based on the user selection made in step above either actual or simulated step and repeat inspection results are generated. At this point the definition of the step and repeat programming as well as its actual or simulated run are completed. Thus the user proceeds to perform the next learn mode operation e.g. the definition of additional inspection steps on other workpiece features or special analysis of the step and repeat inspection results or the like .

In step it is determined whether the user has selected to generate simulated step and repeat inspection results or not. If not No in step the step and repeat operations that have been defined are actually run on the machine vision inspection system . Specifically in step the machine vision inspection system is set to the next inspection step and repeat location in a series of inspection step and repeat locations. Initially this is the first step and repeat location in the series. In step feature labels associated with inspection operations are incremented. In step inspection operations are actually performed at the current step and repeat location and the actual inspection results i.e. inspection data and measured values are stored. In step it is determined whether more inspection step and repeat locations exist. If yes returning to step the machine vision inspection system is set to the next inspection step and repeat location in the series of step and repeat locations and steps through are repeated until in step it is determined that no more inspection step and repeat locations exist.

Returning to step if it is determined that the user has selected to generate simulated step and repeat inspection results Yes in step feature labels associated with inspection operations are incremented as though the machine vision inspection system is set at the next step and repeat location although it is in fact not . In step simulated inspection results i.e. simulated inspection data and measurement values are generated and stored. The simulated inspection results may include for example results obtained by recalling reference location inspection data e.g. measurement values obtained at the reference location and transforming the reference location inspection data based on an accumulated step and repeat position increment for the currently simulated step and repeat location which are then stored in association with the currently simulated step and repeat location. In step it is determined whether more inspection step and repeat locations exist. If yes returning to step features labels associated with inspection operations are again incremented as though the machine vision inspection system is set at the next step and repeat location though it is in fact not and steps and are repeated until in step it is determined that no more inspection step and repeat locations exist. Then in step the machine vision inspection system is actually positioned at the last inspection step and repeat location in the series of step and repeat locations ready for additional programming operations. One value of generating simulated inspection results is that the generated dummy coordinates and measurement and inspection results are then usable in later programming operations e.g. to generate additional inspection dimensions between the dummy coordinates and later inspected measurement features and the like .

As described above various exemplary embodiments of the present invention provide efficient intuitive and flexible GUI features that allow a user to readily program and use step and repeat loop operations in a machine vision inspection system.

While various preferred and exemplary embodiments of the invention have been illustrated and described it will be appreciated that various changes can be made therein without departing from the spirit and scope of the invention.

