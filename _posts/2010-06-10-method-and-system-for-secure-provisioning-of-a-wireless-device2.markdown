---

title: Method and system for secure provisioning of a wireless device
abstract: A method and system for enabling one or more communication services on a wireless device are provided. The method comprises: sending a request for provisioning information from a carrier provisioning system to a device developer provisioning system; receiving, from the device developer provisioning system, secure provisioning information corresponding to the request; and sending the secure provisioning information corresponding to the request from the carrier provisioning system to the wireless device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09621716&OS=09621716&RS=09621716
owner: BlackBerry Limited
number: 09621716
owner_city: Waterloo
owner_country: CA
publication_date: 20100610
---
The present disclosure relates generally to wireless communication networks and more particularly to network service provisioning to enable a wireless device for network services.

Wireless communication devices often provide multiple forms of communication. For example such devices may provide for core communication services such as voice communication services. Such devices may also provide for additional value added services. The value added services may include for example the ability to send and receive emails the ability to interact with websites accessible through the Internet the ability to send and receive instant messages etc.

Core communication services may be provided by a wireless carrier. The wireless carrier is a mobile network operator which provides voice services to the wireless devices. Value added services may be provided by a third party value added service provider VASP such as for example a manufacturer or developer of the wireless device.

Core communication services and value added services are often provided on a service contract basis where a subscriber i.e. a wireless device user or someone on behalf of the ultimate user enters into a service contract with the wireless carrier and or the value added service provider. In order to enable core communication services and or value added services on the device the device may need to be provisioned. Provisioning is the process of preparing and equipping a network to allow it to provide new services to its users. Provisioning may require provisioning information such as for example service books to be provided to the wireless device. Service books contain information regarding how the wireless device will connect with a wireless carrier or value added service provider servers in order to enable features and functions on the wireless device.

In one aspect the present application provides a method of enabling one or more communication services on a wireless device. The method comprises sending a request for provisioning information from a carrier provisioning system to a device developer provisioning system receiving from the device developer provisioning system secure provisioning information corresponding to the request and sending the secure provisioning information corresponding to the request from the carrier provisioning system to the wireless device.

In another aspect the present application comprises a method of enabling one or more communication services on a wireless device. The method comprises receiving at a device developer provisioning system a request from a carrier provisioning system for provisioning information to provision the wireless device the carrier provisioning system being connected to the wireless device through a wireless network generating provisioning information using a private algorithm on the device developer provisioning system securing the provisioning information to produce secure provisioning information and sending the secure provisioning information from the device developer provisioning system to the carrier provisioning system for transmission to the wireless device.

In yet another aspect the present application comprises a system for enabling one or more value added services on a wireless device. The system comprises a carrier provisioning system. The carrier provisioning system includes a first communication system for communicating with at least one wireless device and a second communication system for communicating with a device developer provisioning system. The carrier provisioning system also includes at least one processor which is configured to send a request for provisioning information to a device developer provisioning system receive from the device developer provisioning system secure provisioning information corresponding to the request and send the secure provisioning information corresponding to the request from the carrier provisioning system to the wireless device.

Other aspects of the present application will be apparent to those of ordinary skill in the art from a review of the following detailed description in conjunction with the drawings.

Example embodiments of the present application are not limited to any particular operating system wireless device architecture server architecture or computer programming language.

Reference is now made to which illustrates a block diagram of a communication network in which example embodiments of the present disclosure may operate. One or more wireless devices communicate in and through the wireless communication network . In the embodiment of the wireless communication network is a Third Generation 3G supported network based on Code Division Multiple Access CDMA technologies. In particular the wireless communication network is a CDMA2000 network which includes fixed network components as shown in . The wireless communication network of the CDMA2000 type includes a Radio Network RN a Mobile Switching Center MSC a Signaling System 7 SS7 network a Home Location Register Authentication Center HLR AC a Packet Data Serving Node PDSN an IP network and a Remote Authentication Dial In User Service RADIUS server . The SS7 network is communicatively coupled to a network such as a Public Switched Telephone Network or PSTN whereas IP network is communicatively coupled to another network such as the Internet .

The wireless communication network is operated by a wireless carrier. The wireless carrier is a mobile network operator such as a telephone company which provides services for mobile phone subscribers. In at least some embodiments the wireless carrier provides a service or a set of services which may be referred to as core services. Such services may for example include voice communication services. Other core services may also be provided for by the wireless carrier.

In some embodiments to expand the communication functionality of the wireless devices the IP network may allow the wireless device to access one or more value added service provider VASP and to access value added services provided by the VASP . Value added services are non core services. Value added services may include for example instant messaging services which permit the wireless device to send and receive instant messages email services which permit the wireless device to send and receive email messages Internet services which may among other things permit the wireless device to browse the Internet through an Internet browser .

In various embodiments short message service SMS communications and or multimedia messaging service messages MMS may be considered either a core service provided by the wireless carrier or a value added service provided by the VASP .

The VASP is in at least some embodiments a third party provider. That is the VASP is not the wireless carrier. In some embodiments the VASP may be the manufacturer or developer of the wireless device . Some of the value added services may be provided by the third party provider on a subscription basis. That is a value added service provider may receive a subscription fee from the wireless carrier or from a user associated with the wireless device directly for the use of the value added services.

The wireless communication network of is exemplary and persons of ordinary skill in the art will appreciate that other wireless network architectures and standards may be used.

During operation the wireless device communicates with RN which performs functions such as call setup call processing and mobility management. RN includes a plurality of base station transceiver systems that provide wireless network coverage for a particular coverage area commonly referred to as a cell . A given base station transceiver system of RN such as the one shown in transmits communication signals to and receives communication signals from wireless devices within its cell. The base station transceiver system normally performs such functions as modulation and possibly encoding and or encryption of signals to be transmitted to the wireless device in accordance with communication protocols and parameters under control of its controller. The base station transceiver system similarly demodulates and possibly decodes and decrypts if necessary any communication signals received from a wireless device within its cell. Communication protocols and parameters may vary between different networks. For example one network may employ a different modulation scheme and operate at different frequencies than other networks. The underlying services may also differ based on its particular protocol revision.

A wireless link connecting the wireless device to the network shown in the communication system of represents one or more different channels typically different radio frequency RF channels and associated protocols used between the wireless communication network and the wireless device . An RF channel is a limited resource that must be conserved typically due to limits in overall bandwidth and a limited battery power of wireless devices . Those skilled in the art will appreciate that a wireless communication network in actual practice may include hundreds of cells depending upon desired overall expanse of network coverage. Pertinent components may be connected by multiple switches and routers not shown controlled by multiple network controllers.

For all wireless devices registered with a network operator such as a wireless carrier permanent data such as wireless device user s profile as well as temporary data such as a wireless device s current location are stored in a HLR AC . In case of a voice call to the wireless device HLR AC is queried to determine the current location of the wireless device . A Visitor Location Register VLR of MSC is responsible for a group of location areas and stores the data of those wireless devices that are currently in its area of responsibility. This includes parts of the permanent wireless device data that have been transmitted from HLR AC to the VLR for faster access. However the VLR of MSC may also assign and store local data such as temporary identifications. The wireless device is also authenticated on system access by HLR AC . In order to provide packet data services to the wireless device in a CDMA2000 based network RN communicates with PDSN . PDSN may provide access to the Internet or intranets Wireless Application Protocol WAP servers etc. through IP network . In the embodiment shown the PDSN provides access to a value added service provider VASP which may in turn provide access to value added services such as the Internet etc. That is the VASP acts as a gateway.

PDSN also provides foreign agent FA functionality in mobile IP networks as well as packet transport for virtual private networking. PDSN has a range of IP addresses and performs IP address management session maintenance and optional caching. RADIUS server is responsible for performing functions related to authentication authorization and accounting AAA of packet data services and may be referred to as an AAA server.

The wireless communication network also includes a Push to talk over Cellular PoC server which may be coupled to IP network . PoC server operates to facilitate PoC individual and group communication sessions between wireless devices within network . A conventional PoC communication session involves a session connection between end users of wireless devices referred to as session participants who communicate one at a time in a half duplex manner much like conventional walkie talkies or two way radios.

Those skilled in the art will appreciate that the wireless communication network may be connected to other systems possibly including other networks not explicitly shown in . The network may transmit paging and system information on an ongoing basis even if there is no actual packet data exchanged. Although the network consists of many parts these parts all work together to result in certain behaviors at the wireless link. Though a CDMA wireless communication network is described the wireless communication network may conform to any of the wireless network technologies and protocols including cellular wide area network WAN Mobitex Radio Network DataTAC GSM Global System for Mobile Communication GPRS General Packet Radio System TDMA Time Division Multiple Access CDMA Code Division Multiple Access CDPD Cellular Digital Packet Data iDEN integrated Digital Enhanced Network EvDO Evolution Data Optimized CDMA2000 EDGE Enhanced Data rates for GSM Evolution UMTS Universal Mobile Telecommunication Systems HSPDA High Speed Downlink Packet Access IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or various other networks.

The wireless devices operating within the communication network may be equipped for use with various services. As noted previously such services may include services which are provided by a wireless carrier. In at least some embodiments the wireless carrier provides a service or a set of services which may be referred to as core services. Such services may for example include voice communication services. Other core services may also be provided for by the wireless carrier.

In at least some embodiments the wireless devices may also be equipped for use with value added services. Value added services are non core services which are provided at least in part by a value added service provider. Value added services may include for example instant messaging services which permit the wireless device to send and receive instant messages email services which permit the wireless device to send and receive email messages Internet services which may among other things permit the wireless device to browse the Internet through an Internet browser etc.

Reference is now made to which illustrates a block diagram of a wireless device in which example embodiments described in the present disclosure can be applied. The wireless device may in various example embodiments also be referred to as a mobile device a mobile communication device an electronic device and or a device. In the example embodiment shown the wireless device is a two way mobile communication device having data and voice communication capabilities and the capability to communicate with other computer systems for example via the Internet. Depending on the functionality provided by the wireless device in various example embodiments the wireless device may be a data communication device a multiple mode communication device configured for both data and voice communication a smartphone a mobile telephone or a PDA personal digital assistant enabled for wireless communication or a computer system with a wireless modem.

The wireless device includes at least one controller comprising at least one processor such as a microprocessor which controls the overall operation of the wireless device and a wireless communication subsystem for exchanging radio frequency signals with a wireless communication network . The processor interacts with the communication subsystem which performs communication functions. The processor interacts with additional device subsystems. In some example embodiments the device may include a touchscreen display which includes a display screen such as a liquid crystal display LCD screen with a touch sensitive input surface or overlay connected to an electronic controller . The touch sensitive overlay and the electronic controller provide a touch sensitive input device and the processor interacts with the touch sensitive overlay via the electronic controller . The touch sensitive overlay acts as an input mechanism allowing the user of the device to input commands to the processor . In other example embodiments the display may not be a touchscreen display. Instead the device may simply include a non touch display and one or more other input mechanisms such as for example a depressible scroll wheel track pad joy stick or track ball. In some example embodiments the device may have a touchscreen display and also other input mechanisms .

The processor interacts with additional device subsystems including flash memory random access memory RAM read only memory ROM auxiliary input output I O subsystems data port such as serial data port such as a Universal Serial Bus USB data port speaker microphone input mechanisms switch short range communication subsystem and other device subsystems generally designated as . Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions.

The communication subsystem includes a receiver a transmitter and associated components such as one or more antenna elements and local oscillators LOs and a processing module such as a digital signal processor DSP . The antenna elements and may be embedded or internal to the wireless device and a single antenna may be shared by both receiver and transmitter as is known in the art. As will be apparent to those skilled in the field of communication the particular design of the communication subsystem depends on the wireless communication network in which the wireless device is intended to operate.

The wireless device may communicate with any one of a plurality of fixed transceiver base stations of the wireless communication network within its geographic coverage area. The wireless device may send and receive communication signals over the wireless communication network after network registration or activation procedures have been completed these procedures may also be referred to as provisioning procedures . Signals received by the antenna through the wireless communication network are input to the receiver which may perform such common receiver functions as signal amplification frequency down conversion filtering channel selection etc. as well as analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP . In a similar manner signals to be transmitted are processed including modulation and encoding for example by the DSP . These DSP processed signals are input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission to the wireless communication network via the antenna . The DSP not only processes communication signals but may also provide for receiver and transmitter control. For example the gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

The processor operates under stored program control and executes software modules stored in a persistent memory for example in the flash memory . As illustrated in the software modules comprise operating system software and other local applications . In at least some embodiments the software modules include a provisioning module . As will be explained in greater detail with respect to the provisioning module is configured to send and receive data such as provisioning information to and from a carrier provisioning system and or a value added service provisioning system.

In some embodiments the provisioning module may be a sub module included within another application or module such as for example the operating system or the local applications . In other embodiments the provisioning module may be a standalone module or application.

In at least some embodiments the provisioning module receives provisioning information such as one or more service books from a provisioning system such as a carrier provisioning system and or a value added service provisioning system. The provisioning module may implement received provisioning information on the wireless device . For example the provisioning module may store the provisioning information to a data area of the memory . The provisioning module is in at least some embodiments configured to initiate provisioning of the wireless device in response to the occurrence of one or more trigger conditions. For example in some embodiments the provisioning module is configured to initiate provisioning of the wireless device in response to a first start up of the wireless device . In other embodiments the provisioning module is configured to initiate provisioning if the wireless device is not already provisioned.

Those skilled in the art will appreciate that the software modules such as the provisioning module or parts thereof may be temporarily loaded into volatile memory such as the RAM . The RAM is used for storing runtime data variables and other types of data or information as will be apparent to those skilled in the art. Although specific functions are described for various types of memory this is merely one example and those skilled in the art will appreciate that a different assignment of functions to types of memory could also be used.

The local software applications may also include a range of other applications including for example an address book application a messaging application a calendar application and or a notepad application. One or more of the applications may require value added services provided by a value added service provider in order to use such services. In some example embodiments the local software applications include an email message application a push content viewing application a voice communication i.e. telephony application a map application and a media player application. Each of the local software applications may include layout information defining the placement of particular fields and graphic elements e.g. text fields input fields icons etc. in the user interface i.e. the display device according to the application.

In some example embodiments the auxiliary input output I O subsystems may comprise an external communication link or interface for example an Ethernet connection. The wireless device may comprise other wireless communication interfaces for communicating with other types of wireless networks for example a wireless network such as an orthogonal frequency division multiplexed OFDM network or a GPS transceiver for communicating with a GPS satellite network not shown . The auxiliary I O subsystems may comprise a vibrator for providing vibratory notifications in response to various events on the wireless device such as receipt of an electronic communication or incoming phone call or for other purposes such as haptic feedback e.g. touch feedback .

The wireless device may also include a memory module such as a Subscriber Identify Module or SIM card or a Removable User Identity Module R UIM to be inserted in or connected to a storage memory interface of the wireless device . Alternatively memory module may be a non volatile memory which may be programmed with configuration data by a wireless carrier so that mobile device may operate in the network.

The storage memory and or memory may store data . As noted previously in some example embodiments the data may include provisioning information such as service books including information required by the wireless device to establish and maintain communication with the wireless communication network and or to receive services provided by a value added service provider .

The data may also include user application data not shown such as email messages address book and contact information calendar and schedule information notepad documents image files and other commonly stored user information stored on the wireless device by its user and other data.

The data may also include a decryption key associated with the wireless device . The decryption key may be a private key which may be used by the wireless device to decrypt data such as provisioning information which has been encrypted with an associated public key. In other embodiments the decryption key may be a private encryption decryption key which may be shared with a trusted system such as a device developer provisioning system or a value added service provisioning system and used by the device to decrypt encrypted messages received from such provisioning systems.

Referring still to the serial data port may be used for synchronization with a user s host computer system not shown . The serial data port enables a user to set preferences through an external device or software application and extends the capabilities of the wireless device by providing for information or software downloads to the wireless device other than through the wireless communication network . The alternate download path may for example be used to load the decryption key onto the wireless device through a direct reliable and trusted connection to thereby provide secure device communication.

In some example embodiments the wireless device is provided with a service routing application programming interface API which provides an application with the ability to route traffic through a serial data i.e. USB or Bluetooth Bluetooth is a registered trademark of Bluetooth SIG Inc. connection to the host computer system using standard connectivity protocols. When a user connects their wireless device to the host computer system via a USB cable or Bluetooth connection traffic that was destined for the wireless communication network is automatically routed to the wireless device using the USB cable or Bluetooth connection. Similarly any traffic destined for the wireless communication network is automatically sent over the USB cable Bluetooth connection to the host computer system for processing.

The wireless device also includes a battery as a power source which is typically one or more rechargeable batteries that may be charged for example through charging circuitry coupled to a battery interface such as the serial data port . The battery provides electrical power to at least some of the electrical circuitry in the wireless device and the battery interface provides a mechanical and electrical connection for the battery . The battery interface is coupled to a regulator not shown which provides power V to the circuitry of the wireless device .

The short range communication subsystem is an additional optional component which provides for communication between the wireless device and different systems or devices which need not necessarily be similar devices. For example the subsystem may include an infrared device and associated circuits and components or a wireless bus protocol compliant communication mechanism such as a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

The wireless device may in some example embodiments provide two principal modes of communication a data communication mode and an optional voice communication mode. In the data communication mode a received data signal such as a text message an email message or Web page download will be processed by the communication subsystem and input to the processor for further processing. For example a downloaded Web page may be further processed by a browser application or an email message may be processed by an email message application and output to the display . A user of the wireless device may also compose data items such as email messages for example using the touch sensitive overlay in conjunction with the display device and possibly the control buttons and or the auxiliary I O subsystems . These composed items may be transmitted through the communication subsystem over the wireless communication network .

In the voice communication mode the wireless device provides telephony functions and operates as a typical cellular phone. The overall operation is similar except that the received signals would be output to the speaker and signals for transmission would be generated by a transducer such as the microphone . The telephony functions are provided by a combination of software firmware i.e. the voice communication module and hardware i.e. the microphone the speaker and input devices . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the wireless device . Although voice or audio signal output is typically accomplished primarily through the speaker the display may also be used to provide an indication of the identity of a calling party duration of a voice call or other voice call related information.

In order to use services provided by a wireless carrier the wireless device may undergo a carrier provisioning procedure. Carrier provisioning is a process of preparing and equipping a network and wireless device to allow the wireless device to receive services provided by the wireless carrier. Similarly in order to use value added services value added service provisioning of the wireless device may be required. Value added service provisioning is the process of preparing and equipping the wireless device and in some embodiments the value added service provider system to allow the wireless device to receive services provided by the value added service provider system.

During the value added service provisioning procedure and or the carrier provisioning procedure provisioning information may be transferred from a value added service provisioning system and or a carrier provisioning system for storage on the wireless device . The provisioning information may include information such as service books that is used by the wireless device to enable the wireless device to receive the service either the core service or the value added service as the case may be .

The provisioning information may in at least some embodiments include updated operated parameters which may be used by the wireless device to update one or more parameters on the device from default values. In such embodiments the wireless device may include one or more default parameters which may be preloaded onto the device at the time of manufacture of the wireless device. By way of example one or more parameters may be a value associated with a timer of the device . The provisioning information may in at least some embodiments update one or more of the parameters from default values.

The provisioning information may in some embodiments include a software patch for the wireless device . The software patch may provide computer readable instructions to the device to update software installed on the device prior to sale of the device. For example in some embodiments the software installed on the device may contain errors such as programming errors. The software patch may correct such errors on the device.

Where the provisioning information is generated by the value added service provider i.e. by a provisioning system associated with the VASP the provisioning information may be referred to as value added service provisioning information. Similarly provisioning information that is generated by the wireless carrier i.e. by a provisioning system associated with the carrier may be referred to as carrier provisioning information. Carrier provisioning information and value added service provisioning information may be referred to more generally as provisioning information.

The provisioning information may for example include service books . Service books contain information regarding how the wireless device will connect with a wireless carrier or a value added service provider in order to enable features and functions on the wireless device .

By way of example the service books may include a service book which contains routing information for an Internet browser service. That is the service books may include one or more service book which is required for the wireless device to use an Internet browsing service. The Internet browser service is in some embodiments a value added service which is provided by a value added service provider . The value added service provider may in some embodiments provide Internet browser services through a gateway which is configured to process Internet content to reformat or compress such content to improve the viewing or transmission of such content. For example in some embodiments the gateway is configured to reduce the size of images and other content to reduce the bandwidth required to transmit content to the wireless device .

In some embodiments the service books may contain information that is required by the wireless device to use a global address book service which permits the wireless device to perform a global address book search of contact information such as email addresses telephone numbers etc. stored on a remote server. The global address book service may in some embodiments be a value added service that is provided by a value added service provider .

In some embodiments the service books may contain information that is required by the wireless device to send and receive instant messages. That is the service books may include one or more service book which is required by the wireless device to use an instant messaging service. The instant messaging service may be a value added service that is provided by one or more value added service provider.

In some embodiments the service books may contain information that is required for a wireless calendar synchronization service which synchronizes information associated with a local calendar application on the wireless device with a calendar stored on a remote computer or server. In at least some embodiments the calendar synchronization service is provided by a value added service provider .

In some embodiments the service books may contain information that is required to send and or receive email messages from the wireless device . That is the service books may include information that is required for the wireless device to access an email service. The email service is in some embodiments provided by a value added service provider .

In some embodiments the service books may contain information that is required to send and or receive multimedia messaging service MMS messages. That is the service books may contain information that is required for the wireless device to use an MMS service. In some embodiments the MMS service may be a core service which is provided by the wireless carrier. In other embodiments the MMS service may be a value added service provided by a value added service provider .

In at least some embodiments the service books contain information that is required to send and or receive short messaging service SMS messages. That is the service books may contain information that is required for the wireless device to use an SMS service. In some embodiments the SMS service may be a core service which is provided by the wireless carrier. In other embodiments the SMS service may be a value added service provided by a value added service provider .

Other service books and services apart from those specifically described above may be included in other embodiments.

Service books or other provisioning information received from a carrier provisioning system and or a value added service provisioning system may be stored on the wireless device by the provisioning module .

It will be appreciated that a manufacturer or developer of the wireless device may wish to keep certain provisioning information or methods of generating provisioning information private. A device developer may wish to do so for example to prevent other parties from generating fake provisioning information to activate services on a device which the device should not be authorized to activate. In other cases a device developer may wish to keep such information secret so that the device developer maintains greater control over the methods and systems which are used to provision devices. That is a device developer may wish to keep certain provisioning information or methods of generating such provisioning information secret from wireless carriers and others.

In such embodiments public or private key encryption may be employed to transfer encrypted or otherwise secure data from a provisioning system operated by a device developer which will also be referred to as a device developer provisioning system to the wireless device . In such embodiments the decryption key on the wireless device may be used to decrypt encrypted value added service provisioning information received from the value added provisioning system.

To provide even greater security in at least some embodiments provisioning information received from the device developer provisioning system is time and or date stamped to indicate the time and or the date when the information was generated and or sent from the device developer provisioning system the value added provisioning system and or the carrier provisioning system. In such embodiments the provisioning module may be configured to ignore provisioning information if such information is determined by the provisioning module to be too old. The provisioning module may make this determination by comparing a current time with the time included in the provisioning information. If the elapsed time between the time included in the provisioning information and the current time is greater than a predetermined threshold then the provisioning module may determine that the provisioning information is too old and may ignore such information i.e. it will not permanently save such information to the memory .

In order to provide additional security in some embodiments the current time may be determined from a network time retrieved from the wireless communication network . Relying on the network time rather than the local wireless device time may provide greater assurances that a user of the wireless device has not adjusted the time on the wireless device in order to dupe the system.

In at least some embodiments the wireless device is pre programmed for example at the time of manufacture with a network address for example a network address accessible through the IP Network of . The network address is an address to which the wireless device may connect in order to enable one or more value added services. For example in some embodiments the wireless device has an IP address pre programmed into memory. The wireless device may connect to the IP address to enable one or more value added services.

In at least some embodiments the network address which is pre programmed into the device may be replaced with a network address received as part of the provisioning process. That is a new network address may be received at the wireless device as part of the provisioning information and the provisioning module may use the received network address instead of the pre programmed network address in order to enable the value added services. This allows flexibility by allowing a network address to be varied after device manufacture.

Referring now to a block diagram of a wireless device provisioning system is illustrated. The wireless provisioning system provisions the wireless device . In the embodiment of the wireless device connects to a carrier provisioning system via wireless network equipment . The wireless network equipment of is symbolized by a base station. However the wireless network equipment may include infrastructure such as a radio network and packet data serving node providing gateway services to bridge wire line and wireless communication networks. Wireless network equipment communicates data wirelessly with the wireless device and over a wire line network public or private with other components such as the carrier provisioning system .

The carrier provisioning system is configured to send and receive data to the wireless device during a provisioning process. The provisioning process may be initiated for example when the wireless device first connects to the wireless network equipment .

During the provisioning process the carrier provisioning system may wish to send provisioning information which is created using a method that is proprietary to the device developer to the wireless device . For example in some embodiments the carrier provisioning system may want to change settings on the wireless device from predefined defaults. For example a wireless carrier may wish to vary the ping rate of the wireless device to change a default ping rate set by a device developer. Alternatively in some embodiments the carrier provisioning system may want to change a network address which the wireless device must connect to in order to use one or more value added services.

Some changes may have adverse effects on the wireless device . For example increasing the ping rate may result in a decreased battery life of the wireless device .

Since some such changes may have adverse effects on the wireless device and possibly for other reasons the device developer may want to keep the methods or data required to implement such changes private. Doing so may allow the device developer greater control over the scope of changes made to the device .

Accordingly in some embodiments the carrier provisioning system may be connected to a device developer provisioning system . The device developer provisioning system is a system which contains methods for generating certain provisioning information for use in provisioning the wireless device . The methods are private algorithms which are unknown to the carrier provisioning system . The device developer provisioning system is operated by the manufacturer and or developer of the wireless device .

Accordingly in at least some embodiments the carrier provisioning system may send a request to the device developer provisioning system to request provisioning information such as for example provisioning information instructing the wireless device to vary a ping rate .

In some embodiments the device developer provisioning system may be configured to provide provisioning information of more than one type. For example the device developer provisioning system may be configured to provide provisioning information to vary a first setting associated with the wireless device i.e. a ping rate and provisioning information to vary a second setting associated with the wireless device. In such embodiments the request from the carrier provisioning system may include information which allows the device developer provisioning system to determine the nature of the request. That is the request includes information which specifies the type of provisioning information that the carrier provisioning system would like to receive from the device developer provisioning system .

The request may also include information which may be used by the device developer provisioning system to generate provisioning information which is only usable by the specific wireless device which is being provisioned. Such information may for example include identification information which identifies the wireless device .

The identification information may be an identification number such as a personal identification number or PIN or other identifier which is stored on the device at the time of manufacture of the wireless device .

In response to receiving the request the device developer provisioning system may generate provisioning information corresponding to the request and may secure such provisioning information to make such provisioning information only usable by the specific wireless device associated with the request. It will be appreciated that securing the information in this manner may help to prevent someone from capturing this information and using this information in order to provision a further wireless device with the same provisioning information.

In some embodiments the provisioning information is secured by encrypting the provisioning information with an encryption key corresponding to the decryption key on the wireless device . However other methods of securing the provisioning information may also be employed in other embodiments.

In some embodiments public key encryption may be used by the device developer provisioning system to encrypt provisioning information generated by the device developer provisioning system . In such embodiments the request from the carrier provisioning system may include an encryption key associated with the wireless device . The encryption key corresponds to a decryption key on the wireless device . The carrier provisioning system may receive the encryption key from the wireless device and may send the encryption key to the device developer provisioning system .

In other embodiments the device developer provisioning system may retrieve an encryption key corresponding to the decryption key on the wireless device from a memory associated with the device developer provisioning system . The device developer provisioning system may retrieve an encryption key corresponding to the decryption key using the identification information which is received with the request from the carrier provisioning system.

In such embodiments the encryption key may be a public encryption key or a private encryption key which is known only to the device developer and the wireless device. The encryption key may be stored on memory associated with the device developer provisioning system prior to sale of the wireless device to its end user. For example the encryption key may be stored on the memory at the time of manufacture of the wireless device along with the associated identification information. Using identification information received from the carrier provisioning system the device developer provisioning system may look up the encryption key associated with that identification information in the memory .

Alternatively or in addition to encryption in some embodiments the provisioning information may be signed using a digital signature. For example the provisioning information generated by the device developer provisioning system may be signed using a private key associated with the device developer provisioning system to create signed provisioning information.

To provide even greater security the device developer provisioning system is in some embodiments configured to include a time and or date stamp in the encrypted or otherwise secured provisioning information. The time and or date stamp will in some embodiments indicate a time or date when the device developer provisioning system handled the provisioning information. For example in some embodiments the time and or date stamp will indicate the time and or date when the provisioning information was generated. In such embodiments the wireless device may be configured to ignore provisioning information if the time and or date stamp indicates that the provisioning information is too old.

In other embodiments the time or date stamp may take the form of an expiry date and or time. In such embodiments the device developer provisioning system is configured to determine a time and or date when the provisioning information should be considered to be no longer valid. The device developer may make this determination by adding a predetermined time duration to a current date and or time. By way of example the device developer provisioning system may in some embodiments set the time or date stamp to expire one day after it is generated. In such embodiments the wireless device may be configured to ignore the provisioning information if the time or date stamp represents a time or date that is earlier than a current time or date.

The encrypted or otherwise secured provisioning information is sent from the device developer provisioning system to the carrier provisioning system . From the carrier provisioning system the encrypted or otherwise secured provisioning information is further sent to the wireless device .

It will be appreciated that the carrier provisioning system comprises one or more servers coupled for communication with the wireless device . Carrier provisioning system is further coupled for communication with other carrier infrastructure. In some embodiments the carrier infrastructure may be coupled to a carrier billing system which may be used to track the date on which a wireless device is enabled in order to initiate billing for wireless usage.

The carrier provisioning system may comprise one or more servers containing at least one controller such as a processor and a memory . The carrier provisioning system includes a first communication system for communicating with the wireless device through the wireless network equipment . The carrier provisioning system includes a second communication system for communicating with the device developer provisioning system . It will be appreciated that in some embodiments the first communication system and the second communication system may be the same system. That is a single communication system may be used to communication with the wireless device via the wireless network equipment and also with the device developer provisioning system .

The device developer provisioning system may also comprise one or more servers containing at least one controller such as a processor and a memory . The device developer provisioning system also includes a communication system for communicating with the carrier provisioning system .

Reference will now be made to the flowchart of which illustrates a provisioning procedure in accordance with example embodiments of the present disclosure. The provisioning procedure includes steps or operations which may be performed by the wireless device steps or operations which may be performed by the carrier provisioning system and steps or operations which may be performed by the device developer provisioning system . More specifically one or more controller of the wireless device such as the processor may be configured to execute the wireless device specific steps of the provisioning procedure . In some example embodiments the provisioning module of the wireless device may contain instructions for the processor for performing the wireless device specific steps of the provisioning procedure . Similarly one or more controller of the carrier provisioning system such as the processor may be configured to perform the carrier provisioning system specific steps or operations of the provisioning procedure . Similarly one or more controller of the device developer provisioning system such as the processor may be configured to perform the device developer provisioning system specific steps or operations of the provisioning procedure .

In the following discussion of reference numerals which refer to wireless device specific components generally refer to components which are illustrated by way of example in . Similarly reference numerals which refer to carrier provisioning system components or device developer provisioning system components generally refer to components which are illustrated by way of example in .

At step a provisioning event is initiated by the wireless device . The provisioning event may be initiated for example when the wireless device is powered on and first connects to network equipment associated with a wireless carrier. In other embodiments the provisioning event is initiated when a user connects to the network equipment and requests via the input mechanism associated with the wireless device that the wireless device be provisioned. In other embodiments other events may be used as a trigger for initiating a provisioning event.

The carrier provisioning system may detect the provisioning event at step and may in response initiate provisioning of the wireless device .

In some embodiments during the provisioning procedure the carrier provisioning system may update parameters or settings on the wireless device . Some of the settings or parameters which the carrier provisioning system may update may require the use of methods or algorithms which are unknown to the carrier provisioning system . That is the carrier provisioning system may not be equipped with algorithms which permit the carrier provisioning system to generate provisioning information for the wireless device to update the desired parameters or settings.

In order to update the parameters or settings on the wireless device the carrier provisioning system may at step send a request to a device developer provisioning system . The device developer provisioning system is a system which contains the algorithms necessary to generate the provisioning information which may be used by the wireless device to update the parameters or settings on the wireless device.

In some embodiments the device developer provisioning system may be configured to provide provisioning information of more than one type. For example the device developer provisioning system may be configured to provide provisioning information to vary a first setting associated with the wireless device i.e. a ping rate and provisioning information to vary a second setting associated with the wireless device i.e. a network address associated with a value added service provider . In such embodiments the request from the carrier provisioning system may include information which allows the device developer provisioning system to determine the nature of the request. That is the request includes information which specifies the type of provisioning information that the carrier provisioning system would like to receive from the device developer provisioning system .

For example in some embodiments the request may indicate that the carrier provisioning subsystem is requesting to vary a network address which may be used by the device to connect to a value added service provider in order to use value added services on the wireless device .

The request may also include information which may be used by the device developer provisioning system to generate provisioning information which is only usable by the specific wireless device which is being provisioned. Such information may for example include identification information which identifies the wireless device . The identification information may be an identification number or other identifier Such as a personal identification number or PIN which is stored on the device at the time of manufacture of the wireless device . The identification information may be received at the carrier provisioning system from the wireless device and sent to the device developer provisioning system at step .

In some embodiments the request may also include an encryption key associated with the device . The encryption key corresponds to a decryption key stored on the wireless device . The carrier provisioning system may receive the encryption key from the wireless device and may send the encryption key to the device developer provisioning system at step .

Next at step the request for the provisioning information is received at the device developer provisioning system .

In response to receiving the request at step the device developer provisioning system may generate provisioning information corresponding to the request. The provisioning information may be generated in dependence on the identification information. That is the provisioning information may be generated so that it may only be used to provision the specific wireless device related to the request received at step .

The provisioning information is generated using a method or algorithm which is stored on the device developer provisioning system and which is not known to the carrier provisioning system . That is the specific method of generating the provisioning information is kept secret from the carrier provisioning system .

Next at step the provisioning information generated at step may be further secured by the device developer provisioning system . In some embodiment at step the provisioning information generated at step is secured at least in part by encrypting the provisioning information to create encrypted provisioning information.

The encryption may be performed using public or private encryption keys. As noted previously in some embodiments where public key encryption is performed a public encryption key may be received at the device developer provisioning system with the request at step . The received encryption key corresponds to a private decryption key stored on the wireless device . That is the public encryption key may be asymmetric with the decryption key stored on the wireless device .

In other embodiments the device developer provisioning system may retrieve an encryption key corresponding to the decryption key on the wireless device from a memory associated with the device developer provisioning system . The device developer provisioning system may retrieve an encryption key corresponding to the decryption key on the wireless device using the identification information identifying the wireless device which is received with the request from the carrier provisioning system.

In such embodiments the encryption key may be a public encryption key or a private encryption key which is known only to the device developer and the wireless device. The encryption key may be stored on the memory associated with the device developer provisioning system prior to sale of the wireless device to its end user. For example the encryption key may be stored on the memory at the time of manufacture of the wireless device along with the associated identification information.

Alternatively or in addition to encryption in some embodiments at step the provisioning information generated at step may be signed using a digital signature. For example the provisioning information generated at step may be signed using a private key associated with the device developer provisioning system to create signed provisioning information. Once signed using a private key associated with the device developer provisioning system the provisioning information may be authenticated using a public key associated with the device developer provisioning system . That is a wireless device which receives the signed provisioning information may use the public key in order to verify that the provisioning information came from the device developer provisioning system and that the provisioning information has not been tampered with.

In some embodiments to provide even greater security the device developer provisioning system is configured to include a time and or date stamp in the provisioning information. The time and or date stamp will in some embodiments indicate a time or date when the device developer provisioning system handled the provisioning information. For example in some embodiments the time and or date stamp will indicate the time and or date when the provisioning information was generated. In such embodiments the wireless device may be configured to ignore provisioning information if the time and or date stamp indicates that the provisioning information is too stale.

As noted previously in other embodiments the time or date stamp may take the form of an expiry date. In such embodiments the device developer provisioning system is configured to determine a time and or date when the provisioning information should be considered to be no longer valid. The device developer may make this determination by adding a predetermined time duration to a current date and or time. By way of example the device developer provisioning system may in some embodiments set the time or date stamp to expire one day after it is generated. In such embodiments the wireless device may be configured to ignore the provisioning information if the time or date stamp represents a time or date that is earlier than a current time or date.

In at least some embodiments the time and or date stamp may be added to the provisioning information prior to encryption or authentication in order to ensure that the time and or date stamp is not tampered with.

Thus at step one or more security measures may be used to secure the provisioning information against tampering or to keep the provisioning information confidential between the device developer provisioning system and the wireless device . These security measures may include any one or combination of encrypting the provisioning information signing the provisioning information and or adding a time or date stamp to the provisioning information to produce secured provisioning information.

Next at step the encrypted or otherwise secured provisioning information is sent from the device developer provisioning system to the carrier provisioning system where it is received at step . From the carrier provisioning system the encrypted or otherwise secured provisioning information is further sent to the wireless device at step where it is received at step .

In some embodiments not shown the carrier provisioning system may generate further provisioning information in addition to the provisioning information received from the device developer provisioning system . The carrier generated provisioning information may also be sent to the wireless device at step .

The received secured provisioning information may in some embodiments be authenticated at step . In some embodiments the provisioning information may be authenticated to ensure that the provisioning information is not too old. This type of authentication may be performed by the wireless device based on the time and or date stamp included with the provisioning information. That is the wireless device may compare the current time and or date with the time and or date included in the provisioning information. The wireless device may compare the difference between these times and or dates and a predetermined threshold to determine if the received provisioning information is too old. For example in some embodiments where the provisioning information is stamped with a time and or date indicating the time or date when it was generated by the device developer provisioning system the wireless device may determine whether the difference between the current time and or date and the time and or date in the provisioning information exceeds a predetermined threshold. If it exceeds the threshold the wireless device may determine that the provisioning information is too old.

If the wireless device determines that the provisioning information is too old it may ignore the provisioning information step .

In some embodiments where the provisioning information is signed the provisioning information may be authenticated to ensure that the provisioning information was transmitted from the device developer provisioning system . In at least some embodiments the provisioning information is authenticated using a public key associated with the device developer provisioning system.

If at step the wireless device determines that the provisioning information is authentic then at step it implements the provisioning information. Implementing the provisioning information may include storing the provisioning information in memory of the wireless device . In some embodiments implementing the provisioning information includes varying a parameter attribute or setting associated with the wireless device .

If however at step the wireless device determines that the provisioning information is not authentic i.e. if the provisioning information is too old and or the provisioning information was not sent from the device developer provisioning system then at step the wireless device ignores the provisioning information.

In at least some embodiments the data sent between the carrier provisioning system and the wireless device i.e. the provisioning information may be sent by way of Short Message Service messages.

Referring now to a block diagram of a further embodiment of a wireless device provisioning system is illustrated. The wireless provisioning system provisions the wireless device . The embodiment of is similar to the embodiment of . However in the embodiment of the device developer provisioning system is also a value added service provisioning system . The value added service provisioning system is used at least in part to provision the wireless device to use value added services provided by a value added service provider.

The value added service provisioning system may also be accessed by the wireless device via an IP network accessible through the network equipment . More particularly the value added service provisioning system is accessible using an IP address associated with the valued added service provisioning system or with a gateway which connects the device to the value added service provisioning system.

Referring now to a flowchart of further example embodiments of provisioning procedures is illustrated. The provisioning procedure includes steps or operations which may be performed by the wireless device steps or operations which may be performed by the carrier provisioning system and steps or operations which may be performed by the value added service provisioning system and or the device developer provisioning system. More specifically one or more controller of the wireless device such as the processor may be configured to execute the wireless device specific steps of the provisioning procedure . In some example embodiments the provisioning module of the wireless device may contain instructions for the processor for performing the wireless device specific steps of the provisioning procedure . Similarly one or more controller of the carrier provisioning system such as the processor may be configured to perform the carrier provisioning system specific steps or operations of the provisioning procedure . Similarly one or more controller of the value added service provisioning system such as the processor may be configured to perform the value added service provisioning system specific steps or operations of the provisioning procedure .

In the following discussion of reference numerals which refer to wireless device specific components generally refer to components which are illustrated by way of example in . Similarly reference numerals which refer to carrier provisioning system components or value added service provisioning system components generally refer to components which are illustrated by way of example in .

The provisioning process of includes two provisioning stages. More particularly it includes a carrier provisioning stage and a value added service provisioning stage. The carrier provisioning is performed at step . Step may be the same as the method of . Step may engage the wireless device the carrier provisioning system and the device developer provisioning system which is in at least some embodiments the same system as the value added service provisioning system .

Following the carrier provisioning at step value added service provisioning is performed. In some embodiments the value added service provisioning is initiated at step when the wireless device connects to the value added provisioning system . The wireless device connects to the value added provisioning system by connecting to a network address associated with the value added service provisioning system. The network address may for example be a network address which is pre programmed into a memory of the wireless device for example at the time of manufacture of the device . In some embodiments the network address may be a network address which was received at the wireless device during the carrier provisioning steps .

During the value added service provisioning steps the wireless device may connect directly to the value added service provisioning system without using the carrier provisioning system as an intermediary.

In response to the device connecting step to the value added service provisioning system the value added service provisioning system may generate provisioning information step for the device to enable one or more services on the device. The one or more services which are enabled may be determined by the value added service provisioning system by communicating with the carrier provisioning system to obtain information regarding the nature of the value added services which the wireless device is permitted access to.

Next at step the provisioning information may be secured. The step may be performed in the manner discussed previously with regard to step of .

Next at step the secure provisioning information may be transmitted to the wireless device and received at the wireless device at step .

Next at step the wireless device may determine whether the received provisioning information is authentic in the manner described above with reference to step of .

If the wireless device determines that the provisioning information is not authentic then it may ignore the provisioning information step . Alternatively if the wireless device determines that the provisioning information is authentic at step it may implement the provisioning information to enable access to the value added services.

It will be appreciated that while and discuss embodiments where the value added service provisioning system and the device developer provisioning system are the same system in other embodiments the value added service provisioning system may be implemented on a difference system than the device developer provisioning system. For example the device developer provisioning system may be used with the carrier provisioning system to implement the carrier provisioning of step and the value added service provisioning system may be used to implement the value added service provisioning step .

It will be appreciated that the methods and may be varied and that steps may be added or removed from these methods .

In accordance with further example embodiments of the present disclosure there are provided a computer program product comprising a computer readable medium having stored thereon computer executable instructions comprising instructions for practising the methods of the present disclosure.

The term computer readable medium as used herein means any medium which can store instructions for use by or execution by a computer or other computing device including but not limited to a portable computer diskette a hard disk drive HDD a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or flash memory an optical disc such as a Compact Disc CD Digital Versatile Disc DVD or Blu ray Disc and a solid state storage device e.g. NAND flash or synchronous dynamic RAM SDRAM .

While the present disclosure is primarily described as a method a person of ordinary skill in the art will understand that the present disclosure is also directed to various apparatus such as a wireless device for carrying out at least some of the aspects and features of the described methods and including components for performing at least some of the described method steps be it by way of hardware components a computer programmed by appropriate software to enable the practice of the disclosed method by any combination of the two or in any other manner. Moreover an article of manufacture for use with the apparatus such as a pre recorded storage device or other similar computer readable medium including program instructions recorded thereon or a computer data signal carrying computer readable program instructions may direct an apparatus to facilitate the practice of the disclosed method. It is understood that such apparatus articles of manufacture and computer data signals also come within the scope of the present disclosure.

The embodiments of the present disclosure described above are intended to be examples only. Those of skill in the art may affect alterations modifications and variations to the particular example embodiments without departing from the intended scope of the present disclosure. In particular features from one or more of the above described embodiments may be selected to create alternate embodiments comprised of a sub combination of features which may not be explicitly described above. In addition features from one or more of the above described example embodiments may be selected and combined to create alternate embodiments comprised of a combination of features which may not be explicitly described above. Features suitable for such combinations and sub combinations would be readily apparent to persons skilled in the art upon review of the present disclosure as a whole. The subject matter described herein and in the recited claims intends to cover and embrace all suitable changes in technology.

