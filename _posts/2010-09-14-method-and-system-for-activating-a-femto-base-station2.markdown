---

title: Method and system for activating a femto base station
abstract: A method for activating a femto base station includes transmitting at least one binding message that binds at least one access point with a collocated femto base station. The method also includes determining the collocated femto base station is in a power saving mode. The method additionally includes transmitting via the access point a request requesting that the collocated femto base station is put into an operational mode.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09572045&OS=09572045&RS=09572045
owner: Fujitsu Limited
number: 09572045
owner_city: Kawasaki
owner_country: JP
publication_date: 20100914
---
Various wireless technologies e.g. 3G 4G 3GPP Long Term Evolution LTE LTE Advanced LTE A WiMAX etc. allow for the use of small user installed base stations generally referred to as femto base stations fBSs also known as femtocells in WiMAX or Home node B in 3GPP . The fBS is provided to the user by a wireless service provider. The user installs the fBS in their home or office generally referred to herein as a home or home location to increase the quality and signal strength of the local wireless coverage. The fBS s backhaul connection to the wireless service provider s network WSPN is provided via the user s home network access e.g. DSL . The fBS operates in a similar wireless fashion e.g. uses the same licensed frequency band to the wireless service provider s macro base stations MBSs . Thus the handover from the MBS to the fBS may be done without the user noticing similar to the handover from one MBS to another .

Because the fBSs operate in a similar wireless fashion to macro base stations it may be possible for any endpoint using the same wireless service to establish a connection through the fBS. However owners of the fBS may not want to make their fBSs available to the public thus the owner may configure the fBS to only allow access from members of a closed subscription group CSG specified by the owner.

The teachings of the present disclosure relate to methods and systems for activating a femto base station. For example a method for activating a femto base station may include transmitting at least one binding message that binds at least one access point with a collocated femto base station. The method may also include determining the collocated femto base station is in a power saving mode. The method may additionally include transmitting via the access point a request requesting that the collocated femto base station is put into an operational mode.

Technical advantages of particular embodiments include reduced power consumption when a fBS enters a power saving mode and turns its air interface off. Another technical advantage of particular embodiments is that an endpoint can return the fBS to an operating mode even though the endpoint can not wireless communicate directly with the fBS because the fBS is in a power saving mode. Other technical advantages will be readily apparent to one of ordinary skill in the art from the following figures descriptions and claims. Moreover while specific advantages have been enumerated above various embodiments may include all some or none of the enumerated advantages.

For simplicity and ease of discussion the remainder of this description may use a simplified nomenclature for the various entities components and networks discussed herein. Home location may refer to a place at which a user has home network access to an external network such as the Internet. A home location is not limited to only a user s residence it may include for example a user s office. Home network access may refer to any of a variety of techniques and or technologies used to access one or more external networks such as the internet from the user s home location. For example home network access may comprise a cable modem a DSL modem an xDSL modem etc. Home network may refer to a local area network LAN configured within a user s home location. The LAN may include both wired and wireless connections. The term internet is not intended to be limited to only the Internet but includes any type of network including public and private networks. Internet service provider ISP may refer to an entity that provides a user with his home network access. Wireless service may refer to any of a variety of techniques and technologies e.g. WiMAX or LTE used by a wireless service provider to provide endpoints with wireless connections over a large geographic area. Wireless service provider WSP may refer to the entity that provides the wireless service. While this nomenclature is used for simplicity it does not represent the entire scope of all possible embodiments. For example an ISP may also be the WSP. As another example the ISP may not be directly providing the user with internet access e.g. the ISP may provide a building with internet access the building user may then provide the fBS user with internet access .

The embodiment depicted in includes fBS . fBS may in essence be a small base station purchased or leased by the user from his WSP. Once installed fBS may provide a geographically small coverage area that may be used to enhance the signal coverage within the user s home location. In some embodiments fBSs may use the same wireless service as the surrounding base stations . For example in particular embodiments fBSs may use the same licensed spectrum e.g. the spectrum licensed by the user s WSP as the WSP s other local MBS and relay stations not depicted . Depending on the scenario the user may share his fBS s coverage with other unknown users e.g. the fBS is a public fBS or he may limit it to known authorized users e.g. the fBS is a private fBS . The limited users may be referred as a CSG. Because each user may be operating their own fBS they may be more inclined to use their fBS in a CSG type configuration.

Because each user and or home location may have its own respective fBS there may be a relatively high concentration of fBSs within a given area e.g. an apartment complex . This may increase the chance and or severity of wireless interference between adjacent fBSs and or other base stations. One technique used to manage the interference in the network may be to turn off the wireless interface of fBS when its service is not needed. For example fBS may switch off its transmission and reception when all the endpoints in the respective CSG are either away from home or powered off. In particular embodiments when endpoint is turned on or returns home endpoint may restore fBS using for example a WiFi connection with access point .

Although the example communication system of includes six different networks networks the term network should be interpreted as generally defining any network or combination of networks capable of transmitting signals data and or messages including signals data or messages transmitted through WebPages e mail text chat voice over IP VoIP and instant messaging. Depending on the scope size and or configuration of the network any one of networks may be implemented as a LAN WAN MAN PSTN WiMAX network global distributed network such as the Internet Intranet Extranet or any other form of wireless or wired networking.

Networks may include any number and combination of wired links wireless connections nodes and or endpoints . For purposes of illustration and only by way of example network is a MAN that may be implemented at least in part via WiMAX or LTE network is a PSTN network is a LAN network is a WAN such as the internet network is a WSPN which may be operated by the WSP responsible for providing network with wireless service e.g. WiMAX and network is an internet service provider network ISPN which may be operated by the ISP responsible for providing its users with home network access including internet access. Though not depicted in ISPN network may include servers modems gateways and any other components that may be needed to provide their respective service.

While networks have been depicted as six separate networks depending on the scenario any two or more of the networks may be a single network. For example the WSP and the ISP may be the same business entity which may maintain the necessary components for both services on the same network thus merging ISPN network and WSPN network into a single network. Furthermore the interconnections between networks may vary from those depicted in . For example if a user uses a Digital Subscriber Line DSL for his internet access his network access device may connect to PSTN

Generally networks provide for the communication of packets cells frames or other portions of information generally referred to as packets herein between endpoints and or nodes . In particular embodiments networks and may be IP networks. IP networks transmit data by placing the data in packets and sending each packet individually to the selected destination along one or more communication paths. Network may for example be a PSTN that may include switching stations central offices mobile telephone switching offices pager switching offices remote terminals and other related telecommunications equipment that are located throughout the world. Network may be coupled to network through a gateway. Depending on the embodiment the gateway may be a part of network and or e.g. nodes and or may comprise a gateway . The gateway may allow PSTN to be able to communicate with non PSTN networks such as any one of networks or 

Any of networks or may be coupled to other IP networks including but not limited to the Internet. Because IP networks share a common method of transmitting data signals may be transmitted between devices located on different but interconnected IP networks. In addition to being coupled to other IP networks any of networks or may also be coupled to non IP networks through the use of interfaces or components such as gateways. Similarly PSTN may be able to connect to other networks including IP networks via interfaces or gateways.

Networks may be connected to each other and with other networks via a plurality of wired links wireless connections and nodes . Not only do wired links wireless connections and nodes connect various networks but they also interconnect endpoints with one another and with any other components coupled to or a part of any of networks . The interconnection of networks may enable endpoints to communicate data and control signaling between each other as well as allowing any intermediary components or devices to communicate data and control signals. Accordingly users of endpoints may be able to send and receive data and control signals between and among each network component coupled to one or more of networks .

In the depicted embodiment wireless connections and may represent wireless links between base stations e.g. MBS or fBS and endpoints using for example WiMAX whereas wireless connection may represent a wireless link between access point and endpoint using for example WiFi. In other embodiments wireless connections may use other wireless technologies and or protocols such as LTE or LTE A. The extended range of a WiMAX LTE or LTE A MBS along with one or more relay stations and fBSs in certain cases may allow network to cover a larger geographic area associated with a MAN.

Nodes may include any combination of network components modems session border controllers gatekeepers ISPN gateways WSPN gateways security gateways operation administration maintenance and provisioning OAM P servers network access provider NAP servers base stations conference bridges routers hubs switches gateways endpoints or any other hardware software or embedded logic implementing any number of communication protocols that allow for the exchange of packets in communication system . For example node may comprise a gateway. As a gateway node may allow network a PSTN network to be able to transmit and receive communications from other non PSTN networks such as network an IP network. More specifically as a gateway node may translate communications between the various protocols used by networks and

In particular embodiments network may comprise various servers gateways switches routers and other nodes used in providing wireless service. For example WSPN comprises mobility management entity MME security gateways serving gateway and home node gateway . MME may be responsible for storing organizing and or maintaining bindings received from various endpoints. Security gateways may comprise multiple logically separate security gateways. While the gateways may be logically separated they may physically be collocated or separated. Security gateways may provide security to WSPN for endpoints accessing WSPN via the internet e.g. via access point as opposed to fBS and or for fBSs accessing WSPN . In particular embodiments this security may be provided by two logically separated security gateways. For example one security gateway may be responsible for internet based connections while a second separate security gateway may be responsible for fBS based connections.

In particular embodiments security gateways may use a key maintained by for example a home subscriber server HSS maintained but not depicted by WSPN to authenticate incoming requests endpoints and or users. In some embodiments the key that is used may be related to or derived from the authentication and encryption key used by the endpoint to access the wireless service e.g. LTE via its wireless service interface e.g. LTE Uu interface .

Home node gateway may serve as a concentrator for the Control Plane e.g. the S1 MME interface . In some embodiments home node gateway may terminate the user plane towards home node gateway and towards serving gateway . Home node gateway may provide a relay function for relaying User Plane data between home node gateway and serving gateway . In some embodiments home node gateway may support NAS Node Selection Function NNSF . While certain components have been described and depicted within WSPN a WSPN may include different fewer or additional components.

Network access devices may provide home network access to fBS and access point through any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . In some embodiments network access device may be supplied by the user s ISP. For example if the user s ISP is a cable company then the ISP may supply a cable modem as network access device . As another example if the user s ISP is a phone company then the ISP may supply an xDSL modem as network access device . As may be apparent network access device may provide home network access to components other than fBSs and access point . For example the user may connect his personal computer to network access device to access the internet.

Access point may provide the user s home location with wireless network access. For example access point may be a WiFi router or access point. In certain embodiments access point may be one of many wireless access points within a user s home location. Access point may provide wireless network access to a variety of devices within the user s home. In some embodiments access point may always be turned on. Depending on the scenario the user may enable one or more security features associated with access point . For example in order for a device to establish a wireless connection with access point the device may need to provide access point with a security key e.g. a Wired Equivalent Privacy WEP key or a WiFi Protected Access WPA key . In some embodiments access point may access WSPN via one of the security gateways of security gateways through an IP connection. The IP connection may or may not be secured e.g. using IPSEC .

Endpoints and or nodes may provide data or network services to a user through any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . For example any one of endpoints may be a cell phone an IP telephone a computer a video monitor a camera a personal data assistant or any other hardware software and or encoded logic that supports the communication of packets or frames using one or more of networks . Endpoints may also include unattended or automated systems gateways other intermediate components or other devices that can send or receive data and or signals.

Although illustrates a particular number and configuration of endpoints connections links and nodes communication system contemplates any number or arrangement of such components for communicating data. In addition elements of communication system may include components centrally located local with respect to one another or distributed throughout communication system .

Endpoint may include one or more portions of one or more computer systems. In particular embodiments one or more of these computer systems may perform one or more steps of one or more methods described or illustrated herein. In particular embodiments one or more computer systems may provide functionality described or illustrated herein. In some embodiments encoded software running on one or more computer systems may perform one or more steps of one or more methods described or illustrated herein or provide functionality described or illustrated herein.

The components of endpoint may comprise any suitable physical form configuration number type and or layout. As an example and not by way of limitation endpoint may comprise an embedded computer system a system on chip SOC a single board computer system SBC such as for example a computer on module COM or a system on module SOM a desktop computer system a laptop or notebook computer system an interactive kiosk a mainframe a mesh of computer systems a mobile telephone a personal digital assistant PDA a server or a combination of two or more of these. Where appropriate endpoint may include one or more computer systems be unitary or distributed span multiple locations span multiple machines or reside in a cloud which may include one or more cloud components in one or more networks.

Where appropriate endpoint may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation endpoint may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more endpoints may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein where appropriate.

In the depicted embodiment endpoint may include processor memory storage interface and bus . These components may work together to facilitate returning fBS from a power saving mode to an operational mode via WAP . Although a particular network is depicted as having a particular number of particular components in a particular arrangement this disclosure contemplates any suitable network having any suitable number of any suitable components in any suitable arrangement. For simplicity only the components of endpoint are depicted. Other devices in network may have one or more of the components described below with respect to endpoint .

Processor may be a microprocessor controller or any other suitable computing device resource or combination of hardware software and or encoded logic operable to provide either alone or in conjunction with other components e.g. memory the ability to activate fBS via WAP . Such functionality may include providing various features discussed herein. For example processor may determine when endpoint is within a user s home location and when to send a request via WAP for fBS to return to an operational mode and turn on its wireless interface. Additional examples and functionality provided at least in part by processor will be discussed below.

In particular embodiments processor may include hardware for executing instructions such as those making up a computer program. As an example and not by way of limitation to execute instructions processor may retrieve or fetch instructions from an internal register an internal cache memory or storage decode and execute them and then write one or more results to an internal register an internal cache memory or storage .

In particular embodiments processor may include one or more internal caches for data instructions or addresses. This disclosure contemplates processor including any suitable number of any suitable internal caches where appropriate. As an example and not by way of limitation processor may include one or more instruction caches one or more data caches and one or more translation lookaside buffers TLBs . Instructions in the instruction caches may be copies of instructions in memory or storage . The instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory or storage for instructions executing at processor to operate on the results of previous instructions executed at processor for access by subsequent instructions executing at processor or for writing to memory or storage or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual address translations for processor . In particular embodiments processor may include one or more internal registers for data instructions or addresses. Depending on the embodiment processor may include any suitable number of any suitable internal registers where appropriate. Where appropriate processor may include one or more arithmetic logic units ALUs be a multi core processor include one or more processors or any other suitable processor.

Memory may be any form of volatile or non volatile memory including without limitation magnetic media optical media random access memory RAM read only memory ROM flash memory removable media or any other suitable local or remote memory component or components. Memory may store any suitable data or information utilized by endpoint including software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . In particular embodiments memory may include main memory for storing instructions for processor to execute or data for processor to operate on. As an example and not by way of limitation endpoint may load instructions from storage or another source such as for example another computer system another base station or a remote transceiver to memory . Processor may then load the instructions from memory to an internal register or internal cache. To execute the instructions processor may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions processor may write one or more results which may be intermediate or final results to the internal register or internal cache. Processor may then write one or more of those results to memory . In particular embodiments processor may execute only instructions in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere and may operate only on data in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere .

Bus may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to couple components of endpoint to each other. As an example and not by way of limitation bus may include an Accelerated Graphics Port AGP or other graphics bus an Enhanced Industry Standard Architecture EISA bus a front side bus FSB a HYPERTRANSPORT HT interconnect an Industry Standard Architecture ISA bus an INFINIBAND interconnect a low pin count LPC bus a memory bus a Micro Channel Architecture MCA bus a Peripheral Component Interconnect PCI bus a PCI Express PCI X bus a serial advanced technology attachment SATA bus a Video Electronics Standards Association local VLB bus or any other suitable bus or a combination of two or more of these. Bus may include any number type and or configuration of buses where appropriate. In particular embodiments one or more buses which may each include an address bus and a data bus may couple processor to memory . Bus may include one or more memory buses as described below. In particular embodiments one or more memory management units MMUs may reside between processor and memory and facilitate accesses to memory requested by processor . In particular embodiments memory may include random access memory RAM . This RAM may be volatile memory where appropriate. Where appropriate this RAM may be dynamic RAM DRAM or static RAM SRAM . Moreover where appropriate this RAM may be single ported or multi ported RAM or any other suitable type of RAM or memory. Memory may include one or more memories where appropriate.

In particular embodiments storage may include mass storage for data or instructions. As an example and not by way of limitation storage may include an HDD a floppy disk drive flash memory an optical disc a magneto optical disc magnetic tape or a Universal Serial Bus USB drive or a combination of two or more of these. Storage may include removable or non removable or fixed media where appropriate. Storage may be internal or external to endpoint where appropriate. In particular embodiments storage may be non volatile solid state memory. In particular embodiments storage may include read only memory ROM . Where appropriate this ROM may be mask programmed ROM programmable ROM PROM erasable PROM EPROM electrically erasable PROM EEPROM electrically alterable ROM EAROM or flash memory or a combination of two or more of these. Storage may take any suitable physical form and may comprise any suitable number or type of storage. Storage may include one or more storage control units facilitating communication between processor and storage where appropriate.

In particular embodiments interface may include hardware encoded software or both providing one or more interfaces for communication such as for example packet based communication between endpoint fBS any networks any network devices and or any other computer systems. As an example and not by way of limitation communication interface may include a network interface controller NIC or network adapter for communicating with an Ethernet or other wire based network and or a wireless NIC WNIC or wireless adapter for communicating with a wireless network. In certain embodiments interface may comprise two separate wireless interfaces. For example in particular embodiments interface may comprise a first wireless interface such as a WiFi interface for communicating with WAP and a second wireless interface such as an LTE A interface for communicating with fBS .

In some embodiments interface may comprise one or more radios coupled to one or more antennas. In such an embodiment interface may receive digital data that is to be sent out to wireless devices such as endpoints via a wireless connection. The radio may convert the digital data into a radio signal having the appropriate center frequency bandwidth parameters and transmission power. Similarly the radios may convert radio signals received via the antenna into digital data to be processed by for example processor .

Depending on the embodiment interface may be any type of interface suitable for any type of network. As an example and not by way of limitation interface may be used to communicate with an ad hoc network a personal area network PAN a local area network LAN a wide area network WAN a metropolitan area network MAN or one or more portions of the internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example endpoint may communicate with a wireless PAN WPAN such as for example a BLUETOOTH WPAN a Wi Fi network a WiMAX network an LTE network an LTE A network a cellular telephone network such as for example a Global System for Mobile Communications GSM network or any other suitable wireless network or a combination of two or more of these. Endpoint may include any suitable interface for any one or more of these networks where appropriate.

In some embodiments interface may include one or more interfaces for one or more I O devices. One or more of these I O devices may enable communication between a person and endpoint . As an example and not by way of limitation an I O device may include a keyboard keypad microphone monitor mouse printer scanner speaker still camera stylus tablet touch screen trackball video camera another suitable I O device or a combination of two or more of these. An I O device may include one or more sensors. Particular embodiments may include any suitable type and or number of I O devices and any suitable type and or number of interfaces for them. Where appropriate interface may include one or more device or encoded software drivers enabling processor to drive one or more of these I O devices. Interface may include one or more interfaces where appropriate.

Herein reference to a computer readable storage medium encompasses one or more tangible computer readable storage media possessing structures. As an example and not by way of limitation a computer readable storage medium may include a semiconductor based or other integrated circuit IC such as for example a field programmable gate array FPGA or an application specific IC ASIC a hard disk an HDD a hybrid hard drive HHD an optical disc an optical disc drive ODD a magneto optical disc a magneto optical drive a floppy disk a floppy disk drive FDD magnetic tape a holographic storage medium a solid state drive SSD a RAM drive a SECURE DIGITAL card a SECURE DIGITAL drive a flash memory card a flash memory drive or any other suitable computer readable storage medium or a combination of two or more of these where appropriate. Herein reference to a computer readable storage medium excludes any medium that is not eligible for patent protection under 35 U.S.C. 101. Herein reference to a computer readable storage medium excludes transitory forms of signal transmission such as a propagating electrical or electromagnetic signal per se to the extent that they are not eligible for patent protection under 35 U.S.C. 101.

Particular embodiments may include one or more non transitory computer readable storage media implementing any suitable storage. In particular embodiments a computer readable storage medium implements one or more portions of processor such as for example one or more internal registers or caches one or more portions of memory one or more portions of storage or a combination of these where appropriate. In particular embodiments a computer readable storage medium implements RAM or ROM. In particular embodiments a computer readable storage medium implements volatile or persistent memory. In particular embodiments one or more computer readable storage media embody encoded software.

Herein reference to encoded software may encompass one or more applications bytecode one or more computer programs one or more executables one or more instructions logic machine code one or more scripts or source code and vice versa where appropriate that have been stored or encoded in a computer readable storage medium. In particular embodiments encoded software includes one or more application programming interfaces APIs stored or encoded in a computer readable storage medium. Particular embodiments may use any suitable encoded software written or otherwise expressed in any suitable programming language or combination of programming languages stored or encoded in any suitable type or number of computer readable storage media. In particular embodiments encoded software may be expressed as source code or object code. In particular embodiments encoded software is expressed in a higher level programming language such as for example C Perl or a suitable extension thereof. In particular embodiments encoded software is expressed in a lower level programming language such as assembly language or machine code . In particular embodiments encoded software is expressed in JAVA. In particular embodiments encoded software is expressed in Hyper Text Markup Language HTML Extensible Markup Language XML or other suitable markup language.

Network may comprise one or more separate but interconnected networks operated by one or more different operators. For example network may comprise separate networks for multiple ISPs. A user may use their ISP s network for their home network access at their home location. In providing the user with home network access the ISP s network may include modems servers and gateways e.g. an ISP gateway . Network may comprise any number of additional networks including but not limited to the internet a LAN WAN MAN PSTN or some combination of the above.

WSPN may comprise a wireless service provider s network. WSPN may support a WSP s wireless network that provides users with wireless service over a large geographic area. The wireless network may support technologies and or protocols such as a WiMAX LTE A or LTE. WSPN may include servers MMES gateways serving gateways security gateways and other components including any components discussed above with respect to WSPN

fBS may in essence be a small base station providing wireless service within a user s home location. Depending on the embodiment and configuration of fBS it may be public or private. The backhaul connection from fBS to WSPN may use the user s home network access provided via network access device by the user s ISP. WSPN may use this backhaul connection to configure various features and settings such as the frequency channel and or power used by fBS . In certain embodiments the backhaul connection may be used by WSPN to activate or de activate the wireless interface of fBS and or return fBS to an operational mode after receiving a request from endpoint .

Network access device may comprise any of a variety of features and or functionality found in stand alone devices such as wireline routers and Wi Fi 802.11 access points. In certain embodiments WAP and network access device may comprise a single device. For example an ISP may provide a cable modem with a built in wireless router. The combined device may provide the user with both wired and wireless home network access.

In particular embodiments WAP may provide the user s home location with wireless network access. For example WAP may be a WiFi router or access point. In certain embodiments WAP may be one of many wireless access points within a home location. WAP may provide wireless network access to a variety of devices within the user s home. In some embodiments WAP may always be turned on. Depending on the scenario the user may enable one or more security features associated with WAP . For example in order for a device to establish a wireless connection with WAP the device may need to know a security key e.g. WEP key or a WPA key .

The following examples may help to illustrate how these components work with one another to provide some of the functionality of particular embodiments. For purposes of this example it may be assumed that fBS is an LTE Home node B and that WAP is a WiFi based WAP. Other examples may comprise different WAPs and or fBSs. In this example interface comprises a WiFi interface and an LTE interface. Thus endpoint may be able to establish wireless connections with both WAP and fBS .

Depending on the scenario the user may configure fBS with a CSG. The CSG may limit access to fBS to those devices specified by the user in the CSG. Endpoint may be a member of the CSG. In certain embodiments the user may also configure each endpoint or device in the CSG with an appropriate security key to access WAP . The security key may be used to ensure the endpoint is authorized to request that fBS returns to an operational mode.

Once endpoint is able to connect to fBS a high layer message exchange may occur in which endpoint learns that fBS is a fBS that it can access. Storage may store a cell ID e.g. a 28 bit E UTRAN cell ID or ECI associated with fBS in a register of accessible fBSs. Another exchange of messages between endpoint and WAP may provide endpoint with a MAC address for WAP . This MAC address may be stored in storage .

When endpoint is connected to both WAP and fBS at the same time processor may establish a binding of WAP and fBS . The binding indicates that WAP and fBS are located within the user s home location. This may be based on the fact that endpoint is able to connect to both fBS and WAP at approximately the same time. In particular embodiments the binding may have the following form . The binding may be stored by storage and sent via interface to WSPN so that the binding may be registered by the WSP. If there are multiple WAPs that endpoint can access while also being connected to fBS then multiple bindings may be generated and transmitted to the WSP. Each WAP and fBS pair may comprise its own binding.

In certain embodiments the binding may be sent as a management message directed to an MME within WSPN . The management message may indicate that WAP and fBS are collocated and that endpoint has requested that they be bound to one another. The MME may authenticate the message and if authenticated the MME may register the binding for endpoint . This may be done for multiple bindings from endpoint .

In particular embodiments a binding may have a limited life time e.g. 10 days . At the expiration of the binding s lifetime endpoint may delete it. The binding may be renewed or otherwise prevented from being deleted by endpoint upon determining that both WAP and fBS are still servicing the user s home location. In some embodiments Endpoint may renew the binding by going through the same process as the initial binding. The limited lifetime may reduce the likelihood of a binding being stored by endpoint indefinitely. Then if WAP or fBS are disabled or moved to another location endpoint may not mistakenly assume that WAP and fBS are still collocated. In certain situations when a binding is deleted by endpoint endpoint may send a message to the MME indicating that the MME is to delete the same binding. This may aid in keeping the binding in sync between endpoint and the MME. In certain embodiments the limited lifetime of the binding may also apply to the binding stored by the MME.

When fBS fails to detect any active and authorized endpoints e.g. endpoints that are part of the CSG fBS may turn off its wireless interface and enter a power saving mode. fBS may be unable to detect any active and authorized endpoints because the endpoints are themselves powered off or otherwise have their LTE wireless interface deactivated or are outside of the wireless range of fBS . By turning off the wireless interface fBS may enter a power saving mode to conserve energy and to reduce interference to other base stations. However because the wireless interface is turned off there may not be a way for endpoint to wirelessly send a message directly to fBS to turn the wireless interface back on.

With fBS s wireless interface turned off when endpoint looks for fBS e.g. when it returns home and wants to hand over from the MBS to fBS or when endpoint is powered on endpoint may be unable to find a signal from fBS . However because the endpoint is in the user s home and WAP is always powered on interface may be able to establish a connection with WAP . In some embodiments the WiFi interface of endpoint may be activated based on certain conditions such as when an LTE signal is unavailable or below a certain service threshold. When interface detects WAP but not fBS processor may recognizes that endpoint is at home and fBS is in power saving mode. Processor may then generate a message requesting fBS return to an operational mode. The message may be sent via WAP to WSPN .

The following scenario may illustrate a particular example in which endpoint activates fBS . In this scenario the WiFi interface or any other interface it has which is actively connected to the Internet of interface may be used to send a message to WSPN . The message may be directed within WSPN to the MME which has the bindings stored therein. The message may contain the binding between WAP and fBS and may request that WSPN return fBS to an operational mode. In some embodiments endpoint may encrypt and or authenticate the message using a key shared between endpoint and the MME. In some embodiments endpoint may also encrypt and or authenticate the message with a security gateway e.g. a security gateway serving fBS associated with WSPN . This security gateway may be the same or a separate security gateway used by endpoint to communicate with WSPN through the internet. The security key may be shared between endpoint and the security gateway. In some embodiments the same key may be reused for the security gateway and the MME.

Once endpoint and the binding identified in the message from endpoint have been validated and or authenticated the MME may send a request within WSPN to the home nodeB gateway in LTE terminology . The request may contain the fBS ID provided in the binding message e.g. associated with fBS . The home nodeB gateway may then sends an activation command to fBS which may return fBS to an operational mode.

In certain embodiments a security gateway may comprise an interface that endpoint uses to communicate with WSPN when endpoint is not using its the LTE interface. In certain embodiments WSPN may use two separate security gateways one for communications sent from a non LTE interface and one for fBS security. The two security gateways may be run on the same or different servers. In certain embodiments the interface of the security gateway may be used for a variety of features and functions provided to endpoints when they are not using their LTE or WiMAX interface. For example the interface may be used for operation administration and maintenance OAM purposes such as downloading endpoint firmware or reporting poor or no coverage. It may also save spectrum usage for the WSP by allowing WSPN to receive communications without having to use its wireless service.

In particular embodiments the WSP may use the bindings stored for different users to determine the location of the associated fBS and or WAP. This may allow for increased accuracy and or availability of location based services based on the location of the fBSs WAPs or a mixture of both. For example the WSP may be able to determine the location of fBS then when it receives a binding with WAP the WSP may then know the location of WAP . The WSP may then use this location information to build a WiFi location database that it can use for WiFi based positioning services.

Thus far several different embodiments and features have been presented. Particular embodiments may combine one or more of these features depending on operational needs and or component limitations. This may allow for great adaptability of network to the needs of various organizations and users. For example in particular embodiments WAP may be combined with network access device . Some embodiments may include additional or different features. In particular embodiments the functionality of endpoint may be provided by additional or different devices.

The method begins at step with the endpoint establishing a WiFi connection with WAP. The WAP may provide wireless home network access to various devices and or components within a user s home location. In some embodiments the WAP may use one or more security features to limit and or control access to the user s wireless network or home network access. For example the WAP may require a WPA key to establish a connection.

At step the endpoint establishes an LTE connection with the fBS. The fBS may operate using the same licensed spectrum as nearby macro base stations and or the same licensed spectrum licensed by the WSP that provided the user with the fBS. In certain embodiments the fBS may authenticate the user s endpoint and verify that the endpoint and or user are within the CSG. In certain embodiments one or more components of the WSPN may authenticate the user s endpoint and or fBS.

At step the endpoint generates a binding message binding the WAP and the fBS. In particular embodiments the binding message may comprise a MAC address associated with the WAP and a fBS identifier associated with the fBS. In general the binding indicated in the binding message may indicate that the WAP and fBS are both located within the user s home location. In particular embodiments to ensure that the fBS and WAP are collocated the endpoint may generate the binding message when it is able to establish a connection with both the WAP and the fBS at approximately the same time.

At step the endpoint transmits the binding message to the WSPN. In some embodiments the binding message may be sent via a secure connection. For example the binding message may be sent using PGP. Depending on the embodiment and or scenario the binding message may be sent via the WAP or via the fBS. In some embodiments the WSPN may comprise a security gateway that is able to receive the binding message and pass it on to the correct component within the WSPN e.g. a MME . In particular embodiments the security gateway may comprise at least two different interfaces one for receiving communications from fBSs and one for receiving communications from endpoints via the internet e.g. without being sent through the WSP s base station .

At step the binding is stored. The binding transmitted via the binding message may be stored at both the endpoint and the WSPN. For example an MME within the WSPN may contain a table data base or other organization of data that lists active bindings. In some embodiments the bindings may be stored with a time stamp. The time stamp may be used to determine whether a binding has expired e.g. based on how long it has been since the binding was generated or renewed .

At step a determination is made as to whether the stored binding has expired. The determination may be made at the endpoint the WSPN or both. In order to avoid having the binding deleted the endpoint may periodically renew the binding e.g. repeating steps when it is determined that the fBS is not in a power saving mode see step . If it is determined that the binding has expired and the endpoint is unable to connect to both the WAP and the fBS then at step the binding is deleted. The binding may initially be deleted by the endpoint the WSPN or both. In some embodiments whenever a binding is deleted the deleting device e.g. the endpoint or the WSPN may send a message to the other device alerting the other device that the binding has been deleted. This may ensure that the bindings are synchronized between the devices.

At step the endpoint makes a determination as to whether the fBS is in a power saving mode. The fBS may have entered a power saving mode because all the endpoints within the CSG were powered off or had otherwise disabled their LTE interface or had moved out of range of the fBS. If the fBS is in an operational mode the endpoint may repeat steps to renew the binding effectively re binding the fBS and the WAP.

If the fBS is in a power saving mode then at step the endpoint may transmit a request to the WSPN requesting that the fBS return to an operational mode. The request may be generated and transmitted when the endpoint detects the WAP indicating that the endpoint is at the user s home location and is within range of the fBS. In particular embodiments the request may include the binding or some other indication that the WSPN can use to identify the binding transmitted by the endpoint at step and received by the WSPN. When the WSPN receives the request it may verify that it is a valid request and locate the indicated binding.

At step the fBS is put into an operational mode. This may comprise the WSPN sending a request to the fBS requesting that the fBS be put into an operational mode. The request sent to the fBS may use a different interface than the interface used to receive the request at step . When the fBS receives the request from the WSPN the fBS may return to an operational mode thereby allowing the endpoint to establish an LTE connection with the fBS.

While the embodiment depicted in includes a certain number of steps depicted in a certain order it is to be understood that other embodiments may have more fewer or different steps and the steps may be rearranged. For example in some embodiments the endpoint may repeat steps for a second additional WAP within the home location. As another example the order of steps and may switch in scenarios in which the endpoint connects to the fBS first and then to the WAP.

Although particular embodiments have been described in detail it should be understood that various other changes substitutions and alterations may be made hereto without departing from the spirit and scope of particular embodiments. For example although an embodiment has been described with reference to a number of elements included within communication system such as endpoints fBSs and MBSs these elements may be combined rearranged or positioned in order to accommodate particular routing architectures or needs. In addition any of these elements may be provided as separate external components to communication system or each other where appropriate. Particular embodiments contemplate great flexibility in the arrangement of these elements as well as their internal components.

Numerous other changes substitutions variations alterations and modifications may be ascertained by those skilled in the art and it is intended that the present invention encompass all such changes substitutions variations alterations and modifications as falling within the spirit and scope of the appended claims.

