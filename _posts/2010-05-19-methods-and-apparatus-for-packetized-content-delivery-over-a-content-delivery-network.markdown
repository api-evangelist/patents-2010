---

title: Methods and apparatus for packetized content delivery over a content delivery network
abstract: Methods and apparatus for delivery of packetized content (e.g., video, audio, data, etc.) over a content delivery network. In one embodiment, the content is packetized using an Internet Protocol (IP), and delivered by a service provider over both managed and unmanaged networks to subscribers of the provider, so as to provide delivery at any time, at any location, and via any designated user device. The delivered content may originate from the service provider, third-party content sources (e.g., networks or studios), the subscriber(s) themselves, or other sources including the Internet. Use of a common control and service functions within the network afford the ability to integrate or blend services together, thereby affording the service provider and subscriber new service and economic opportunities. Content delivery sessions may also be migrated from one device to another. A network-based user interface infrastructure, and gateway-based client-side architecture, are also disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09531760&OS=09531760&RS=09531760
owner: Time Warner Cable Enterprises LLC
number: 09531760
owner_city: New York
owner_country: US
publication_date: 20100519
---
This application is a continuation of and claims priority to co owned and co pending U.S. patent application Ser. No. 12 764 746 entitled METHODS AND APPARATUS FOR PACKETIZED CONTENT DELIVERY OVER A CONTENT DELIVERY NETWORK filed Apr. 21 2010 which claims priority to U.S. Provisional Patent Application Ser. No. 61 256 903 entitled METHODS AND APPARATUS FOR PACKETIZED CONTENT DELIVERY OVER A CONTENT DELIVERY NETWORK filed Oct. 30 2009 the foregoing which are each incorporated by reference herein in their entirety.

A portion of the disclosure of this patent document contains material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure as it appears in the Patent and Trademark Office patent files or records but otherwise reserves all copyright rights whatsoever.

The invention relates generally to the fields of video and or data transmission. In one exemplary aspect the invention relates to the use of a network architecture for providing content in content based e.g. cable networks using a packetized protocol.

The provision of content to a plurality of subscribers in a content based network is well known in the prior art. In a typical configuration the content is distributed to the subscribers devices over any number of different topologies including for example i Hybrid Fiber Coaxial HFC network which may include e.g. dense wave division multiplexed DWDM optical portions coaxial cable portions and other types of bearer media ii satellite network e.g. from an orbital entity to a user s STB via a satellite dish iii optical fiber distribution networks such as e.g. Fiber to the X or FTTx which may include for example FTTH FTTC FTTN and FTTB variants thereof iv Hybrid Fiber copper or HFCu networks e.g. a fiber optic distribution network with node or last mile delivery being over installed POTS PSTN phone wiring or CAT 5 cabling v microwave millimeter wave systems etc.

Various types of content delivery services are utilized in providing content to subscribers. For example certain content may be provided according to a broadcast schedule aka linear content . Content may also be provided on demand such as via video on demand or VOD free video on demand near video on demand etc. . Content may also be provided to users from a recording device located at a user premises such as via a DVR or elsewhere such as via a personal video recorder or network personal video recorder disposed at a network location or via a startover paradigm which also affords the user increased control over the playback of the content non linear .

Just as different varieties of content delivery services have evolved over time several different network architectures have also evolved for deploying these services. These architectures range from fully centralized e.g. using one or more centralized servers to provide content to all consumers to fully distributed e.g. multiple copies of content distributed on servers very close to the customer premises at the edge of the distribution network as well as various other configurations. Some distribution architectures e.g. HFC cable HFCu etc. consist of optical fiber towards the core of the network which is in data communication with a different medium coaxial cable radio frequency copper POTS PSTN wiring distribution networks towards the edge.

Satellite networks similarly use a radio frequency physical layer i.e. satellite transceiver and associated settop box and satellite dish located at each of the consumer s premises to transmit digital television and data signals.

HFCu networks utilize existing copper e.g. POTS PSTN or CAT 5 cabling within the premises for the last mile however one salient downside to this approach is severe bandwidth constraints e.g. on the order of 25 30 mbps . At 25 mbps roughly 6 mbps is allocated for Internet access leaving the remaining 19 mbps for HD SD video and voice e.g. VoIP . VoIP bandwidth is effectively trivial for both upstream and downstream bandwidth but video especially HD quality consumes great amounts of bandwidth. Hence the user of an HFCu system rapidly becomes bandwidth limited for next generation commonly required technologies such as HD video provided with high speed broadband data service.

An emerging technology for broadband MAN Metropolitan area network content delivery is so called WiMAX technology specified in inter alia IEEE Std. 802.16e. WiMAX offers the promise of high data rate wireless access and content delivery to network subscribers at literally any location fixed or mobile. This technology ostensibly provides MSOs and other service providers a flexible and high bandwidth means of delivering content to their subscribers and is especially well suited to both fixed and mobility applications due to its comparatively long range much greater than WLAN technologies such as Wi Fi and wireless air interface.

While the details of how video is transported in the network can be different for each architecture many architectures will have a transition point where the video signals are modulated upconverted to the appropriate RF channel and sent over the coaxial segment s copper wiring or air interface of the network. For example content e.g. audio video etc. is provided via a plurality of downstream in band RF QAM channels over a cable or satellite network. Depending on the topology of the individual plant the modulation and upconversion may be performed at a node hub or a headend. In many optical networks nodes receive optical signals which are then converted to the electrical domain via an optical networking unit ONU for compatibility with the end user s telephony networking and other electrical systems.

In U.S. cable systems for example downstream RF channels used for transmission of television programs are 6 MHz wide and occupy a 6 MHz spectral slot between 54 MHz and 860 MHz. Within a given cable plant all homes that are electrically connected to the same cable feed running through a neighborhood will receive the same downstream signal. For the purpose of managing services these homes are aggregated into logical groups typically called service groups. Homes belonging to the same service group receive their services on the same set of in band RF channels.

Cable and satellite signals are transmitted using a QAM scheme and often use MPEG e.g. MPEG 2 audio video compression. Hence available payload bitrate for typical modulation rates QAM 256 used on HFC systems is roughly 38 Mbps. A typical rate of 3.75 Mbps is used to send one video program at resolution and quality equivalent to NTSC broadcast signals so called Standard Definition SD television resolution . Use of MPEG 2 and QAM modulation enables carriage of 10 SD sessions on one RF channel 10 3.75 37.5 Mbps

Broadband data carriage in such networks is often accomplished using other typically dedicated QAM channels. For instance the well known DOCSIS specifications provide for high speed data transport over such RF channels in parallel with the video content transmission on other QAMs carried on the same RF medium i.e. coaxial cable . A cable modem is used to interface with a network counterpart CMTS so as to permit two way broadband data service between the network and users within a given service group.

Out of band OOB channels and associated protocols may be used to deliver metadata files to a subscriber device as well as to provide communication between the headend of the content based network and the subscriber devices.

Other systems and methods may also be used for delivering media content to a plurality of subscribers. For example so called Internet Protocol Television or IPTV is a system through which services are delivered to subscribers using the architecture and networking methods of an Internet Protocol Suite over a packet switched network infrastructure such as e.g. the Internet and broadband Internet access networks instead of being delivered through traditional radio frequency broadcast satellite signal or cable television CATV formats. These services may include for example Live TV Video On Demand VOD and Interactive TV iTV . IPTV delivers services including video audio text graphics data and control signals across an access agnostic packet switched network that employs the IP protocol. IPTV is managed in a way so as to provide the required level of quality of service QoS quality of experience QoE security interactivity and reliability via intelligent terminals such as PCs STBs handhelds TV and other terminals. IPTV service is usually delivered over a complex and heavy walled garden network which is carefully engineered to ensure sufficient bandwidth for delivery of vast amounts of multicast video traffic.

IPTV uses standard networking protocols for the delivery of content. This is accomplished by using consumer devices having broadband Internet connections for video streaming. Home networks based on standards such as next generation home network technology can be used to deliver IPTV content to subscriber devices in a home.

So called Internet TV on the other hand generally refers to transport streams sent over IP networks normally the Internet from outside the network e.g. cable HFCu satellite etc. that connects to the user s premises. An Internet TV provider has no control over the final delivery and so broadcasts on a best effort basis notably without QoS requirements.

There is also a growing effort to standardize the use of the 3GPP IP Multimedia System IMS as an architecture for supporting IPTV services in carriers networks in order to provide both voice and IPTV services over the same core infrastructure. IMS based IPTV may be adapted to be compliant with the IPTV solutions specifications issued by many IPTV standards development organizations SDOs such as e.g. Open IPTV Forum ETSI TISPAN ITU T etc.

While delivery of packetized content is well known in the prior art content delivery has to this point not been able to provide delivery of packetized e.g. IP media content to a subscriber devices over a content delivery network e.g. cable television HFC HFCu satellite etc. other than over the Internet as afforded by virtue of a satellite cable or other such modem i.e. Internet TV .

Moreover extant Internet TV and IPTV solutions regardless of bearer medium lack several fundamental capabilities now being demanded by users including i a high degree of personalization i.e. adaptation to the preferences and attributes of a specific user or group of users ii transportability of a given content session across different devices locations iii subscriber access to content regardless of location and iv access to a broad variety of content of different types e.g. from managed networks with professional content such as movies television shows sporting events etc. from unmanaged networks such as the Internet World Wide Web and from non professional users such as the subscriber s themselves . Users also want to be in control of the timing of delivery e.g. when it starts when it can be paused and restarted etc. . In simple terms next generation users want any content they desire delivered at any time and at any location and on any device they choose so called four any capability . For instance such a user might want to be able to access a YouTube video on their home television set or their favorite television program on their laptop or mobile smartphone while on the road or even an HBO or Showtime movie offered by their service provider at a friend s house who is not a subscriber of the same service provider and even seamlessly transport a given content delivery session between locations and or platforms e.g. from the PC in the study to the TV in the living room . Such capabilities simply do not exist under the prior art even under currently envisaged IPTV or IMS based solutions.

Additionally next generation subscribers also desire to integrate other functions common in their everyday lives with their access to content. For example functions or applications such as chat text SMS Twitter and Facebook as well as voice communications e.g. cellular PTT and VoIP are now ubiquitous and in very common use on a daily basis. A given user may wish to talk to a friend on voice chat text or tweet while also watching a movie of their favorite show while also accessing Internet content. Current state of the art requires the user to employ multiple distinct devices for these functions e.g. a cell phone DSTB television and laptop or PC .

Moreover there is no real overlap between the state of one service and another delivery of the user s television show or movie is not integrated with their telephony or other systems under the prior art approaches e.g. the movie does not pause when they receive a phone call or a text message thereby causing the user to at minimum be distracted or at worst lose part of the desired content especially if linear in nature .

Other functions associated with everyday life are also very desirable to integrate into a readily accessible common medium or portal such as for example an address book or telephone directory function. Instant and unified access to photos from loved ones or friends home videos and other such personalized content is also highly desirable to next generation users and not provided by current technology.

Further the lack of an even marginally effective IPTV solution for cable HFCu satellite wireless or optical networks i.e. one that provides even a fraction of the foregoing capabilities desired by next generation users significantly frustrates attracting new subscribers and keeping existing ones since the implementation of new business models and services addressing these needs are extremely slow and severely hampered by the limitations of the underlying content service delivery infrastructure. Such limitations on service velocity i.e. the speed and ease with which new solutions and applications can be implemented and provided to prospective or existing subscribers especially in light of the recent migration of traditional television watchers to alternate forums such as Internet based content delivery or P2P services e.g. Hulu exacerbate the difficulty for cable satellite HFCu or other service providers to attract and keep their subscribers. Stated simply why should one pay a service provider for content or services they can obtain for free on e.g. the Internet or via a low cost movie mail service e.g. Netflix 

What current and next generation users would pay for however is service differentiation i.e. what they could not get on the Internet or via a mail service. Factors that weigh into this service differentiation include i the aforementioned level of service integration and transportability i.e. ability to provide the four any s and do so in a simplified and easy to use service environment ii the quality of delivered service mobility and transportability are of little use when the picture audio quality are not acceptable iii the reliability and support associated with the service iv the user cost associated with providing and maintaining the service s v the degree of personalization which can be afforded in providing the services vi security considerations i.e. are my content personal information and privacy aspects viewing habits etc. safe and vii how rapidly and seamlessly changes e.g. service additions subtractions modifications to their service package can be implemented.

As a result of the intense competition for broadband access and other services some voice and data service providers have recently begun deploying or planning to deploy IPTV services as part of a bundled service offering. This is seen as a necessary evolution to retain customers grow market share and increase the profitability of broadband services. Such bundling is to be distinguished however from a true integration or convergence of services as previously described. Bundling merely affords a subscriber some economy of cost and implementation by using a common service provider for what are still fundamentally disparate and heterogeneous services.

Such prior art bundled approaches are also highly vendor and implementation specific. These vendor specific implementations can be described as silo or stovepipe approaches in that they are highly vertical and generally not amenable to integration or interoperability with other types of services at least not at any fundamental level .

It also is important to note that simple bundles of services e.g. providing voice video and data services in a unified package with a single bill are typically offered at a lower price than the equivalent services offered separately resulting in a decrease in Average Revenue Per User ARPU to the service provider in the long term. Hence what are needed are also ways for a service provider to increase the value of its services to generate increased ARPU and to decrease customer churn turnover that also reduces service profitability.

Based on the foregoing improved apparatus and methods are needed to provide content delivery and other services such as voice SMS text broadband access etc. to consumer devices according to a highly unified and converged service model. Such apparatus methods would ideally provide television content that is highly personalized and flexible as to delivery mode location and device as well as interactive and converged user applications which are useful across several devices and easily integrated with other services . These improved apparatus and methods would also facilitate a high level of service velocity thereby mitigating or eliminating customer frustration at not getting what they want when they want it as well as provide significant differentiation over extant service and delivery models by inter alia being able to rapidly generate and implement new applications without large investments in capital or man hours.

The present invention addresses the foregoing needs by providing improved methods and apparatus for packetized delivery of content over a network.

In a first aspect of the invention a content delivery network is provided. In one embodiment the network is configured to provide packetized delivery of at least video voice and or data to a plurality of different users using a common packet protocol transport which is agnostic to the underlying network architecture.

In another variant the network comprises a common control layer. The common control layer enables for example blended or cross service control functionality including transfer of sessions from on network to off network and vice versa.

In yet another variant the delivery of at least one of said video voice and data is performed using i a session based protocol and ii sessions that are unique to each of said plurality of users. The packet protocol comprises e.g. the Internet protocol IP and the session based protocol comprises e.g. the Session Initiation Protocol SIP .

In still a further variant the network comprises a radio frequency interface e.g. satellite or coaxial cable being adapted to transmit said video voice and data to said plurality of different users over the common transport using a plurality of Quadrature Amplitude Modulated QAM channels.

In yet a further variant the network comprises an optical electrical networking unit adapted to convert the video voice and data from the optical domain to the electrical domain and transmit the converted signals to a plurality of different users over the common transport.

In yet another variant at least portions of the network is compliant with 3GPP IP Multimedia System IMS standards.

In a second aspect of the invention a substantially aggregated network headend architecture is disclosed. In one embodiment the architecture comprises at least one super headend national level entity which supports a plurality of regional and divisional entities for content delivery. This at least one aggregated headend obviates duplication of records streamlines management functions and in one variant employs a common service architecture.

In a third aspect of the invention a client side e.g. premises network architecture is disclosed. In one embodiment the architecture comprises a multi function converged gateway apparatus that is configured to interface with a plurality of client devices such as DVRs DSTBs personal mobile or media devices PMDs monitors and other converged premises devices CPDs .

In a fourth aspect of the invention a packet enabled client device is disclosed. In one embodiment the device comprises an IP enabled digital settop box DSTB . In another embodiment the device comprises a WiMAX enabled DOCSIS modem. In yet another embodiment the device comprises a mobile wireless e.g. WiMAX enabled device.

In a fifth aspect of the invention a computer readable apparatus is disclosed. In one embodiment the apparatus comprises a storage medium having at least one computer program disposed thereon the at least one program being adapted to perform IP packet encapsulation of video content and delivery via a transport protocol e.g. RTP .

In a sixth aspect of the invention a content security architecture is disclosed. In one embodiment the architecture comprises selective use of DRM and Conditional Access technologies in conjunction with on net and off net packetized content delivery.

In a seventh aspect of the invention a network server is disclosed. In one embodiment the server comprises a computerized device adapted to i initiate a unicast or multicast communications session with one or more client devices and ii stream IP packetized content using a real time streaming protocol having QoS capability.

In an eighth aspect of the invention a method of operating a content delivery network is disclosed. In one embodiment the method comprises i instantiating a plurality of client server sessions ii delivering requested packetized content over the sessions and iii individually tailoring content delivered via each session to specific user demographics or preferences.

In an eleventh aspect of the invention a user interface UI architecture is disclosed. In one embodiment the UI architecture is substantially centralized and controlled configured primarily from the network operator side versus the client side thereby allowing for enhanced levels of service adaptation and personalization. The UI for a given user or even user device may be rapidly reconfigured by the network operator so as to reflect new or changed services updates personal preferences etc.

In a twelfth aspect of the invention a method of creating new services is disclosed. In one embodiment the method comprises utilizing common control plane functionality to allow two or more disparate services to interface so that at least one of the services can control at least a portion of the function of another of the services when the two are utilized simultaneously.

As used herein the terms computer program routine and subroutine are substantially synonymous with computer program being used typically but not exclusively to describe collections or groups of the latter two elements. Such programs and routines subroutines may be rendered in any language including without limitation C C C Fortran COBOL PASCAL assembly language markup languages e.g. HTML SGML XML VoXML and the like as well as object oriented environments such as the Common Object Request Broker Architecture CORBA Java Java Beans and the like. In general however all of the aforementioned terms as used herein are meant to encompass any series of logical steps performed in a sequence to accomplish a given purpose.

As used herein the term headend refers generally to a networked system controlled by an operator e.g. an MSO or multiple systems operator that distributes programming to MSO clientele having user or client devices. Such programming may include literally any information source receiver including inter alia free to air TV channels pay TV channels interactive TV IP TV and the Internet.

Similarly the term Customer Premises Equipment CPE refers to any type of electronic equipment located within or associated with a customer s or user s premises and connected to a network. The term host device refers generally to a terminal device that has access to digital television content via a satellite cable wireless or terrestrial network. The host device functionality may be integrated into a digital television DTV set. The term customer premises equipment CPE includes without limitation such electronic equipment such as set top boxes including IP enabled DSTBs televisions Digital Video Recorders DVR gateways gateway storage devices Furnace converged premises devices CPDs and ITV Personal Computers.

As used herein the term integrated circuit IC refers to any type of device having any level of integration including without limitation VLSI VLSI and LSI and irrespective of process or base materials including without limitation Si SiGe CMOS and GaAs . ICs may include for example memory devices e.g. DRAM SRAM DDRAM EEPROM Flash ROM digital processors SoC devices FPGAs ASICs ADCs DACs transceivers memory controllers and other devices as well as any combinations thereof.

As used herein the terms media feature and media application refers without limitation to any application or service which delivers or transmits one or more types of media such as voice video audio SMS text data files or other data types to or from a user.

As used herein the term memory includes any type of integrated circuit or other storage device adapted for storing digital data including without limitation ROM. PROM EEPROM DRAM SDRAM DDR 2 SDRAM EDO FPMS RLDRAM SRAM flash memory e.g. NAND NOR and PSRAM.

As used herein the terms microprocessor and digital processor are meant generally to include all types of digital processing devices including without limitation digital signal processors DSPs reduced instruction set computers RISC general purpose CISC processors microprocessors gate arrays e.g. FPGAs PLDs reconfigurable compute fabrics RCFs array processors secure microprocessors and application specific integrated circuits ASICs . Such digital processors may be contained on a single unitary IC die or distributed across multiple components.

As used herein the terms MSO or multiple systems operator refer to a cable satellite wireless or terrestrial network provider having infrastructure required to deliver services including programming interactive services and data over those mediums.

As used herein the terms network and bearer network refer generally to any type of telecommunications or data network including without limitation hybrid fiber coax HFC networks satellite networks telco or cellular networks and data networks including MANS WANs LANs WLANs internets and intranets whether packet switched circuit switched or otherwise. Such networks or portions thereof may utilize any one or more different topologies e.g. ring bus star loop etc. transmission media e.g. wired RF cable RF wireless millimeter wave optical etc. and or communications or networking protocols e.g. SONET DOCSIS PON AON IEEE Std. 802.3 ATM TCP IP X.25 Frame Relay 3GPP 3GPP2 LTE Long Term Evolution UMTS WAP SIP UDP FTP RTP RTCP RTSP H.323 etc. .

As used herein the terms network agent and network entity refers to any network entity whether software firmware and or hardware based adapted to perform one or more specific purposes. For example a network agent or entity may comprise a computer program running in server belonging to a network operator which is in communication with one or more processes on a CPE or other device.

As used herein the term network interface refers to any signal data or software interface with a component network or process including without limitation those of the FireWire e.g. FW400 FW800 etc. USB e.g. USB2 USB on the go OTG wireless USB Ethernet e.g. 10 100 10 100 1000 Gigabit Ethernet 10 Gig E etc. MoCA Serial ATA e.g. SATA e SATA SATAII Ultra ATA DMA Coaxsys e.g. TVnet radio frequency tuner e.g. in band or out of band cable modem etc. Wi Fi e.g. 802.11a b g n WiMAX 802.16 MWBA 802.20 PAN 802.15 Hypertext Transfer Protocol HTTP FibreChannel FibreChannel over Ethernet FCOE internet Small Computer System Interface iSCSI Serial Attached SCSI SAS Solid State Drive SSD or IrDA families whether wireless wireline or optical in nature.

As used herein the term node refers without limitation to any location functional entity or component within a network.

As used herein the term on demand or OD is meant to include any service that enables real quasi real time or even non real time delivery of content such as audio and or video programs at any resolution or data. Such content may be for example stored or temporarily cached on a server or streamed directly from a source and may be in response to a user initiated event service profile or configuration headend event or otherwise.

As used herein the term QAM refers to modulation schemes used for sending signals over cable networks. Such modulation scheme might use any constellation level e.g. QPSK QAM 16 QAM 64 QAM 256 etc. depending on details of a cable network. A QAM may also refer to a physical channel modulated according to the schemes.

As used herein the term server may refer to any computerized component system or entity regardless of form which is adapted to provide data files applications content or other services to one or more other devices or entities on a computer or other network.

As used herein the term service content program and stream are sometimes used synonymously to refer to a sequence of packetized data that is provided in what a subscriber may perceive as a service. A service or content or stream in the former specialized sense may correspond to different types of services in the latter non technical sense. For example a service in the specialized sense may correspond to among others video broadcast audio only broadcast pay per view or video on demand. The perceivable content provided on such a service may be live pre recorded delimited in time undelimited in time or of other descriptions. In some cases a service in the specialized sense may correspond to what a subscriber would perceive as a channel in traditional broadcast television.

As used herein the terms personal mobile device and PMD include but are not limited to cellular phones smartphones media players personal digital assistants handheld computers personal communicators SIP phones personal computers PCs and minicomputers whether desktop laptop or otherwise or literally any other device capable of receiving video audio or data with a network.

As used herein the term provisioning may refer generally to a process whereby a package content title or other information is provided to a service such as on demand download service so that the information is integrated with other functions and software modules within the service.

As used herein the term service group may refer to either a group of service users e.g. subscribers or the resources shared by them in the form of distributed signal only the channels used to receive the service or otherwise treated as a single logical unit by the network for resource assignment.

As used herein the term storage device may refer to without limitation computer hard drives DVR device memory RAID devices or arrays optical media e.g. CD ROMs Laserdiscs Blu Ray etc. or any other devices or media capable of storing content or other information.

As used herein the terms user channel and program channel are all generally synonymous with the concept of a perceived stream of information. For example a program user channel might comprise Channel 3 which carries the content of a given network e.g. NBC . This is to be distinguished from a physical channel which is used to physically carry and distribute the content which may for example comprise one or more QAMs within a given portion of the RF spectrum of a cable system.

As used herein the term user interface may refer to without limitation any visual graphical tactile audible sensory or other means of providing information to and or receiving information from a user or other entity.

As used herein the term Wi Fi refers to without limitation any of the variants of IEEE Std. 802.11 or related standards including 802.11 a b g n.

As used herein the term wireless means any wireless signal data communication or other interface which may include without limitation Wi Fi Bluetooth 3G e.g. 3GPP 3GPP2 HSDPA HSUPA UMTS LTE TDMA CDMA e.g. IS 95A WCDMA etc. FHSS DSSS GSM PAN 802.15 WiMAX 802.16 802.20 narrowband FDMA OFDM PCS DCS analog cellular CDPD satellite systems millimeter wave or microwave systems acoustic and infrared i.e. IrDA .

The present invention provides inter alia improved apparatus and methods for content delivery including video voice and broadband data to users. In one aspect the invention comprises a substantially session based and packetized content delivery approach e.g. using the well known Internet Protocol which allows for temporal device and location flexibility in the delivery of the content and transportability migration of user sessions i.e. the four anys previously described as well as service content personalization e.g. on a per session user basis and blending integration . This approach uses a common or unified delivery architecture in providing what were heretofore heterogeneous services supplied by substantially different and often vendor specific networks.

Moreover the foregoing improved apparatus and methods provide for enhanced content access reproduction and distribution control via e.g. a DRM based approach and other security and content control measures as well as quality of service QoS guarantees which maintain high media quality and user experience especially when compared to prior art Internet TV paradigms.

In one exemplary implementation the network is based on an IMS IP Multimedia System which includes SIP session protocols as well as a Service Delivery Platform SDP . The IMS SDP also uses a common control plane and service layer which advantageously provide a high level of service integration and greatly enhanced opportunities for truly blended content delivery and service control.

In another implementation the network comprises both managed and unmanaged or off network services so that a network operator can utilize both its own and external infrastructure to provide content delivery to its subscribers in various locations and use cases. In one variant of this approach network services are sent over the top of other provider s infrastructure thereby making the service network substantially network agnostic. In another variant a cooperative approach between providers is utilized so that features or capabilities present in one provider s network e.g. authentication of mobile devices can be leveraged by another provider operating in cooperation therewith.

In another aspect the invention leverages so called super headends which provide a high degree of centralization of functions such as content storage processing and back office functions to allow for more flexible delivery as well as enhanced service velocity . In one embodiment the super headend makes use of substantially aggregated subscriber databases and content stores so that the burden of maintaining databases current and consistent is greatly reduced and content delivery is streamlined. The super headend also provides centralization of acquisition of nationally available content which allows an operator to minimize the number of places that video is acquired and thus the number of transcoders needed to place that content into the correct format for delivery to a rendering device. The super headend also reduces the number of servers transcoders that need to be managed and maintained which is advantageously less expensive and arguably more reliable than replicating the acquisition at each division as is currently done in prior art networks.

The utilization of a super headend further enables metadata warehousing for linear broadcast i.e. guide data and on demand content i.e. catalog data . Content management and tracking including content physical location and or location URL management content format management e.g. standard definition high definition MPEG 2 MPEG 4 etc. may also be provided via the super headend of the invention. In addition the super headend may provide the following functionality i policy and rights management warehousing ii encoding transcoding transrating into one or more desired formats iii centralization of channel maps on demand offerings etc. iv inexpensive and efficient storage of so called long tail content and v centralized aggregation points for accessing third party content or other libraries.

In another aspect of the invention a substantially network based user interface UI architecture is employed which permits the network operator or a designated proxy entity to manage and rapidly reconfigure the UI for particular premises subscribers or even particular devices of that subscriber premises thereby greatly aiding personalization and service velocity. For example a new service selected by a user can be reflected in that user s UI simply based on a download and installation from a network UI server so that no service call or truck roll is needed. Moreover the different UIs of the network operator can be adapted to different device paradigms e.g. premises DSTB HDTV monitor PC laptop handheld mobile device etc. so that a common user and or account theme and preference set is maintained across the different devices. This UI architecture can also leverage next generation content display organization interactivity and recommendation engine technologies thereby providing for a richer and more subscriber specific personalized media experience.

The foregoing components and methods also advantageously provide significant new opportunities for business models and increased revenue subscriber retention including for example blended service offerings i.e. heretofore distinct services being highly integrated with one another both at the application layer and control plane and unification of device hardware and software environments including reduction of the different types of hardware software needed to access the various services.

Exemplary embodiments of the apparatus and methods of the present invention are now described in detail. It will be appreciated that the general principles and features of the invention may be extended to literally any type of network and or architecture whether broadband narrowband wired or wireless satellite or cable optical hybridized e.g. HFC HFCu etc. or otherwise the following therefore being merely exemplary in nature.

It will also be appreciated that while described generally in the context of a network providing service to a customer end user domain the present invention may be readily adapted to other types of environments including e.g. commercial enterprise and government military applications. Myriad other applications are possible.

It is further noted that while certain exemplary embodiments are described primarily in the context of 6 MHz RF modulated carriers the present invention is applicable to literally any frequency bandwidth modulation type or medium access scheme and can be implemented for example using QAM orthogonal frequency division multiplexing OFDM sigma delta modulation SDM time division multiplexing TDM etc. For example VOD and or broadcast content may be delivered via an HFCu network utilizing a fiber optic distribution network with node or last mile delivery being over installed POTS PSTN phone wiring or CAT 5 cabling. Still further networks utilizing 6 MHz RF modulated carriers within a premises but having delivery thereto e.g. to the premises effected via a different mechanism such as e.g. an optical fiber distribution network may be utilized consistent with the present invention as well.

Also while certain aspects are described primarily in the context of the well known IP or Internet Protocol described in inter alia RFC 791 and 2460 and associated transport control protocol TCP it will be appreciated that the present invention may utilize other types of packetization and transport protocols to implement the described functionality.

It will further be appreciated that while the exemplary embodiments presented herein are described in the context of services that may include multicast and unicast sessions the present invention is applicable to other types of services that include multicast transmission of data delivered over a network having multiple physical channels or even virtual or logical channels .

As illustrated in the metadata management function comprises a metadata ingest function . The metadata ingested by the ingest function may comprise Media RSS data mRSS as well as extensible markup language XML data. A validation enhancement function is also optionally provided. In one embodiment the validation enhancement function of the metadata management element may be used to inter alia validate and or enhance the data received such as where the metadata is validated as to format and or enriched with additional data or functionality. The metadata is then stored at the metadata database index . A Representational State Transfer REST search recommendation entity is also utilized at the metadata management function .

In one embodiment the REST search recommendation entity may be utilized to provide state transfer capabilities between devices. The REST search recommendation entity enables a user to book mark content at a first device and have the content moved to a different place in the premises and or a different device. In other words the state of the content at the first device is identified and transferred e.g. as metadata along with the content to a second device not necessarily via the same transport however. The second device may then begin playback of the content according to the state identified in the metadata. Other states may be transferred as well including e.g. a pause StartOver etc. function. The state transfer capabilities may be automatic such as upon teardown and or subject to user request. The above disclosed state transfer capabilities may be effected via a uniform user interface present on each of the devices and enable content state transfer across multiple different platforms and even different networks e.g. from on net to off net as described subsequently herein .

In one embodiment the general state transfer concepts are of the type disclosed in co owned U.S. Pat. No. 7 486 869 issued Feb. 3 2009 and entitled System and method for controlling a digital video recorder on a cable network which is incorporated herein by reference in its entirety. As discussed therein signaling associated with the answering or initiation of a digital telephone call by a digital telephone subscriber is used to issue commands to a digital video recorder DVR . For example a signal is generated by a first device at a first event such as e.g. a signal is generated when a telephone enters an off hook state the signal is sent to a second device indicating the event such as e.g. a DVR . In response to receiving the signal the second device takes some action with respect to content e.g. pausing or initiating a recording of the content at the DVR . A second signal received from the first device may in one embodiment be generated on the happening of a second event transferred to the second device and cause a second response at the second device. The aforementioned state messages may be sent over an out of band channel path between the devices.

In another embodiment the aforementioned state transfer capabilities may be utilized to provide state transfer operations between legacy devices and IP capable devices by e.g. utilizing a VOD based mechanism to move a state message therebetween.

The content management function of the logical architecture comprises a plurality of functions individual functions for managing content. As shown a content ingest function is used the content ingest function in one embodiment is generally similar to that discussed above with respect to the metadata ingest function . Accordingly the content ingest function may ingest mRSS and or XML associated with the content. The ingested content is transcoded and encrypted at the transcoding and encryption functions respectively as required. Various analytics may also be performed at the analytics function which may include e.g. analysis of content parameters or higher level aspects.

The content management function further comprises an entitlement engine and entitlement services function which cooperate as discussed below to ensure content is sent to only those devices and subscribers which are entitled to receive the content. A workflow function and license management service are also illustrated within the content management system . The content management function further includes a REST and mRSS entity .

The content management function communicates with the video portal via a portal component comprising a content management system CMS and web application services function .

As illustrated in the BSS function generally comprises an identity management apparatus e.g. IDMS and billing services function . The BSS further incorporates the functionality of advertising functions and analytics functions to support billing and service management.

At the content delivery portion of the architecture of content may be stored at e.g. the storage entity . Content distribution network CDN functionality may be included as well including inter alia various CDN root functions and CDN edge functions . Quality of service QoS services may be employed at the content delivery portion to ensure content is delivered according to pre established priority levels for the various applications users and data flows thereby guaranteeing a particular level of performance to a particular data flow.

The cross platform functionality incorporates mobile services functions for communication to mobile CPE or PMDs and e.g. so called myQ services . The myQ services of the exemplary embodiment enable a user to search for on demand content from the user s personal computer the searched content may be added to a queue or list. The queue is then updated at the user s CPE so that the user may view the queued content. The CPE receiving content via the cross platform functionality are able to access guides such as an electronic program guide EPG and video on demand VOD services via the Guide VOD service functionality . CPE may also have the benefit of utilizing rDVR services via the remote DVR rDVR service functionality of the cross platform element .

As illustrated the national level component generally comprises one or more data centers CDN root services and various software as a service SAAS data centers . In one embodiment the data centers each comprise an MSO managed data center having various services and portals therein.

In another embodiment the CDN root services are of the type discussed above with respect to CDN root element . The CDN root services comprise at least one storage entity and a streaming entity . The storage entity is used to store content for delivery via the streaming entity to other entities in the network including entities at the regional local component and or at the premises or outside the network as will be discussed below .

The SAAS data centers each comprise in one embodiment various services or applications which are licensed to customers for use as a service on demand.

At the regional local level illustrated in the network comprises a remote media processor having at least one ingest function one or more CDN edge entities and a local advertising entity . The ingest function of the remote media processor may in one embodiment be of the type discussed above with respect to . For example the ingest function may ingest mRSS and or XML content and or metadata in a manner similar to the ingest function of the metadata management component and or similar to the ingest function of the content management component .

The CDN edge entities may also be of the type discussed above with respect to the content delivery function of . Each of the CDN edge entities comprises a data cache for temporarily storing frequently accessed data in order to accommodate rapid access thereof. A streaming entity is also provided at the CDN edge entities for streaming cached data to other entities.

The local advertising entity also comprises an ingest function for collecting advertisement data and content for eventual presentation to a user. In one embodiment the ingest function of the advertising entity may be of the type discussed above with respect to i.e. the ingest function may ingest mRSS and or XML content and or metadata in a manner similar to the ingest function of the metadata management component and or similar to the ingest function of the content management component .

At the premises various user devices or CPE are present. As will be discussed in greater detail below the present invention is aimed at providing services to a broad variety of types of CPE including without limitation e.g. personal mobile devices PMD personal or laptop computers and set top boxes STB . In one embodiment content and data may be transmitted to the various CPE devices of a user premises via a gateway device . The gateway device will be discussed in greater detail below.

The BSS OSS element of generally comprises a plurality of management entities. A customer management entity is illustrated the customer management entity facilitates customer interactions. For example the customer management entity may assist in employee training so as to ensure quality in handling incoming customer phone calls and email. Information collected by the customer management entity may also be used for promotion and surveys such as those polling customer satisfaction. In one embodiment the customer management entity comprises a customer relationship management CRM entity e.g. of the type manufactured by Siebel systems now Oracle Corporation and discussed in International Data Corporation IDC publication entitled Oracle Vertical CRM Applications Realizing Business Benefit Through Industry Best Practices published March 2008 and incorporated herein by reference in its entirety although other types of processes may be used as well consistent with the invention.

A billing management entity may also be utilized in conjunction with the present invention. In one embodiment the billing management entity may comprise a billing and revenue management BRM entity such as that manufactured by Oracle Corporation and discussed in Oracle data sheet entitled Oracle Communications Billing And Revenue Management Release 7.4 Data Sheet which is incorporated herein by reference in its entirety.

The network and systems management NSM utility entity of manages the various system components to ensure the availability and performance of various processes effected thereby. The NSM manages the various network elements including equipment provisioning within the network. In one embodiment the NSM utility entity may also consolidate and automate event management across physical and virtual infrastructures. For example the NSM utility entity may comprise the suite of network and computer management software such as that manufactured by Computer Associates CA and discussed in Technology Brief Ca Nsm Unified Messaging Environment Managing Microsoft Environments with CA Systems Management Technology published in 2008 and incorporated herein by reference in its entirety although other approaches may be used with equal success.

A service activation program SAP entity may also be provided at the BSS OSS element . In one embodiment the SAP may comprise an automatic SAP ASAP of the type manufactured by Oracle Corporation. An inventory management entity may also be utilized in the present invention to provide management of the content and advertising inventory. The inventory management entity of may in one embodiment comprise a unified inventory management UIM entity of the type manufactured by Oracle Corporation and described in Oracle Publication entitled Enabling OSS Transformation with Data Federation published in April 2009 and incorporated herein by reference in its entirety.

The BSS OSS component illustrated in further comprises an order management OSMe entity which inter alia manages customer orders.

The illustrated IPTV component of the architecture of comprises inter alia security functions application server functions and streaming functions .

The security functions of the IPTV component include a digital rights management DRM license server and DRM domain controller . The DRM license server and DRM domain controller may be of the type utilized in current distribution networks. For example Windows Media Player DRM version 10 11 and 12 and subsequent versions Adobe McAfee DRM and or Sony Ericsson DRM FairPlay PlayReady Open Mobile Alliance OMA DRM etc. Also provided at the security functions of the IPTV component is a policy manager .

The application server functions illustrated in include a package management function a device authorization function a content authorization function and a remote user interface RUI server . In one embodiment the RUI server may comprise a Web4CE CEA 2014 for UPnP Remote UI disclosed in Consumer Electronics Association CEA document number CEA 2014 A entitled Web based Protocol and Framework for Remote User Interface on UNP Networks and the Internet Web4CE published July 2007 and incorporated herein by reference in its entirety although others may be used with equal success. The application server functions may further include a voice services proxy and a code download manager .

The streaming functions of the IPTV component may include an IPTV streaming server function for streaming content and data to CPE PMD and a VOD server for providing VOD content. An emergency alert system EAS server function may also be utilized. The EAS server function may be utilized to provide emergency alert data to CPE .

An Enhanced TV Binary Interchange Format eBIF proxy function may also be given for enabling eBIF applications at the CPE PMD . In one embodiment the eBIF proxy may be utilized in conjunction with the methods and apparatus discussed in co owned co pending U.S. patent application Ser. No. 12 582 653 filed on Oct. 20 2009 and entitled METHODS AND APPARATUS FOR ENABLING MEDIA FUNCTIONALITY IN A CONTENT BASED NETWORK which is incorporated herein by reference in its entirety. As discussed therein methods and apparatus for providing interactive media features or applications in a communications network are given. In one embodiment the invention provides an integrated premises media delivery system which advantageously enhances the user s convenience and experience in interacting with a variety of different applications such as VoIP phone service instant messaging service s email calendaring or scheduling services search engines address books or other information repositories etc.

In one particular implementation of the invention various of the foregoing interactive media applications are disposed at one or more headend entities also provided is a servlet application such as one resident on the given eBIF proxy function which facilitates communication between the various applications and one or more client applications resident on the user s premises system. Alternatively a gateway device may be utilized. In this manner a subscriber using his her premises or client device may access and interact with various ones of the applications in an integrated fashion. The data and or content is then processed as required and via the servlet delivered to one or more client devices. For example the content may be de encapsulated from a first container format and re encapsulated into a second format for delivery to the client device. The content may also optionally be transcoded and or transrated if desired.

The exemplary interactive media applications useful with the present invention may include inter alia i a search application which enables a user to search the Internet for data relating to displayed program or advertising content ii a real time web based micro blogging application which enables a user to post view and navigate micro blogs from the user s CPE simultaneously with viewing programming and advertising content and iii a so called request for information or RFI application which enables the user to select to receive additional information about a product or service .

The video acquisition element of the architecture of generally comprises a content library and video delivery platform . On demand and linear broadcast assets are received at the asset manager and live content manager respectively. The received content is then processed via one or more transcoders encoders and processing elements including e.g. a segmenting processor which will be discussed in greater detail below . A portion of the processed content is stored at the content library and provided to the users via the delivery platform . Linear broadcast content may alternatively or simultaneously be provided to the users directly i.e. not from the library . Various management entities may also be given for managing the delivery of content and other functions of the components of the video acquisition component .

The control layer of the reference architecture of generally comprises a session resource manager SRM process a packet management process and a web services entity . The packet management processes is utilized to inter alia reserve bandwidth or set QoS parameters e.g. minimums or guarantees for the delivery of some packets that make up a session. The packet management process may be used to reserve bandwidth for e.g. voice calls. The packet management process may further be used to query the CMTS to determine whether there is enough bandwidth to allow a video stream to be delivered through the CMTS. In one embodiment the packet management process comprises a PacketCable Multimedia implementation of the type discussed in PacketCable Specification entitled Multimedia Specification document number PKT SP MM I04 080522 and released May 22 2008 which is incorporated herein by reference in its entirety although other approaches may be used with equal success.

The control layer further comprises a media control subsystem which utilizes a plurality of service control and delivery functions for the provision of content to user CPE and PMD . As described below with respect to this control subsystem may in one embodiment comprise an IP Media System IMS .

The access layer of the reference architecture of comprises at least a Data Over Cable Service Interface Specification DOCSIS 3.0 cable modem termination system element . DOCSIS 3.0 is discussed in Cable Television Laboratories Inc. publication number CM SP OSSIv3.0 I10 091002 entitled Data Over Cable Service Interface Specifications DOCSIS 3.0 Operations Support System Interface Specification dated Oct. 2 2009 incorporated herein by reference in its entirety. Fiber to the X FTTx Ethernet passive optical network ePON capabilities are also given at the access layer . In another embodiment the access layer may utilize WiMAX content delivery functions.

At the device layer a home services gateway device element is provided. The gateway device itself may comprise various components for providing content to other devices in a home network. Exemplary variations of gateway devices will be discussed in greater detail below with respect to .

In the illustrated embodiment the gateway element of the reference architecture comprises DOCSIS 3.0 capability as discussed in previously incorporated publication number CM SP OSSIv3.0 I10 091002 and in publication number CM SP CMCIv3.0 I01 080320 entitled Data Over Cable Service Interface Specifications Cable Modem to Customer Premise Equipment Interface Specification dated Mar. 20 2008 which is also incorporated herein by reference in its entirety . The gateway device further comprises unicast translation capability . The unicast translation capability of the gateway is in one embodiment utilized to convert a multicast containing video into unicast within a premises. In this manner the video is precluded from being transmitted through every network in the premises such as e.g. MoCA wireless Ethernet etc. . The unicast translation capability may be further utilized to simplify network address translation such as for Internet protocol prior to IPv6 .

Still further the exemplary gateway device may comprise media server functionality . In one embodiment the media server functionality may be rendered by a DLNA Digital Living Network Alliance compliant digital media server DMS function as discussed in DLNA Interoperability Guidelines version 1.5 published March 2006 expanded October 2006 which is incorporated herein by reference in its entirety.

The gateway device may also implement one or more DRM capabilities . As discussed above the DRM capabilities may comprise any one of the currently available technologies. Alternatively or in conjunction with the aforementioned DRM capabilities a Digital Transmission Licensing Administrator DTLA digital transmission content protection DTCP over internet protocol IP capability as discussed in Digital Transmission Content Protection Specification Volume 1 Informational Version dated Oct. 1 2007 which is incorporated herein by reference in its entirety may be provided.

It will be appreciated that other components may be utilized within the gateway device the foregoing being merely illustrative.

Also illustrated at the device layer is an IP capable DSTB element . The IP STB element may comprise remote user interface RUI functionality . In one embodiment the RUI functionality may include a Web4CE CEA 2014 for UPnP RUI as disclosed in previously incorporated CEA document number CEA 2014 A entitled Web based Protocol and Framework for Remote User Interface on UPnP Networks and the Internet Web4CE . The IP STB may also incorporate DRM functionality as discussed above.

The device layer may further comprise a PC or laptop netbook or other computer device element PMD element and or other CPE .

It will be noted that in one embodiment the components of the embodiment of described above where similar to those of may be used interchangeably with those of the embodiment of

The architecture of also comprises various elements and entities not discussed above with respect to . Each of these will now be discussed in turn.

At the IPTV layer of the embodiment of the application server functions include a session manager live content manager and a session authorization entity . The streaming functions at the IPVT layer also include an advertisement insertion entity and a web application streaming entity . In one embodiment the web application streaming entity may comprise e.g. the Microsoft Silverlight product although others may be used with equal success.

The video acquisition layer of the embodiment of includes a plurality of content sources . Content is received from the various sources and processed via one or more processing elements including e.g. encoders transcoders and segmenting processors . The processed content may then be stored at one or more of a national content library a regional content library and or a division content library prior to being transmitted to a client device or PMD as discussed in greater detail below with respect to

The architecture of further comprises a presence messaging services element . The presence messaging services element comprises an identity management system IDMS which may be similar to that discussed above with respect to i.e. IDMS . The presence messaging services element further comprises messaging presence and social networking functionalities. The messaging functionality enables SMS text and or instant messaging the presence functionality enables monitoring of a user s activity for e.g. reporting to friends of the user social networking functionality allows a user to interact with various social networking applications. Each of the foregoing functionalities will be discussed in greater detail below.

At the control layer the embodiment of further includes a switched multicast unicast core router and a network resource manager .

At the access layer the embodiment of segregates managed data networks e.g. those operated or controlled by the MSO or a proxy from unmanaged networks those not qualifying as managed . The managed data networks include DOCSIS 3.0 CMTS capabilities as well as FTTH ePON capabilities . The unmanaged data networks include e.g. Wi Fi capability WiMAX capability and Evolution Data Optimized or Evolution Data only EVDO capabilities . EVDO refers to the telecommunications standard for wireless transmission of data through radio signals typically for broadband Internet access. EVDO uses code division multiple access CDMA as well as time division multiple access TDMA access to maximize both individual user s throughput and the overall system throughput. In one embodiment EVDO capabilities conform to the 3rd Generation Partnership Project 2 3GPP2 as part of the CDMA2000 family of standards as discussed in 3GPP2 document number 3GPP2 SC.R2003 002 0 dated Jan. 15 2004 and entitled System Release Guide for the Release of the cdma2000 System Specifications which is incorporated herein by reference in its entirety.

The on net service delivery layer refers generally to the device layer of the embodiment of . As illustrated therein a gateway device IP STB PC PMD and additional CPE including e.g. a tablet and DLNA compliant television are given.

The architecture of further comprises an off net work management element . The off net work management element enables content to be accessed by devices which are not part of the network e.g. are off net . For example content may be received at a PMD and or laptop computer

Referring now to one embodiment of a content acquisition storage and caching system CASCS according to the invention is described.

In one aspect the CASCS of the embodiment of provides a centralized content acquisition storage and caching system disposed in one or more physical locations for linear and file based assets. It employs inter alia i a single video staging and storage architecture for multiple video delivery platforms ii publishable APIs and iii standardized transport mechanisms. The system also supports legacy ISA video systems as well as other video delivery platforms such as web mobile etc .

The system of may further provide asset metadata warehousing for linear broadcast and on demand content content management and tracking policy and rights management warehousing encoding and transcoding centralization of channel maps on demand offerings etc. efficient long tail content storage and centralized aggregation points for accessing third party libraries.

The system of provides the ability to transcode video at different locations thereby minimizing transcoding capital expenditures CAPEX and operating expenditures OPEX . It also functions as a centralized location and warehouse for i asset metadata including VOD catalog metadata and channel guide data ii rights and operational business policy rules as they apply to assets and content e.g. content availability by platform content formats etc. iii a media library providing e.g. linear broadcast origination on demand content advertising promotional content and other media files .

In one embodiment the CASCS may comprise similar components to those discussed above with respect to the video acquisition element of the reference architecture of and or the video acquisition element of the embodiment of .

As shown in the CASCS comprises various management entities including inter alia i an asset manager component which may comprise e.g. the asset manager of ii a rights and policy manager component iii a live content manager which may comprise e.g. the live content manager of iv a file content manager and a v resource manager . The management entities manage content processing storage and distribution. For example the asset manger manages electronic program guide data and on demand asset metadata. The electronic program guide data may include linear broadcast asset metadata which is used to populate a guide such as an electronic program guide . In one embodiment the electronic program guide data may be provided by one or more server entities such as e.g. those associated with Tribune Media Services TMS Inc. The rights and policy manager manages content delivery storage and processing according to programming input rules policy and rights inputted by an MSO entity .

Received content is processed via one or more transcoders and or encoders prior to being streamed to a user via the media e.g. video delivery platform see discussion of below . Live content for example is retrieved processed at e.g. transcoders encoders and video processors and transmitted to a reliable multicast buffer . The content may then be sent to the media delivery platform for eventual presentation to a user. Content may also be stored at one or more content libraries which may be similar to the content library of and or libraries of and sent to the media delivery platform therefrom. In one embodiment content is processed using a segmenting processor prior to storage at the content libraries . In one embodiment the segmenting prepares content for transmission and or segmenting by processing through various staging processes or software applications adapted to run on the digital processor associated with the segmenting processor as discussed in greater detail subsequently herein.

Referring now to one embodiment of a media delivery platform useful within various aspects of the present invention is described in detail.

The media delivery platform of comprises a purposely modular and scalable video delivery system that can access and receive content from one or more national level content distribution centers or networks see discussion of below . Salient functions and features of the exemplary media e.g. video delivery system of include i client device e.g. CPE PMD gateway registration and management ii conditional access encryption DRM iii multi network and client capability iv video rate adaptation e.g. for non QoS sessions v video transport adaptation vi web based capability server side navigation functions vii edge advertisement insertion capability including linear and dynamic appendable playlists viii compliance to the national level content distribution network CDN APIs and transport modalities ix support of current and incipient FCC requirements where applicable and x client user and device specific metadata transformation.

The media delivery platform may further include a video chunking function as used by e.g. Microsoft Smooth Streaming Apple Adaptive Streaming etc.

The architecture of is also purposely configured to be flexible in its delivery of media e.g. video across any type of network including for example HFC HFCu QoS enabled IP e.g. IPTV walled garden or other architecture which maintains QoS such as via use of RTP RTCP and non QoS IP based such as the Internet . Moreover the streaming elements of the architecture are enabled for multiple well known and ubiquitous protocols including e.g. SSP LSCP RTSP HTTP etc.

The use of open APIs within the architecture of also advantageously allows third parties to readily engage in meaningful application development content delivery and alternate navigation systems as opposed to use of closed or proprietary interfaces .

As shown in the platform comprises inter alia i a switched multicast unicast server ii a fixed bitrate edge server and iii an adaptive bitrate edge server .

Multicast content sent on an MPEG transport stream transmitted from the CASCS is sent to the switched multicast unicast server . In one embodiment the switched multicast unicast server may comprise the switched multicast unicast core router previously discussed with respect to . Content received at the switched multicast unicast server is transmitted to a network encrypter for eventual delivery to users via a QoS session network .

Hypertext Transfer Protocol HTTP content is sent to both the fixed bitrate edge server and the adaptive bitrate edge server . At the fixed bitrate edge server content is sent to the network encrypter for delivery to user devices e.g. CPE PMD via a QoS session network . Content delivery and processing is managed via the file content manager and network resource manager . In one embodiment the file content manager comprises the content manager of and the network resource manager comprises the resource managers and previously discussed at and respectively.

Prior to encryption at the network encryptor advertisements may be inserted into the stream via an advertisement insertion entity which may be for example the advertisement insertion entity of .

The adaptive bitrate edge server may deliver content to a non QoS session network for delivery to additional user devices e.g. CPE and PMD .

Various additional management entities are utilized in the architecture of for the management of content delivery processing etc. For example a conditional access key manager an OSS and billing manager and an asset manager which may embody the functions of the asset managers and or of respectively may be in communication with the aforementioned switched multicast unicast server fixed bitrate edge server and adaptive bitrate edge server .

Also shown are client device registration management entities and rights and policy managers . The rights policy manager may embody the functions of the policy manager and or discussed above with respect to . A catalog and guide manager and session manager which may comprise the session manager function of may also be utilized to manage the functioning of the aforementioned switched multicast unicast server fixed bitrate edge server and adaptive bitrate edge server .

Referring now to a high level representation of one embodiment of a national network architecture useful with the present invention is given. This architecture leverages one or more so called super headends which provide a high degree of centralization of functions such as content storage processing and back office functions to allow for more flexible delivery. In one embodiment the super headend makes use of substantially aggregated subscriber databases and content stores so that the burden of maintaining databases current and consistent is greatly reduced and content delivery is streamlined.

As shown the national network generally comprises a national backbone network component a regional backbone network component and a divisional backbone network component in data communication with one another. As used herein the term backbone refers generally to a connective link or component of a network which links other networks together and typically with higher data carrying capacity than the individual networks in aggregate although other configurations may be used with equal success.

The national backbone component comprises a national video data center NVDC . Although illustrates only a single NVDC it is appreciated that several such NVDCs may be utilized in conjunction with the present invention. Furthermore in one embodiment the national backbone may be configured to comprise at least two NVDCs both of which having the capability to provide failover and redundancy services. In this way national services are not affected if one of the NVDCs experiences a total or partial failure e.g. to catastrophic natural disaster act of war or terrorism power failure etc. . The NVDC further comprises a national content library discussed in greater detail below.

The regional backbone component comprises a plurality of regional video data centers RVDCs . There are at least two RVDC connected to the backbone in the illustrated embodiment although any number may be used. A regional content library is associated with each RVDC .

The divisional backbone component comprises a plurality of divisional video data centers DVDCs . The DVDCs are each associated with one or more local headends which are utilized for providing content to a plurality of consumer premises equipment CPE .

It is via the national regional and divisional backbones that the NVDCs RVDCs and DVDCs are connected together. Content is acquired at the NVDC and stored at the national content library . From the national library the content may be pushed or pulled to one or more of the regional libraries of the RVDCs and or the divisional libraries of the DVDCs . It is further appreciated that content may be acquired at the regional network and or divisional network for push or pull therefrom as well.

In one embodiment the content acquired at the aforementioned national regional and or divisional levels comprises audio video content for distribution to a plurality of user devices CPE via local headends . As will be discussed in greater detail below the present invention provides for the distribution of packetized or encapsulated e.g. Internet Protocol IP audio video content to subscribers although other types of content may be delivered via the architectures described herein.

The so called catchers are video acquisition elements which capture audio video content from one or more content sources not shown . For example the catchers may catch linear broadcast content on demand content advertising content etc. The content may be received from third party sources e.g. studios or repositories linear feeds analog and or digital content storage facilities etc. The content may in one embodiment be received via a direct link from a content provider i.e. a Mezzanine feed. Such a connection delivers a high bit rate pristine but compressed version of the linear broadcast which is re encoded and or transcoded to the appropriate format such as e.g. MPEG 2 MPEG 4 JPEG 2000 etc. .

The integrated receiver decoder IRD comprises an entity used for the reception of contribution feeds that are intended for re broadcasting. The IRD may serve for example as an interface between a receiving satellite or microwave millimeter wave dish or other networks and a broadcasting facility video audio infrastructure.

Content captured at the catchers and or IRD is forwarded via the asset manager to the content library which will be discussed in greater detail below . The asset manager controls the receipt of content from various content sources. The asset manager further validates transforms and stages the received content for delivery to the content library . In one embodiment the asset manager comprises the Asset Management System AMS product offered by Tandberg Television Ltd. and described in Tandberg television publication entitled Asset Management System AMS made available July 2009 and incorporated herein by reference in its entirety. The asset manager allows for temporary warehousing of content before being loaded onto the storage library. In addition the manager allows for metadata manipulation and normalization. For example the asset manager may provide metadata in Cable Television Laboratories Inc. Cablelabs Asset Distribution Interface 2.0 ADI to be converted to ADI 1.1.

It is further appreciated that as illustrated the content received at the content acquisition elements may be forwarded to a transcoder transrater and or a re encoder.

The received content is transcoded transrated and or re encoded via one or more of a series of transcoder transrater re encoder entities . The content may be processed depending on the service it will be provided under. For example certain content may be re encoded for provision under an nPVR service such as the StartOver service offered by Assignee hereof discussed in co owned co pending U.S. patent application Ser. No. 10 913 064 filed Aug. 6 2004 and entitled Technique for delivering programming content based on a modified network personal video recorder service and published as U.S. Patent Publication No. 2005 0034171 each of which is incorporated by reference herein in its entirety . The content may also be transcoded into the appropriate video formats for distribution to the divisions based on the types of consumer premises equipment CPE receiving the content. Such transcoding may include inter alia formats for consumption by legacy set top boxes STBs such as SD MPEG 2 SD MPEG 4 HD MPEG 2 and HD MPEG 4 H.264 formats for use on personal computers PC as well as formats for use by smartphones and other portable media devices PMD etc. additional formats may be utilized the foregoing being merely illustrative .

In one embodiment content is automatically transcoded transrated and or re encoded according to a predetermined set of formats e.g. those formats which are most often requested or used by requesting devices . According to this embodiment the content is received and immediately transcoded transrated and or re encoded then stored at the national content library . If a request is received for content in a format which is not among the predetermined formats one or more entities may be responsible for transcoding and or re encoding the content on the fly .

In one embodiment the transcoded content is staged for transmission over the network prior to being placed on the national content library . The staging processor is an entity adapted to prepare content for segmenting and or for transmission to the national library for eventual streaming to one or more users. In one embodiment the segmenting processor prepares content for transmission and or segmenting by processing through various staging processes or software applications adapted to run on the digital processor associated with the staging processor as discussed in co owned co pending U.S. patent application Ser. No. 12 406 881 filed on Mar. 18 2009 and entitled Apparatus and Methods for Network Video Recording which is incorporated herein by reference in its entirety. As discussed therein the staging processor includes inter alia at least one segmenting process which divides the content video feed on valid GOP boundaries or I frames. A data file regarding the segmented content is also created which gives metadata regarding the content and points to the segmented portions of the content on the library .

The transcoded content is then stored at a national library . The national library is in the illustrated embodiment a part of a hierarchical library system comprising a national library a regional library and a divisional content store . National level content is stored at the national library and is distributed or cached at regional and local levels . In one embodiment distribution of content to a regional or local library is based solely upon demand and or usage such as where the most popular content is distributed cached to the network edge but larger catalog available in a national VOD library. For example when a CPE requests video content that is not resident on the divisional content store the divisional content store requests the content from the regional library . If the content is not cached at the regional library it is requested from the national library .

The various library entities communicate with one another to transfer information and or data via a web services interface. The web services interface may provide a listing of content and the locator URLS for the content so that asset metadata may be moved without actually having to move the content file e.g. MPEG file until the content is requested. Content may in one embodiment be pre placed at the edge e.g. the local library with an extended catalog being feed from the national and regional library cache elements as requested on a per request basis. In an alternative embodiment all content may be placed at the national level and as it is needed the content may be allowed to migrate to the edge based on usage e.g. percolated down the system to other regional and local libraries . In one variant the transfer of data between the libraries may be effectuated via so called faster than real time transfer capabilities such as those utilized by Burstware Faster Than Real Time product.

Data may be loaded to the library entities via e.g. proactive and or reactive loading. Proactive loading retrieves all the required state and then caches it for the lifetime of the application or the process. Reactive loading retrieves data when it is requested by the application and then caches it for future requests. Other methods may be used as well.

There are generally two types of nationally relevant content received at and distributed from the national backbone i on demand content and ii live or broadcast content.

National on demand content may either be pitched to the NVDC acquisition entities or harvested such as occurs for example for the content used in providing the aforementioned StartOver functionality .

Pitched content is captured and stored at the NVDC as discussed above and any needed transcoding transrating re encoding metadata augmentation and QA work is performed. The content is then placed on the national library . The national content library in one variant stores all of the nationally available on demand pitched content. Content is harvested from satellite feeds in real time is segmented according to program start stop times. Other content acquisition entities may also be utilized for capturing the content discussed herein. 

In addition for programming into which advertisements are inserted the program is segmented at advertisement insertion breaks. The segmenting functions may be performed by in one embodiment the aforementioned staging processor . The captured and segmented content is then stored on the national content library . The content is then provided to a user upon CPE request during the original broadcast of the content or in a window of time before or after the original broadcast time as discussed in previously referenced co owned co pending U.S. patent application Ser. No. 10 913 064 . Specifically harvested content that is provided to a user CPE during the so called StartOver window is segmented in real time using a scheduling element or SCTE 35 cute tone marker for ad insertion . The StartOver content may be captured at a local division level for local StartOver content etc. 

However as discussed above certain on demand content will be moved for storage on the regional or divisional libraries . When on demand content is selected by a user at his or her CPE the division content store of the divisional video data center DVDC serving the CPE is first checked to determine whether the content is cached there if not a regional library is queried. The regional library is located at one of the regional video data centers RVDC . If the content is not located at the regional level it will be searched for at the national library of the NVDC . This approach advantageously speeds content delivery if locally cached and minimizes the request and other overhead which would otherwise be required if all content were stored at the national level. The content storage facilities of the RVDC and DVDC as well as other components thereof will be discussed in greater detail below.

Once the content is located it is transmitted to the requesting CPE via the national backbone regional backbone and divisional backbone . The content is then streamed to a local headend associated with the requesting CPE for provision thereto. In one embodiment a copy of the requested on demand content which was not previously stored at the divisional content store is simultaneously sent to the divisional store for storage thereon. A least recently used LRU least frequently used LFU and or adaptive replacement caching ARC type caching algorithm may be used for providing content between these entities.

In one embodiment a tiered content delivery scheme is established as discussed in co owned co pending U.S. patent application Ser. No. 09 876 677 filed on Jun. 7 2001 and entitled Hybrid central distributed VOD system with tiered content structure which is incorporated herein by reference in its entirety. As discussed therein a hybrid central distributed and tiered video on demand VOD service network with tiered content structure is given. In particular the use of media servers located in both the headend station and the hub stations is discussed. Set top boxes are supplied VOD services from the high demand content media servers located in the hub station nearest to the user. The central media server located in the headend would be used as an installed backup to the hub media servers as the primary source for lower demand VOD services and as the source of the real time centrally encoded programs with PVR personal video recorder capabilities. By distributing the servers to the hub stations the size of the fiber transport network associated with delivering VOD services from the central headend media server is reduced. Each user has access to several server ports located on at least two servers. Multiple paths and channels are available for content distribution to each user assuring high system reliability and enhanced asset availability. Substantial cost benefits are derived from the reduced need for a large content distribution network and the reduced storage capacity requirements for hub servers.

In another embodiment hierarchical content delivery may be utilized for moving content between the libraries according to the methods discussed in co owned co pending U.S. Patent Application Serial No. 20080155059 filed on Dec. 22 2006 and entitled Methods And Apparatus For Supporting Content Distribution which is incorporated herein by reference in its entirety. As discussed therein content is supplied to temporary storage of a regional or local server used to supply the content to a customer s premises when the requested content is not already available in the regional or local server. A content server hierarchy may be implemented with servers higher up in the hierarchy including more content e.g. titles than the number of titles stored in the lower level servers. By storing less frequently accessed content in servers higher in the hierarchy and frequently requested titles lower in the hierarchy a vast number of titles can be supported without overburdening the storage available at local and regional servers. In addition a national or other server high in the hierarchy can be used to store move and distribute local or other content as part of an on demand service.

With respect to nationally available broadcast content the broadcast content is acquired from a plurality of nationally available channels at the NVDCs and transcoded transrated as discussed above in real time or near real time into the appropriate multiple formats needed to the CPE requesting the content. The broadcast video is multicast from the NVDCs across a data backbone to the RVDC of the regional network . The broadcast video is from the regional network multicast around regional rings to the DVDC of each divisional network . Broadcast content is then multicast from the divisional network to local headend or hubs and on to the CPE .

A subset of the nationally available programming is advertisement insertable. The video streams destined for legacy CPE are directed through the linear network advertisement splicer groomers not shown for the appropriate advertisements to be inserted according to a linear advertisement campaign manager not shown and via the SCTE 30 cues.

For nationally available broadcast content which is destined for delivery to non legacy device PCs and IP STBs a content distribution network CDN model is utilized. The broadcast content is delivered across the national backbone and regional backbone . As will be described below in one embodiment the traffic is routed across the divisional networks for delivery to the eQAMs and is simultaneously routed to CDN video servers not shown on the divisional area networks . The CDN video servers allow the PCs IP STBs and mobile video devices within the premises referred to herein collectively as IP devices to request the content and to join the multicast group.

Although not illustrated in one embodiment the architecture further comprises a set of telemetry servers which monitor and manage the backbone transport i.e. transport between the national backbone regional backbone and divisional backbone to highlight and avoid the introduction of latency or network outages that will affect the video delivery.

In another cooperative model the manager or operator of the off net network operates in a collaborative capacity with the managed network operator e.g. MSO to provide requested information and services. For example where the subscriber attempting to access content off net is both an MSO subscriber and a subscriber of a wireless cellular service provider WSP CSP the MSO and WSP CSP can collaborate and maintain records showing this correspondence thereby allowing the CSP WSP to authenticate and identify the requesting subscriber for the MSO. The MSO under this model in effect trusts the CSP WSP to properly authenticate and identify the subscriber and pass this information to the MSO so that the MSO can verify that subscriber s MSO account information personalize the content delivery UI etc. Such authentication and identification might consist of for example 802.1x RADIUS server authentication WAP WEP authentication via 3G UMTS mechanisms e.g. using the SIM card of the subscriber s 3G smartphone etc. as are well known in the wireless arts.

Referring again to certain content from the national library is also pulled to the real time and non real time transcoder transrater . The transcoder transrater is similar in operation to the transcoders re encoders discussed above in that the transcoder transrater can perform file based transcoding and or transrating for non real time delivery or stream based transcoding and or transrating for real time delivery . The formats would be the same as the list provided for the linear broadcast. However in one embodiment so called long tail content may not be transcoded until a first user requests the content. At that time the content is real time transcoded and sent to the client and then cached back onto the VOD server. In one embodiment transrating and or transcoding occurs according to the methods discussed in co owned co pending U.S. patent application Ser. No. 12 070 560 filed on Feb. 18 2008 and entitled Multi Stream Premises Apparatus and Methods for Use in a Content Based Network which is incorporated herein by reference in its entirety. As discussed therein intelligent caching and de caching of content is given by evaluating the demand for certain content elements and formats within the network and identifying duplications of requests or alternatively the proximity of one request to another in content encoding bitrate encryption space the caching controller of the present invention is able to dynamically balance caching of multiple versions of a content element e.g. movie and the need for on the fly transcoding transrating transcryption and associated assets.

In another embodiment analytical algorithms may be used to move content to the edge of the content delivery network by region based on e.g. popularity. If a given piece of content is not very popular it can be delivered from national storage. If it is more popular it can be delivered from a mid tier location e.g. regional storage or if very popular it can be stored at a local or divisional node of the network. This approach advantageously enables the MSO and content providers indirectly to reduce the transit charges on highly popular content yet avoid dispersal of all content to the network edge which can result in greater storage costs.

One or more regional libraries are located at the RVDC of the regional network illustrated in . In one embodiment these libraries are not pre populated with national content but instead the libraries request content from the national libraries such as on an as needed basis. In other words in the embodiment of content is not harvested at the regional level. Accordingly in this embodiment the storage capabilities of the regional library need only be on the order of 20 30 the size of the national library thereby reducing CAPEX costs and streamlining operation.

In the embodiment of content may be pitched or harvested at the divisional network . The content made available at the divisional level may include certain on demand content and live broadcast content which is only available at the divisional level either because i the content is harvested from off air or from local fiber feeds or ii it is pitched content which is only of interest at the local level for example local soccer matches little league games local weather etc . Metadata of the caught or harvested content is then augmented the content transcoded transrated and the content quality assured at the local level in a manner similar to that discussed above with respect to the nationally available content at the national level. In one embodiment quality assurance is accomplished manually to verify the video quality of the content however it is appreciated that automatic mechanisms e.g. software applications may be utilized as well.

The local content may also be made available to other divisions within the region as well as to the nation via a push or pull of the content to the regional library .

As illustrated the DVDC comprises one or more video streamers which act as pumps to provide the IP audio video content to the appropriate eQAM for legacy CPE consumption or any other IP routing device needed for delivery to non legacy CPE i.e. via CMTSs OLT or to other networks . It is appreciated that the aforementioned streamers may be located at the local headend associated with each DVDC or at yet other locations. The video streamers in the illustrated embodiment are not pre populated with content but rather request the content from the regional libraries as needed and keep that content in their own storage. Content may be held in storage at the divisional streamers until the popularity of other content causes it to be aged out or according to other business rules e.g. only kept for a specified period of time etc. 

Content streamed from the video streamers may as discussed above be ingested locally and stored at a divisional content library or store . Prior to its storage at the divisional library content may be processed by a staging processor of the type discussed above. The staging processor may process the content by inter alia preparing the content for segmenting and or for transmission to the library for eventual streaming to one or more users. In one embodiment the segmenting processor prepares content for transmission and or segmenting by processing through various staging processes or software applications adapted to run on the digital processor associated with the staging processor as discussed in previously incorporated co owned co pending U.S. patent application Ser. No. 12 406 881 . According to this embodiment the staging processor includes inter alia at least one segmenting process which divides the content video feed on valid GOP boundaries or I frames and a data file generator to generate a data file regarding the segmented content indicating where the segmented portions of the content are located in the library .

The divisional content library may communicate in one embodiment with a real time transcoder transrater for transcoding transrating received linear broadcast content. The transcoder The transcoder transrater is similar to the transcoder transrater of the national library. In one embodiment the transcoder transrater performs file based transcoding and or transrating for non real time delivery or stream based transcoding and or transrating for real time delivery . Also as discussed above transcoding of long tail content may not occur until a first user requests the content at which time it is real time transcoded sent to the client and then cached at the VOD server. The methods and apparatus of the previously incorporated co owned co pending U.S. patent application Ser. No. 12 070 560 may also be utilized as well.

Over the air OTA content may be received at an OTA receiver for transcoding transrating re encoding at transcoders transraters re encoders and provided to a user device as well. OTA content may simultaneously or alternatively be provided to the staging processor for storage at the division library as well.

The programmer direct connect provides a direct MP2 based connection to the transcoders transraters re encoders i.e. the SPTS CBR multicast output unit shown in .

The video streamers of the DVDC communicate with one or more advertisement campaign managers ACMs as well as one or more advertisement libraries not shown . The ACMs may be located at the NVDC RVDC and or DVDC . Further advertisements may be stored at any of the aforementioned content libraries e.g. national library regional library and or divisional library . In this manner each time a piece of content is requested from library the associated ACM will control one or more aspects of the advertisements inserted therein the advertisements being pulled from any of the aforementioned libraries . The ACMs determine inter alia whether pre and or post roll advertisements are to be provided in the form of a playlist. In one embodiment rather than storing the advertisements at the same libraries as the stored content e.g. national regional and or divisional content library the plurality of advertisements are stored on a separate advertisement library.

In yet another embodiment advertisements are inserted interstitially into harvested content based on advertisement insertion cue tones e.g. SCTE 30 detected at the time of harvesting the content. Different advertisements may be inserted into a single harvested asset based upon an ad zone as defined by an ACM at the divisional network .

Referring now to one exemplary embodiment of an exemplary NVDC is given. The NVDC generally comprises a plurality of content acquisition entities a plurality of transcoders transraters and or re encoders and a national content library . As discussed above the content acquisition entities may be configured to receive national VOD content such as from VOD catchers illustrated in EPG and VOD metadata and broadcast content from fiber and satellite.

Broadcast content received from fiber or satellite in either MPEG 2 or MPEG 4 format is sent to an MPEG 4 transcoder . The transcoder in the case of broadcast content transcodes and optionally transrates the content including transcoding the content to formats used by mobile devices PMD . The transcoded transrated and or re encoded content is forwarded to a staging processor for segmenting etc. as discussed above. The content is then forwarded for storage at the VOD library . In another flow broadcast content which does not have advertisements inserted therein when received yet which requires advertisements rather than being transmitted to the library via the staging processor is transmitted to an advertisement splicer . The advertisement splicer retrieves advertisements from the advertisement insertion server discussed below and determines which advertisements are to be inserted into the content based on one or more rules. The selected advertisements are then inserted immediately and the content may be forwarded on to the RVDC . Alternatively the content may be stored at the national library once advertisements have been inserted.

The content management system CMS of is configured to control the output of the transcoders transraters re encoders . The CMS is further responsible for keeping track of the content library and interpreting the content metadata and providing information to the user device regarding the content location permissions content type cost for user to download.

The NVDC of further comprises advertisement ingestion encoder entities which receive and encode national and divisional advertisements to an appropriate format. The divisional advertisements ingested at the NVDC are distributed to divisional advertisement systems discussed below . The NVDC also comprises a subscriber targeted information database which stores information regarding a plurality of subscribers. The information is utilized in one embodiment by an advertisement campaign manager and targeted advertisement processing entity to select advertisements based on one or more subscriber based criteria.

In one embodiment the campaign manager disclosed in co owned co pending U.S. patent application Ser. No. 12 503 772 entitled Methods and Apparatus for Classifying an Audience in a Content Based Network and filed on Jul. 15 2009 which is incorporated herein by reference in its entirety is utilized in conjunction with the present invention. As discussed therein methods and apparatus may be provided for identifying creating and distributing data relating to audience or viewer qualities to an advertisement management system and an advertisement decision maker. An advertising inventory is created and related to audiences by combining the audience data with advertisement placement opportunities. Methods and apparatus for measuring and managing such advertising inventory via e.g. a network based management system may also be provided. Measurement provides inter alia an accounting of sold inventory and measurement accumulated over time allows the value of the inventory to be realized. These methods and apparatus give a network operator or other entity the ability to offer new inventory with a high degree of confidence that booked orders will meet their audience penetration or impression goals or targets. The campaign manager may further be adapted to manage advertising campaigns for one or more advertisement promotional providers in order to for example increase advertising or associated sales revenue for an MSO as well as to increase the likelihood a particular advertiser will reach its targeted audience as precisely as possible and within any limitations of an advertiser MSO defined relationship .

Selection and insertion of targeted advertisements may occur based on any number of different parameters and or paradigms. For instance insertion may be user driven e.g. based on the user s stated preferences usage or purchase history demographics and or pyschographics location etc. advertiser or MSO driven e.g. as part of an advertising campaign content driven e.g. based on the subject matter or other features of the content stream into which it is being inserted and or may be based on network or external considerations e.g. available insertion time bandwidth etc. . Accordingly myriad different schemes for selection and insertion may be used consistent with the invention. See e.g. to the methods and systems disclosed in co owned co pending U.S. patent application Ser. No. 11 441 476 entitled SECONDARY CONTENT INSERTION APPARATUS AND METHODS and filed on May 24 2006 which is incorporated herein by reference in its entirety.

Revenue or profit implications associated with various operational or business courses of action may also be considered in the establishment and management of user sessions within the network. In an exemplary embodiment of the invention the methods and apparatus described in co owned and co pending U.S. patent application Ser. No. 11 974 700 entitled Methods And Apparatus For Revenue Optimized Delivery Of Content In A Network filed Oct. 15 2007 and incorporated herein by reference in its entirety may be used in a substantially automated fashion by applying a set of rules via a software process e.g. Network Optimization Controller or NOC . The NOC evaluates the various costs and benefits associated with various options for servicing a subscriber content delivery request and selects the most optimal option based on network operator rules that are programmed into the NOC. For example the NOC may decide between instantiating a new program stream that is specifically delivered and or targeted to one or a limited number of subscribers herein referred to as a microcast and accordingly consuming additional bandwidth versus steering the new request to an existing session or program stream that has a suitable correlation to the requesting subscriber s demographics or psychographics and perhaps utilizing the additional bandwidth for other purposes such as another unicast or multicast session which may represent a better revenue opportunity .

A user selects available content via accessing and interacting with an electronic program guide EPG or other selection mechanism such as via a graphical user interface GUI described in greater detail subsequently herein.

In one embodiment the user interface is of the type disclosed in co owned co pending U.S. patent application Ser. No. 12 414 554 filed on Mar. 30 2009 and entitled Personal Media Channel Apparatus and Methods which is incorporated herein by reference in its entirety may be utilized consistent with the present invention. In another embodiment the UI may utilize one or more mechanisms for providing recommended content such as that disclosed in co owned co pending U.S. patent application Ser. No. 12 414 576 filed on Mar. 30 2009 and entitled Recommendation Engine Apparatus and Methods which is incorporated herein by reference in its entirety. As discussed therein a mechanism for particularly selecting content to align with a user s preferences the latter which the viewer need not enter manually is given. The content provided to the user is compiled from various distinct sources including inter alia DVR broadcasts VOD systems start over systems etc. The present invention provides a mechanism to learn and unlearn the user s preferences and which content they are likely to enjoy based on actions taken with regard to the content. The recommended content may be displayed in one embodiment as a list or table of titles and related information of interest or alternatively fed to the user as a continuous content stream on a virtual channel. In another embodiment the compiled content is presented to the user in conjunction with an electronic program guide EPG which may be personalized to that user if desired.

The EPG GUI is populated via information and content retrieved by the content acquisition entities . An EPG GUI web server processes the retrieved information and content and generates the EPG GUI for display on a CPE . The web server advantageously enables the EPG and user login to an MSO run website to be web based. Device authentication for devices on the unmanaged network occurs via web server and application server see of the RVDC . As will be discussed below the CPE may access the EPG GUI via i a divisional network ii a network other than the network providing the content e.g. a network other than the MSO network or iii from a regional distribution entity discussed below .

As discussed above the regional library is configured to receive and store content from the national network and or divisional network . In one embodiment the regional library further comprises server functionality so as to service requests for content stored thereon. However it is appreciated that the regional library may merely serve as a database which is associated with a separate server entity not shown .

The SOA provides an interface through which the IP video infrastructure may interface with operations billing and provisioning system entities e.g. OSS and BSS functions .

The SOA is in one embodiment in communication with an identity management apparatus e.g. Identity Management System or IDMS and subscriber server e.g. a home subscriber server HSS in the illustrated variant . The IDMS and HSS are in communication with one another however it is appreciated that in one embodiment the functionality of the IDMS may be available in the HSS alone. The HSS serves as a central location for user profiles. It is via the HSS that subscribers on managed networks and unmanaged networks are authenticated. In other words the subscriber provides credentials or information which is checked against information stored in the HSS . Exemplary implementations of the HSS are described subsequently herein with respect to various IMS based embodiments of the invention.

The device management remote diagnostics servers are utilized to manage client devices remotely. The device management remote diagnostics servers may also determine whether a device is entitled to service.

As illustrated in several application servers are given. In one embodiment the application server comprises an application server AS such as that discussed in co owned co pending U.S. patent application Ser. No. 11 263 015 filed Oct. 2 2002 and entitled Network based digital information and entertainment storage and delivery system now published as U.S. Patent Application Publication No. 2003 0208767 each of the foregoing incorporated herein by reference in its entirety. In one variant the AS is a Mystro server device of the type utilized by the Assignee hereof although it will be appreciated that other configurations may be utilized with equal success. According to this embodiment the server device may be specifically configured to support the aforementioned user interface. The given server device may further provide StartOver content by capturing the content scheduling it and making the content available to a user. The exemplary Mystro server device also provides aggregation of various additional functions. The AS may be further adapted to perform content processing functions such as e.g. reformatting program streams transcoding transrating etc. and implementing trick mode functionality.

The divisional library receives content from a plurality of sources. In one embodiment the library may comprise a database for content and have a separate server entity not shown associated therewith.

As illustrated in the divisional library is configured to store advertising content such as that received from the local advertisement insertion server as well as local off air broadcast content and local on demand content. However it will be appreciated that the different types of content may be stored at separate library entities not show . Content may also be received at the DVDC from the RVDC and the NVDC . For example RVDC may provide on demand assets to the divisional library . Further broadcast video content may be received via a multicast from the NVDC as well as national advertisements ingested at the NVDC . In one embodiment national level content is stored at the divisional library not shown .

Local on demand content received at the DVDC is transcoded transrated as required at a local on demand content transcoder before it is transmitted to the library . Off air broadcast content is also transcoded transrated as required at a transcoder prior to being sent to the library for storage. In one embodiment the transcoded off air broadcast content is processed at a staging processor of the type previously discussed herein.

An advertisement splicer is also illustrated in the DVDC of . The advertisement splicer receives local and national advertisement content. The splicer is responsible for inserting advertisements into broadcast content whether received from the NVDC or acquired locally . National and local advertising content is ingested and stored at the advertisement insertion server which in some instances is controlled by a targeted advertisement processor . In other words the targeted advertisement processor may select certain ones of the local and or national advertisements for eventual streaming to a user based on one or more targeted secondary content insertion rules as discussed above and in previously incorporated co owned co pending U.S. patent application Ser. No. 11 441 476.

Off air broadcast content having advertisements spliced therein as well as content not having advertisements spliced therein whether broadcast on demand or national content from a NVDC multicast is in one embodiment sent to a real time encryption server . The encryption server may utilize conditional access CA and or digital rights management DRM mechanisms for the protection of content. Content integrity protection e.g. generation of a cryptographic residue or hash steaganographic techniques e.g. digital watermarking etc. may also be applied if desired to any content processed by the encryption server.

The CA protection mechanisms may in one variant be of the type disclosed in the Digital Video Broadcasting DVB CA standard entitled ETR 289 V1 October 1996 DVB CSA standard entitled DVB BlueBook A011r1 June 1996 and DVB CI standard entitled EN 50221 V1 February 1997 and extensions thereof TS101 699 V1.1.1 November 1999 . Generally CA protection requires certain criteria to be met before access to content is granted. Specifically CA uses scrambling and encryption e.g. public private key encryption of a data stream with a control word or key in order to ensure entities receiving the content are authorized to do so.

DRM protection mechanisms may in one variant be of the type utilized in current distribution networks. For example Windows Media Player DRIVE version 10 11 and 12 and subsequent versions Adobe McAfee DRM and or Sony Ericsson DRM etc. may be utilized in conjunction with the present invention. Multiple DRM approaches may optionally be utilized to increase security and efficiency. It is also appreciated that certain DRM suites such as e.g. Windows DRM may be utilized for mobile devices e.g. the PMD previously referenced in order to transfer content from DTCP over IP.

CA and DRM may use similar encryption methodology similar key exchange entitlement and similar private key derivation and protection however CA is more focused on assuring that a given subscriber is entitled to access encrypted content and the procedures for providing such access while DRM is more focused on how the content can be used viewed distributed reproduced etc. Hence the technologies are largely complementary in many regards. For internet and in home devices CPE CA such as e.g. Cable cards and DRM such as the aforementioned Windows DRM may be utilized together. For example a legacy client device may use CA whereas mobile device or other IP capable device may use DRM. Furthermore users will be able to impose restrictions on the use of their content.

A content security manager and DRM key database are also illustrated for use by the CA DRM security mechanisms discussed above. The content security manager is primarily responsible for implementing the aforementioned CA functionality. In one embodiment the content security manager includes a physical process for automatically and randomly generating control words e.g. 8 byte secret key which are used to scramble the data stream. The content security manager may further encrypt the control word in order to protect it during transmission to the receiver. According to this embodiment decryption of the code word is only permitted when the receiving entity is authorized to do so.

Authorization may be received in the form of an entitlement management message EMM . Alternatively the systems and methods discussed in co owned co pending U.S. patent application Ser. No. 12 536 724 filed on Aug. 6 2009 and entitled System And Method For Managing Entitlements To Data Over A Network which is incorporated herein by reference in its entirety. As discussed therein a request for content is received from the client device at a video streaming server of the DVDC . An entity at the DVDC such as the encryption server the content security manager or another entity obtains information identifying the user account such as subscriber identification number account number etc. and uses this information to request entitlements from an entitlements server not shown located elsewhere at the DVDC or alternatively at a local headend . Based on the results returned from the entitlements server the streaming server will either grant or deny the request including by not authorizing the user device to decrypt the code word. In yet another embodiment the content streaming server or other entity may comprise the functionality of the aforementioned entitlements server.

The DRM key database is responsible for maintaining and providing decryption keys to the various user device . The key server may further provide entitlement control messages ECM entitlement management messages EMM entitlement keys domain certificates etc.

As indicated above the video streaming server provides content IP audio video to one or more CPE via the divisional network . The video streaming server may in one embodiment utilize Real Time Streaming Protocol RTSP as discussed in Internet Engineering Task Force IETF RFC 2326 entitled published in 1998 and incorporated herein by reference in its entirety. As discussed therein RTSP is used to establish and control media sessions between end points. In the present invention a user may via his or her CPE issue trick mode or VCR like commands such as play and pause to facilitate real time control of playback of media files from the video server . The video streaming server may further be configured to use Real time Transport Protocol RTP for media stream delivery however it is appreciated that other transport protocols may be used as well. RTP as used in the present invention may comprise that described in IETF RFC 1889 published in 1996 and incorporated herein by reference in its entirety superseded by RFC 3550 in 2003 which is also incorporated herein by reference in its entirety . RTP may be utilized to carry media streams established on Session Initiation Protocol SIP sessions etc. advantageously with QoS. RTP and its associated control protocol RTCP is discussed in greater detail subsequently herein with respect to exemplary IMS base implementations of the invention.

The emergency alert system manager of comprises one or more entities responsible for providing emergency alert data to the user devices via the divisional network . The emergency alert system manager retrieves emergency alert data generates an emergency alert message determines the devices which are to receive the alert and provides for the transmission of the emergency alert to the devices.

In one embodiment the methods and apparatus disclosed in co owned U.S. Pat. No. 7 592 912 issued Sep. 22 2009 and entitled Emergency Alert Data Delivery Apparatus and Methods which is incorporated herein by reference in its entirety may be utilized to provide emergency alert data to the subscribers. As discussed therein data from an incoming EAS feed is passed to an EAS server for formatting and optional localization targeting based on geography or other parameters . If the data is audio and or text then it is formatted into a message to be sent over the network to the client devices. In one embodiment the network may comprise an IP network and the client devices comprise IP enabled DSTB a personal computer or PMD. The EAS message may be displayed in a new window and or overlay of the current video stream being displayed. Furthermore the audio portion of the received EAS message pre empts the audio track of the current program stream. The EAS data may also be independent of the program stream.

Referring now to another embodiment of a network architecture useful with the present invention is given. In the embodiment illustrated in many of the components previously discussed herein as being located at a the RVDC and or DVDC are in the present embodiment also located at the NVDC . In this manner content may be ingested by an MSO network and distributed to subscribers over networks other than the MSO network i.e. non MSO networks .

As illustrated in national broadcast content local broadcast content on demand content local advertisements EPG data and metadata are ingested at the national level. The ingested content is transcoded and or transrated at e.g. transcoders if necessary.

For example broadcast content ingested at the NVDC is sent to transcoders transraters re encoders for processing. Local broadcast content is also passed to the NVDC from a local ingesting entity not shown . Once transcoded transrated re encoded the broadcast content may be processed as an on demand asset or may be processed as broadcast content. Content which is to be processed as on demand content is next sent to a staging processor of the type discussed above e.g. of the type discussed in co owned co pending U.S. patent application Ser. No. 12 406 881 filed on Mar. 18 2009 and entitled Apparatus and Methods for Network Video Recording previously incorporated herein .

The staging processor utilizes various staging processes or software applications to prepare the content for transmission and or segmenting. The staging processor may include inter alia at least one segmenting process and a data file generator. Content from the staging processor is provided to the national library for storage thereon until the content is selected e.g. on demand for delivery to a user. Content ingested as on demand content may also be transcoded transrated re encoded and stored at the national library .

Broadcast content may alternatively be processed as on demand content. In this embodiment the content is spliced at the splicer then transmitted to a content security manager via a real time encryption server . A content security manager and DRM key database enable the processed broadcast content to be provided to users as will be discussed below .

The real time encryption servers used in conjunction with a content security manger and DRM key database as discussed above securely provide the on demand content to user PMD .

It is noted that the real time encryption servers or other servicing entity tasked with session establishment management for client devices and PMD can be integrated or included within rules or optimization algorithms running on the traditional server processes. For example the client device PMD bandwidth and or session number requirements are anticipated to vary significantly as a function of time or other parameters as is true of VOD. Hence these variations and their potential impact on the larger distribution plant can be integrated into bandwidth optimization and conservation algorithms thereby accounting for the client PMD sessions as if they were merely another VOD session for downstream CPE . Exemplary bandwidth management and optimization techniques compatible with various aspects of the present invention are described in inter alia co owned and co pending U.S. patent application Ser. No. 11 243 720 filed Oct. 4 2005 and entitled Self Monitoring And Optimizing Network Apparatus And Methods Ser. No. 11 291 328 filed Nov. 30 2005 entitled Apparatus And Methods For Utilizing Variable Rate Program Streams In A Network and Ser. No. 11 800 093 filed May 3 2007 and entitled Methods And Apparatus For Predictive Capacity Allocation each of the foregoing being incorporated herein by reference in its entirety.

Alternatively the servers servicing CPE requests can be made double duty so as to handle both PMD and CPE session requests and content delivery thereby further integrating the PMD services with extant plant services and also including the client PMD services within bandwidth optimization conservation processes indigenous to the network. Also the client PMD services and sessions can be included within any statistical multiplexing algorithms.

The real time encryption servers can also be made to support multiple session protocols such as SIP WAP WSP and SSP thereby allowing the real time encryption servers to be substantially agnostic to session requests received from heterogeneous types of clients or PMDs assuming sufficient capabilities are negotiated and present for transfer of the desired content .

Alternatively PMD services can be kept entirely separate of the extant delivery plant and separate optimization multiplexing algorithms employed if necessary.

The content distribution network of the present invention may also be configured with PacketCable or PacketCable Multimedia PCMM capability as well. PacketCable and PCMM enables a wide range of applications via DOCSIS 1.1 2.0 3.0 access networks such as Session Initiation Protocol SIP telephony video telephony multi player gaming and streaming media services. Using PCMM a client device e.g. PMD or CPE such as a 3G cellular smartphone videophone or a game console registers with a PCMM application manager. Once the device and its services are authorized the application manager communicates with a PCMM policy server to specify the quality of service QoS that should be applied. The policy server communicates with the DOCSIS 1.1 2.0 3.0 CMTS which guarantees that the needed bandwidth and latency are available for the services across the access network.

Other entities useful in providing content to the client or PMD include inter alia a cellular service provider CSP Mobile Switching Center MSC one or more base stations and a wireless service provider WSP .

The CSP provides mobile communication system services to cellular services subscribers. CSPs include such companies as Verizon Cingular and T Mobile which carry voice and data over a wireless network which can then deliver this voice and data to a PMD and similarly receive data from mobile units and pass it to its destination which may be another mobile unit a POTS based user a server Internet gateway etc. .

An MSC is a sophisticated telephony and data exchange which provides circuit switched and or packet switched calling i.e. mobility management and services to the PMD roaming within the area that it serves. For example this mobility management and services includes such things as voice data and fax as well as short message service SMS text and call divert. The MSC routes data and services to the appropriate base station s servicing the particular PMD at a given point in time.

Base stations are essentially low power multi channel two way radios which are in a fixed location. They are typically used by low power two way client PMDs e.g. cellular telephones smartphones PDAs etc. . The base station is the wireless link between a PMD and a land based network for routing voice and data between the two. Base stations are well understood in the wireless arts and as such will not be discussed further herein.

A WSP sometimes also referred to as a WISP wireless Internet service provider generally provides wireless access to broadband or similar capabilities through a network of access points such as the IEEE Std. 802.11 Wi Fi Access Points located in areas such as libraries Internet cafes and other public gathering locations. Access is provided from a given user s PMD e.g. laptop computer smartphone PDA etc. through the access point gateway to a local broadband connection the latter which provides Internet or other desired connectivity. For example another use of such access point is for enterprise applications wherein mobile users are able to access a corporate internet or LAN WAN.

Secondary content including advertisements and promotions may also be inserted into the requested content prior to delivery to a PMD user. In one embodiment the secondary content may be targeted to the requesting user or set of users. As previously noted the secondary content may for example be targeted based on geographic location of the user demographics psychographics etc. profile information derived from an HSS or user interaction with previous content as well as information or preferences provided directly by the user.

In one embodiment the aforementioned methods and apparatus of the previously incorporated co owned co pending. U.S. patent application Ser. No. 11 441 476 may be utilized in to provide targeted advertisement insertion.

In another embodiment the methods and apparatus disclosed in co owned co pending U.S. patent application Ser. No. 12 414 576 entitled Recommendation Engine Apparatus and Methods and filed on Mar. 30 2009 which is incorporated herein by reference in its entirety may be utilized to provide targeted secondary content insertion based on what is known about the requesting user. As discussed therein methods and apparatus for the identification and recommendation of content targeted to a particular user or group of users within a content based network such as a cable television HFCu or satellite network may be provided. In one salient aspect a mechanism for particularly selecting content to align with a user s preferences the latter which the viewer need not enter manually is used and disposed at e.g. the targeted advertisement processing entity previously described herein. This targeted advertisement processing entity may be used to learn and unlearn the user s preferences and which content they are likely to enjoy based on actions taken with regard to content provided to the user on previous occasion. The recommended content may be displayed in one embodiment as a list or table of titles and related information of interest or alternatively fed to the user as a continuous content stream on a virtual personalized channel described in co owned and co pending U.S. patent application Ser. No. 12 414 554 entitled Personal Media Channel Apparatus and Methods filed Mar. 30 2009 which is incorporated herein by reference in its entirety.

In another embodiment the compiled content is presented to the user in conjunction with an electronic program guide EPG which may be personalized to that user if desired. In another aspect the client applications discussed above are implemented by a network based entity such as a hub or headend server adapted to perform the above described functions for a variety of user profiles e.g. individual user profiles or user accounts simultaneously.

As shown local advertisements are ingested and stored at regional advertisement servers . The advertisements are then passed on to an advertisement insertion sewer including e.g. those located at the divisional backbone where they may be spliced via splicer into broadcast content.

The NVDC of the present embodiment further comprises a service delivery platform SDP converged subscriber management CSM entity . Various aspects of one exemplary implementation of the SDP are described subsequently herein with respect to i.e. IMS based variants .

As shown in the advertisement rules engine identity management system advertisement campaign manager and subscriber targeting information are each in communication with the SDP CSM . A plurality of services and or functions are provided by the SDP SCM including inter alia i a content catalog ii CPE management iii localization iv subscription management v user authentication and vi accounting . The SDP CSM advantageously is configured to provide an open interface accessible by either any service execution environment SEE or any other function or service in the SDP. The service enablers and network control functions of the SDP CSM may be accessed which provide an abstract simplified view in terms of used protocols and or exposed functions . Current Intelligent Network SDP s in fixed and mobile networks have very limited interworking beyond basic voice connectivity and hence the present invention enables operators to access network functionalities through a set of open standardized interfaces APIs even without a common control plane for the underlying networks. However the introduction of the common transport and common control planes as described in greater detail subsequently herein advantageously provides the full set of network functionalities to the applications in the SDP CSM .

The present invention also provides for different types of SEEs which may cooperate to deliver services via service logic at the server side deployed thereon. The SDP CSM further provides a unified view of all data relating to different entities customers services etc. although the data itself may be stored at different repositories.

It is the SDP CSM which provides interaction between the MSO national network and third party domains e.g. off net networks non MSO networks . The SDP CSM ensures that interaction therebetween is via a single set of functions and a uniform set of interfaces.

At a granular intra face level within the SDP CSM the sequence of functional execution is in one embodiment aligned with the TeleManagement Forum TMF Business Process Framework eTOM Framework Level 3 5 as described in e.g. TMF eTOM publication entitled 921 8.0 dated Nov. 17 2008 which is incorporated herein by reference in its entirety. This interaction is ideally accomplished via an accepted IT standards trend such as for example Business Process Execution Language BPELs as disclosed in Organization for the Advancement of Structured Information Standards OASIS publication entitled 2.0 Apr. 11 2007 although this is not a requirement of practicing the invention.

The data to process mapping transformation between SDP internal subsystems and peripheral systems should also ideally support an Industry accepted Common Information Model CIM such as the TMF Shared Information Data SID Model as described in TMF SID publication entitled 922 8.0 dated Nov. 17 2008 which is incorporated herein by reference in its entirety but again this is not a requirement.

In the embodiment of IP content stored at the national content library may be streamed via the real time encryption server to an unmanaged content distribution network i.e. off net network . Broadcast content may also be streamed via a real time encryption server to the content distribution network off net network as well. Hence IP enabled CPE and PMD advantageously may receive content over the top of other e.g. non MSO networks the latter being used effectively only as agnostic bearer networks.

It should be noted that the above described embodiments of the network topology shown in are merely exemplary of the broader principles of the invention many other network configurations and possible topologies can be utilized.

As illustrated content is received from various content sources such as linear feeds analog and digital divisional content libraries as well as national libraries and regional libraries and other sources. The content source may comprise any indigenous i.e. MSO or third party provider of content whether direct or indirect. This content may comprise an MPEG e.g. MPEG 2 stream or otherwise. The content may also pass through one or more intermediary nodes or conditioning process before transmission over the network via one or more servers or other devices as is well understood in the art. The received broadcast and or on demand content is multiplexed together into a multi program transport stream MPTS prior to delivery to the distribution hub . A voice switch device and web server are also provided for delivery of IP content such as VoIP and internet content .

In the illustrated prior art network of on demand as well as broadcast video content is received at the headend and via a headend switch device transmitted through the optical ring to at least one distribution hub . IP data is also received from the data sources to enter the optical ring via the switch apparatus . In one embodiment the switch apparatus comprises a core switching device such as an 802.3z Gigabit Ethernet device.

The on demand and broadcast video content as well as IP data are received at the edge switch device of the distribution hub . The switch device causes delivery of the received on demand and broadcast content to CPE via an MPEG transport stream MPEG TS over an in band QAM channel. The video content including audio content is provided in each downstream in band channel associated with the relevant service group. The content may be provided to the CPE as video on demand VOD content linear broadcast content or switched digital video SDV content.

IP data received at the edge switch device is processed by e.g. a DOCSIS 1.x or 2.x 3.x or EuroDOCSIS compliant CMTS cable modem termination system or other such device. As is well known the CMTS comprises devices typically located in the headend or hub site that allows high speed IP network access via the indigenous subscriber network and CPE cable modem. The CMTS performs a lower layer translation of sorts between the domain in which the cable modem operates e.g. 16 or 256 QAM RF channels and the packet switched network domain and also facilitates coupling to an internet or IP backbone such as via an ISP or directly by the MSO . Typical network layer protocols used by the CMTS and packet switched domains include IP Internet Protocol for compatibility between the two domains. Hence with a cable modem and CMTS a cable subscriber can couple his her TCP IP based computer to the cable modem and both transmit and receive IP based packets via the CMTS interface to an external IP backbone and hence the Internet or other data network. Quality of Service QoS with minimum and maximum rate service levels may also be provided as well as inter alia link or other layer encryption and key management protocol dynamic load balancing and frequency agility support of multiple upstream and downstream channels remote access server RAS capability anti spoofing functions per subscriber filters DHCP assignments etc.

Since content delivery is often in the form of a packetized protocol e.g. MPEG2 or the like the CMTS or other bridge device to the external IP network can also take the packetized content directly from the server after proper formatting FEC etc. as required and vice versa.

The IP data is then delivered to the CPE via one or more DOCSIS QAMs. The CPE may also communicate with the headend via the OOB or DOCSIS channels and associated protocols. For example the OCAP 1.0 specification provides for networking protocols both downstream and upstream.

Referring now to an exemplary embodiment of a distribution network architecture according to the present invention is given. As shown the distribution network generally comprises a local headend in communication with at least one hub via an optical ring . The distribution hub is able to provide content to various user devices CPE and gateway device via a network .

Various content sources are given for providing content to a content server . For example content may be received from any one of the aforementioned content libraries from linear analog or digital feeds as well as third party content sources. Internet content sources such as e.g. a web server provide Internet content to a packetized content server . Other IP content may also be received at the packetized content server such as voice over IP VoIP and or IPTV content. Content may also be received from subscriber and non subscriber PMDs e.g. a PC or smartphone originated user made video . In one embodiment the functionality of both the content server and packetized content server may be integrated into a single server entity.

One exemplary multi server architecture useful with the present invention is described in co pending and co owned United States Patent Application Publication No. 20020059619 published May 16 2002 and entitled Hybrid central distributed VOD system with tiered content structure which is incorporated herein by reference in its entirety. Specifically a hybrid central distributed and tiered video on demand VOD service network with tiered content structure is disclosed. In particular the system uses media servers located in both the headend and hub stations . CPE generally would be supplied on demand services from the high demand content media and data servers located in the hub station nearest to the user or the gateway discussed below .

A central media server located in the headend may be used as an installed backup to the hub media servers as the primary source for lower demand services and as the source of the real time centrally encoded programs with PVR personal video recorder capabilities. By distributing the servers to the hub stations the size of the fiber transport network associated with delivering VOD services from the central headend media server is reduced. Hence each user has access to several server ports located on at least two servers. Multiple paths and channels are available for content and data distribution to each user assuring high system reliability and enhanced asset availability. Substantial cost benefits are derived from the reduced need for a large content distribution network and the reduced storage capacity requirements for hub servers.

It will also be recognized that a heterogeneous or mixed server approach can be utilized consistent with the invention. For example one server configuration or architecture may be used for servicing cable satellite HFCu etc. subscriber CPE based session requests while a different configuration or architecture may be used for servicing mobile client PMD requests. Similarly the content servers can either be single purpose dedicated e.g. where a given server is dedicated only to servicing certain types of requests or alternatively multi purpose e.g. where a given server is capable of servicing requests from multiple different sources .

The architecture of may further include a legacy multiplexer encrypter modulator MEM coupled to the network adapted to condition content for transmission over the network. In the present context the content server and packetized content server may be coupled to the aforementioned LAN thereby providing access to the MEM and network via one or more file servers not shown . The content server and packetized content server are coupled via the LAN to a core switching device such as an 802.3z Gigabit Ethernet device. Video and audio content is multiplexed at the headend and transmitted to the edge switch device which may also comprise an 802.3z Gigabit Ethernet device .

In one embodiment both IP data content and IP packetized audio video content is delivered to a user via one or more universal edge QAM devices . According to this embodiment all of the content is delivered on DOCSIS channels which are received by CPE and or gateway described subsequently herein that are able to receive decrypt and display the transmitted content. As a back up mechanism audio video content may also be provided in downstream in band channels as discussed above i.e. via traditional video in band QAMs see below . In this fashion a co enabled DSTB or other CPE could readily tune to the new in band RF video QAM in the event that their IP session over the DOCSIS QAM is for some reason interrupted. This may even be accomplished via appropriate logic within the CPE e.g. autonomously or based on signaling received from the headend or other upstream entity .

In another variant elements in both the headend and CPE are specially adapted to utilize transmission infrastructure to transmit and receive both multiplexed wideband content and legacy content as is described in co owned co pending U.S. patent application Ser. No. 11 031 671 filed on Dec. 15 2004 and entitled Methods and Apparatus for Wideband Distribution of Content which is incorporated by referenced herein in its entirety. As discussed therein the CPE or gateway of this embodiment may be configured to contain multiple tuners or a single wide band tuner which allow the device to receive the signals from all of the relevant physical carriers simultaneously. The carriers are demodulated and channel based decryption and basic demultiplexing recombination is performed. If multiplexed the streams are then delivered to a transport demultiplexer which demultiplexes all of the streams resident within the statistical multiplex.

A methods and apparatus for the switched delivery of content may also be utilized consistent with the present invention. For example only that content for which there is at least one request from a user device may be placed on a network segment. In one embodiment the methods and apparatus disclosed in co owned co pending U.S. patent application Ser. No. 09 956 688 entitled Technique For Effectively Providing Program Material In A Cable Television System and filed on Sep. 20 2001 which is incorporated herein by reference in its entirety may be utilized for providing switched delivery of the IP content. For example a mechanism may be employed whereby the delivery of a session is based at least in part on logic to determine whether any users for the session are active e.g. a multicast with no remaining viewers or session participants may be collapsed and the bandwidth reclaimed.

Simultaneous to the provision of content by the existing content sources IP content is also forwarded to the headend switch device . IP simulcast content is retrieved from a plurality of content sources at an IPTV server . For example content may be received from an on demand content store and or a linear broadcast feed to the server . Alternatively the content received at the IPTV server may be sent thereto from the existing content library and or existing linear feeds . The IPTV server provides the content to the headend switch . Content and web content may also be received at the headend switch via a SIP server and web server respectively.

As discussed above with respect to the provision of existing on demand voice and broadcast content IP content from the IPTV server SIP server and web server are also forwarded to the optical ring . The optical ring enables the content received at the headend switch to be transmitted to the edge switch device of at least one distribution hub .

The IP packet content is transmitted to subscriber devices via the universal edge QAM and the network . The IP video simulcast content is presented to client devices capable of receiving content over the DOCSIS QAMs. For example the aforementioned gateway device as well as an advanced CPE i.e. IP DSTB may receive the IP simulcast. Legacy CPE may receive content via the gateway device or via an audio video back up MPEG transport stream as previously described.

As shown content may be delivered to various WiMAX enabled mobile devices e.g. PMD via a WiMAX distribution hub. WiMAX is a wireless technology that provides high throughput broadband connections over longer distances as compared to short range technologies such as Bluetooth or PAN . WiMAX can be used for a number of applications including last mile broadband connections cellular backhaul hotspot coverage and high speed enterprise connectivity as well as broadband delivery to mobile devices.

Content and or data may also be distributed to the PMD or to a gateway device as discussed below or a cable modem associated with either the PMD or gateway device via Worldwide Interoperability for Microwave Access WiMAX transport see IEEE Std. 802.16e 2005 entitled IEEE Standard for Local and metropolitan area networks Part 16 Air Interface for Fixed and Mobile Broadband Wireless Access Systems Amendment 2 Physical and Medium Access Control Layers for Combined Fixed and Mobile Operation in Licensed Bands which is incorporated herein by reference in its entirety. For example multiple WiMAX base stations e.g. WiMAX distribution hubs may be established by the MSO or other content provider. One or more of the WiMAX stations transmit programming or other content including IP packetized IPTV content and or data to the PMD . This transmission may also include simultaneous transmission repeating or retransmission for error correction purposes so as to ensure a robust signal is received and to potentially support any QoS requirements over the WIMAX transport. In one embodiment a PMD or gateway device having an associated cable modem may transmit and receive out of band data via WiMAX transport. In yet another embodiment video or other content may also be sent delivered using the aforementioned WiMAX transport such as the aforementioned IP content stored at the libraries . In this fashion the WiMAX transport acts as a wireless data pipe in parallel to the normal DOCSIS or in band RF QAMs if used transmitted over the distribution network.

At the distribution hub IP content is provided via a network to various devices across multiple user premises. As discussed above the content may be provided to a gateway device converged premises device CPD and or IP enabled CPE .

The gateway device serves as a gateway to the IP content for other client devices such as other CPE and PMD . The gateway device may communicate with one or more connected CPE as well as utilize Wi Fi capabilities where so equipped to communicate wirelessly to other devices such as PMD . It will also be recognized that the present invention may be configured with one or more short range wireless links such as Bluetooth for lower bandwidth applications or UWB PAN for greater bandwidth applications .

In another embodiment content received at a first user CPE may be transmitted to CPE of other premises in a peer to peer P2P fashion. For example first content may be requested and received at a first CPE . Then when a second CPE in the same region or division requests the same content the request may be examined by a headend entity not shown or the gateway acting as a peer proxy to determine that the requesting second device CPE is entitled to receive the content and that the content is available at the first CPE . The headend entity directs a peer to peer communication to be established between the authorized second CPE and the CPE having the requested content. It is appreciated that while described herein in the context of a single CPE providing content to a second CPE several CPE having the content thereon may be contacted for simultaneous delivery of the content to one or more second CPE .

In one such implementation the peer to peer communication methods and apparatus disclosed in co owned co pending U.S. patent application Ser. No. 11 726 095 entitled Method and Apparatus for Content Delivery and Replacement In a Network filed Mar. 20 2007 which is incorporated herein by reference in its entirety may be utilized in conjunction with the present invention. As discussed therein these PSP methods and apparatus have as a primary aim improving the robustness or capability of the network with respect to ensuring that subscribers or other users can receive and access desired content when they want as well as seamlessly repairing or reconstituting damaged or missed portions of that content including even an entire streamed program broadcast or download .

In one embodiment a dynamic peer to peer P2P architecture is used to provide the foregoing functionality. Specifically one variant of this architecture comprises using customer premises equipment or CPE e.g. IP enabled DSTBs and DVRs or other subscriber premises devices present within the network to act as peer content providers for one another. This peer relationship may be as simple as one device with certain content or portions thereof providing that content to another device. More sophisticated variants of the invention employ the use of multiple source peers and in some cases multiple requesting or sink peers as controlled by a server process.

This P2P approach has many potential benefits including for example the ability to push at least some network bandwidth consumption out to the edge of the network e.g. hubs or other distribution nodes thereby conserving bandwidth at the core of the network the latter which can often be the most critical or bandwidth constrained portion of the system. Moreover requests outside the MSO network are obviated thereby conserving resources in this regard. Latency can also be reduced in some cases e.g. where the network is over subscribed since the requested content is acquired and distributed locally versus having to come from the core or a third party content source routed through the core or other network infrastructure . It also leverages distributed processing power as well allowing for inter cilia use of thinner clients. Since each peer is providing only comparatively small portions of the requested content which may also be capped or restricted based on that peer s capability it may not require the same processing storage and other capabilities it might require if it were sole sourcing the requested content.

Many other permutations of the foregoing system components architectures and communication methods may also be used consistent with the present invention as will be recognized by those of ordinary skill in the field.

Moreover it will be recognized that while certain embodiments of the content distribution network of the invention are described as using a gateway such as those referenced above the gateway is not an essential component for the delivery of packet based content over the network according to the invention. For example in certain variants an IP enabled DSTB with a suitable front end network interface for receiving the packetized content such as that described below with respect to may obviate use of the gateway.

As shown the gateway device generally comprises a network interface processor with associated RAM and a plurality of back end interfaces . The network interface enables communication between the device and the delivery network e.g. HFC HFCu satellite etc. . The gateway device network interface is configured to receive IP content over the DOCSIS QAM and optionally via standard in band QAM transport if so equipped as a backup or alternate transport via an RF tuner demodulator etc. Additionally the network interface may be configured to modulate encrypt and multiplex as required and transmit digital information for receipt by upstream entities such as the CMTS or a network server.

As discussed above with respect to the gateway device may be configured to provide received content to other devices in a user s network such as via MoCA network CAT 5 LAN and or other wired or wireless topology such as Wi Fi . Hence the back end interfaces can include e.g. video audio interfaces RJ 45 CAT 5 IEEE 1394 FireWire USB serial parallel ports etc. for interface with other end user apparatus such as televisions personal electronics computers Wi Fi PAN 802.15 or other network hubs routers etc. Other components which may be utilized within the device deleted from for simplicity include various processing layers e.g. DOCSIS MAC or DAVIC OOB channel MPEG etc. as well as media processors and other specialized SoC or ASIC devices. The gateway device may also comprise an integrated HD decoder thereby relieving any connected monitors or other devices from the requirement of having such a decoder. These additional components and functionality are well known to those of ordinary skill in the cable and embedded system fields and accordingly not described further herein.

The gateway device also optionally includes a MoCA retail compliant F connector for providing data over coax capability. The exemplary MoCA port operates in the 1125 1525 MHz band although other frequencies MoCA compliant or otherwise may be used for this purpose if desired. The MoCA frequencies can be multiplexed onto the cable input port of the gateway device or sent over another channel e.g. dedicated channel or interface . The exemplary MoCA interface not shown of the gateway device is compliant with the Media Over Coax. Alliance standard v1.0 September 2005 incorporated herein by reference in its entirety. The MoCA interface of the illustrated gateway also supports a minimum of 8 active nodes on the coax network.

The gateway device may also be made compliant with the Digital Living Network Alliance DLNA requirements version 1.5 which is incorporated herein by reference in its entirety. The gateway device can automatically discover all DLNA capable clients during boot up or other events and present the available content catalog to one or more clients. The gateway device can also automatically start a DLNA compatible media servers at boot using only the aforementioned MoCA wireline and or Wi Fi network interfaces. The gateway device may also be configured to poll once every n e.g. 300 seconds for newly available content or content variation and propagate the list of available content to the user interface and DLNA clients.

Still further the gateway device may utilize the HomePlug A V standard which transmits digital data over power lines in order to communicate with other devices in the user s premises.

It will further be recognized that the present invention can be used in conjunction with a so called trusted domain for content and other data protection if desired. For example in one embodiment a trusted domain may be utilized to create an MSO controlled subnetwork of devices. The trusted domain creates a barrier for permitting content to leave a trusted group of devices within the trusted device content may be shared freely. The DRM functionality as discussed previously herein may in one embodiment be utilized to build a trusted domain for the delivery of content according to the present invention. Alternatively Digital Transmission Content Protection over IP DTCP IP may be utilized to provide content delivery between devices according to DRM.

Exemplary trusted domain apparatus and methods are described in co owned and co pending U.S. patent application Ser. No. 11 006 404 filed Dec. 7 2004 and entitled Technique For Securely Communicating Programming Content as well as U.S. patent application Ser. No. 10 894 884 filed on Jul. 20 2004 of the same title each of the foregoing being incorporated herein by reference in its entirety. These applications disclose inter alia a multi layered rights arrangement to prevent unauthorized use and transfer of protected content especially in a home network. For example the home network may be considered to comprise multiple layers. One such layer may be a trusted domain described in aforementioned U.S. application Ser. No. 10 894 884. For example in a cable TV system the trusted domain might include not only the system portion where programming content traditionally is secured by and within total control of a cable operator including e.g. the headend delivery network etc. but also user devices e.g. DSTBs or other CPE at subscribers premises which are capable of receiving and securely storing programming content in a prescribed manner. The cable operator can control certain subscriber access and usage with respect to content held within the trusted domain. For example movie content held within a cable operator s trusted domain e.g. on a hard drive of an STB or CPE cannot be distributed over the Internet in viewable form and cannot become a source for duplication of multiple viewable copies. A second layer may be defined as being outside the trusted domain. A device in the second layer is assigned an indicator indicating an extent of security of the device. For example when the device in the second layer requests transfer of protected content from a device in the first layer the first layer device authenticates the second layer device to determine legitimacy of the device for receiving the protected content. After the second layer device is authenticated the first layer device transfers not only the protected content but also a set of rules associated with the protected content. At least some of the rules in the set are associated with the indicator and applicable to the second layer device with respect to use of the protected content.

So called DCAS systems downloadable conditional access systems may also be used consistent with the invention in order to define enforce trusted domains within the gateway device environment or other environments in data communication therewith. See inter alia co owned and co pending U.S. patent application Ser. No. 11 584 208 entitled Downloadable Security And Protection Methods And Apparatus filed Oct. 20 2006 which is incorporated herein by reference in its entirety for one exemplary DCAS implementation useful with the present invention.

In the illustrated embodiment of the gateway device further comprises at least one IPTV user interface application . The user interface application provides for the display of and interaction with the web based user interface provided by the web server . Exemplary embodiments of the user interface will be discussed in greater detail below.

The processor of the gateway device may be further configured to run additional applications including those useful in determining a user s authority to view requested client. In one embodiment the methods and apparatus disclosed in co owned co pending U.S. patent application Ser. No. 12 536 724 filed on Aug. 6 2009 and entitled System And Method For Managing Entitlements To Data Over A Network may be utilized to provide the aforementioned functionality. Specifically as discussed therein a request for content is received from a client device at e.g. the processor of the gateway device . The processor obtains information identifying the user account such as subscriber identification number account number etc. and uses this information to request entitlements from an entitlements server not shown located elsewhere at the headend. Based on the results returned from the entitlements server the processor will either grant or deny the request. The entitlements server accesses subscription information in a subscriber and device database to obtain sufficient information to determine the entitlements of the subscriber.

In yet another embodiment the gateway device may be configured to transmit and or receive data via WiMAX transport. In the context of the present invention for example the gateway might transmit content to connected CPE via another connection e.g. 1394 USB MoCA etc. yet receive the requested content via a WIMAX broadband interface. Alternatively the WiMAX interface could be used to transmit the requested content to the CPE . The WiMAX interface may also be configured as part of a cable modem function as described elsewhere herein. Various permutations of the foregoing will be recognized by those of ordinary skill given the present disclosure.

In yet another embodiment the gateway device may be or incorporate therein converged premises device CPD functionality such as that described in co owned co pending U.S. patent application Ser. No. 11 378 129 entitled METHODS AND APPARATUS FOR CENTRALIZED CONTENT AND DATA DELIVERY filed Mar. 16 2006 and incorporated herein by reference in its entirety. As discussed therein the CPD functionality may be leveraged at the gateway device to provide centralized storage of content such as content stored at other devices in the premises . However as noted above the gateway device may further comprise DRM termination functionality as well as DTCP protection.

The gateway may further comply with Digital Living Network Alliance DLNA standards. In the present invention however the gateway device may utilize DLNA standards for passing metadata to client devices such as for passing parental control EPG guide data ratings information etc. . Such functionality may be useful for ensuring for example that parental controls are maintained on stored content within a premises. In one embodiment the foregoing metadata processing and passing functions may be enabled via one or more extensions to the basic DLNA standards discussed above.

One embodiment of a CPE apparatus according to the invention is illustrated in . As shown the CPE generally comprises an OIPF compliant embedded system with a TCP IP transport network layer functionality capable of supporting IP packetized content. The CPE may come in any number of different configurations depending on the type of distribution network with which it is to interface and the desired properties of the device .

For example in one configuration the CPE is an IP enabled DSTB adapted to interface directly to a cable or satellite delivery network and hence includes at least one RF band tuner to capture the IP packet content delivered over one or more QAMs. An RF front end including demodulator decryptors demux is also included to process the received RF signal and ultimately extract the IP protocol media packets.

Alternatively the CPE may be coupled with another device e.g. a gateway that has the requisite delivery network interface thereby alleviating the CPE of such requirements. The CPE merely utilizes a protocol stack with TCP IP layers to communicate with a like stack in the gateway over a designated PHY e.g. 1394 USB Wi Fi etc. interface medium .

Or in yet another configuration the CPE is coupled to a gateway but the latter merely acts as a pass through entity of the network signals does not demodulate decrypt or otherwise process the signals delivered over the coaxial drop satellite dish receiver copper wiring etc. .

The CPE includes one or more digital processor s associated RAM and a plurality of front back end interfaces e.g. video audio interfaces IEEE 1394 FireWire USB serial parallel ports etc. for interface with other end user apparatus such as DVRs gateways televisions personal electronics computers Wi Fi or other network hubs routers etc. Additionally where so equipped the network interface may be configured to modulate encrypt and multiplex as required and transmits digital information for receipt by upstream entities such as the CMTS or a network server.

Other components which may be utilized within the device deleted from for simplicity include various processing layers e.g. DOCSIS MAC or DAVIC OOB channel MPEG etc. as well as media processors and other specialized SoC or ASIC devices. These additional components and functionality are well known to those of ordinary skill in the content delivery and embedded system fields and accordingly not described further herein.

The CPE of may also provided with an OCAP 1.0 or higher compliant application and Java based middleware which inter alia manages the operation of the device and applications running thereon including the herein described client application . It will be recognized by those of ordinary skill that myriad different device and software architectures may be used consistent with the functions of the present invention the device of being merely exemplary. For example different middlewares e.g. MHP ARIB or ACAP may be used in place of the OCAP middleware of the illustrated embodiment.

The exemplary CPE further comprises client applications or process which service EPG IPTV user interface and other associated functions necessary to support the various services described herein.

As previously noted the CPE of further comprises a client application which in one embodiment is configured to receive process and display IP based content received from the gateway device local headend or other entity. This software application may be configured to provide the user with the ability to interact with IP content received thereon as well as perform additional functions associated with the aforementioned content delivery. For example the client application may support and enable web browsing video calling etc. functions of the user interface as discussed in greater detail below.

In another aspect of the invention a premises DLNA based mover CPE device is disclosed. As shown in this device is in one embodiment disposed logically between a host device e.g. the gateway of and a client device such as the PMD of although it will be appreciated that all or parts of the functionality of the mover CPE may in fact be disposed on or integrated with the aforementioned gateway PMD or in fact other CPE within the subscriber s premises e.g. CPE or DSTB converged premises device CPD or even a DVR. In the illustrated embodiment the mover device communicates with a software process on the host device which comprises a protocol stack including a SOAP layer TCP IP transport network layer Communication Device Class CDC layer and PHY e.g. USB or 1394 interface . Other processing and components may be placed at the host device and are removed from the illustrated embodiment

The mover device includes inter alia a host interface process adapted to communicate with the host process described above as well as a portable device interface process for communication with the PMD via the PMDs indigenous interface which may be resident on the device at manufacture or which may be loaded on at a later time such as by a service technician or the user via a download . The protocol stack s of the host interface and PMD interface processes utilize a common TCP IP transport network layer and UPnP HTTP SOAP higher layer functions. SD Card Bluetooth and Wi Fi PHY interfaces are also included in the PMD interface process so as to facilitate communications with various types of PMD interfaces these may also include other types of interfaces such as USB and 1394 between the mover and PMD .

The illustrated embodiment of the mover device also includes a media server process which includes a transcoding function as well as a device manager .

In one embodiment the mover device comprises a media bridging MB apparatus as disclosed in co owned co pending U.S. patent application Ser. No. 12 480 597 filed Jun. 8 2009 and entitled Media Bridge Apparatus and Methods incorporated herein by reference in its entirety. As discussed therein the MB apparatus acts as a connection between various client devices and a network. This bridging apparatus may be used for example to convert content stored on the device to a format capable of being presented on other ones of a user s devices. The bridging apparatus may also be utilized for transmitting content to the client device such as by converting the content to a format capable of being stored presented on the device provided the user of the device is authorized to receive the content.

In operation the mover device transcodes transcrypts content e.g. that obtained from a multi room DVR MR DVR to a designated client device here the PMD . The device connects to a home network via e.g. the Ethernet IEEE Std. 802.3 protocol although others may be used.

One salient function of the mover device is to stream multi room DVR content to one or more IP based client devices or processes. It is also configured to Synchronize and go DVR to Go as is discussed in the aforementioned U.S. patent application Ser. No. 12 480 597 filed Jun. 8 2009 and entitled Media Bridge Apparatus and Methods . The Synchronize and go technology enables a user to transfer content stored on a premises device such as e.g. DVR to a portable device by one or more transcoding and securing functions. The mover may further protect copied content with approved DTLA DRM functionality. The Copy Freely and Copy One Generation content stored on the DVR is allowed to be stored and is marked as copy no more or copy never when stored on the IP client device .

The mover device is also advantageously configured to interface with many different now ubiquitous IP client device profiles such as the well known Apple iTouch and iPhone products as well as others e.g. Android PSP Zune PS3 or XBOX 360 and PC s and laptops.

Referring now to an exemplary PMD is illustrated. As previously described the PMD may take on any number of different form factors including for example a personal media player e.g. MP3 player cellular smartphone PDA handheld or minicomputer laptop and so forth.

As shown in the PMD generally comprises one or more front end communications interfaces for communication with a non MSO network such as a Wi Fi based WLAN premises network e.g. MoCA network cellular network e.g. 3G UNITS FLO network e.g. Qualcomm MediaFLO technology for forward link only broadcast to mobile devices etc. It will further be appreciated that in the context of the present invention one or more these interfaces may be further configured to communicate with an MSO network and or one or more devices therein such as the gateway apparatus . For example the front end of the PMD might include satellite DSL or other modem capability or the like.

In another implementation see content and or data may be distributed to the PMD via a front end WiMAX interface as discussed above. For example one or more WiMAX base stations may be established by the MSO or other content provider to transmit programming or other content and or data to the PMD directly.

The illustrated PMD further comprises a plurality of back end interfaces e.g. IEEE 1394 USB LAN WLAN short range wireless HDTV DisplayPort and or National Television System Committee connections . These connections enable the PMD to communicate with other devices wired or wirelessly such as to transmit or receive data files media electrical power composite video signals etc.

It is noted that in the present context the terms front end and back end have no particular connotation or meaning but rather merely refer to different portals for data to be used in different operational scenarios or use cases. For instance in one such case data received over a back end interface e.g. USB connector might be streamed over the front end interface e.g. 3G cellular data service or vice versa. Alternatively two back end interfaces may be used to move data in and out of the PMD. Myriad such combinations will be recognized by those of ordinary skill given the present disclosure.

A mobile client application is also run on the processor of the illustrated PMD . The mobile client application similar to the client application of the CPE of enables various user based functions within the PMD including display and user interactivity with the user interface UI . Various other user interface functionality as will be discussed below may also be provided via the mobile client application .

It will also be recognized that the device configuration shown is essentially for illustrative purposes and various other configurations of the PMD are consistent with other embodiments of the invention. For example the PMD in may not include all of the elements shown and or may include additional elements and interfaces such as for example an interface for a PAN e.g. 802.15 Bluetooth or other short range wireless interface for localized data communication etc.

In one embodiment a network controlled web based navigational user interface is delivered to the user device such as the CPE whether leased from the MSO or retail PMD and or gateway devices . This network controlled web based interface advantageously allows for rapid user personalization and customization as well as service addition replacement and augmentation. It also permits the MSO a greater degree of control over the look and feel of the UI which may be tied to the MSO s differentiation and value proposition .

Content made available to the user may be presented in the form of an electronic program guide EPG or other guide interface having both MSO based content and off net content e.g. internet content uploaded user originated content etc. listed therein. In one embodiment the interfaces are made open to developers and MSO partners in order to increase speed and ease of integration of new interfaces services applications and functionality.

In one exemplary configuration the user interface is served to the client premises from the network i.e. the UI is network based versus CPE based as in many prior art implementations. This approach advantageously provides the ability for the network operator e.g. MSO to rapidly control and reconfigure the UI depending on the particular application or user i.e. personalization . For instance in one variant a network server disposed at the headend whether regional divisional or national is used to preserve individual subscriber account UI features and preferences and serve these to the CPE during operation. It can also maintain these features and preferences consistent across the population of devices associated with a given subscriber account or even individual users within a multi user account such as that of a family . This theme approach adds familiarity and ease of use for the individual user in that their UI always appears the same or substantially similar within the limits of heterogeneous device capability and they do not have to remember or relearn the idiosyncrasies of each different device. Features such as favorites friends buddies look and feel menu or screen configurations preferences etc. can all be readily replicated and distributed across each of the user s platforms using the network based UI approach of the illustrated embodiments herein.

The use of a server based UI model also allows the MSO the opportunity to rapidly reconfigure each UI for new services available content or applications available to that particular user or the subscriber pool as a whole . For example where a new application is launched by the MSO the supporting UI features menus icons etc. can be rapidly implemented and served to the various CPE without any service call or truck roll . Moreover the new application can be selectively applied to individual customers based on e.g. subscriber level status of their bill payments parental controls etc.

The user interface of the present invention may in one embodiment may utilize web based development and design which facilitate interactive information sharing interoperability user centered design and collaboration on the World Wide Web such as is categorized as Web 2.0 . Web 2.0 is a term commonly associated with web development design that facilitates interactive information sharing interoperability user centered design and collaboration on the Web. Some examples of Web 2.0 include web based communities web applications social networking sites user video sharing sites wilds blogs and mashups. For instance a typical Web 2.0 site might allow its users to interact with others or to change website content versus non interactive or static websites .

For example an STB may via the gateway receive various forms of IP based content to be presented to the user including on net content e.g. video Internet content SMS text chat e mail voice e.g. VoIP and so forth. In this manner various traditionally PC and smartphone applications may be accessible to the STB. In other words a user may via his or her STB participate in interactive caller ID features chat via instant message text message voice message and web cam with contacts retrieve and perform playback erase storage etc. functions with respect to voice mail retrieve and update contacts including email addresses phone numbers etc. and calendars including enabling reminders and receive converged video and video telephony services. See the discussion of various service use scenarios provided subsequently herein.

In one embodiment the user interface may offer caller identification on television Caller ID on TV . Caller ID on TV allows a viewer to see information about an incoming call. At a minimum this is a phone number or caller name provided by the Caller ID service. This can be customized to display customized information Dad instead of John Smith and or a picture of the caller. Call routing functionality may also be provided which allows a subscriber to predefine actions. For example selective do not disturb may be selected to automatically forward certain or all calls to voice mail. An allow caller function permits only specified calls to ring through and may be set to apply only during specified times during the day so as to enable a subscriber to have uninterrupted viewing of his or her favorite shows etc. . Call reject hangs up on calls from undesirable callers i.e. blocked callers . In another embodiment a user may via his or her remote control select a disposition for an incoming call so called caller disposition . In this manner rather than predetermining callers to be blocked sent to voice mail etc. decisions are made dynamically. A click to call function allows a subscriber to initiate a call from an on screen list. This list can be a call log which is automatically maintained by the system and or a user created address book.

Video calling and conferencing may also be enabled. Video calling allows parties to see each other as they talk and video conferencing allows the addition of multiple parties to a video call. Video calling can be provided to mobile devices such as PMD personal and laptop computers dedicated videophones and or television sets with a camera either built in or purchased separately.

DVR integration further allows a subscriber s DVR to automatically begin recording a viewed program when the subscriber chooses to participate in a telephone call or other activity e.g. chat session . Furthermore addition of a wired or wireless keyboard to the subscriber s CPE or reconfiguration of the remote unit may enable the user to send and receive SMS text messages instant messages to the subscriber s television. The subscriber s television may function as a computer in the sense that the user may surf the web access and receive email review lists of buddies which are currently online network address book functions etc.

In addition an advanced presence feature may be given so as to allow friends to monitor what programs each other are currently viewing or scheduled to view in the future such as via a program reservation or recording function . Further the advanced presence feature may provide information regarding whether one s friend is currently involved in a telephone conversation or chat session and notify the subscriber when his or her friend is available for a telephone call chat.

Further at a subscriber mobile device such as a smartphone PDA etc. PC type applications and audio video applications may be delivered. In other words the user interface when accessed by a user of a PMD via the indigenous client application referenced above will provide the user with options to have audio video content streamed thereto as well as provide interactive caller ID chat via instant message and multimedia messaging converged video and video telephony and provide access to contacts including email addresses phone numbers etc. and calendars including enabling reminders . Advantageously the aggregation and distribution of this information is controlled by way of the network UI server as opposed to being delegated to the client device or PMD itself and its stovepipe service and supporting infrastructure as under the prior art.

At a user personal computer or laptop device phone applications and audio video applications may be delivered. It is via these applications that users are able to utilize interactive caller ID services participate in chats via instant message text message multimedia message and voice message retrieve and perform playback erase storage etc. functions with respect to voice mail retrieve and update contacts including email addresses phone numbers etc. and calendars including enabling reminders and receive converged video and video telephony services.

In another embodiment the methods and apparatus disclosed in co owned co pending U.S. patent application Ser. No. 12 414 576 entitled Recommendation Engine Apparatus and Methods previously incorporated herein may be utilized to provide supporting data and recommendations to help populate the user interface. As discussed therein the recommendation engine can provide a mechanism for particularly selecting content to align with a user s preferences the latter which the viewer need not enter manually and display this recommended content via the aforementioned network based UI functions. Moreover the recommended content can be fed to the user as a continuous content stream on a virtual personalized channel as described in co owned and co pending U.S. patent application Ser. No. 12 414 554 entitled Personal Media Channel Apparatus and Methods previously incorporated herein.

Raw video signals occupy huge bandwidth. Delivery of them without compression over IP networks would in many cases not be feasible. The Moving Pictures Experts Group MPEG has developed a number of compression systems that are widely used in many IPTV implementations today. Among these systems the most common ones are MPEG 2 MPEG 4 Part 2 and MPEG 4 Part 10. MPEG 4 Part 10 is jointly developed by ITU T and MPEG and is commonly referred to as H.264 or AVC Advanced Video Coding . MPEG 4 Part 10 defines a different format than MPEG 4 Part 2 and the two are not to be confused. Another popular format is VC 1 generic name Windows Media Video 9 WMV9 developed by Microsoft Corporation.

Typically MPEG 2 requires 2 3 Mbit s for a SD standard definition TV channel and 12 19 Mbit s for an HD TV channel H.264 incorporates new technologies for video compression developed in the past decade and it is possible to provide good video quality at half the bit rate of MPEG 2 typically 6 9 Mbit s for HDTV. But this lower bitrate comes at the cost of more complex and costly codec. Yet H.264 is becoming increasingly popular. VC 1 is similar in performance to H.264. Many vendors have designed codec supporting both H.264 and VC 1.

Among the compression formats described above IPTV providers may in one implementation choose one format for all video content. This helps simplify overall management of the IPTV system. Moreover the video can be compressed into a common bit rate usually one bit rate for SDTV and another for HDTV. This simplifies bandwidth management and the process of channel switching. However in other variants multiple codecs are supported and the use of a common bitrate is not required.

It is also noted that the broader principles of the present invention are in no way limited to the codecs or technologies listed above and in fact it is anticipated that increasingly lower bitrate codecs or those with other properties well suited to IPTV applications will be developed in the near term thereby further reducing bandwidth requirements.

In addition to IP itself and the well known transport protocols Transmission Control Protocol TCP and User Datagram Protocol UDP the following protocols developed by the Internet Engineering Task Force IETF are used in various portions of the exemplary IPTV system described herein although in no way required to practice the broader principles of the invention in that other network and transport layer protocols among others may be used consistent with the invention .

Session Initiation Protocol SIP SIP is a signaling protocol widely used for controlling multimedia streaming and communication sessions over Internet Protocol IP . Other applications include video conferencing instant messaging presence information and gaming. SIP can be used for creating modifying and terminating two party unicast or multiparty multicast sessions consisting of one or several media streams. SIP is a TCP IP based Application Layer protocol. SIP is designed to be independent of the underlying transport layer it can run on TCP User Datagram Protocol UDP or Stream Control Transmission Protocol SCTP .

SIP has been accepted as a 3GPP signaling protocol and permanent element of the IP Multimedia Subsystem IMS architecture for IP based streaming multimedia services in wireless systems discussed subsequently herein.

Real time Transport Protocol RTP RTP is a transport layer protocol intended for carrying real time multimedia contents. RTP operates on top of UDP. It adds functions of time stamping packet sequencing etc. to ensure packets carrying audio and video content are delivered to the end users in proper temporal order and in synchronization.

Real time Transport Control Protocol RTCP RTCP is a control protocol associated with RTP described above. One function of RTCP is to provide feedback on the quality of RTP distribution for the network provider to diagnose network problems. RTCP uses a UDP connection for communication which is separate from the UDP connection used by RTP.

Internet Group Management Protocol IGMP IGMP is used to report multicast group memberships to multicast routers in the core networks to allow multicasting of broadcast TV content to the multicast group participants. IGMP uses IP to carry messages.

Real Time Streaming Protocol RTSP RTSP is used in inter alia VOD services for control purposes. It allows a client to remotely control a VOD server issuing VCR like commands like play pause forward rewind record etc.

Internet Content Adaptation Protocol ICAP ICAP is designed to off load the video content from the video headend to the cache servers in the content distribution networks CDNs .

Referring now to various aspects of one exemplary IMS based implementation of the packetized content delivery network architecture of the invention are shown and described in greater detail. It is recognized that while the following embodiments are described in terms of the known IMS technology use of this technology is by no means a requirement of practicing the broader principles of the invention previously described herein. Rather IMS is but one of several possible existing packet based multimedia technologies which can be leveraged within the present invention to provide many of the services and functions thereof including service integration.

Two primary components are associated with the exemplary IMS based implementations described herein i the IMS IP Multimedia System and ii the Service Delivery Platform SDP . Each of these components and their interrelationships with each other and other components of the packet based network architecture of the IMS based implementation referenced above are now described in greater detail.

IMS may be viewed as a tool for building additional applications including e.g. a network side user interface control for the various CPE. Still further IMS techniques may be used to provide reconfigurability and or personalization of the UI. For example if the gateway has knowledge of content on a user s DVR that content will be populated to a list which may be viewed on the user s UI via e.g. a web page.

IPTV session management advantageously can re use existing IMS procedures with very few adaptations. Because these procedures are identical or similar to those used in support of voice and other services this solution facilitates offering advanced services by combining features from the two worlds. Moreover this type of solution benefits from mobility management procedures that are inherent to IMS per its 3GPP and related lineage and also facilitates IPTV service continuity when moving from one network access to another.

SDP is largely complementary to IMS it enables blending of services as opposed to simply bundling them. Blending IPTV functionality with location messaging and presence services creates a potential for services well beyond mere video streaming. One salient benefit of the SDP is to create an integration point between IPTV Services and IPTV business processes. SDP can help establish common interfaces to centralize OSS BSS by serving as an abstraction layer between different OSS BSS components and the service execution environments.

With IMS and SDP the in premises television e.g. a DSTB with monitor becomes another class of IMS enabled device much like mobile phones PDAs and laptop computers. Hence an MSO or other service provider can extend advanced multimedia IPTV services to IMS and non IMS enabled devices and provide any content on any device thereby converging voice data and video services into a differentiated service offering.

The exemplary IMS based architecture described herein advantageously enables an entity e.g. MSO to build intelligence into its network and inter alia share information with any client device see e.g. discussion of the three screens e.g. the PC TV and wireless mobile device presented below with respect to various business methods . Convergence is a key aspect of this capability.

IMS is an architectural framework for delivering IP multimedia to fixed and mobile users over a single network. This network convergence facilitates the blending of quad play services i.e. voice video TV and mobility as well as other desirable features such as chat text SMS collaboration mashup etc. in interactive and highly personalized ways. Specifically various types of convergence are addressed by the IMS 

Many of the capabilities required to support IPTV services for blending of new services are in extant prior art implementations scattered across various data repositories and different service execution environments e.g. location and presence information group list management calling capabilities video streaming content management real time payment video on demand billing and authentication. A Service Delivery Platform SDP architecture based on a Service Oriented Architecture SOA provides the integration glue by combining the aforementioned elements into a single substantially unified service platform.

In the SOA environment applications and service enablers usually expose the aforementioned capabilities through Web services interfaces. Once exposed these capabilities can be re used across different new and existing services. For example instead of creating a new group list feature for a new IP TV service the existing group list management of for example an IMS service can be re used. The user gets a consistent experience and services are developed and implemented faster thereby positively impacting service velocity .

The subscriber data that is sometimes duplicated and spread across various networks under prior art approaches advantageously can be combined into a single subscriber database and stored in e.g. the HSS described in greater detail subsequently herein . Moreover multiple control networks are converged into a single control network the IMS platform.

Multiple transport technologies communicate at the IP network layer and associated transport layer via TCP . Communication at the IP layer provides transport agnostic network functions. The transport layer is compatible with and addresses several main principles including i optimization for data traffic data traffic predominates over voice traffic a predominance that is set to increase over the coming years and ii support different service types which require different traffic characteristics such as different bandwidths and different QoS.

Multiple heterogeneous or dedicated user devices needed under the prior art can be replaced by a single user device or reduced number of devices that supports a unified client experience converging voice data and video technologies onto a flexible communications and collaboration platform. This obviates having to purchase learn and use multiple different devices at the same time for different functions thereby also greatly simplifying the user experience. Ideally a user may have a very limited number of devices which are multi functioned and between which services can be transferred if desired.

IMS allows fixed and mobile subscribers to roam seamlessly between fixed and mobile networks interacting via applications such as VoIP video picture sharing instant messaging text SMS and P2P gaming. IMS ensures that multimedia sessions between IMS users between IMS and Internet users and between Internet users are all established with the same protocols. IMS is designed to support the orchestration of interactions based on the Session Initiation Protocol SIP a standard for initiating modifying and terminating interactive multimedia user sessions. It is a technology framework for delivering and maintaining fixed mobile service sessions.

IMS includes a core network foundation that allows a service provider to deliver a personalized multimedia experience beyond basic video streaming over IP. With TMS the in home television CPE e.g. DSTB becomes another class of IMS enabled device much like mobile phones PDAs and laptop computers. Advanced multimedia IPTV services can be extended to IMS enabled devices any content on any device achieving convergence and service blending as described elsewhere herein.

Besides its ability to ease the design and implementation of combined services the IMS based approach brings additional inherent benefits 

1. Common infrastructure The IMS based approach leverages investment in extant infrastructure by enabling the support of IPTV services on the same network infrastructure as digital telephone services and wireless mobility services thereby relieving much of the inefficiency associated with prior art heterogeneous delivery infrastructure aka stovepipes .

2. Common identity and authentication mechanisms IMS identification and authentication frameworks provide an opportunity to extend the features of existing IPTV services with multi user subscription capabilities including 

3. Common resource management The IMS relieves IPTV application servers from the task of interacting with transport control functions for the purpose of reserving transport resources such as QoS. This ensures that the required resources for a service are established among different access types. This IMS element manages policies for service by access type and makes sure the specific access network can deliver the required attributes.

4. Multi access solution IMS is designed to be access independent. Using the IMS as a control plane therefore allows users to access their IPTV services irrespective or the access they are connected to. Moreover the multi access capability provided by IMS comes with the support of service roaming and service continuity when moving from one access to another.

5. Common charging mechanisms As a result of using the IMS for session control IPTV services can benefit from generic charging mechanisms and interfaces applicable to other types of multimedia services. This facilitates unified billing for e.g. multi play solutions.

6. Services and Control IMS adds call session control to the packet network. It enables peer to peer real time services such as voice and video over a packet switched domain. A scalable common service control based on SIP gives the ability to efficiently manage and integrate parallel user services.

7. Media Mixing IMS provides the ability to pick and mix various multimedia flows in single or multiple sessions e.g. mashup and can handle real time voice video data.

8. Connectivity Network Independence IMS provides access to IP based services independent of the underlying connectivity technology whether mobile or fixed . The IMS architecture and SIP may also be easily extended to provide for new services extensibility .

9. Common Service enablers Service enablers such as subscriber device presence and network buddy lists can be extended to any network device via the IMS core network enabling features to be delivered in the same manner to e.g. a PC mobile device or IP enabled STB.

10. Application ubiquity The IMS application layer applies to multiple access networks. New applications and services can be extended from one access or device type to another with relative ease.

11. Support for mobility Enabling interaction with existing e.g. mobile service enablers service personalization and media adaptation as well as providing converged applications integrated voice data video and mobile services.

When implementing new network elements that are required by the IPTV solutions described herein network operators generally must take the approach of either i building out effectively new back office applications to accommodate IPTV usage and billing or ii adding on IPTV customizations to its existing billing and other back office systems. This can become extremely complex processing existing customer service usage for broadband VoIP HSD Wireless and IPTV in separate applications and then assimilating or combing that data together at the end of the month to create a single customer bill is highly laborious and potentially fraught with error. See herein.

Moreover any effective IPTV specific billing and subscriber management functionality should be correlated to broadband VoIP wireless HSD and value added service usage in order to create a meaningful and accurate picture of the consumer and their broadband consumption.

With SDP however the IPTV network operator can obviate much of the foregoing conversion customization. Rather than have to build out specific IPTV back office functions the operator is able to layer IPTV on top of existing broadband services and easily manage subscriptions bundling blending and service usage to quickly roll out IPTV services bundling blending and promoting them on a single application together with VoIP and broadband and to manage a single set of back office business processes for all IP services and revenues.

As previously discussed well known prior art service bundling i.e. aggregation of services offers unified ordering and billing and limited interaction for otherwise separate services. It is only a first very limited form of service convergence. Bundling relies on separate networks transports for each type of service and does not provide the desired unified control and device environments previously described.

In contrast the IMS based architecture of the present embodiment of the invention provides what can be termed as service blending which inter alia enables different applications to control and be substantially integrated with one another. It enables for example the web or the phone to control the TV and vice versa see e.g. .

For example if a user receives a call on his Digital Phone e.g. VoIP while watching TV the caller can be overlaid on the TV screen using relatively simple technology. While this application provides a very limited form of convergence it is still fundamentally only a bundled service.

However in the case of blended service individual services interwork and control and integrate with each other. One such blended service might automatically record and or pause the currently viewed TV program when the user picks up the phone to answer the incoming call. Later when the user disconnects the call an option to replay the TV program from where the user left off can be provided in the form of an alert message on the TV screen. The seamless interplay of voice services Caller ID with TV viewing video storage and messaging the replay alert represent a converged service.

One compelling service blending capability provided by SDP of the present invention is Web 2.0 and mashup .

As previously noted Web 2.0 is a term commonly associated with web development design that facilitates interactive information sharing interoperability user centered design and collaboration on the Web. Some examples of Web 2.0 include web based communities web applications social networking sites user video sharing sites wilds blogs and mashups. For instance a typical Web 2.0 site might allow its users to interact with others or to change website content versus non interactive or static websites .

A mashup as used in the present context is the result of taking a piece of information that has been exposed as a web service and combining it with another piece of information exposed as a web service to come up with an entirely new service not contemplated by either of the constituents.

In one variant this level of interactivity requires a subscription in order to authenticate the user in the IPTV network and store some profile information to permit offering of a more personalized service. Subscriber authentication in IPTV is layered and can be divided into several levels including for example i terminal equipment level ii network access level and iii service application level.

The exemplary network architecture described herein enables delivery of video over IP for dynamically composing video streams including video mashup to support the delivery of personalized and value added video services across multiple network and devices. The widespread use of camera phones and video phones and the success of user generated content services such as YouTube are fueling demand from prosumers producers and consumers for video based services offering intuitive and compelling visual experiences. Many existing video services are optimized for a single device or single delivery channel e.g. Web 2.0 content for users or professional content for IPTV customers.

Below are examples of various other types of multimedia communications services blending enabled by the IPTV architecture of the present invention 

In one embodiment the network architecture of the invention is mapped onto the IPTV reference architecture defined by ETSI TISPAN TS 182 027 as shown in herein. This reference architecture specifies various generalized components and functions as follows 

In the architecture of the SDP focuses on service creation deployment delivery and management whereas the IMS provides standardized control infrastructure architecture. SDP is substantially services centric whereas IMS is more network centric control transport layers .

The various components of the ETSI TISPAN based reference architecture of are now described in greater detail.

The SDP service layer also contains the common functions used in one variant by the other subsystems such as charging and security. The architecture by structuring IMS as a subsystem rather than a core component advantageously allows the use of applications and User Agents UAs that are non IMS aware as well as those that are IMS aware within the same network. This also allows other subsystems to be added as needed i.e. modularity . In fact for a non IMS system IPTV becomes another subsystem on the service layer. Key components of the exemplary implementation of the SDP include 

The IPTV Engine of the illustrated embodiment refers to one or more software applications or packages associated with the delivery of IPTV services. It is in one variant embodied as a client server architecture with the client part residing on the CPE e.g. STB and the server part residing on a network location e.g. the headend or video server side . The IPTV Engine controls various aspects of the user experience and defines many aspects of how the subscriber interacts with the service. For example the user interface and services available e.g. EPG broadcast TV or VOD are all made available and controlled through the IPTV Engine in the illustrated embodiment. The IPTV Engine also links client and server systems used for CA and or DRM purposes.

The Service Control Function is a stateful entity that manages user to content and content to user relationships. It is aware of which user consumes which content and which content is consumed by which user. Furthermore the SCF manages the transmission of multimedia streaming sessions including both live and on demand triggered through different IP based access networks LAN WLAN 4G HFC via different transmission schemes such as unicast multicast and broadcast.

In one variant the SCF is logically integrated as a SIP servlet running on the Service Delivery Platform SDP SIP SEE described in greater detail below . The Session Control Function may be implemented as a single component triggered via a SIP servlet. The SDP provides the SIP functionality for the SCF processes including all IPTV related messages and signaling and relays them to the SCF component via the SIP servlet.

The MSCF function handles IPTV related request and plays a role of the service and session control element for all IPTV services. This component is also responsible for interworking with the IMS core on the service control layer. The service control function in one embodiment includes all functions required for each IPTV service and therefore is advantageously reusable as specific IPTV application server functions or as separated functional elements depending on implementations .

An MDF is responsible for delivery of media to the user equipment as well as media delivery functionalities. Specifically the MDF 

As noted above the IMS based approach relies on a functional architecture centered on the core IMS i.e. the IMS Call Session Control Functions CSCFs . When processing session signaling as for any other multimedia service supported over the architecture the Core IMS interacts with the HSS UPSF or User Profile Server Function to download service profile information and with the RACS Resource and Admission Control Subsystem to request and reserve transport resources related to the session.

The exemplary reference architecture defines a series of generic IPTV functions for all service types including Broadcast and Video on Demand VOD 

IPTV Service Control Functions SCFs perform service authorization during session initiation and modification which includes checking IPTV users profiles in order to allow or deny access to the service. IPTV Service Control functions may also perform credit control and select the relevant IPTV media functions. They run on the SDP and act as standard IMS Application Servers using the ISC interface on the SDP to communicate with the core IMS.

Media flow control is supported in one embodiment by other means such as using existing protocols i.e. RTSP for trick mode operation during streaming services and IGMP for channel changing during broadcast services.

IPTV media functions are in charge of controlling and delivering media flows to the user equipment. They are split into i Media Control Functions MCF handling media flow control and managing interaction with the UE e.g. handling of trick modes and ii Media Delivery Functions MDF sourcing the actual media flows.

For the purpose of implementing combined services JPTV service control functions may interact with enablers such as presence servers or with Application Servers hosting the logic of communication services using. IMS capabilities such as third party registration event notification etc. For example existing IMS presence capabilities can be enhanced with IPTV specific information such as an indication of the currently watched channel allowing user s contacts to share experiences and third party applications to develop specific services based on IPTV presence information.

The IMS user profile data and IPTV user profile data are stored in the HSS UPSF and accessed via IMS by the Service Control Function or and the SDP. Such data have to be available to the SCF and may also need to be available to the SD S functions in order to customize the information they present to the user.

Referring now to the following example illustrates service registration discovery and control in the context of a SIP based UE within a typical IPTV architecture.

In this exemplary architecture the IMS is used for IPTV service registration Service Discovery and IPTV session control. SIP SDP is used on the Gm ISC and y2 interfaces. HTTP DVBSTP or FLUTE may be used on the Xa interface and the protocol on the Ut interface is. HTTP. Streaming control is performed using RTSP SDP on the Xc interface and IGMP is used on the Xd interface. Diameter protocol a computer networking protocol for authentication authorization and accounting derived from the RADIUS protocol is used on the e2 Gq Cx Sh interfaces of the illustrated embodiment although other protocols and interfaces may be used with equal success.

The communication between the user equipment and the SDF relies on the Session Initiation Protocol SIP SUBSCRIBE and NOTIFY methods. The user equipment can acquire the knowledge of the Service Discovery Function SDF address through provisioning or rely on the IMS to route the SUBSCRIBE request to the appropriate SDF based on Initial Filter Criteria IFC contained in the user profile. It will also be appreciated that in other implementations HTTP can be used to connect to a specified server address e.g. TimeWarnerCable.com website . This method will also accommodate Non SIP base user equipment.

The UE e.g. set top box PC mobile or any device with an IPTV client is booted and achieves network attachment in order to obtain network parameters e.g. an IP address P CSCF address etc. .

Referring now to the following example illustrates one blended IPTV telephony application. This application integrates call delivery and the recording and pausing of TV content during phone calls as previously described. As shown in 

Referring now to one embodiment of a content delivery network system architecture adapted for packetized e.g. Internet Protocol transport utilizing the IMS is disclosed.

As shown in the architecture comprises at least one consolidated headend which may be a super headend as described previously herein which communicates with the MSO regional center s . The regional center s communicates with the MSO division s the latter being substantially at the local level. Each of the divisions communicates with the relevant MSO subscribers at their premises client side . The regional center s communicates with the MSO backbone the latter which interfaces with i one or more wireless networks e.g. mobile cellular Wi Fi and or WiMAX ii non MSO networks e.g. operated by a third party such as via Internet gateways or the like and iii national level content sources and repositories e.g. via a multicast server operated thereby.

Communication with the subscriber premises is conducted in one embodiment using extant MSO infrastructure e.g. DWDM optical transport ring and other HFC network components including coaxial cable drops to the individual premises satellite infrastructure HFCu network etc. although the present architecture is also completely compatible with other transport media having sufficient bandwidth e.g. FTTC FTTH WiMAX etc. .

It will be appreciated that while the illustrated embodiment operates primarily according to an IP Internet Protocol based network layer protocol other connectionless and or packet switched protocols may be used with equal success. It is also appreciated that while a predominantly packet switched protocol such as IP is utilized in the illustrated architecture it is not essential that all portions or in fact any of the network be packet switched in nature. Stated differently the packetized encapsulated data may be carried over circuit switched networks or other types of networks e.g. ATM which is circuit switched and typically connection oriented and has characteristics of both .

Exemplary embodiments of the various server side components of the architecture of are now described in detail.

In one variant of the UE the DVB IP Phase 1.3 specification requirements of a Home Network End Device e.g. Set Top Box necessary to support IPTV services are implemented in the client side architecture of the invention. These include 

In addition an MSO based client application is used in the exemplary embodiments of the client side architecture to i support SIP RTSP RTP RTCP HTTP either by invoking native clients located on the premises device for RTSP and HTTP or by supporting the protocols in the client application itself . This client application in one variant also supports DLNA UPNP server functionality such as via a remote DLNA UI .

In another variant a thin client is configured to support inter alia i DLNA UPNP client functionality ii DTCP IP and iii RTP RTCP. This thin client is dependent upon DLNA UPNP Server to serve out UI and for signaling protocols. This thin client is particularly useful for devices at the premises that are attached to a premises gateway although not limited to such applications.

As previously noted Service Discovery and Selection SD S refers to a set of procedures that a user needs to go through before invoking any IPTV service. This enables the user to discover available services and retrieve the necessary parameters to activate the selected service. Electronic Program Guides EPG and VoD catalogues are part of the service selection information. They can be for example unicasted e.g. retrieved by the user from a portal or other such mechanism or multicasted e.g. received on the user equipment in the form of a specific broadcasted channel .

The service discovery information consists of one or more entry points to Service Selection Applications. The entry points may be in the form of e.g. a URL or other address and provided by the MSO s SDP.

IMS procedures for negotiating media properties during session establishment follow the offer answer model defined in RFC 3264. According to this model the offerer provides a description of the set of media streams and codecs it wishes to use while the answerer responds by indicating whether these streams are accepted or not and which codecs will be used. A stream description in an offer may include a bandwidth attribute in which case it indicates the desired bandwidth that the offerer is prepared to receive. This model is generally not followed today for streaming services where bandwidth information relates to the bandwidth required to transmit a particular content rather than to the capabilities of the two ends of the communication. Therefore in one implementation of the invention the foregoing model is adapted to support the foregoing bandwidth transmission requirements information as well as endpoint capabilities information.

As a practical matter specific time constraints related to media flows control have to be considered. For example so called channel hopping delay is a major constraint for broadcast services. Trick mode operations e.g. fast forward in VoD and PVR are also subject to time constraints. To avoid IMS signaling procedures bringing extra delays it is necessary to draw a clear separation between service session control performed at the IMS level and media flow control handled end to end between the user equipment and the content servers. The architecture described herein makes use of RTSP for Control of Media flows provided by the SDP to address these issues.

Presence technology enriches communications by providing real time information about the status of subscribers. So called presence enablers are already specified in IMS but in one embodiment of the invention are extended or adapted to include. IPTV specific information. This is particularly relevant in broadcast services where the presence feature can be used to publish the channel program currently watched by the user.

This capability can be required by particular applications combining IPTV features with other IMS services. It may also be used in instant messaging applications where a user would then be able to see what his her contacts are watching akin to some existing instant messaging applications that enable users to publish the music they are currently listening to .

The following exemplary scenarios illustrate various aspects of the operation of packet based media subsystem e.g. IMS and other components of the architecture of described above. It will be appreciated that these scenarios represent only a subset of possible operational scenarios that can be supported by the architecture of and in fact the broader networks described previously herein with respect to et seq. .

 These steps can be modified as defined by the UI designer if desired such as to permute their order add remove steps occur automatically etc. 

As shown in the following methodology is employed in one embodiment of the authentication OIPF enabled function of the invention 

The following methodology is employed in one embodiment of the authentication non OIPF function of the invention 

As shown in the following methodology is employed in one embodiment of the EPG consolidation function of the invention 

As shown in the following methodology is employed in one embodiment of the EPG delivery function of the invention 

As shown in the following methodology is employed in one embodiment of the live streaming over IPTV client functionality of the invention 

As shown in the following methodology is employed in one embodiment of the live streaming over DOCSIS function of the invention 

As shown in the following methodology is employed in one embodiment of the VoD delivery function of the invention 

As shown in the following methodology is employed in one embodiment of the social TV function of the invention 

As shown in the following methodology is employed in one embodiment of the session transfer function of the invention 

As illustrated in the following methodology is employed in one embodiment of the interactive services function of the invention.

Because of the flexible nature of IP MSO IPTV services enabled by the methods and apparatus described herein can be offered as multiple screen services to its customers making sure that they have access to any content and services via any of their TV PC mobile and other devices at any location at any time desired four any s .

The following implementation scenarios are illustrative yet not exhaustive of the various instances in which network operator e.g. MSO subscribers or users would access content.

A device connecting to the premises gateway may or may not have an IMS client process. The OIPF compatible gateway comprises an IMS enabled gateway . If the device has an IMS client the IMS enabled gateway acts as a proxy. If not the gateway translates the UPNP or HTTP request to a SIP request and forwards the request to the MSO TMS network.

The MSO DOCSIS cable modem provides network connectivity and QoS. A device connected to the cable modem may or may not have an MSO IMS client to access the MSO IPTV service.

The examples of provide various examples of possible IPTV services that can be offered to users of the network of the present invention.

As shown in one use case involves a given subscriber seeing what programs subscriber buddies are watching and which of them are actively online 

Referring now to one exemplary embodiment of a proof of concept architecture utilized by the inventors hereof with respect to various aspects of the invention is shown. In this architecture extant facilities of the Assignee hereof were utilized in the illustrated configuration to demonstrate the operability and function of various of the aforementioned aspects of the present invention.

In another aspect of the invention various business models and methods are enabled by the various features and functionalities of the invention described above. For example in one such model the use of blended services as described above e.g. common control plane affording tightly coupled and integrated services provides a salient differentiator over services offered by other providers whether alone or in combination thereby leading to increased subscriber satisfaction and experience and hence reducing churn and increasing ARPU . Specifically by substantially unifying and integrating control billing and actual service implementation i.e. by providing more services over a smaller number of devices the user will be less tempted to make use of other forms of content delivery such as Internet TV.

As previously noted the use of a network based UI also substantially increases service velocity i.e. the rapidity with which new features or services can be implemented as well as giving more control and unification of the MSO s branding . That is the network based interface allows the MSO to not only maintain a common and consistent subscriber interface across all services offered by the MSO and devices maintained by the subscriber thereby making the subscriber associate all of these services and devices with the MSO s brand but also allows for substantial user specific customization and even the addition of user requested or user generated services or applications in a rapid manner and without a truck roll or service call.

The foregoing substantially unified and consistent user interface controls and preferences across disparate devices services and even networks i.e. off net and on net can also be the basis for an additional charge or fee. For example the MSO might offer this feature e.g. Time Warner Everywhere service as part of a premium subscription package. For this additional consideration the user gets a common interface with common services and controls over each of his her devices regardless of where they are and what type of content they request. Moreover common or unified databases allow for user specific data such as NABs buddy lists history for recommendation engine input etc. are all ubiquitous throughout the network s and user devices.

In another aspect the MSO s use of a common service architecture and common control plane mitigates capital expenditures CAPEX and operating OPEX costs since effectively one change or modification ripples throughout the entire system in a uniform and consistent manner as opposed to the highly proprietary and mode specific approach of the prior art e.g. stovepipes each with their own particular issues and requirements . Moreover additions or changes to the unifies common service and control architectures can be highly incremental or modular in nature new services can be added and old services subtracted without requiring an evaluation of each supporting component as to changes that will need to be made.

In another business model the MSO may sell or lease unified multi application devices for on or off net use. Under current techniques a user must have an MSO account for bundled services e.g. voice video and HSD a separate wireless account for cellular and perhaps even another account for mobile broadband. Under the present invention however these services and others are highly integrated and at least partly under common control and agnostic to the underlying transport thereby providing the opportunity for a device which does many or even all functions desired by the user. For instance a unified device might comprise a mobile computer with Wi Fi WiMAX RF cable interface mass storage cellular telephony interface high resolution display capability chat SMS capability NAB etc. which obviates the user having to use a dedicated device for each of the different functions i.e. a cell phone for mobile calls and text SMS a PC for broadband access a settop box for receiving RF cable signals a personal media device for playing MP3s etc. . This device could also be coupled to the aforementioned network based user interface so that it can be highly personalized and dynamically tailored to the operating mode selected by the user. Hence the user need only become acclimated to one device and one primary user interface thereby simplifying their life and user experience.

In another business model subscribers are provided the ability to develop custom applications particularly tuned to their needs e.g. via the aforementioned mashup capability . The MSO can charge for this service capability if desired or provide it as an incentive e.g. part of a premium package . The MSO or a designated third party might also offer a new application development environment product e.g. akin to a simplified SDK of the type known in the prior art to aid users in developing their own applications and implementing them including via the network controlled user interface thereby obviating any service calls by the MSO or third party .

The foregoing features of the invention also provide significantly enhanced opportunities for targeted advertising and promotion insertion i.e. on a per session and hence even per user basis . The MSO accordingly can bill advertisers promoters or other involved parties on a per impression matched user basis since with unicast sessions the MSO will know exactly who is watching what content and when. Moreover with implementation of substantially interactive user applications and services the MSO can gain an even greater level of assurance on who is watching what when and determine what their reaction to the content is based on the interactive feedback obtained. The common control plane also affords the opportunity to determine when program streams are paused e.g. due to a telephone call received and other user specific use parameters of possible interest to the MSO content sources or advertisers.

In yet another model the MSO may impose a different rate structure or revenue model for on net versus off net services if desired. For instance if a user requests off net content there may be an additional cost burden for the MSO to provide that content especially with any value adds such as QoS personalization etc. . Conversely certain off net content may be cheaper to obtain and provide since it may not carry some of the same value added features such as QoS personalization enriched metadata etc. inherent in on net content delivered by the MSO.

It will be recognized that while certain aspects of the invention are described in terms of a specific sequence of steps of a method these descriptions are only illustrative of the broader methods of the invention and may be modified as required by the particular application. Certain steps may be rendered unnecessary or optional under certain circumstances. Additionally certain steps or functionality may be added to the disclosed embodiments or the order of performance of two or more steps permuted. All such variations are considered to be encompassed within the invention disclosed and claimed herein.

While the above detailed description has shown described and pointed out novel features of the invention as applied to various embodiments it will be understood that various omissions substitutions and changes in the form and details of the device or process illustrated may be made by those skilled in the art without departing from the invention. This description is in no way meant to be limiting but rather should be taken as illustrative of the general principles of the invention. The scope of the invention should be determined with reference to the claims.

