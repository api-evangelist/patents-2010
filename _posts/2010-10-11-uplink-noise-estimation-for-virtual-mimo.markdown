---

title: Uplink noise estimation for virtual MIMO
abstract: A system and methods for estimating a noise power level in an uplink signal for a virtual MIMO system is disclosed. The system comprises a demodulation reference signal (DMRS) module configured to obtain a DMRS receive symbol from the uplink signal and determine a DMRS sequence for a first UE in the virtual MIMO system. An autocorrelation module is configured to calculate an average autocorrelation value for the subcarriers in the uplink signal. A cross-correlation module is configured to calculate first and second cross-correlation values of the uplink signal R(l) for values of l selected such that the sum of the received power from the first UE and the second UE can be accurately estimated. A noise power level module is configured to determine the noise power level for the uplink signal using the average autocorrelation value and the first and second cross correlation values.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09008207&OS=09008207&RS=09008207
owner: Intel Corporation
number: 09008207
owner_city: Santa Clara
owner_country: US
publication_date: 20101011
---
This application is a National Stage of PCT CN2010 001585 filed on Oct. 11 2010 entitled UPLINK NOISE ESTIMATION FOR VIRTUAL MIMO of which is herein incorporated by reference in its entirety.

When information is transmitted over a wireless channel then the received signal can be distorted due to the effects of multipath transmissions. Multipath transmissions can be caused by reflections of the transmitted signal off of objects such as buildings vehicles and other types of obstructions. The result is that multiple copies of the transmitted signal arrive at the receiver with each signal having a certain time delay. The amount of the time delay is proportional to the length of the path the signal traveled. Obviously signals that are reflected multiple times will travel a longer path than a signal with a direct line of sight.

The amount of time between a first signal typically the line of sight signal and a last reflected signal arrive at the receiver is referred to as the delay spread. In cellular communication applications delay spreads can be on the order of several microseconds. The delay induced by multipath can cause a symbol received along a delayed path to bleed into a subsequent symbol arriving at the receiver via a more direct path. This is typically referred to as inter symbol interference ISI . In a single carrier communication system the symbol times decrease as the data rates increase. At very high data rates with correspondingly shorter symbol periods it is possible for ISI to exceed an entire symbol period and spill into a second or third subsequent symbol. This can cause significant problems at the receiver.

In addition to problems in the time domain there can be additional problems in the frequency domain due to multipath distortion. As the multiple reflected signals are combined at the receiver some frequencies within the signal passband can undergo constructive interference a linear summation of in phase signals while other signals may undergo destructive interference a linear summation of out of phase signals . This can result in a composite received signal that is distorted by frequency selective fading. The ability to estimate signal power and noise power for a received signal can significantly improve the ability to receive a signal that has distortion.

Reference will now be made to the exemplary embodiments illustrated and specific language will be used herein to describe the same. It will nevertheless be understood that no limitation of the scope of the invention is thereby intended.

Before the present invention is disclosed and described it is to be understood that this invention is not limited to the particular structures process steps or materials disclosed herein but is extended to equivalents thereof as would be recognized by those ordinarily skilled in the relevant arts. It should also be understood that terminology employed herein is used for the purpose of describing particular embodiments only and is not intended to be limiting.

As used herein the term substantially refers to the complete or nearly complete extent or degree of an action characteristic property state structure item or result. For example an object that is substantially enclosed would mean that the object is either completely enclosed or nearly completely enclosed. The exact allowable degree of deviation from absolute completeness may in some cases depend on the specific context. However generally speaking the nearness of completion will be so as to have the same overall result as if absolute and total completion were obtained. The use of substantially is equally applicable when used in a negative connotation to refer to the complete or near complete lack of an action characteristic property state structure item or result.

An initial overview of technology embodiments is provided below and then specific technology embodiments are described in further detail later. This initial summary is intended to aid readers in understanding the technology more quickly but is not intended to identify key features or essential features of the technology nor is it intended to limit the scope of the claimed subject matter. The following definitions are provided for clarity of the overview and embodiments described below.

Single carrier systems compensate for channel distortion via time domain equalization. Generally time domain equalizers compensate for multipath induced distortion by one of two methods 

In either case channel equalization implementation becomes increasingly complex as data rates increase. Symbol times become shorter and receiver sample clocks are selected that are proportionally faster. This leads to more severe inter symbol interference that may span several symbol periods.

Data sent on single carrier signals can only be increased by increasing the data rate. In order to reduce inter symbol interference while allowing an increase in data rates the data can be sent on multiple parallel paths. For instance in Orthogonal Frequency Division Modulation OFDM the communication systems do not rely on increased symbol rates in order to achieve higher data rates. Rather OFDM systems break the available bandwidth into many sub carriers having a narrower frequency bandwidth and transmit the data in parallel streams. Each OFDM symbol is a linear combination of the instantaneous signals of each of the sub carriers in the channel. Because data is transmitted in parallel rather than serially OFDM symbols are typically substantially longer than symbols on a single carrier system of equivalent data rate.

Each OFDM symbol is typically preceded by a cyclic prefix CP . The length of the CP is selected so that preceding symbols do not spill over into the data portion of the signal which is also referred to as the fast Fourier transform FFT period. Thus the CP can be used to effectively eliminate ISI.

However since the OFDM symbol is a linear combination of the instantaneous signals in the sub carriers the signal can have a large peak to average power ratio PAPR . This can reduce the efficiency of the transmitter radio frequency power amplifier RFPA and create a need for analog to digital and digital to analog converters with a high dynamic range.

Sub carriers in OFDM signals can be very tightly spaced to make efficient use of available bandwidth. The close spacing of sub carriers is possible due to the orthogonality of the sub carriers. An OFDM system can achieve zero inter carrier interference ICI if each subcarrier is sampled precisely at its center frequency. However the transmitter and receiver local oscillators used to perform down conversion of the radio frequency carrier signal will invariably drift so active means are used to keep them synchronized. Each base station periodically sends synchronization signals which are used by User Equipment UE i.e. the user s cell phone or mobile computing device to stay in sync with the base station clock. Even so other sources such as Doppler shifts and oscillator phase noise can still result in frequency errors. Uncorrected frequency errors can result in ICI. The signal frequency can be tracked continuously to correct offsets in the baseband processor to avoid excessive ICI that may result in dropped packets.

The 3Generation Partnership Project 3GPP Long Term Evolution LTE advanced mobile communication standard was submitted as a candidate 4generation 4G system to the Telecommunication Standardization Sector ITU T in the Fall of 2009 and is expected to be adopted in 2011. The proposed standard uses OFDM Multiple Access OFDMA in the physical layer generic frame structure. provides an example illustration of an LTE frame structure. LTE frames are 10 milliseconds msec in duration. Each frame is divided into 10 subframes with each subframe being 1.0 msec long. Each subframe is further divided into two slots that are each 0.5 msec in duration. Slots can include of either 6 or 7 OFDM symbols and cyclic prefixes depending on whether the normal or extended cyclic prefix is employed.

In OFDMA users are allocated a specific number of subcarriers for a predetermined amount of time. The minimum number of subcarriers over a minimum amount of time in the LTE standard is referred to as a physical resource block PRB which represents the smallest subdivision. Each PRB is defined in the LTE standard as comprising 12 consecutive subcarriers for one slot either 6 or 7 OFDM symbols in 0.5 msec of duration. shows an example subframe that is comprised of two slots providing a first PRB and a second PRB .

Rather than using a preamble to facilitate a carrier offset estimate channel estimation timing synchronization and so forth LTE uses special reference signals that are embedded in the PRBs as shown in by the designation of RS . In the uplink the reference signals may be transmitted during the 4th symbol of each slot when the short CP is used. The channel response of subcarriers bearing the reference symbols can be computed directly. Interpolation can be used to estimate the channel response on the remaining subcarriers.

Limiting power consumption for wireless connections with user equipment UE enables the devices to operate longer on a single battery charge. The UE may be a cell phone a mobile computing device such as a mobile internet devices a tablet computing device a laptop computer an embedded communication device in a vehicle and so forth. As previously discussed the use of OFDM causes a relatively large peak to average power ratio PAPR . This can reduce the efficiency of the transmitter radio frequency power amplifier RFPA and create a need for analog to digital and digital to analog converters with a high dynamic range thereby reducing efficiency.

In order to increase the efficiency by reducing the PAPR the LTE standard suggests the use of Single Carrier Frequency Division Multiple Access SC FDMA for uplink communication from the UE to the base station. The basic transmitter and receiver architecture is very similar to OFDMA and it offers the same degree of multipath protection while reducing the PAPR since the underlying waveform is essentially single carrier.

However the term single carrier is somewhat of a misnomer as SC FDMA transmissions can be thought of as linear summations of discrete subcarriers. The LTE frame structure for an SC FDMA downlink is the same as the structure illustrated in though different reference signals may be used. The reference signals in each uplink PRB may also be communicated at different locations in the PRB than is illustrated in . These details are disclosed in the 3GPP LTE standard.

Constellation mapper Converts incoming bit stream to single carrier symbols BPSK QPSK or 16 QAM depending on channel conditions 

Serial parallel converter Formats the time domain single carrier symbols into blocks for input to the fast Fourier transform engine 

M point DFT Converts each time domain single carrier symbol block into M discrete tones using discrete Fourier transform 

Subcarrier mapping Maps discrete Fourier transform output tones to specified subcarriers for transmission. SC FDMA systems can either use contiguous tones localized or uniformly spaced tones distributed 

N point IDFT Converts mapped subcarriers back into time domain using inverse discrete Fourier transform for transmission 

Cyclic prefix and pulse shaping Cyclic prefix is pre pended to the composite SC FDMA symbol to provide multipath immunity in the same manner as described for OFDM pulse shaping is employed to prevent spectral regrowth and

RFE Converts the digital signal to analog and upconverts the signal for radio frequency transmission 

One or more antennas can be used to transmit the radio frequency signal. Any type of antenna may be used including for example dipoles patch antennas helical antennas and so forth.

In the receive side chain the process is effectively reversed. Multipath distortion for an SC FDMA signal can be handled with the removal of the cyclic prefix conversion of the signal to frequency domain and a channel correction applied on a subcarrier by subcarrier basis. While the SC FDMA signal that is represented by the discrete subcarriers is actually single carrier. Unlike an OFDM signal SC FDMA subcarriers are not independently modulated. As a result PAPR is lower than for OFDM transmissions.

The use of multiple transmit antennas and multiple receive antennas commonly referred to as Multiple Input Multiple Output MIMO can provide significant increases in data throughput and link range without additional bandwidth or transmit power. MIMO achieves the increase in data throughput and range by enabling higher spectral efficiency more bits per second per hertz of bandwidth and an improvement in link reliability and or diversity reduced fading .

The number of antennas used in a MIMO system can vary. The number of transmitter antennas may be the same as the number of receive antennas such as a 2 2 or 3 3 array. Alternatively more antennas may be located on one side such as a 2 3 or 2 4 array. Typically a UE is limited in the number of antennas that can be located on the device. This is due to spatial separation requirements that are needed to provide adequate spatial diversity for the antennas. A base station however can typically incorporate a desired number of antennas with a sufficient separation.

In order to successfully receive a MIMO transmission a receiver can determine the channel impulse response from each transmitting antenna. In LTE the channel impulse response for each channel is determined by sequentially transmitting known reference signals from each transmitting antenna as shown in . Once a channel impulse response has been determined for each channel then the channels can be used to communicate simultaneously. In a 2 2 MIMO system there are a total of four channel impulse responses corresponding to the four separate channels that can be formed between the antennas.

Many types of user equipment such as cell phones and other types of handheld computing devices do not have a sufficient size to incorporate multiple antennas with adequate spacing between the antennas. The advantages of MIMO can still be obtained through partnering with the antennas of other devices. The coordination of transmission and reception using the single or multiple antenna s of two or more separate devices to one or more devices having at least two antennas is commonly referred to as virtual MIMO.

For instance two devices having a single antenna can be configured to coordinate transmission to two additional devices that each has a single antenna. Typically a virtual MIMO system is comprised of two or more devices having at least one antenna that coordinate transmission to a base station with at least two antennas.

One challenge for communicating with virtual MIMO is that a high level of precision in channel estimation is typically used to enable virtual MIMO. Channel estimation and equalization in an LTE uplink receiver using minimum mean square error MMSE requires an estimation of noise power. An estimation of noise power is also used to select an optimal modulation and coding scheme to improve a system s spectrum efficiency. In the case of uplink virtual MIMO two different user equipment devices transmit in the same space time resource blocks. This can cause inter user interference which increases the difficulty of noise power estimation.

In accordance with one embodiment of the present invention a system and method for virtual MIMO uplink noise power estimation is disclosed. The system and method use the LTE s demodulation reference signal DRMS sequence structure. The estimation only needs to calculate three correlation values for each DMRS symbol thereby enabling a low complexity.

The algorithms disclosed below describe a noise power estimation process for a virtual MIMO LTE uplink with two UEs 1 2 . It can be assumed that the received data at the m th symbol and the n th subcarrier can be expressed as follows square root over square root over square root over w 1 

where H i 1 2 is the channel frequency response of UE i 1 2 S i 1 2 is the average power of UE i 1 2 P i 1 2 is the average power of the channel response on the UEchannel i 1 2 dis the DMRS symbol of UE i 1 2 wis the additional Guassian white noise whose variance is 1 and mean value is zero and W is noise power. The objective is to estimate the noise power W.

where the notation E represents an expected value superscript H represents a conjugate transpose and R l is the autocorrelation function of noise every l subcarriers. When l 0 equation 2 can be reduced to 0 3 .

When l 0 then equation 2 can be reduced with the specific DMRS sequence that is defined in the LTE standard. The DMRS sequence dcan be expressed as follows 

where Nis the length of the Zadoff Chu sequence q is determined by the group index used in the Zadoff Chu sequence and nis the cyclic shift of UE i 1 2 . The autocorrelation of the DMRS sequence is 

If the autocorrelation of the received signal YYis multiplied by the autocorrelation of the DMRS sequence the following result is obtained 

where fis the channel Doppler frequency T is the symbol duration and J is the zero th order Bessel function of the first kind. So 8 can be reduced to 12 1 144 9 .

R 0 is the average of autocorrelation in all subcarriers which is calculated with equation 2 and can be expressed specifically as 

One way of calculating SP SP W is to provide two values for R l in which the value of l is selected such that the ratio of

Therefore to provide a substantially accurate estimation of noise power in an uplink signal for a virtual MIMO system the value of l can be selected such that the ratio of

The value R 24 is the average of cross correlation multiplied by the autocorrelation of the DMRS sequence every 24 subcarriers which can be expressed as 

It can be appreciated that mathematically at every 12subcarrier l 12 and every 24subcarrier l 24 the sum of the received power from the first UE and the second UE can be accurately estimated as discussed above. This enables the noise power to be accurately estimated using equation 12 thereby enabling the noise power to be accurately estimated for a virtual MIMO system having two different user equipment devices that transmit in the same space time resource blocks.

In accordance with one embodiment of the present invention a method for estimating noise power in an uplink signal for a virtual multiple input multiple output MIMO system is disclosed as depicted in the flow chart of . The method comprises obtaining a demodulation reference signal DMRS receive symbol in the uplink signal. The DMRS receive symbol can be located at the msymbol on the nsubcarrier of the uplink signal where m is a positive integer and n is an integer value between 1 and N where N is the total number of subcarriers in the uplink signal. A DMRS sequence for the first UE in the virtual MIMO system can then be determined using a correlation calculation.

One type of correlation calculation that can be used to determine the DMRS sequence for the first UE in the virtual MIMO system is 

The method further comprises calculating an average autocorrelation value for N subcarriers in the uplink signal. In one embodiment the average autocorrelation value can be determined using equation 13 . A first cross correlation value R l of the uplink signal can be calculated for a first value of l using the DMRS sequence for the first UE. A second cross correlation value R l of the uplink signal can be calculated for a second value of l using the DMRS sequence for the first UE.

In one embodiment the first and second cross correlation values can be determined using equations 15 and 16 respectively for l 12 and l 24. The first and second values of l can be selected to substantially minimize inter user interference that is contributed by the second UE to the noise power level. For instance the first value of l can be selected as 12 and the second value of l can be selected as 24. Other values of l that enable the ratio of

The method further includes determining the noise power level for the uplink signal in the virtual MIMO system using the autocorrelation value and the first and second cross correlation values. In one embodiment equation 12 can be used to calculate the noise power level for the uplink signal in the virtual MIMO system using the autocorrelation value and the first and second cross correlation values.

The signal power of the uplink signal for the first UE and the second UE in the virtual MIMO system can be determined using the first and second cross correlation values. For instance equation 11 can be used to determine SP SP. A substantially accurate estimation of the noise power level W for the uplink signal in the virtual MIMO system can then be used to perform a channel estimate for the uplink signal and equalize the uplink signal from the first and second user equipment devices. The estimation of the noise power level and channel estimate may be performed at the base station in the virtual MIMO system to allow the virtual MIMO uplink signal from the first UE and the second UE to be received.

In another embodiment a system for estimating a noise power level in an uplink signal for a virtual MIMO system is disclosed. One example illustration of a block diagram of the system for estimating the noise power level is illustrated in . The virtual MIMO system can include a first UE and a second UE that transmit in the same space time resource blocks. The uplink signal may be received at a base station . The base station may be a standard base station such as an enhanced Node b type of base station. Alternatively the base station may be a low power base station such as a micro cell base station a nano cell base station or a pico cell base station.

The system includes a DMRS module that is configured to obtain a DMRS receive symbol from the uplink signal and determine a DMRS sequence for the first UE in the virtual MIMO system using a correlation calculation.

The system further comprises an autocorrelation module that is configured to calculate an average autocorrelation value for N subcarriers in the uplink signal where N is the total number of subcarriers in the uplink signal. In one embodiment the average autocorrelation value can be determined using equation 13 .

The system includes a cross correlation module configured to calculate first and second cross correlation values R l of the uplink signal for a first value of and a second value of l respectively using the DMRS sequence for the first UE. The first and second values of l are selected such that the sum of the received power from the first UE and the second UE can be accurately estimated. In one embodiment this can be accomplished by selecting values of l that enable the ratio of

The system further comprises a noise power level module configured to determine the noise power level for the uplink signal in the virtual MIMO system using the average autocorrelation value and the first and second cross correlation values. For instance equation 12 can be used to calculate the noise power level .

A substantially accurate estimation of the noise power level W for the uplink signal in the virtual MIMO system can then be used to perform a channel estimate for the uplink signal and equalize the uplink signal from the first and second user equipment devices . In one embodiment the estimation of the noise power level and channel estimate may be performed at the base station in the virtual MIMO system to allow the virtual MIMO uplink signal from the first UE and the second UE to be received at the base station. Alternatively the DMRS module autocorrelation module cross correlation module and noise power level module may be located external to and in communication with the base station .

It should be understood that some of the functional units described in this specification have been labeled as modules in order to more particularly emphasize their implementation independence. For example a module may be implemented as a hardware circuit comprising custom VLSI circuits or gate arrays off the shelf semiconductors such as logic chips transistors or other discrete components. A module may also be implemented in programmable hardware devices such as field programmable gate arrays programmable array logic programmable logic devices or the like.

Modules may also be implemented in software for execution by various types of processors. An identified module of executable code may for instance comprise one or more physical or logical blocks of computer instructions which may for instance be organized as an object procedure or function. Nevertheless the executables of an identified module need not be physically located together but may comprise disparate instructions stored in different locations which when joined logically together comprise the module and achieve the stated purpose for the module.

Indeed a module of executable code may be a single instruction or many instructions and may even be distributed over several different code segments among different programs and across several memory devices. Similarly operational data may be identified and illustrated herein within modules and may be embodied in any suitable form and organized within any suitable type of data structure. The operational data may be collected as a single data set or may be distributed over different locations including over different storage devices. The modules may be passive or active including agents operable to perform desired functions.

Various techniques or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various techniques. In the case of program code execution on programmable computers the computing device may include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. One or more programs that may implement or utilize the various techniques described herein may use an application programming interface API reusable controls and the like. Such programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s may be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

Reference throughout this specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus appearances of the phrases in one embodiment or in an embodiment in various places throughout this specification are not necessarily all referring to the same embodiment.

As used herein a plurality of items structural elements compositional elements and or materials may be presented in a common list for convenience. However these lists should be construed as though each member of the list is individually identified as a separate and unique member. Thus no individual member of such list should be construed as a de facto equivalent of any other member of the same list solely based on their presentation in a common group without indications to the contrary. In addition various embodiments and example of the present invention may be referred to herein along with alternatives for the various components thereof. It is understood that such embodiments examples and alternatives are not to be construed as defacto equivalents of one another but are to be considered as separate and autonomous representations of the present invention.

Furthermore the described features structures or characteristics may be combined in any suitable manner in one or more embodiments. In the following description numerous specific details are provided such as examples of layouts distances network examples etc. to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize however that the invention can be practiced without one or more of the specific details or with other methods components layouts etc. In other instances well known structures materials or operations are not shown or described in detail to avoid obscuring aspects of the invention.

While the forgoing examples are illustrative of the principles of the present invention in one or more particular applications it will be apparent to those of ordinary skill in the art that numerous modifications in form usage and details of implementation can be made without the exercise of inventive faculty and without departing from the principles and concepts of the invention. Accordingly it is not intended that the invention be limited except as by the claims set forth below.

