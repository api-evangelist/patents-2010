---

title: Systems and methods for endpoint recording using recorders
abstract: Embodiments of the present invention provide systems and methods for recording media communications. An exemplary method is comprised of the following steps: configuring an endpoint recording device for relaying an incoming call to an endpoint component; receiving the incoming call from a communication system; determining whether to relay the incoming call to the endpoint component based on the configurations of the endpoint recording device; responsive to determining that the incoming call is to be relayed, relaying media communications associated with the incoming call to the endpoint component via the endpoint recording device; and recording the relayed media communications at the endpoint component.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08379835&OS=08379835&RS=08379835
owner: Verint Americas, Inc.
number: 08379835
owner_city: Roswell
owner_country: US
publication_date: 20100428
---
This application is a continuation of U.S. patent application Ser. No. 11 540 902 which is a continuation in part of U.S. utility application entitled Systems and Methods For Endpoint Recording Using Phones having Ser. No. 11 394 410 filed Mar. 31 2006 which is entirely incorporated herein by reference a continuation in part of copending U.S. utility application entitled Systems and Methods For Endpoint Recording Using a Conference Bridge having Ser. No. 11 395 350 filed Mar. 31 2006 which is entirely incorporated herein by reference and a continuation in part of copending U.S. utility application entitled Systems and Methods For Endpoint Recording Using a Media Application Server having Ser. No. 11 395 759 filed Mar. 31 2006 which is entirely incorporated herein by reference. This application also claims the benefit to U.S. Provisional Application entitled Systems and Methods for Enterprise Recording Via Software Switch filed on Aug. 15 2006 having Ser. No. 60 837 816. All of the above referenced applications are incorporated herein by reference in their entireties.

The present invention is generally related to recording media communications and more particularly is related to systems and methods for recording the media communications through a customer center.

A traditional passive tap recording technique includes recorders that are deployed along routes of communications. In this technique each recorder operates similar to a sniffer by analyzing pass by communication packets. The recorder records the packets corresponding to certain communication sessions based on its configuration. shows a typical deployment of passive tap recorders in a contact center. In an IP telephony environment recorders are typically deployed either at the voice gateway which interfaces between Internet Protocol IP network and public switched telephone network PSTN or at switches in order to stay along the routes of the communications. This technique has the advantages of 1 minimum intrusion to a communication system 2 cost effectiveness in deployment for companies with centralized office locations and 3 easy scalability for compliance recording. However for companies with many distributed branch offices the above advantages start to diminish. This is especially true if the purpose of the recorders is for quality monitoring.

With the growing usage of Voice over Internet Protocol VoIP technology many telephony based businesses such as customer centers are adopting distributed telephony systems with local access to PSTN which are still controlled by centralized soft switches. Many customer centers are using at home agents with soft phones on their personal computers PCs . Hence some of the communications in the distributed telephony system may not be along the communication route that is needed for passive tap recording. Secondly network security has now become a concern. The deployment of encryption technology has made passive tap recording become even more problematic.

In addition many customer centers deploy recorders for quality monitoring purposes instead of compliance. In this regard only a small percentage of the communications are recorded monitored and sampled. However to assure the accuracy of the sampling communications are randomly selected for recording across all branch offices. With passive tap recording a large number of recorders are potentially required and each recorder may have low usage.

A typical IP based customer center using the passive tapping sniffing recording method is shown in . Two branch offices are shown in the figure. To communicate with any agents at the customer center a customer communication device such as a time domain multiplexing TDM or an IP phone first sends communication signals to a call processing device of the customer center such as a soft switch. The communication signals can be sent either directly to the call processing device in case of IP to IP communications or via a media processing device such as a voice gateway in case of TDM to IP. The communication network can be a PSTN network or IP based network. Once the communication signals have been received the call processing device then routes the communication signals to an agent phone.

After several rounds of communication signals exchange media communications between the agent s phone and customer s phone can proceed via media processing device and distribution devices. The distribution devices are network routers and switches. In order to record the media communications using passive tapping recorders are deployed at the media processing device or distribution devices using the network traffic monitoring or duplicating features such as the Cisco s Switch Port Analyzer SPAN feature on these devices. These tapping features are often available to the recorders that are directly connected to the media processing device or distribution devices namely to recorders deployed at each branch office. Hence a large customer center having multiple branches such as a branch in New York a branch in Los Angeles and a branch in Chicago may need multiple recorders in each branch to record the voice communications.

Embodiments of the present invention provide systems and methods for recording media communications. An exemplary method is comprised of the following steps configuring an endpoint recording device for relaying an incoming call to an endpoint component receiving the incoming call from a communication system determining whether to relay the incoming call to the endpoint component based on the configurations of the endpoint recording device responsive to determining that the incoming call is to be relayed relaying media communications associated with the incoming call to the endpoint component via the endpoint recording device and recording the relayed media communications at the endpoint component.

Customer center includes but is not limited to outsourced contact centers outsourced customer relationship management customer relationship management voice of the customer customer interaction contact center multi media contact center remote office distributed enterprise work at home agents remote agents branch office back office performance optimization workforce optimization hosted contact centers and speech analytics for example.

Other systems methods features and advantages of the present invention will be or become apparent to one with skill in the art upon examination of the following drawings and detailed description. It is intended that all such additional systems methods features and advantages be included within this description be within the scope of the present invention and be protected by the accompanying claims.

Disclosed herein are systems and methods for recording communication signals. In particular the recording of the communication signals can be achieved using a soft switch a conference bridge a soft phone a media communication device a media application server and or a gateway. In some embodiments this can be accomplished without having a recorder directly connected to a switch or voice gateway for passive tape recording.

Exemplary systems are first discussed with reference to the figures. Although these systems are described in detail they are provided for purposes of illustration only and various modifications are feasible. After the exemplary systems are described examples of flow diagrams and sequence diagrams of the systems are provided to explain the manner in which the communication signals can be recorded.

Referring now in more detail to the figures is a systematic diagram of an embodiment of a system in which voice and media communications can be recorded to an endpoint recorder. Two branch offices of a company may need to record communications with customers. Customer communication devices connect to branch offices either via an IP network or via a PSTN network respectively. The customer communication devices can include but are not limited to telephones soft phones on hand held devices or Personal Computers.

Recording device s can be deployed anywhere on the IP network connected to the branch offices . Alternatively or additionally the recording devices can communicate with media controlling processing distributing devices in a secure fashion in encrypted environments for getting communication events and for sending instructions. With the capability of the recording devices to communicate with the media controlling processing distributing devices the recording device can selectively record communications in the customer center using business rule policy. Alternatively or additionally if a recording device is a cluster of recording devices the recording device can communicate with the media controlling processing distributing devices to select which recording device from the cluster of recording devices to record the communications for load balancing purposes.

The media controlling processing devices control the communication between customers and agents and between agents. The media controlling processing devices can include but are not limited to voice gateways soft switches conference bridges and multi media application servers. The distributing devices can include but are not limited to routers and switches. Based on static configuration or instructions from the recording devices the media controlling processing devices can duplicate and transmit on going communication between communication devices to the recording devices via the IP network using its media processing features such as conferencing. Alternatively or additionally the media controlling processing devices can also instruct the communication devices at the company premises respectively to duplicate and transmit any on going communications to the recording devices using media processing features on the communication devices . The operation of the system is further described in relation to .

In this embodiment the soft switch is operative to send a command to the agent phones and voice gateway via the company network instructing the agent phones and voice gateway to transmit voice communications associated with the incoming calls through the conference bridge via the company network . The soft switch also sends a command to the conference bridge via the company network to duplicate and transmit the voice communications to the voice endpoint recorder using the IP network . The operation of the system is further described in relation to .

Alternatively or additionally the soft switch can receive instructions for recording the voice communications from the voice endpoint recorder via the IP network . In turn the soft switch sends a command based on the received instructions to the conference bridge . Alternatively or additionally the soft switch can have capabilities of a conference bridge. That is the soft switch can duplicate and transmit the voice communications without using the conference bridge to the voice endpoint recorder . The soft switch with conferencing capabilities is added value to companies with a small number of agent phones.

As shown in the customer center premises further includes headquarters that communicates with branches via the IP network . The headquarters can be provided at one location e.g. Chicago and the branches can be provided at different locations e.g. Los Angeles and Washington D.C. Despite the different locations of the headquarters and branches a voice communication can be recorded to a single voice endpoint recorder using the conference bridge and IP network . Note that the headquarters includes a similar system as shown in . That is the headquarters includes soft switch conference bridge company network and agent phones .

Agent phones within the branches can receive voice communications from within the customer center premises or from customer phone . The soft switch can send a command to the agent phones instructing the agent phones to transmit the voice communications through the conference bridge via the IP network . The soft switch also can send a command to the conference bridge via the company network to duplicate and transmit the voice communications to the voice endpoint recorder using the IP network . The operation of the system will also be described in greater detail in relation to .

As in the soft switch manages incoming calls and routes the incoming calls to agent phones via the company network . The soft switch communicates with the agent phones to determine whether the phones can duplicate and transmit the voice communications associated with the calls to the voice endpoint recorder . If the agent phones have the capability the soft switch instructs the agent phones via the company network to duplicate and transmit the voice communications associated with the incoming calls to the voice endpoint recorder using the IP network . Alternatively or additionally the soft switch can receive instructions for recording the voice communications from the voice endpoint recorder via the IP network . In turn the soft switch sends a command based on the received instructions to the soft phones . The operation of the system is further described in relation to .

In this embodiment the media application server includes a media controller and a media processor . The media controller receives incoming media communications identifies the type of media communications and routes the media communications to the media communication devices via the company network . The media controller can send a command to the media communication devices via the company network instructing the media communication devices to transmit the media communications through the media application server via the company network . Once the media application server receives the media communications the media processor duplicates and transmits the media communications to the media endpoint recorder using the IP network . Alternatively or additionally the media controller can receive instructions for recording the media communications from the media endpoint recorder via the IP network . In turn the media controller sends a command based on the received instructions to the media processor . The operation of the system is further described in relation to .

Alternatively or additionally the media communication devices can have the capabilities of duplicating and transmitting the media communications to a media endpoint recorder . For example the media controller manages the media communications and routes the media communications to the media communication devices via the company network . The media controller communicates with the media communication devices to determine whether the communication devices can duplicate and transmit the media communications to the media endpoint recorder . If the communication devices have the capability the media controller instructs the media communication devices via the company network to duplicate and transmit media communications to the media endpoint recorder using the IP network . Alternatively or additionally the media controller can receive instructions for recording the media communications from the media endpoint recorder via the IP network . In turn the media controller sends a command based on the received instructions to the communication devices .

In one scenario for example calls from a customer phone can be routed to the voice gateway which can route the calls to the soft switch . The soft switch receives incoming calls and routes the calls to the agent phones . The soft switch communicates with the conference bridge via the company network . The IP telephony system communicates with a voice endpoint recorder via an IP network . In this example the soft switch is operative to send a command to the agent phones and voice gateway via the company network instructing the agent phones and voice gateway to transmit voice communications associated with the incoming calls through the conference bridge via the company network . The soft switch also sends a command to the conference bridge via the company network to duplicate and transmit the voice communication to the voice endpoint recorder using the IP network . In another scenario for example the soft switch can have capabilities of a conference bridge as mentioned above. The soft switch can duplicate and transmit the voice communications without the conference bridge to the voice endpoint recorder using the IP network .

In yet another scenario for example the soft switch communicates with the agent phones to determine whether the phones can duplicate and transmit the voice communications to an endpoint recorder . If the agent phones have the capability the soft switch instructs the agent phones via the company network to duplicate and transmit the voice communications associated with the incoming calls to the voice endpoint recorder using the IP network .

In yet another scenario for example the media application server receives incoming media communications identifies the type of media communications and routes the media communications to media communication devices via the company network . The media application server can send a command to the media communication devices via the company network instructing the media communication devices to transmit the media communications through the media application server via the company network . The media application server duplicates and transmits the media communications to the media endpoint recorder using the IP network .

In yet another scenario for example the media communication devices can have the capabilities of duplicating and transmitting the media communications to a media endpoint recorder . For example the media application server manages the media communications and routes the media communications to the media communication devices via the company network . The media application server communicates with the media communication devices to determine whether the communication devices can duplicate and transmit the media communications to the media endpoint recorder . If the communication devices have the capability the media application server instructs the media communication devices via the company network to duplicate and transmit the media communications to the media endpoint recorder using the IP network .

In yet another scenario for example the voice gateway can perform the functions of duplicating and transmitting the voice communications to the voice endpoint recorder . For example the voice gateway receives instructions to record voice communications from the soft switch . It should be noted that the soft switch can receive the recording instructions from the media endpoint recorder . The voice gateway receives manages and routes the voice communications to the agent phones via the company network . The voice gateway determines whether to record the received voice communications at the agent phones according to the received instructions. If the voice gateway determines that the voice communications are to be recorded the voice gateway duplicates and transmits the voice communications to the voice endpoint recorder using the IP network .

In yet another scenario for example the voice gateway is operative to be configured to duplicate the voice communications and transmit the duplicated voice communications to a second voice gateway not shown . The second voice gateway transmits the duplicated voice communications to the desired endpoint component such as the media endpoint recorder another endpoint

In yet another scenario for example the voice gateway is operative to pass the voice communications to the second gateway. The second gateway is operative to be configured to duplicate the voice communications and transmit the duplicated voice communications to the desired endpoint component.

Alternatively or additionally the voice endpoint recorder is operative to be configured to duplicate and transmit voice communications. The voice endpoint recorder is operative to duplicate and transmit the voice communications to the desired endpoint component using one of an endpoint component name an IP address a SIP address and a domain name system DNS name of the desired endpoint component across the company and or IP networks . Some reasons among others to transfer recorded media communications from one recorder to another include load balancing the recorders archive and replay. The operation of an endpoint recording device is further described in relation to .

It should be noted that the systems can perform a service observation or a silent conference. Service observation is an extension based monitoring functionality where an agent s communication is monitored when there is activity using a service observe access code entered along with the agent s IP address port. The service observation enables supervisors to listen or view the media communication while the media communications take place. Silent conference is the ability to conference a monitored media communication into a conversation without conference announcements or indications.

It should be noted that the proxy server is shown in as a separate device from the other components of the recording system . However the proxy server can also be deployed on one of the recorders or on other servers such as the recording control server s . The proxy server can communicate with the soft switch to receive call events and other call related information such as agent identifications. The communication can also involve the recording of at least one media stream associated with an interaction within the customer center telephony system .

In general incoming calls arrive at the gateway which serves the incoming and outgoing traffic. The soft switch instructs the gateway to route the incoming calls based on customer center policy. Many incoming calls are routed to the IVR before transitioning the call to an available agent in one of potentially many customer centers. It should be noted that the gateway proxy server PBX communication not shown and other switching device or network devices not shown can also route the incoming calls according to the customer center policy.

The soft switch is operative to monitor incoming calls and invoke duplicate media streaming from the gateways. For example the soft switch can monitor a route point and identify an agent who potentially will receive the call or a dialed number identification service DNIS that had been dialed among others. The recording system receives an event corresponding to the incoming call and determines if the media streams associated with the incoming call should be recorded based on defined business rules. If the media streams are to be recorded the recording system issues a command to the soft switch such as a computer telephone integration CTI server. In turn the soft switch instructs the gateway to duplicate the media streams associated with the incoming call and deliver the duplicated media streams to a specific recorder.

Once instructed to record the incoming call the gateway delivers the media streams to the recorder by issuing a session initiation protocol SIP invite to the recorder which in turn responds with an OK. Alternatively or additionally the proxy server may be used to distribute the incoming call to a plurality of recorders configured for example as a high availability system. The gateway continues to transmit the media streams associated with the incoming calls to the recorder regardless of how the call is routed within the switch or between call centres. In turn the recorder continues to receive event streams about the incoming calls as the calls transition within the customer center and potentially are transferred between customer centers.

If the media streams are to be recorded while in an IVR platform the soft switch can be used to instruct the gateway to duplicate the media streams which provides cradle to grave recording from the point of first contact with the customer and also enables the validation of the IVR handling.

Alternatively or additionally the gateway can receive instructions from a call manager not shown to duplicate the media stream from an agent handset. Alternatively or additionally the gateway can receive instructions from a call manager JTAPI interface or other CTI event interfaces not shown such that this mechanism might be used in topologies where phone DMS duplicate media streaming is not practical or where the customer has made a large purchase in handsets which do not support DMS.

Alternatively or additionally the soft switch can facilitate recording media streams associated with the incoming calls without the recording system constantly monitoring the event stream of the soft switch . The soft switch can be configured to record or not record on an extension based on some pre existing configuration. For example as soon as the soft switch detects an incoming call for a particular extension the soft switch can route the duplicate media streams to the appropriately configured recorder of the recording system . The gateway receives instructions from the soft switch and transmits SIP Session Initiation Protocol messaging for the duplicated media stream associated with the incoming call to the recorder. The SIP messaging is verbose enough such that the origin and reason for the call being recorded can be tagged without the soft switch events. The SIP messaging includes for example the extension number and agent identification of the agent receiving the incoming call.

Alternatively or additionally internal calls within the customer center can be recorded in certain scenarios. For example incoming calls can be routed through a back to back gateway configuration such that the gateways can be instructed via the soft switch to duplicate media streams associated with the incoming calls.

At event the soft switch instructs the conference bridge to duplicate and transmit the voice communication to a voice endpoint recorder. The instruction to the conference bridge can include an IP address port of the voice endpoint recorder. At event the second soft phone transmits the voice communication to the conference bridge such as by using the IP address port of the conference bridge. At event the conference bridge duplicates the voice communication from the second soft phone and transmits the duplicated voice communication such as by using the IP address port of the voice endpoint recorder. Notably the voice endpoint recorder can be located virtually anywhere in the customer center premises as long as the recorder is connected to a network.

At event the conference bridge routes the voice communication from the second soft phone to the first soft phone or the voice gateway. At event the first soft phone or the voice gateway transmits the voice communication to the conference bridge such as by using the IP address port of the conference bridge. At event the conference bridge duplicates the voice communication from the first soft phone or the voice gateway and transmits the duplicated voice communication to the recorder such as by using the IP address port of the recorder. At event the conference bridge routes the voice communication from the first soft phone or the voice gateway to the second soft phone of the customer center premises. Thereafter the sequence is returned to event so that the second soft phone can transmit the voice communication to the conference bridge as instructed by the soft switch as shown at event .

At event the second soft phone receives the voice communication from the first soft phone or the voice gateway duplicates the voice communication and transmits the duplicated voice communication to the recorder such as by using the IP address port of the recorder. At event the second soft phone transmits the voice communication to the first soft phone or the voice gateway. At event the first soft phone or the voice gateway transmits its voice communication to the second soft phone using the IP address of the second soft phone. At event the sequence is returned to event during which the second soft phone receives the voice communication from the first soft phone or the voice gateway duplicates the voice communication and transmits the duplicated voice communication to the recorder.

At event the communication devices transmit the media communications to the media application server such as by using the IP address port of the media application server. In turn the media application server receives and transmits the media communications to the communication devices. At event the media application server duplicates the media communication from the communication devices and transmits the duplicated media communications such as by using an IP address port of a media endpoint recorder. At event the sequence is returned to event during which the media application server duplicates the media communications between the calling and called communication devices and transmits the duplicated media communications to the recorder.

At event the gateway routes the voice communications to a phone of the customer center premises and instructs the phone to transmit the voice communications through the gateway. The instructions to the phone can include an IP address port of the gateway. The gateway further determines whether to record the voice communications of the call based on the received instructions from for example the soft switch.

At event the phones transmit and receive the voice communications to the gateway such as by using the IP address port of the gateway. At event if the gateway determines that the voice communications are to be recorded the gateway duplicates the voice communications from the phones and transmits the duplicated voice communications such as by using the IP address port of the voice endpoint recorder. At event the sequence is returned to event during which the gateway duplicates the voice communications between the calling and called phones and transmits the duplicated voice communications to the recorder.

It should be emphasized that the above described embodiments are merely possible examples of implementations merely set forth for a clear understanding of the principles of the invention. Many variations and modifications may be made to the above described embodiments without departing substantially from the spirit and principles of the invention. All such modifications and variations are intended to be included herein within the scope of this disclosure and the present invention and protected by the following claims.

