---

title: Virtual controller for touch display
abstract: Systems and methods are provided for use with a computing device having a touch sensitive display including a touch sensor configured to detect touches of a digit of a user. The method may include detecting an initial digit down position on the display via the touch sensor, and establishing a neutral position for a virtual controller at the digit down position. The method may further include detecting a subsequent movement of the digit relative to the initial digit down position, and determining a controller input parameter based on the subsequent movement of the digit relative to the initial digit down position. The method may further include generating a controller input message indicating the determined controller input parameter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09411509&OS=09411509&RS=09411509
owner: MICROSOFT TECHNOLOGY LICENSING, LLC
number: 09411509
owner_city: Redmond
owner_country: US
publication_date: 20101229
---
Portable gaming devices are enjoyed by many users around the world. One type of such gaming device includes both hard button controls which provide the user with tactile feedback to reinforce correct finger positioning on the control as well as a touch screen which enables the user to interact with a game using for example a stylus. One drawback of such a device is that the hard buttons take up valuable space in the device constraining the size of the display and increasing the size of the housing. Reducing the size of the hard buttons is challenging because small buttons are often difficult for users to actuate particularly during fast paced game play. Further in the context of a gaming device that also functions as a multifunction tablet computing device or mobile telephone dedicated buttons on the front of the device devoted specifically for game play may detract from the usefulness or appearance of the device to those consumers who do not play games.

Systems and methods are provided for use with a computing device having a touch sensitive display including a touch sensor configured to detect touches of a digit of a user. The method comprising detecting an initial digit down position on the display via the touch sensor and establishing a neutral position for a virtual controller at the digit down position. The method may further include detecting a subsequent movement of the digit relative to the initial digit down position and determining a controller input parameter based on the subsequent movement of the digit relative to the initial digit down position. The method may further include generating a controller input message indicating the determined controller input parameter.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter. Furthermore the claimed subject matter is not limited to implementations that solve any or all disadvantages noted in any part of this disclosure.

Turning first to computing device may display the virtual controller on the multi touch display in a configuration that enables a user to control a program such as a video game. In the depicted embodiment virtual controller is a game controller including a virtual joystick controller that may be used to control aspects of a video game thereby enabling game play in a game display region . Typically the virtual controller is presented in a manner that does not unduly visually interfere with the display of the game display region. In another embodiment the virtual controller input module may provide aural feedback corresponding to virtual controller inputs through speaker microphone unit .

Virtual controller may be responsive to a plurality of touches of a digit of a user. For example the digit may be a thumb which may move in any general direction and this movement may be translated by virtual controller into a one or more controller input parameters. The controller input parameters may include a direction velocity and or relative magnitude corresponding to the movements of thumb . As a result in some embodiments one or more control icons may provide a visual indication to the user of the positioning of the control which is updated as the user moves his or her digit.

One or more control icons may represent one or more virtual controllers and or one or more ancillary controllers that may allow the user to control different aspects of the game. Control icons may each be one or more of a virtual joystick a button a D pad button a slider and any other feature that may be actuated to control an aspect of the game. In the embodiment illustrated in it will be appreciated that the virtual controller implements a MICROSOFT XBOX controller. Other controller implementations may be utilized as well.

Typically the virtual controller is presented in a manner that does not unduly visually interfere with the display of the game display region. Thus in some embodiments no controller icons are provided on the display to maximize viewable area of a game play region on the display. In other embodiments icons may be partially transparent to reveal game play thereunder or icons may be presented for a brief period of time and then fade away.

Multi touch display may employ a variety of display technologies for producing a viewable image and may include a graphical user interface GUI for example. Multi touch display may be configured as a liquid crystal display LCD or an organic light emitting diode OLED display comprised of a plurality of light emitting pixels for example. Multi touch display may further include a touch sensor and a pressure sensor .

Touch sensor coupled to multi touch display may detect a plurality of touches of a digit of a user such as touch . Pressure sensor coupled to multi touch display may detect pressure from changes in area of a touch associated with a digit over time or from changes in an electrical characteristic associated with increased pressure thereby functioning as a strain gauge. Multi touch display may include additional or alternative sensors without departing from the scope of this disclosure.

Mass storage unit may include various programs and modules including a virtual controller input module and program which may be executed by processor using memory unit and display to achieve various functions described herein. Further mass storage unit may store one or more programs that may be configured to send a display output that may control the display of GUI on multi touch display for example.

It will be appreciated that the computing device may include an operating system that includes an application programming interface API by which various programs communicate with and utilize operating system resources. In some embodiments the virtual controller input module may be implemented as an API on the computing device. Alternatively the virtual controller input module may be implemented as a program library service or other software component executed on computing device .

Virtual controller input module may be executed by processor of computing device . Virtual controller input module may be configured to detect a plurality of digits of a user as touches and movements corresponding to those touches on multi touch display via touch sensor pressure sensor and or additional sensors. In this way virtual controller input module may translate data received by one or more sensors generate a controller input message based on this data and send the message to program .

For example virtual controller input module may detect an initial digit down position on multi touch display via touch sensor . Additionally virtual controller input module may establish a neutral position for virtual controller at the initial digit down position. In other words virtual controller input module may detect an initial touch when a digit contacts multi touch display . Further virtual controller input module may be configured to display a control icon anchored or controllably centered at the neutral position. After establishing a neutral position virtual controller input module may be configured to detect a subsequent movement of the digit relative to the initial digit down position for example. Such touches and movements among others will be discussed in greater detail with respect to .

Virtual controller input module may be configured to determine a controller input parameter based on for example the subsequent movement of the digit relative to the initial digit down position. Determining controller input parameter may include determining a direction velocity and or relative magnitude of the subsequent movement of the digit relative to the initial digit down position for example. Further a controller input message indicating the determined controller input parameter may be generated by virtual controller input module and sent to the program . Controller input message functions as a communication pathway between the virtual controller input module and the program which as described above may be a video game or other program. This message may include the controller input parameters based on the detected subsequent movement and or the various other controller input parameters discussed below.

As one example of another controller input parameter controller input message may include an indication of a pressure of a digit against multi touch display during a subsequent movement wherein the pressure is detected based on a signal received from pressure sensor . The detected pressure may be based on changes in area of a touch associated with the digit over time or based on changes in electrical characteristics detected by a strain gauge for example.

Additionally virtual controller input module may detect a plurality of touches of a digit of a user for other controllers for example ancillary controllers that may control aspects of a game different from virtual controller . Such ancillary controllers may be associated with an ancillary control zone which will be discussed in greater detail with respect to . Controller input parameters based on output from these ancillary controllers also may be included in controller input message .

As described above the virtual controller input module may be implemented as an application programming interface API . Thus for example detecting the initial digit down position establishing the neutral position detecting the subsequent movement determining the controller input parameter and generating the controller input message may be performed by application programming interface executed on computing device . Further application programming interface may output controller input message to program to be executed on computing device . In other embodiments virtual controller input module may be implemented as a driver stand alone executable program a library a service or other type of software component.

To address this issue the virtual controller input module is configured to reposition the neutral position as such creep is detected. This repositioning may be implemented as follows. As shown in a digit of a user may make contact corresponding to an initial digit down position and establish neutral position for virtual controller at the initial digit down position as described above. The virtual controller input module may be configured to detect a digit up event wherein digit up event may be a lack of contact of the digit and the multi touch display for a predetermined threshold period of time for example.

The virtual controller input module may be configured to detect a first and second subsequent digit down positions and reposition the neutral position to the corresponding positions at B C at the centroid or other position relative to the subsequent digit down positions thereby resulting in virtual controller being repositioned as shown at B C.

In some scenarios a user may position a digit such that the neutral position may be substantially close to a border of multi touch display and may therefore result in a partial virtual controller. To resolve this issue a nearest acceptable position for the neutral position may be determined and a control icon may be displayed at the nearest acceptable position. Thus the virtual controller input module may be configured to determine a nearest acceptable virtual controller position if the digit down position and or the subsequent digit down position occurs in a region adjacent a border of the touch sensitive display that would result in an actuable area of the virtual controller being impeded by the border. In some embodiments the nearest acceptable position may be deemed to be a nearest position to a user s digit down position that enables the entire actuable area of the virtual controller to be positioned on the display. This feature may be optionally included for example during beginner modes to allow a user to become comfortable with the virtual controller.

In another example the detected neutral position may be rejected without determining the nearest acceptable position and thus a control icon may not be displayed at the nearest acceptable position. In another example the partial virtual controller may be enabled. For example if a user selects an advanced mode the partial virtual controller may be enabled such that a game may be controlled but with reduced functionality due to the border impeding a portion of the actuable area of the virtual controller. In this case the virtual controller may include partial display of a control icon in the actuable area of the virtual controller. Thus the partial virtual controller may enable controls from only those portions of the virtual controller that are visible to the user. Likewise the portions of the virtual controller obstructed by the border of the display may be out of view and unactuable resulting in reduced functionality.

Ancillary control zone may be configured as a virtual button or a directional pad D pad controller or other user input mechanism. Thus an ancillary control icon may be displayed in the ancillary control zone that corresponds to the shape of a virtual button D pad etc. By displaying such an ancillary control icon virtual controller input module may provide to a user an indication of a position of ancillary control zone . Further virtual controller input module may be configured to determine an ancillary control input parameter based on the subsequent position or relative movement of a user digit in the ancillary control zone. Therefore virtual controller input module may generate controller input message so as to further include an indication of the ancillary control input parameter. It will be appreciated that ancillary control zone alternatively may be configured in various other configurations to enable user input that is relevant to a other programs.

In some embodiments upon detecting the subsequent digit down position in an ancillary control zone virtual controller input module may be configured to inhibit repositioning of the neutral position. In this situation the virtual controller input module determines that the user hand has moved not due to unintended creep but rather due to an intention of the user to control an ancillary control that is a predetermined distance and direction from a the virtual control that functions as a primary control. In such a case the virtual controller input module refrains from repositioning the virtual controller and instead enables the user to interact with an ancillary control positioned in the ancillary control zone. In this manner a user may switch his or her thumb back and forth between a primary joystick controller and an ancillary D pad controller for example.

Method begins at and includes detecting an initial digit down position on the touch sensitive display via the touch sensor. Method advances to and includes establishing a neutral position for a virtual controller at the digit down position as described above.

Method proceeds to and includes detecting a subsequent movement of the digit relative to the initial digit down position. Method advances to and includes determining a controller input parameter based on the subsequent movement of the digit relative to the initial digit down position. For example the controller input parameter may include direction velocity and or magnitude associated with the subsequent movement to a control icon such as a virtual joystick displayed on a multi touch display. Other controller input parameters may also be detected as described above.

Method may proceed to and include detecting a pressure of the digit against the multi touch display during the subsequent movement. Therefore method may proceed to and include generating a controller input message indicating the determined controller input parameter and may further include an indication of the detected pressure.

From method may proceed both to and asynchronously. At method includes sending the controller input message including the controller parameter to a program executed on the computing device. In some embodiments the steps may be implemented by an API while step may be implemented by a program executed on the computing device. Thus the process flow from to may exit operating system API space and enter program space. At the method may include at the program adjusting a GUI element based on the received controller input message. From method may end or alternatively may loop to step to continue detecting input.

Returning to the conclusion of step the method may also branch to where the method includes deciding if a digit up event has occurred based on detecting a lack of contact with the display for a predetermined period of time for example. If the answer to is NO method proceeds to and resumes detecting input. If the answer to is YES method proceeds to and includes detecting a subsequent digit down position.

Method then continues to and includes determining if a subsequent digit down position has been detected in the ancillary control zone. If the answer to is NO method proceeds to to reestablish the neutral controller position. In other words may include repositioning the neutral position for the virtual controller at the subsequent digit down position as described above.

If the answer to is YES the neutral position is not repositioned. Rather method proceeds to and includes determining an ancillary control input parameter based on the subsequent digit down position in the ancillary control zone. For example an ancillary control icon may be displayed in the ancillary control zone which may be configured as a D pad controller and an example ancillary control input parameter may be a D pad controller down event. Other examples are also discussed above. From method returns to where generating a controller input message may include an indication of the ancillary control input parameter.

In some embodiments as discussed above some portions of method may be performed by an API executed on the computing device. For example an API may perform detecting the initial digit down position establishing the neutral position detecting the subsequent movement determining the controller input parameter and or generating the controller input message.

In some embodiments as discussed above some portions of method may further include determining a nearest acceptable virtual controller position if a digit touch such as a digit down position and or a subsequent digit down position occurs in a region adjacent a border of the touch sensitive display that would result in an actuable area of the virtual controller being impeded by the border. The nearest acceptable virtual controller position may be determined as described above. The virtual controller may be positioned and a control icon may be displayed at the nearest acceptable virtual controller position rather that at the neutral position detected by the digit touch. In other examples the detected neutral position may be rejected without displaying the nearest acceptable virtual controller position or the virtual controller may be partially viewable and actuable as discussed above.

It will be appreciated that the above described systems and methods may be implemented to enable a user to interact with a program using a virtual controller displayed on a touch sensitive display that is configured receive relative input and that also may have associated ancillary controls. Further the virtual controller may conveniently reposition its neutral position to track any changes in hand position of the user while the user simultaneously grips the device and actuates the controls. As a result controller misstrikes be avoided and the user experience may be enhanced.

The terms module program and engine are used herein to refer to software that performs one or more particular functions when executed by a processor of a computing device. These terms are meant to encompass individual or groups of executable files data files libraries drivers scripts database records for example. The embodiments described herein show one example organization of these modules programs and engines however it should be appreciated that the functions described herein may be accomplished by differently organized software components. Further it will be appreciated that a multi touch display is a display that can concurrently sense a plurality of touches on the display.

It is to be understood that the configurations and or approaches described herein are exemplary in nature and that these specific embodiments or examples are not to be considered in a limiting sense because numerous variations are possible. The specific routines or methods described herein may represent one or more of any number of processing strategies. As such various acts illustrated may be performed in the sequence illustrated in other sequences in parallel or in some cases omitted. Likewise the order of the above described processes may be changed.

The subject matter of the present disclosure includes all novel and nonobvious combinations and subcombinations of the various processes systems and configurations and other features functions acts and or properties disclosed herein as well as any and all equivalents thereof.

