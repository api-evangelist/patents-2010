---

title: Media playback in a virtual environment
abstract: A framework is provided for selecting media files for playback in a computer game. In one embodiment, user actions in the computer game are monitored. Further, user characterizations of media files may also be retrieved. The user characterizations may be input by a plurality of users via a media player application. A media file may be then selected for playback based on the monitored user actions and retrieved user characterizations. The selected media file may better suit an emotional experience of a user playing the computer game.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09002885&OS=09002885&RS=09002885
owner: Disney Enterprises, Inc.
number: 09002885
owner_city: Burbank
owner_country: US
publication_date: 20100916
---
Embodiments of the invention relate generally to computer games and more particularly to selecting media for playback in computer games.

In home computer games and computer game systems have become mainstream consumer products. Such systems allow a user to play computer games at home on a standard television set or on a handheld device that the user may carry with the user. Typically in home computer game systems include a console that reads computer game code from a storage device e.g. a CD ROM disc or cartridge and transmits video to a television screen for display. Computer game systems also typically include a controller device that allows the user playing the computer game to provide inputs to the computer game to manipulate the characters or other features of the game.

Generally the designer of the computer game will create a computer rendered world in which the computer game characters or other features may interact. For example many computer games allow a player to maneuver an avatar e.g. a sprite or character through a computer rendered world to accomplish a set of tasks. Other computer games allow the player to control a vehicle or airplane through a computer rendered world. In two dimensional computer games characters may move in two dimensions e.g. up and down on the screen or left and right while in three dimensional computer games characters are typically allowed to move in three dimensions in the computer rendered world.

Embodiments of the invention provide a computer implemented method computer readable storage medium and system for performing an operation that includes monitoring activity of a user in a virtual environment. The operation also includes retrieving user characterizations of a plurality of media files external to an application providing the virtual environment wherein the user characterizations are input by a plurality of users each using a respective media player application for managing the plurality of media files and the user characterizations and wherein the respective media player application is separate from an application that provides the virtual environment. The operation also includes selecting a media file from the plurality of media files for playback in the virtual environment based on at least the monitored activity of the user and the retrieved user characterizations.

Embodiments of the invention also provide a computer implemented method computer readable storage medium and system for performing an operation that includes providing a virtual environment for a user. The operation also includes outputting from a first media source internal to the virtual environment a first media file for playback for the user. The operation also includes providing a user interface for controlling media playback wherein the user interface is integrated into a virtual object in virtual environment. The operation also includes receiving from the user and via the user interface a request to play a second media file from a second media source external to the virtual environment. The operation also includes outputting the second media file for playback in the virtual environment responsive to the request.

Embodiments of the invention also provide a computer implemented method for performing an operation that includes selecting a media file from the plurality of media files for playback in a virtual environment based on at least the monitored activity of a user and user characterizations of a plurality of media files. The operation may also include outputting the media file for playback in the virtual environment. The operation may also include providing a user interface for controlling media playback wherein the user interface is integrated into a virtual object in virtual environment.

Embodiments of the invention generally provide a framework for selecting a media file for playback in a virtual environment based on user activity in the computer game and or user characterization of media files. The media files may include any type of multimedia content such as audio video images text and or any combination thereof. To facilitate understanding of the disclosure examples are given with reference to audio content such as soundtracks. However those skilled in the art will recognize that the examples are merely exemplary and are not intended to be limiting of the disclosure. In particular embodiments for selecting video images text and other content for playback in a virtual environment are broadly contemplated by the disclosure.

In one embodiment the audio content selected for playback in the virtual environment may include musical scores as opposed to sound effects that provide background music for the computer game. In one embodiment an application that provides the virtual environment e.g. a computer game monitors user activity occurring in the virtual environment. The application also retrieves one or more media profiles. The media profiles include data provided by one or more users characterizing a plurality of soundtracks. The one or more users may not necessarily include the user of the application. In other words user characterizations may influence soundtrack selection for the user making the characterization and for other users of the application. The application then selects one of the plurality of soundtracks to play back based on the monitored activity and or the retrieved media profiles. Advantageously by using the techniques disclosed herein the application may select a soundtrack that is better suited to the emotional experience of the user in the virtual environment. Further the application may provide an in game interface for the user to control playback of the soundtracks. For example the in game interface may be integrated into a dashboard of a virtual car in the application. Accordingly the user may further customize the playback of soundtracks in the application.

In the following reference is made to embodiments of the invention. However it should be understood that the invention is not limited to specific described embodiments. Instead any combination of the following features and elements whether related to different embodiments or not is contemplated to implement and practice the invention. Furthermore although embodiments of the invention may achieve advantages over other possible solutions and or over the prior art whether or not a particular advantage is achieved by a given embodiment is not limiting of the invention. Thus the following aspects features embodiments and advantages are merely illustrative and are not considered elements or limitations of the appended claims except where explicitly recited in a claim s . Likewise reference to the invention shall not be construed as a generalization of any inventive subject matter disclosed herein and shall not be considered to be an element or limitation of the appended claims except where explicitly recited in a claim s .

As will be appreciated by one skilled in the art aspects of the present invention may be embodied as a system method or computer program product. Accordingly aspects of the present invention may take the form of an entirely hardware embodiment an entirely software embodiment including firmware resident software micro code etc. or an embodiment combining software and hardware aspects that may all generally be referred to herein as a circuit module or system. Furthermore aspects of the present invention may take the form of a computer program product embodied in one or more computer readable medium s having computer readable program code embodied thereon.

Any combination of one or more computer readable medium s may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus or device or any suitable combination of the foregoing. More specific examples a non exhaustive list of the computer readable storage medium would include the following an electrical connection having one or more wires a portable computer diskette a hard disk a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory an optical fiber a portable compact disc read only memory CD ROM an optical storage device a magnetic storage device or any suitable combination of the foregoing. In the context of this document a computer readable storage medium may be any tangible medium that can contain or store a program for use by or in connection with an instruction execution system apparatus or device.

A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein for example in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms including but not limited to electro magnetic optical or any suitable combination thereof. A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate propagate or transport a program for use by or in connection with an instruction execution system apparatus or device.

Program code embodied on a computer readable medium may be transmitted using any appropriate medium including but not limited to wireless wireline optical fiber cable RF etc. or any suitable combination of the foregoing.

Computer program code for carrying out operations for aspects of the present invention may be written in any combination of one or more programming languages including an object oriented programming language such as Java Smalltalk C or the like and conventional procedural programming languages such as the C programming language or similar programming languages. The program code may execute entirely on the user s computer partly on the user s computer as a stand alone software package partly on the user s computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario the remote computer may be connected to the user s computer through any type of network including a local area network LAN or a wide area network WAN or the connection may be made to an external computer for example through the Internet using an Internet Service Provider .

Aspects of the present invention are described below with reference to flowchart illustrations and or block diagrams of methods apparatus systems and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and or block diagrams and combinations of blocks in the flowchart illustrations and or block diagrams can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer readable medium that can direct a computer other programmable data processing apparatus or other devices to function in a particular manner such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function act specified in the flowchart and or block diagram block or blocks.

The computer program instructions may also be loaded onto a computer other programmable data processing apparatus or other devices to cause a series of operational steps to be performed on the computer other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

The flowchart and block diagrams in the Figures illustrate the architecture functionality and operation of possible implementations of systems methods and computer program products according to various embodiments of the present invention. In this regard each block in the flowchart or block diagrams may represent a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical function s . It should also be noted that in some alternative implementations the functions noted in the block may occur out of the order noted in the figures. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality involved. It will also be noted that each block of the block diagrams and or flowchart illustration and combinations of blocks in the block diagrams and or flowchart illustration can be implemented by special purpose hardware based systems that perform the specified functions or acts or combinations of special purpose hardware and computer instructions.

The computer generally includes a processor connected via a bus to a memory a network interface device a storage an input device and an output device . The computer is generally under the control of an operating system . Examples of operating systems include UNIX versions of the Microsoft Windows operating system and distributions of the Linux operating system. More generally any operating system supporting the functions disclosed herein may be used. The processor is included to be representative of a single CPU multiple CPUs a single CPU having multiple processing cores and the like. Similarly the memory may be a random access memory. While the memory is shown as a single entity it should be understood that the memory may comprise a plurality of modules and that the memory may exist at multiple levels from high speed registers and caches to lower speed but larger DRAM chips. The network interface device may be any type of network communications device allowing the computer to communicate with other computers via the network .

The storage may be a hard disk drive storage device. Although the storage is shown as a single unit the storage may be a combination of fixed and or removable storage devices such as fixed disc drives floppy disc drives tape drives removable memory cards or optical storage. The memory and the storage may be part of one virtual address space spanning multiple primary and secondary storage devices.

The input device may be any device for providing input to the computer . For example a keyboard keypad light pen touch screen track ball or speech recognition unit audio video player and the like may be used. The output device may be any device for providing output to a user of the computer . For example the output device may be any conventional display screen or set of speakers along with their respective interface cards i.e. video cards and sound cards. Although shown separately from the input device the output device and input device may be combined. For example a display screen with an integrated touch screen a display with an integrated keyboard or a speech recognition unit combined with a text speech converter may be used.

It is specifically contemplated that embodiments of the invention may be provided to end users through a cloud computing infrastructure. Cloud computing generally refers to the provision of scalable computing resources as a service over a network. More formally cloud computing may be defined as a computing capability that provides an abstraction between the computing resource and its underlying technical architecture e.g. servers storage networks enabling convenient on demand network access to a shared pool of configurable computing resources that can be rapidly provisioned and released with minimal management effort or service provider interaction. Thus cloud computing allows a user to access virtual computing resources e.g. storage data applications and even complete virtualized computing systems in the cloud without regard for the underlying physical systems or locations of those systems used to provide the computing resources.

Cloud computing resources may be provided to a user on a pay per use basis where users are charged only for the computing resources actually used e.g. an amount of storage space consumed by a user or a number of virtualized systems instantiated by the user . A user can access any of the resources that reside in the cloud at any time and from anywhere across the Internet. In context of the present invention a user may access applications e.g. a computer game or related data available in the cloud. For example the computer game described herein could execute on a computing system in the cloud thereby allowing users to access the game from any computing system attached to a network connected to the cloud e.g. the Internet . Similarly the soundtracks described herein could be streamed to users by a music streaming service executing on a computing system in the cloud.

As shown the memory of the computer includes a computer game and a media player and the storage of the computer includes internal soundtracks and external soundtracks . The internal soundtracks refer to audio assets of the computer game that are provided as background music for the computer game . The external soundtracks refer to audio media that are not assets of the computer game and that are accessed independently of the computer game e.g. via the media player . In one embodiment the computer game provides a virtual environment that includes a user controlled avatar . The computer game also provides soundtrack playback user interface UI . The soundtrack playback UI allows a user playing the computer game to control playback of the soundtracks in the computer game . Depending on the embodiment the computer game may belong to one or more of the following genres puzzle action adventure arcade role playing simulation sports racing fighting shooting shooter and strategy.

In one embodiment the media player refers to an application for organizing and playing back the external soundtracks . Depending on the embodiment the media player may be any application that plays back digital media e.g. the external soundtracks and that is separate from the application that provides the virtual environment e.g. the computer game . Depending on the embodiment the media player is not a computer game and or does not provide the or any virtual environment for the user. In a typical embodiment the media player includes controls for organizing the external soundtracks such as renaming a filename or a song title of a soundtrack. The media player may also include playback controls such as starting playback of a soundtrack stopping or pausing playback of a soundtrack skipping to a next soundtrack etc. The media player may also include controls for organizing soundtracks such as into folders categories playlists etc. The external soundtracks may be stored locally or streamed via the network . Further the media player may create and or manage media profiles for the external soundtracks . The media profiles include characterizations of the external soundtracks .

In one embodiment characterizations refer to any kind of user provided attribute associated with one or more of the external soundtracks including preferential indications e.g. like or dislike ratings popularity indicators etc. free form text comments relationship attributes indicating a relationship to other soundtracks genre identifiers emotional impact indicators i.e. an indication as to whether the song is sad happy exciting etc. and the like. The characterizations may be provided by one or more users such as a user of the media player and or any other user of a media player on the network . In this way an overall characterization of a soundtrack may be influenced by a plurality of users who while not necessarily directly collaborating have a collaborative effect on the overall characterization. Although the external soundtracks and the media profiles are shown as being stored on the storage depending on the embodiment some or all of the external soundtracks and or media profiles may be stored in the cloud e.g. as part of a music streaming service . Alternatively the one or more users may also provide the characterizations via a graphical user interface GUI of the computer game rather than through the media player . However in at least some embodiments the computer game does not accept the characterizations from the user instead only the media player accepts and stores the characterizations for the user. One example of the media player is iTunes from Apple Inc. of Cupertino Calif.

Advantageously the experience of a user playing the computer game may be influenced by user characterizations from other users who need not necessarily also play the computer game . Depending on the embodiment aside from sharing user characterizations the media server may provide various media services such as a media store where users can purchase media files a search engine for finding desired media files and or a media streaming service for the media player to play back streamed media files. The media server may also generate inferred characterizations using the user characterizations. An inferred characterization of a soundtrack describes a qualitative or quantitative aspect of the soundtrack and is not input explicitly by a user but is derived from the user characterizations. For example if a predefined threshold count or percentage of users have characterized a soundtrack as being suited to a sad mood the media server may assign an inferred overall characterization of the soundtrack as being suited to a sad mood e.g. for all users .

Having created one or more profiles the information contained therein may be used to influence selection of music for playback in a virtual environment such as the virtual environment provided by the computer game . In one embodiment the computer game uses the media profile or profiles to select a soundtrack for playback to better suit an emotional mood of a user playing the computer game . To this end the computer game first determines the mood of the user playing the game. Emotional moods may include without limitation happiness sadness excitement anger frustration confusion surprise contempt indifference etc.

In one embodiment the determination of the emotional mood may be made by analyzing various contextual information such as statements made and or actions taken by the avatar of the user who the user is interacting with in the virtual world the particular scene or location in the virtual environment that the user is in a typing speed of the user the time of day and or a geographic location of the user e.g. as determined by an Internet Protocol IP address of the user cell tower triangulation global positioning system GPS etc. . Additionally or alternatively various biometrics such as blood pressure heart rate galvanic skin response etc. may be monitored in order to infer the emotional mood of the user. The mood of the user may also be determined explicitly e.g. by prompting the user to provide a mood selection from a list of choices. The computer game then selects a soundtrack based on the determined emotional mood and media profiles associated with a plurality of soundtracks. For example the computer game may select a soundtrack which the user characterization of the respective user profile indicates is suited to the determined emotional mood. The computer game may also take into account ratings of the soundtrack by the user or by other users . For example if more than one soundtrack satisfies emotional mood criteria the computer game may play back the soundtrack with the highest rating. Alternatively the computer game may generate a playlist using the soundtracks where the playlist is sorted according to the rating.

In an alternative embodiment a developer of the computer game may define a plurality of mappings from emotional moods to soundtrack criteria rather than specific songs. For example the developer may define a mapping from the emotional mood of sadness to a genre of blues . As another example the developer may define a mapping from the emotional mood of happiness to a listing of artist names album names and or soundtrack names deemed to suit a happy emotional mood. The computer game may select a soundtrack s that matches the criteria corresponding to the given emotional mood. The developer of the computer game may also specify other products related to the computer game . Then between playback of soundtracks the computer game may also play back advertisements to promote the other products.

In one embodiment the developer may also assign a playback priority to an artist an album or a soundtrack. For example the playback priority may be assigned based on a monetary payment received from an artist or from a record label associated with the artist . The playback priority of a given soundtrack may influence how often the computer game selects the soundtrack for playback in the computer game . The artist may specify one or more options regarding the playback priority. For example the artist may specify a time slot during which the playback priority is in effect. The artist may also specify that a soundtrack should only be played for an audience of a minimum threshold count of players playing the computer game .

To facilitate understanding of the disclosure assume that two users playing the computer game are interacting with one another in a scene in the virtual environment. This situation is illustrated by which show exemplary GUI screens of the computer game of according to one embodiment of the invention. The GUI screen of depicts a scene in a virtual environment provided by the computer game . The scene includes a first avatar and a second avatar . Each avatar is controlled by a different user playing a respective instance of the computer game e.g. via the network . Suppose the first user Adam controls the first avatar and the second user Bob controls the second avatar . Suppose also that the computer game is playing a rock song to accompany the scene in the virtual environment. In one embodiment Bob may inquire about the well being of Adam using the avatar as shown in . In response Adam may express sadness using the avatar . For instance using the avatar Adam may input a reply message indicating that Adam is experiencing difficulties in a personal relationship i.e. in real life and or in the virtual environment . The reply message may be input using a keyboard a mouse a microphone and or a game controller etc. Adam may also express sadness using body language of the avatar in the virtual environment. Adam may control the body language of the avatar using one or more keystrokes defined by the computer game and or customized by Adam. For example Adam may control the avatar to frown cry hang its head etc.

Based on the statements made by Adam and or body language of the avatar the computer game determines that Adam is in a sad emotional mood and that a song or songs befitting that mood should be played. To this end the computer game may take into account information contained in media profiles associated with the available external soundtracks . For example because the media profile associated with the soundtrack A Blues Song indicates that the soundtrack may be suited to a sad emotional mood as shown in the computer game selects and plays back A Blues Song in response to actions of Adam in the virtual environment of the computer game . The information in the media profile may have been provided by Adam other users such as the users of the computers or both. In some embodiments the computer game plays back A Blues Song only upon determining that a predefined threshold count or percentage of users have provided a media profile indicating that the song is suited to a sand emotional mood. Alternatively the computer game may also take into account predefined mappings between emotional moods and soundtrack criteria as specified by the developer of the computer game . In this case the computer game identifies soundtrack criteria e.g. genre of blues having a predefined association with the identified mood sadness in this case and then selects a song or playlist of songs that matches the criteria.

In one embodiment the selected song i.e. A Blues Song is audible only to Adam and not to Bob . In other words Bob continues to listen to the rock song or whatever song that Bob was previously listening to when Adam was listening to the rock song . In an alternative embodiment the selected song is audible only to Adam and other avatars who are within the vicinity of Adam or of the scene e.g. within a predefined radius . In still another embodiment the selected song is audible only to Adam and other avatars with whom Adam is interacting and or whom Adam has previously designated as friends in the computer game . Advantageously the computer game may play back soundtracks that are better suited to the emotional experiences of the user playing the computer game and without requiring the user to input any soundtrack characterizations via the computer game . Accordingly user satisfaction with the computer game may be improved.

At step the computer game selects one of the soundtracks for playback in the virtual environment based on at least the monitored activity and the retrieved characterizations. For example the computer game may stop playing back a rock song and start playing back a blues song based on the monitored activity of the avatar of Adam and based on the characterization of the blues song by Adam. As another example the blues song may have characterized by a user other than Adam. Further the other user may not necessarily play the computer game but may use a media player e.g. the media player to input characterizations of soundtracks. After the step the method terminates. Accordingly by analyzing soundtrack characterizations provided by multiple users and by correlating user actions in the virtual environment with the soundtrack characterizations the computer game may select soundtracks that are better suited to the emotional experience of the user playing the computer game thereby improving user satisfaction with the computer game .

In some cases the developer of the computer game may desire to provide users of the computer game a seamless mechanism for controlling playback of soundtracks. To this end the computer game may be configured to integrate a soundtrack playback user interface UI into a virtual object in the virtual environment provided by the computer game . The virtual object may represent an object in the real world that is typically used for controlling playback of audio content such as a portable radio. Integrating the soundtrack playback UI into such a virtual object allows the user to control playback of soundtracks in an intuitive manner and without having to execute and or switch to a separate application for controlling the playback. Put another way the user may control playback of soundtracks for the computer game without having to temporarily suspend play of the computer game . In controlling playback of the soundtracks the user may issue commands such as rewinding a soundtrack fast forwarding a soundtrack pausing a soundtrack selecting a new soundtrack from the internal soundtracks and or the external soundtracks etc.

In one embodiment the input source control allows the user to select between a plurality of sources for the external soundtracks . The sources include a radio mode a library mode a CD ROM mode and a portable device mode. In the radio mode the computer game plays back soundtracks streamed from one or more computers in the network . The streaming may be organized in the form of one or more radio channels or stations by the developer of the computer game . A particular radio channel may then be selected by the user via the tuning control and or by the computer game . For example the developer of the computer game may assign a radio channel that includes soundtracks from a plurality of computer games made by the developer. The developer of the computer game may specify radio channels based on target age group of listeners genre of music emotional moods etc. Advantageously the user may listen to soundtracks from the plurality of computer games made by the developer rather than only the soundtracks from the computer game .

In the library mode the computer game plays back soundtracks stored locally on the computer of the user e.g. the external soundtracks . In the CD ROM mode the computer game plays back soundtracks from a CD ROM drive connected to the computer of the user. In the portable device mode the computer game plays back soundtracks from a portable media player connected to the computer of the user e.g. via Universal Serial Bus USB or Firewire . CD ROM drives portable media players and other external input devices are collectively represented by input device of . Advantageously this embodiment allows the user playing the computer game to specify a source of soundtracks from within the computer game via the UI i.e. without having to switch to a different application executing on the computer . The computer game may then select soundtracks for playback from the soundtracks available at the specified source. Depending on the embodiment the soundtrack playback UI may also include a soundtrack control not shown that allows the user to select a specific soundtrack for playback e.g. based on a filename of the soundtrack .

In one embodiment the volume control allows the user to specify a volume for soundtrack playback. The tuning control and the AM FM control allow a user to tune to a given radio station i.e. when the input source control is set to radio mode . The display indicator presents information regarding the soundtrack playback e.g. the current radio station being played the current song title being played back etc. . The playback controls allow the user to replay a previous soundtrack skip to a next soundtrack pause stop rewind fast forward playback of the current soundtrack etc. Of course the UI shown in is merely illustrative and other embodiments may have different configurations of control elements.

Advantageously embodiments of the invention provide a framework for selecting soundtracks for a computer game based on user actions in the computer game and or user characterizations of soundtracks. The computer game may select soundtracks for playback in the computer game based on the user actions and or user characterizations. The soundtrack may be selected to better suit an emotional experience of a user playing the computer game. Accordingly the computer game may provide a more satisfying and or compelling gaming experience to the user.

While the foregoing is directed to embodiments of the present invention other and further embodiments of the invention may be devised without departing from the basic scope thereof and the scope thereof is determined by the claims that follow.

