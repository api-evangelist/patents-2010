---

title: Video workflow automation platform
abstract: A method and system for a video workflow automation platform (VWAP) is described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08918820&OS=08918820&RS=08918820
owner: iStreamPlanet Co.
number: 08918820
owner_city: Las Vegas
owner_country: US
publication_date: 20100527
---
This application is related to co pending U.S. application Ser. No. 12 789 106 entitled Video Workflow Automation Platform for Publishing a Video Feed in Multiple Formats filed herewith on May 27 2010 which is incorporated herein by reference.

Embodiments of the present invention relate to the field of delivery of media content over a network and more specifically to a video workflow automation platform that automatically provisions resources for acquiring encoding and publishing live video feeds for delivery to multiple client devices over the Internet.

The Internet is becoming a primary method for distributing media content e.g. video and audio or audio and other information to end users. It is currently possible to download music video games and other media information to computers cell phones and virtually any network capable device. The percentage of people accessing the Internet for media content is growing rapidly. Audience numbers for streaming video on the web are rapidly growing and there are a growing interest and demand for viewing video on the Internet. Streaming of data files or streaming media refers to technology that delivers sequential media content at a rate sufficient to present the media content to a user at the originally anticipated playback speed without significant interruption. Unlike downloaded data of a media file streamed data may be stored in memory until the data is played back and then subsequently deleted after a specified amount of time has passed. A webcast is a media file distributed over the Internet using streaming technology to distribute a single content source to many simultaneous listeners viewers. A webcast may either be distributed live delayed or on demand. Essentially webcasting is broadcasting over the Internet. The term webcasting usually refers to non interactive linear streams or events. Live webcasts enable the viewing of media content that is traditionally presented by way of conventional broadcasting e.g. terrestrial radio and TV but can also enable the viewing of presentations business meetings and seminars for those that telecommute rather than attend. Such sites offer live broadcasting as an affordable alternative to attending physical public speaking events expanding the viewing audience to anyone that has an Internet connection. Other live webcasts may be conducted completely online independent of any offline component.

Live sporting events such as local national and global events have quickly become frequent webcast subjects. Webcasting allows these events to have full audio or video coverage online. Streaming media content over the Internet has some challenges as compared to regular broadcasts over the air satellite or cable. Three concerns that arise in the context of webcasting are scalability reliability and flexibility.

Conventionally in order to webcast a large event such as the Olympics hundreds of human operators would be required to coordinate the workflow of acquiring encoding and publishing all of the video feeds of the events for streaming video feeds of the events over the Internet. For example each video feed would require at least six human operators to provision the resources necessary for acquiring encoding and publishing and possibly more to coordinate the starting and routing events correctly between the provisioned resources. Given the large dependencies of the workflow one human operator may not be able to complete his or her task until receiving notification from another human operator that the corresponding dependent task has been completed. These workflow dependencies introduce a timeliness aspect to the human operators actions.

When scaling the number of video feeds to be webcast the number of human operators increases at least proportionally if not greater as the number of video feeds to be webcast increases. Also there may be circumstances where multiple video feeds need to be started at the same moment which may possibly require even more human operators to ensure that the multiple video feeds are all started properly according to schedule.

Regarding reliability using human operators to coordinate the workflow is prone to human error. The reliability of any single video feed may be addressed with a team of human operators but when scaling to multiple video feeds the chance for detecting and remedying all human errors in a timely manner for the multiple video feeds decreases dramatically especially when the video feeds start at the same time. Also due to the various dependencies in the workflow the human operators may not be able to timely perform their respective tasks in order to acquire encoding and publish the multiple video feeds especially when these video feeds start at the same time. Regardless of the number of human operators used when scaling there are too many concurrent and dependent operations to be performed in the workflow in order to ensure reliability when manually provisioning the necessary resources for multiple video feeds as was done with the Beijing Olympic games .

Also there are some conventional system such as by Turner Broadcasting and Major League Baseball Advanced Media MLBAM that have preconfigured resources such as where the content source is mapped to the encoder and the encoder creates content in predefined formats and publishes the encoded video to predefined locations with no flexibility. These systems do not provide flexibility to dynamically control any of content scheduling acquisition routing encoding formatting publishing live to VOD transitioning and content synchronizing with external sources. In addition in order to publish the video in multiple formats one encoder per format has to be used which is inefficient resource intensive very difficult to scale and prone to errors.

In sum the conventional systems require manual operations which provide challenges for scaling and which are prone to error. The conventional systems also provide no control over digital video recorder DVR type controls delay and other advanced features built into adaptive HTTP streaming technologies. These conventional systems do not provide dynamic resource management and do not provide dynamic multi format support.

A method and system for a video workflow automation platform VWAP is described. In one embodiment the VWAP monitors multiple resources and in response to a trigger such as to start or stop one of multiple video feeds the VWAP automatically selects a content acquisition resource to acquire the video feed an encoding resource to encode the acquired video feed and a publishing point to publish the encoded video feed. The VWAP communicates with a video router to provision the video router to route the acquired video from the content acquisition resource to the encoding resource. The VWAP also communicates with each of the selected resources to provide instructions for provisioning the resources to acquire encode and publish the video feed.

In addition a method and system for a VWAP for publishing a video feed in multiple formats is described. Different client devices may require different formats. In one embodiment the VWAP in response to a trigger such as to publish the video feed into multiple formats automatically selects a first and a second of the multiple publishing resources that are not currently being used. The VWAP communicates with the first publishing resource to provision the first publishing resource to publish the encoded video on the Internet using a first of the multiple formats. The VWAP communicates with the second publishing resource to provision the second publishing resource to publish the same encoded video on the Internet using a second of the multiple formats. The VWAP may also perform these operations to publish the same encoded video in additional formats.

The embodiments described herein may be used to address at least the three concerns of scalability reliability and flexibility that arise in the context of webcasting as described herein. The embodiments described herein may be used to provide content acquisition encoding and publishing for ad hoc events as well as on going linear programming based services including but not limited to TV Everywhere and Over the Top video services. The embodiments described herein use the VWAP to dynamically schedule acquire encode content and modify output formats in a fully automated manner without human intervention.

In the following description numerous details are set forth. It will be apparent however to one of ordinary skill in the art having the benefit of this disclosure that embodiments of the present invention may be practiced without these specific details. In some instances well known structures and devices are shown in block diagram form rather than in detail in order to avoid obscuring the embodiments of the present invention.

Some portions of the detailed description that follow are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. An algorithm is here and generally conceived to be a self consistent sequence of steps leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually though not necessarily these quantities take the form of electrical or magnetic signals capable of being stored transferred combined compared and otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to these signals as bits values elements symbols characters terms numbers or the like.

It should be borne in mind however that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout the description discussions utilizing terms such as receiving monitoring executing selecting defining communicating presenting provisioning publishing tracking processing providing computing calculating determining displaying or the like refer to the actions and processes of a computing system or similar electronic computing systems that manipulates and transforms data represented as physical e.g. electronic quantities within the computing system s registers and memories into other data similarly represented as physical quantities within the computing system memories or registers or other such information storage transmission or display devices.

An electronic device e.g. a computing system a client device a server stores and transmits internally and or with other electronic devices over a network code composed of software instructions and data using computer readable media such as non transitory tangible computer readable media e.g. computer readable storage media such as magnetic disks optical disks read only memory flash memory devices and transitory propagating signals e.g. electrical optical acoustical or other form of propagated signals such as carrier waves infrared signals digital signals . In addition such electronic devices typically include a set of one or more processors coupled to one or more other components such as one or more non transitory tangible machine readable media to store code and or data user input output devices e.g. a keyboard a touchscreen and or a display and network connections to transmit code and or data using transitory propagating signals . The coupling of the set of processors and other components is typically through one or more busses and bridges also termed as bus controllers . Thus a non transitory computer readable medium of a given electronic device typically stores instructions for execution on one or more processors of that electronic device. One or more parts of an embodiment of the invention may be implemented using different combinations of software firmware and or hardware.

The VWAP executes on a computing system such as one or more machines including one or more server computers gateways or other computing systems. The VWAP communicates with the VWAP database as well the content acquisition resources encoding resources and publishing resources as depicted. The VWAP monitors the content acquisition resources encoding resources and the publishing resources . For example the VWAP monitors the resources by tracking the status of the respective resource such as whether the resource is currently being used currently failed and currently not being used for examples. In one embodiment the VWAP includes a content acquisition resource interface to communicate with the content acquisition resources an encoding resource interface to communicate with the encoding resource a publishing resource interface to communicate with the publishing resources and a storage interface to communicate with a data store e.g. VWAP database . In another embodiment the VWAP includes an input interface to receive input from a human operator of the VWAP e.g. a scheduler interface to communicate with a scheduler and a CMS interface to communicate with the CMS . These interfaces may be API interfaces that can communicate instructions to the resources to configure the resources described herein. For example the VWAP can hook into the video router the receivers the decoders the encoders the origin servers the secondary origin servers as well as other resources described herein and other resources that could be implemented in the network architecture as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure.

As described in detail below when the VWAP receives a start webcasting trigger such as from a scheduler or a human operator of the VWAP the VWAP communicates with the respective resources to automatically allocate and provision resources to acquire encode and publish video feeds for delivery to multiple client devices over the Internet without human intervention or interaction as described with respect to . For example the VWAP for each video feed selects one of the content acquisition resources one of the encoding resources and at least one publishing resource to acquire encoding and publish the respective video feed. This VWAP performs the allocation and provisioning automatically without human intervention. The VWAP can also receive stop webcasting triggers in which the VWAP communicates with the respective resources to stop and release the resources without human intervention or interaction as described below with respect to .

In one embodiment the video feeds are live video feeds. The live video feeds may be video of a live event or live performance or may be video of a prerecorded event scheduled for playback according to a schedule. For example the live video feed can be streamed over the Internet as it is received from the content source such as from the publisher of the content. The live video feed may be a simulcast of the same video being broadcast over cable satellite or over the air. It should be noted that the terms video raw video encoded video and video feeds as used herein refer to the video and corresponding audio of the particular recorded event e.g. TV show performance sporting event etc but also may include video only. The video feed may be a webcast of a television broadcast such as of a sporting event a live or recorded performance a live or recorded news report or the like. A live event or scheduled television event in this context refers to media content that is scheduled to be played back at a particular point in time as dictated by a schedule. The live event may also have pre recorded content intermingled with the live media content such as slow motion clips of important events within the live event e.g. replays which are played in between the live telecast. It should be noted that the embodiments described herein may also be used for streaming video on demand VOD .

In one embodiment the multiple content acquisition resources include source encoders origination IP multicast router end point IP multicast router IP switch and decoders . Multicast may be one transport method type for easily transporting the data a long distance without fiber connections. Multicast also allows for error correction as well as allowing multiple subscriptions to the same video feed without duplicating resources which helps reduce the amount of bandwidth used. In this embodiment the source encoders each provide a video feed to the origination IP multicast router . The source encoders encode the video feeds such as using the H.264 MPEG 4 AVC encoding scheme e.g. high definition HD feeds for transport over the network lines. The source encoders may reside at a broadcast center e.g. International Broadcast Center and the end point IP multicast router may reside at another location e.g. Las Vegas and the origination IP multicast router sends the video feeds over OC 12 network lines for example to an end point IP multicast router . The OC 12 lines may have transmission speeds up to approximately 655 Mbps for transmitting H.264 MPEG 4 video feeds at 17.7 Mbps. Alternatively other transmission lines may be used as well as other encoding schemes. It should be noted that the IP multicast routers and are used when transmitting the video feeds over a long distance but in other embodiments the source encoders can be coupled to the decoders in other ways than with IP multicast routers and IP switches as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure. In yet another embodiment the decoders may receive encoded video feeds from other video content sources.

In one embodiment where the video content source is an IP multicast source the VWAP can select one of the decoders and send instructions to the selected decoder to configure the selected decoder to subscribe to the IP multicast feed from the IP multicast source. The VWAP can previously receive input from a human operator of the VWAP that specifies a multicast address and port of the IP multicast feed a video identifier and an audio identifier. This information may be stored in the VWAP database . When provisioning the selected decoder the VWAP looks up this information in the VWAP database and communicates the instructions to the selected decoder to configure the selected decoder to subscribe to the particular IP multicast feed using the multicast address and port video identifier and audio identifier. In one embodiment the VWAP can instruct the decoder to subscribe to the video feed at the IP address and IP port of the end point IP multicast router using the IP switch . The IP switch allows multiple decoders to be configured to receive the IP multicast feeds from the end point IP multicast router . In one embodiment the end point IP multicast router is an Aggregation Services Router ASR e.g. Cisco ASR 1000 Series developed by Cisco Systems of San Jose Calif. The selected decoder decodes the IP multicast feed to which the decoder is subscribed and sends the raw un encoded video to a video router as described in more detail below.

In another embodiment the video content source is a satellite video feed. In this embodiment the satellite transmits HD video feeds e.g. HD feeds encoded using the MPEG 2 encoding scheme and the receivers receive the HD feeds through one or more satellite dishes coupled to the receivers . In one embodiment the satellite transmits the HD feeds as MPEG 2 encoded feeds. Alternatively the video feeds from the satellite may be encoded using other encoding schemes. The receivers receive the HD feeds from the satellite dishes decode the HD feeds if encoded and send the raw un encoded video to the video router . In one embodiment the VWAP selects one of the receivers as the selected content acquisition resource and communications instructions to the selected receiver to configure the selected receiver to subscribe to the video feed received by the satellite dish over a satellite link.

The network architecture illustrates two different transport methods for receiving the raw video at the video router namely through IP multicast and satellite transports. In other embodiments other content acquisition resources can be used to acquire the video feeds from any type of video source as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure. In other embodiments other video content sources can be can be directly or indirectly coupled to the video router for examples a digital video recorder DVR a tape deck a VCR a DVD player a Blu ray Disc player or other types of video sources can be coupled to the video router . In one embodiment the video router is the NVision router developed by Miranda Technologies of Montreal Quebec. Alternatively other types of video routers may be used.

The multiple encoding resources may include one or more encoders coupled to the video router . In one embodiment the one or more encoders are Inlet Technologies Spinnaker 7000. In other embodiments the encoding resources may include other types of resources for encoding the raw video feeds also known as un encoded video feeds received from the video router . The VWAP communicates with the encoding resources to allocate and provision the encoding resources to receive the video feeds from the video router and to output the encoded video to the provisioned publishing resources described below. In one embodiment the VWAP communicates an encoding profile to the selected encoding resource to encode the video feed according to the encoding profile. The encoding profile specifies how the encoding resource should encode the raw video feed. The encoding profile may specify an encoding format e.g. IIS smooth streaming Flash HTTP Streaming Flash RTMP Dynamic Streaming Apple HTTP Segmented Windows Media or the like an encoding bit rates structure e.g. encoding profiles for one or more bit rates an image size a video type e.g. HD or standard definition SD an audio encoding bit rate an audio encoding format and or other video and audio encoding parameters. In another embodiment the encoding profile may specify a type of platform for the client devices e.g. desktop computer mobile devices e.g. the iPhone and iPad IPTV set top box networked appliance e.g. network capable TVs gaming systems e.g. XBOX game console developed by Microsoft Corporation or the PLAYSTATION systems developed by Sony or the like. In one embodiment the VWAP generates the encoding profile based on input received at the VWAP which is stored in the VWAP database . When the VWAP communicates the encoding profile to the selected encoding resource the encoding resource encodes the raw video according to the encoding profile.

In one embodiment the encoding profile may include an encoder preset that the VWAP can dynamically send to one of the encoders based on the operator s selections such as format and publishing points. The encoder preset may include an encoding format a video type HD or SD and a publishing point e.g. dedicated origin server for publishing . The VWAP can use the encoder presets to dynamically send configurations to any encoder without ever having to open an encoder interface to configure the encoder . For example the VWAP sends the encoding profile to one of the encoders and the encoding profile specifies the configuration of the encoder to encode the raw video according to the specified encoding format and to route the encoded video to the specified publishing point. The VWAP can also use the encoder presets to control the entire flow without having to manually build the encoding profiles or populate data on the publishing points as described below.

The video router includes multiple input and output ports. The content acquisition resources are coupled to the input ports of the video router and the encoding resources are coupled to the output ports of the video router . The resources can be coupled to the video router using physical cables. The VWAP communicates with the video router to provision the video router to route the raw video from one of the content acquisition resources e.g. one of the decoders or one of the receivers previously selected by the VWAP to the one of the encoding resources e.g. one of the encoders previously selected by the VWAP as described below . In another embodiment there may be more than one video router and the VWAP can be configured to select and provision the appropriate video router . The VWAP can track the ports of the video router in order to make routing connections between selected resources. The VWAP can dynamically program the video router to establish the routing connections when setting up the resources to acquire encode and publish the video and to remove the routing connections when stopping the video feed and releasing the resources. For example the VWAP can track which ports the resources e.g. and are coupled in order to make routing connections at the video router between the selected resources as described herein. Since VWAP knows which ports are coupled to the selected resources the VWAP uses this information to dynamically route the video between the selected resources. For example when the content acquisition resource is one of the decoders the VWAP accesses the port information in the VWAP to determine an input port that is coupled to the selected decoder and the output port that is coupled to a selected encoder . The VWAP communicates with the video router to send instructions to configure the video router to route the raw video between the input and output ports. Similarly when the content acquisition resource is one of the receivers the VWAP accesses the port information in the VWAP to determine an input port that is coupled to the selected receiver and the output port that is coupled to a selected encoder . The VWAP communicates with the video router to send instructions to configure the video router to route the raw video between the input and output ports.

For example for the Vancouver Olympics 2010 the IBC included twenty three source encoders to encode and transport twenty three HD feeds over OC 12 lines to Las Vegas where twenty four decoders decoded the twenty three HD feeds. The outputs of the decoders were coupled to the video router . In addition five receivers using the satellite dishes received five HD feeds over satellite links. The output of the receivers were coupled to the video router and the video router was coupled to thirty encoders e.g. twenty six encoders for NBC and six encoders for CTV . There were twenty three encoders for the twenty three IP multicast feeds and five encoders for the satellite feeds and some backup encoders e.g. three backup encoders for NBC and one backup encoder for CTV .

In one embodiment the publishing resources include one or more origin servers to publish the encoded video on the Internet. In one embodiment the VWAP can select a set of one or more origin servers and create one or more publishing points at the set of origin servers . In one embodiment the origin server is a single machine. In another embodiment the origin server represents one or more servers that can be executed on one or more machines or on one or more virtual machines. In another embodiment the origin servers can be implemented in a cloud computing environment of one or more machines. In another embodiment the publishing resources include the origin servers and one or more secondary origin servers for failover redundancy. For example the VWAP can detect when one of the origin servers fails and can automatically switch to the corresponding secondary origin server . The failover redundancy may be optional. In another embodiment the origin servers and may have web services installed on each of the origin servers that perform publication point control and management. Alternatively other architectures for the origin servers can be used as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure such as the embodiment depicted in . The VWAP may allocate one of the origin servers to receive the encoded video from one of the encoders previously selected by the VWAP . The VWAP also communicates with the selected encoder to provision the selected encoder to output the encoded video to the allocated origin server . Similarly the VWAP can communicate with the selected encoder to provision the selected encoder to output the same encoded video to a corresponding secondary origin server . In one embodiment the VWAP communications instructions to the origin servers to configure the origin server to obtain the encoded video from the selected encoder . In another embodiment the VWAP sends instructions to the selected encoder to configure the selected encoder to output the encoded video to the origin server . In another embodiment a global traffic manager GTM is used to manage the routing of the encoded video from the encoders to the origin content servers and to the secondary origin servers . For example the GTM or other similar systems can be used to reroute video from the primary origin server to a secondary origin server should the primary origin server or ingest server of a server pod become nonresponsive.

In one embodiment the VWAP communicates with each of the ingest server the live server delayed server and the VOD server to provision the respective resource to create a publishing point. The VWAP may also monitor each of these resources to track whether these resources are currently being used not currently being used currently failed or the like. In one embodiment upon failover of the live server the VWAP can instruct the ingest server to route the video to another live server that is not currently being used. This may be done in addition to or in place of the failover redundancy of the secondary origin servers . The secondary origin server may include the ingest server that receives the same encoded video as the ingest server and routes the encoded video to the live server and the VOD server . A delayed server can receive the live video streams from the ingest server and publish the delayed video streams that are separate from the live video streams of the live server . The origin servers configuration may be a 1 1 redundancy configuration or other configurations as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure. However unlike traditional 1 1 redundancy configurations the encoding resources do not need to be duplicated as described herein. For example one of the encoders can output the encoded video to two publishing resources to publish the video at two or more publishing points in two or more formats.

In another embodiment the VWAP can communicate with the live server delayed server and VOD servers in order to perform a live to VOD transition. For example the live server may fail or may be stopped and the VWAP can instruct the live server to stop and issue a redirecting file e.g. created by the VWAP such as an HTTP .302 file for the live to VOD transition. The redirecting file may be one of the HTTP response status codes e.g. .302 file that temporarily or permanently redirect the CDN to another URL e.g. the corresponding URL for the VOD feed . The .302 file may include a pointer to the location where the video files have been moved. The VWAP can instruct the live server to move the video files to the corresponding file locations of the VOD stream being processed by the VOD server . Not only can the VWAP instruct the live server to move the files to the designated location but can also update the content management system CMS with the new URLs to where these files have been moved. The CMS is described in more detail below but in this context the CMS can provide the updated URLs to the media players executing on the client devices to indicate where the content can be requested. The VWAP can perform this update transparently to the viewers.

Referring back to in one embodiment the origin servers are coupled to a content delivery network CDN . A CDN is a system of computers networked together across the Internet that cooperates transparently to deliver content and may include for example one or more origin content servers web servers cache servers edge servers etc. Typically the CDN is configured in a hierarchy so that a client device requests the data from an edge cache for example and if the edge cache does not contain the requested data the request is sent to a parent cache and so on up to the origin content server. The CDN may also include interconnected computer networks or nodes to deliver the media content. Some examples of CDNs would be CDNs developed by Akamai Technologies Level3 Communications or Limelight Networks. Alternatively other types of CDNs may be used. In other embodiments the origin servers and optional secondary origin servers may deliver the encoded video to the client devices using other configurations as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure. For example the client devices may request and receive content from any of the multiple web servers edge caches or proxy cache servers. Each of the client devices executes a media player to request receive and present the video feed to a user of the media player. The media player may be a piece of software that requests and plays the media content e.g. displays video and plays audio and may be a standalone software application a web browser plug in a combination of browser plug in and supporting web page logic or the like.

In one embodiment the origin servers and the optional secondary servers are coupled to the CDN using a GTM . The GTM continuously monitors the output of the origin servers to see if this publishing point is available for transmitting the encoded video over the CDN and if not the GTM goes to the corresponding secondary origin server to check if the secondary publishing point is available for transmitting the encoded video over the CDN .

In the depicted embodiment the network architecture includes a CMS . The CMS is a publishing system that manages the video feeds. The CMS may use a database that allows a publisher to generate and modify timelines to schedule playback of the video feeds. The CMS can push these updates to the media players or the media player can pull these updates from the CMS for example by periodically checking for updates at the CMS . These updates may be cached and delivered through the CDN . For example the CMS can provide to the media players of the client devices metadata that defines a playlist for the viewer indicating when the video feeds can be played. For example the timeline may specify a starting time of one or more video feeds and a current duration of the video feeds to allow playback of the video feeds according to the schedule. In the example above the VWAP updates the CMS with the publishing points of the video feeds and the start and stop times of the video feeds as scheduled by the scheduler . The scheduler is executed on one or more machines. In one embodiment the scheduler is integrated with the CMS . In another embodiment the scheduler and CMS are separate systems. In one embodiment the scheduler is integrated on the same computing system as the VWAP . Alternatively the scheduler and VWAP can be integrated on separate computing systems. In other embodiments the CMS may receive other information such as any of the following the encryption keys availability information that indicates when the video feeds are available for delivery by the CDN the format of the video feeds the imaging size the type of video e.g. HD or SD air date of the content title actresses actors a start index an end index proprietary publisher data content duration episode or program name publisher available tools for the end user navigational environment such as available menus thumbnails sidebars advertising fast forward rewind pause and play or the like or bit rate values including frame size audio channel information codecs sample rate and frame parser information.

In other embodiments the network architecture may include other systems such as directory servers digital rights management servers messaging servers statistic servers billing systems or the like.

In one embodiment the VWAP provisions the origin servers to publish the encoded video in a single format received from one of the encoders . For example one of the encoders outputs the encoded video to the publishing point at the provisioned origin server . In one embodiment the encoder encodes the video according to the selected format e.g. IIS smooth streaming Flash HTTP Streaming Flash RTMP Dynamic Streaming Apple HTTP Segmented Windows Media or the like outputs the encoded video to the selected publishing point s . In this embodiment there may be one encoder for each supported format as done conventionally. However as described herein the embodiments may share encoding resources. In one of these embodiments the encoder encodes the video according to one format that can be published according to different formats by multiple publishing points. For example the VWAP can provision the encoder to encode the raw video into H.264 MPEG 4 video and routes the same encoded video to multiple publishing points each publishing point to deliver the encoded video according to a different format e.g. IIS smooth streaming Flash HTTP Streaming Flash RTMP Dynamic Streaming Apple HTTP Segmented Windows Media or the like . For example in one embodiment one of the origin servers is a Smooth Streaming Server IIS server that can receive the encoded video e.g. H.264 MPEG 4 video such as six bit rate streams and prepare the encoded video for delivery according to the IIS Smooth Streaming format while another one of the origin servers is a Flash Media Server FSM that can receive the same encoded video and prepare the encoded video for delivery according to one of the Flash HTTP or Flash RTMP Dynamic Streaming formats. The VWAP can provision these servers to receive the same encoded video and package the same encoded video according to the different formats such as for example by wrapping the video with the appropriate headers or other metadata to allow the video to be streamed according to the respective format. In other embodiments other types of formats may be used such as Apple HTTP Segmented Windows Media or the like.

In another embodiment the VWAP can provision one of the origin servers to transcode the encoded video into a specified format e.g. Apple HTTP Segmented . Transcoding is the direct digital to digital conversion of one encoding to another. This may be done in cases where the client device does not support the format or has limited storage capacity that mandates reduced file size or to convert incompatible data to another supported format. In this embodiment the origin server receives the encoded video such as H.264 MPEG 4 video and transcodes the H.264 MPEG 4 video into the specified format for delivery over the Internet. It should be noted that when transcoding there may be a loss in quality of the video. However the loss of quality may be acceptable to allow the video to be streaming in the specified format such as for devices that only support this particular format e.g. Apple HTTP segmented . In another embodiment the VWAP can provision one of the origin servers to transcode the H.264 MPEG 4 video into the specified format e.g. Apple HTTP segmented and to prepare the same video for delivery according to a different format e.g. IIS Smooth Streaming . Alternatively the VWAP can provision the origin servers in other manners as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure.

In one embodiment the origin server transcodes the encoded video received from the encoder into a second format e.g. Apple HTTP Segmented Streaming without undergoing another complete decoding and encoding process. In another embodiment the origin server transcodes the encoded video received from the encoder into the second format using an intermediate uncompressed format. Conventionally separate encoders were required to encode each of these formats which increased the number of resources required to accommodate all formats. These embodiments allow the reduction in encoding resources while allowing the publishing resources to be automatically provisioned to publish the same video into the different formats for delivery to different types of client devices that support different formats.

It should be noted that although in some embodiments the VWAP provisions the origin servers to publish the video into the different formats in other embodiments the VWAP can provision the encoders to encode the video feeds according to the specified formats before sending to the origin servers . In another embodiment the VWAP can allow the same video feed acquired by one of the content acquisition resources to be encoded by two different encoding resources . In this embodiment the VWAP automatically selects a second one of the encoding resources and communicates with the second encoding resource to provision the resource to encode the raw video according to a second format that is different than an encoding format of the first selected encoding resource that is encoding the same video acquired by the same content acquisition resource . The VWAP can communicate with the video router to provision the video router to route the same raw video to the second encoding resource . The VWAP also selects a second publishing resource that is not currently being used communicates with the second publishing resource to publish the encoded video on the Internet and communicates with the selected resource to provision it to route the encoded video in the second format to the selected publishing resource. Alternatively other configurations may be used to reuse resources as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure.

It should be noted that although various embodiments of the operations of the VWAP are described in the context of receiving a single start or stop trigger from the scheduler in other embodiments the VWAP can accommodate multiple triggers. In one embodiment the video feed can be set in schedule to be automatically started and or stopped or set to manually started or stopped by the human operator. In another embodiment the VWAP receives the start and stop triggers from a human operator of the VWAP . In one embodiment the VWAP receives multiple start webcast triggers from the scheduler . Each start webcast trigger instructs the VWAP to provision resources to acquire encode and publish one of the video feeds for delivery to multiple client devices over the Internet. The scheduler maintains a schedule of multiple video feeds and some of the video feeds may start approximately at the same time.

As described above the VWAP monitors the resources and in response to the start webcast triggers the VWAP automatically allocates and provisions one of the acquisition resources that is not currently being used automatically allocates one of the encoding resources that is not currently being used automatically provisions a video router to route raw video of the one video feed between the one acquisition resource and the one encoding resource. The VWAP also automatically provisions a publishing point at one of the publishing resource and automatically provisions the encoding resource to output encoded video of the video feed to the provisioned publishing point to publish the encoded video on the Internet. In one embodiment the VWAP automatically allocates and provisions the acquisition resource the one encoding resource and the publishing point at substantially the same time. However the VWAP waits for confirmation of completion of provisioning the one acquisition resource the one encoding resource the one publishing resource before completing said automatically provisioning the video router and the one encoding resources. The VWAP instructs the provisioned encoding resource to start encoding the raw video and the VWAP automatically verifies that the publishing point is receiving the encoding video from the encoding resource and transmitting the encoded video over the Internet such as to the CDN . If the publishing point is receiving and transmitting the VWAP extracts from the publishing points or from the encoding resource an actual start time of the video feed such as when the encoding resource starts encoding the raw video or when the first of the encoded video video and audio information is received by the publishing point and sends a successful start and the actual start time to the scheduler . For example the VWAP may post the successful start and actual start time to the VWAP database that then updates the scheduler and or the CMS . Alternatively the VWAP can send this information to the scheduler using other methods as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure. If the publishing point is not receiving and transmitting the VWAP automatically repeats the provisioning of the publishing point and encoding resource until the provisioned publishing point is receiving and transmitting the encoded video. The VWAP can retry the same resource and after a specified number of attempts the VWAP can provision a failover resource a second resource that is not currently being used for each type of verification being performed by the VWAP . In another embodiment the VWAP automatically verifies that the raw video is routed properly and if not automatically repeats the process until properly routed. The VWAP can retry the same resource and after a specified number of attempts the VWAP can provision one or more failover resources that are not currently being used.

In one embodiment the specified number of attempts is a fixed value. In another embodiment the specified number of attempts is configurable such as allowing the operator of the VWAP to change this as a setting e.g. set to five attempts in the VWAP database . If the VWAP fails to provision a resource the set number of times the VWAP writes the provisioning failure to the VWAP database and the scheduler can pull it from the VWAP database to display the provisioning failure visually in the scheduler s user interface e.g. web page of so the operator becomes aware of the provisioning failure. In another embodiment the VWAP can generate an email notification to a specified email address on every failure or issue VWAP may encounter.

In another embodiment the network architecture includes monitoring equipment in the control room that can monitor all incoming video feeds as well as monitoring the operations of the video router such as whether the video has been acquired by the decoders or the receives whether the video router is properly routing between appropriate resources. The monitoring equipment may also monitor the raw video feeds being received at the video router as well as the encoded video feeds being output by the encoders . In one embodiment the VWAP communicates with the monitoring equipment in the control room to collect monitored information as well as to verify correct operation such as whether the video has been acquired whether publishing points have been provisioned whether a particular encoder has been started and whether publishing points are receiving and transmitting video and audio. In one embodiment the monitoring equipment and the VWAP are integrated into the same system such as on one or more servers. In other embodiment the VWAP can monitor the resources without the use of the monitoring equipment of the control room . The VWAP can also present a user interface to a human operator of the VWAP and or the scheduler to configure parameters of the VWAP as well as to input information into the VWAP database . In one embodiment the user interface is a web based user interface such as those illustrated in and .

Referring back to in one embodiment the VWAP tracks statuses of the resources using the VWAP database . The VWAP database can store information in one or more storage devices that are local to the computing system hosting the VWAP and or remote from the computing system hosting the VWAP . In another embodiment the VWAP can also monitor the operations of the resources such as to confirm whether the raw video is properly acquired properly routed and whether the publishing point is receiving and transmitting the encoded video. In addition other storage schemes other than databases may be used to track the information contained in the VWAP database .

In one embodiment the VWAP tracks an acquisition status of each of the content acquisition resources . The acquisition status indicates that the respective acquisition resource is in one of multiple states including currently being used currently failed and currently not being used. The resource can be in at least one of these states at a time or one of these states and another state as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure. The VWAP also tracks an encoding status of each of the encoding resources . The encoding status indicates that the respective encoding resource is in one of multiple states including currently starting currently being used currently failed currently stopped and currently not being used. The VWAP also tracks a publishing status of each of the publishing resources . The publishing status indicates that the respective acquisition resource is in one of multiple states including currently being used currently failed and currently not being used. The VWAP can also track the ports of the video router . For example the VWAP can track which ports the resources e.g. and are coupled in order to make routing connections at the video router between the selected resources as described herein.

In another embodiment the VWAP communicates with the scheduler . The scheduler can execute on a separate computing system as the VWAP or alternatively on the same computing system. The scheduler maintains a schedule of when the video feeds are to start and stop. The scheduler can provide a user interface e.g. web based GUI that allows a human operator of the scheduler to schedule new webcasts modify existing webcasts and or remove existing webcasts. In one embodiment the operator uses the scheduler to schedule when the video feeds should be started and stopped for delivery over the Internet. In another embodiment the scheduler receives input regarding a schedule such as an electronic programming guide EPG or input from an external scheduling system. In one embodiment the EPG may include multiple channels of multiple networks. In another embodiment the EPG may be a partial list of available channels of a single network. The EPG may also include additional information other than start and stop times such as information about the video as well as other metadata typically found in EPGs. The scheduler may also output on the user interface e.g. web based GUI a representation of the timeline of the scheduled webcasts as illustrated in the exemplary web pages of .

As illustrated in the timeline can be scaled to show the timeline over a specified period of time such as six hours represented in and two hours as represented in . The timeline can also illustrate the status of the different scheduled events using color designations or other designations as illustrated by the different hashing of . For example illustrate the changes in status from about to start to playing for the event labeled CNBC Power Lunch Replay. The status may indicate that the event has started or not is about to start and whether the event is scheduled for automatic start or manual start such as designed by the boxed M and boxed A . The scheduler s interface may also provide a widget to allow the event to be started or stopped manually such as by clicking on the play or stop button widgets on the scheduled events. It should be noted that illustrate exemplary web pages for scheduling starting and stopping video feeds using the VWAP and other embodiments may use other types of interface to allow a human operator to schedule start and stop the video feeds for delivery over the Internet as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure.

Referring back to in one embodiment the scheduler sends a trigger to the VWAP to start and or stop the video feed such as described in the automated start and stop processed described in more detail with respect to . In another embodiments the operator of the VWAP can send the trigger to the VWAP to start and or stop the video feed without using the scheduler . In another embodiment the VWAP can detect a failover condition that generates a trigger for the VWAP to perform an automated processed to provision resources for failover as described in more detail with respect to .

In one embodiment in order to provision the resources to acquire encode and publish any particular video feed received at the video router the VWAP may perform the following process to start the video 

In another embodiment in order to make the resources available such as after completion of the video or in response to a trigger to stop the video the VWAP may perform the following process to stop the video 

The VWAP receives the trigger to start the webcast of one of the video feeds block and automatically allocates and provisions a content acquisition resource e.g. decoder or receiver block . In one embodiment the VWAP accesses the VWAP database to automatically select one of the content acquisition resources that is not currently being used. As described herein the VWAP tracks information regarding the resources in the VWAP database . The VWAP also allocates an encoding resource block such as by accessing the VWAP database to automatically select one of the encoding resources that is not currently being used. The VWAP routes the raw video audio from the selected content acquisition resource to the selected encoding resource block . In one embodiment the VWAP accesses the VWAP database to look up the ports of the video router to which the selected resources are coupled. The VWAP communicates with the router to establish a routing connection between those ports to route the raw video from the selected content acquisition resource to the selected encoding resource.

The VWAP confirms whether the video audio is properly acquired and routed block . If at block the raw video is not properly acquired the VWAP repeats the process returning to block . The VWAP may retry the same resources while repeating or alternatively may allocate and provision new resources. If at block the raw video is properly acquired the VWAP provisions one or more publishing points block . The VWAP accesses the VWAP database to automatically select one of the publishing resources not currently being used and to look up the corresponding publishing point URL associated with the selected publishing resource. The VWAP can also determine an encoding profile based on information stored in the VWAP database . The VWAP confirms whether the publishing point is provisioned block . If at block the publishing point is not properly provisioned the VWAP retries returning to block . If at block the publishing point is properly provisioned the VWAP sends the encoding profile and the publishing point information to the selected encoding resource block and starts the selected encoding resource. The VWAP confirms whether the selected encoding resource has been started block . If not the VWAP retries returning to block . If started the VWAP confirms whether the provisioning point is receiving and transmitting the video block . If not the VWAP may rollback and retry provisioning the publishing point at block . If the provisioning point is receiving and transmitting the video at block the VWAP extracts an actual start time block from the publishing point or from the encoding resource that has access to a time code i.e. connected to a time code generator and enabled during the encoding and posts a successful start and the actual start time to the VWAP database . The VWAP can also extract from the publishing point when the publishing point receives the first of the encoded video video and audio information . Once posted the scheduler can notify the CMS of the successful start and the actual start time of the video feed.

As illustrated in the VWAP can verify proper provisioning and retry provisioning the same resources or new resources as indicated in the dashed retry lines. In another embodiment the VWAP can be configured to retry a specified number of times and if still unsuccessful post that the retries have failed to the VWAP database to indicate that the resources cannot be provisioned as illustrated by the dashed retries failed lines. In one embodiment the scheduler can detect the retries failed and notify a human operator of the scheduler that the resources cannot be provisioned for the video feed allowing the operator to take corrective actions.

In another embodiment at block the VWAP can provision multiple publishing points as described above with respect to . In this embodiment the VWAP provisions a first publishing point for a first format and one or more additional publishing points for one or more additional formats. Each of the publishing points receives the same encoded video from a shared encoding resource. At blocks and the process is performed for each of the publishing points provisioned at block .

It should be noted that the start process is performed in response to each trigger received for each of the video feeds. For example these start process can be performed simultaneously or concurrently for multiple video feeds that are scheduled to start at the same time or approximately at the same time. It should also be noted that VWAP automatically handles the dependencies of the various tasks being performed.

The resource allocation and provisioning unit in response to the trigger detecting unit receiving the trigger is configured to automatically select one of the content acquisition resources that is not currently being used one of the encoding resources that is not currently being used and one of the publishing resources that is currently not being used using the resource manager . In another embodiment the resource allocation and provisioning unit can directly access the VWAP database by way of the storage interface to select the resources without using the resource manager . Also in response to the trigger the resource allocation and provisioning unit via resource interfaces communicates with the selected content acquisition resource to provision the selected content acquisition resource to acquire raw video of the live video feed from a video content source with the selected encoding resource to provision the selected encoding resource to encode the raw video with a video router to provision the video router to route the raw video from the selected content acquisition resource to the selected encoding resource with the selected publishing resource to provision the selected publishing resource to publish the encoded video on the Internet and with the selected encoding resource to provision the selected encoding resource to route the encoded video to the selected publishing resource .

In one embodiment the resource allocation and provisioning unit includes a selection unit A configured to automatically select different ones of the resources and a provisioning unit B to automatically cause the provisioning of the selected resources. In another embodiment the resource allocation and provisioning unit also includes a confirmation unit C configured to confirm the provisioning performed by the provisioning unit B. For example the confirmation unit C may be configured to confirm whether the video is routed properly whether the publishing points are provisioned and whether the publishing points are receiving and transmitting the video feed such as described with respect to blocks and of . The provisioning unit C may also be configured to confirm whether resources have been stopped such as described with respect to blocks and of blocks. Alternatively the confirmation unit C may confirm the completion of operations before completing other operations. In another embodiment the resource allocation and provisioning unit also includes a failover unit D configured to perform one or more failover operations such as those described above with respect to when one of the resources has failed.

In another embodiment the trigger detecting unit receives a trigger from the human operator or the scheduler to encode the video feed once and to publish the video feed to a set of two or more publishing resources for delivery of the video feed in different formats over the Internet. As described herein different ones of the client devices coupled to the Internet may require different ones of the different formats. In this embodiment the resource allocation and provisioning unit in response to the trigger detecting unit receiving the trigger is configured to communicate via resource interfaces with a content acquisition resource to provision the content acquisition resource to acquire raw video of the live video feed from a video content source with an encoding resource to provision the encoding resource to encode the raw video and to automatically select a first and second ones of the set of publishing resources that are not currently being used. Also in response to the trigger the resource allocation and provisioning unit via resource interfaces communicates with the first selected publishing resource to provision the first selected publishing resource to publish the encoded video in a first one of the different formats for delivery over the Internet with the second selected publishing resource to provision the second selected publishing resource to publish the encoded video in a second one of the different formats for delivery over the Internet and with the encoding resource to provision the encoding resource to route the same encoded video to the first selected publishing resource and the second selected publishing resource .

In one embodiment the resource interfaces include a content acquisition resource to communicate with the content acquisition resources an encoding resource interface to communicate with the encoding resources a video router interface to communicate with the video router and a publishing resource interface to communication with the publishing resources . The VWAP communicates with the resources and over a network . The network may be a private network such as a LAN or a public network such as the Internet or any combination thereof.

In another embodiment the VWAP of further includes the input interface to receive input from a human operator of the VWAP. For example the human operator can input information regarding the resources such as described with respect to . The resource allocation and provisioning unit can store this information in the VWAP database using the storage interface . Alternatively the user interface can allow the human operator to store the information directly into the VWAP database through the storage interface without the use of the resource allocation and provisioning unit .

The embodiments described herein may provide the following advantages and benefits. The embodiments described herein may solve issues with dynamic resources allocation which may include allocation of receivers decoders and encoders. For example in order to not exceed the network lines throughput e.g. OC 12 throughput the embodiments described herein provide a way to manage resources based on what video feed needed to be encoded at a particular data and time. For example during the Vancouver Olympics the resources could not run all twenty three feeds continuously because it would exceed the OC 12 throughput. The VWAP keeps records of all decoders receivers and encoders as well as all video audio subscription information encoder profiles and publishing points in VWAP database . The VWAP includes logic that tracks what resource is available at any point in time and only send requests to subscribe to particular video feed in case of decoders or receivers to available decoders receivers i.e. decoders receivers not currently in use or failed or send encoder profile and publishing point information to available encoders.

The embodiments described herein can also be used to start and stop live webcasts. In order for live video feed to be encoded and pushed to the publishing point for delivery over the Internet the VWAP performs a number of steps with checks and retry logic in place to control processes handle errors and to prevent mistimed display of the video e.g. encoder starts encoding video prior to correct video been routed to the encoder . The VWAP includes logic such as that described with respect to to handle the starting the webcasts of one or more video feeds and to handle two or more webcasts that start at the same time or approximately at the same time. Similarly the VWAP includes logic such as that described with respect to to handle stopping the webcasts and releasing the resources to be used for other video feeds.

The embodiments described herein can allow the content owners to share the same content acquisition resource but route the video from the shared content acquisition resource to one encoder belonging to the first content owner with any specification e.g. format encoding profile with slates or no slates etc and at the same time routing it to a second encoder belong to a second content owner with different specifications. Slates can be used to overlay content over broadcast advertisements that are not permitted for webcasting. The embodiments described herein allow the sharing of resources between different VWAP users e.g. different clients . In some embodiments the VWAP can coordinate the resources for acquiring encoding and publishing the video in a single format for one or more client devices. In other embodiments the VWAP can also coordinate the resources for acquiring encoding and publishing the video in multiple formats for multiple client devices such as when the client devices support different formats. In these embodiments the VWAP can allow the content owner to share the same content acquisition resource and the same encoding resource and establish multiple publishing resources for publishing the encoded video in different formats e.g. IIS streaming Apple HTTP segmented etc. for each publishing resource. Unlike conventional solutions that use multiple encoders to publish the video in multiple formats one encoder for each format the embodiments described herein may share resources to provide dynamic multi format support. This is more efficient than conventional solutions less prone to errors and can scale easily compared to conventional solutions.

The embodiments described herein can provide a mechanism for live to VOD transitions. For example the redirecting .302 files can transition viewers transparently from the live or delayed streams to a VOD stream for example. The VWAP includes logic to perform the live to VOD transition as described above as well as to move files to designated locations and update the CMS with the new URLs to redirect the viewers transparently.

The embodiments described herein can provide failover such as encoder failover described with respect to and decoder receiver failover described with respect to .

The embodiments described herein provide scalability. The VWAP includes logic that allows for control of scheduling acquisition routing encoding publishing point management resource management for multiple types of client devices as well as multiple formats. Since VWAP performs the video workflow automatically the VWAP is less prone to human error especially when setting up multiple video feeds and when multiple video feeds start at the same time or approximately at the same time. In addition the embodiments described herein allow a single computing system executing the VWAP to handle a large amount of video feeds some of which could be starting at the same time. The single computing system can control all of the different resources at the same time for many different video feeds.

The foregoing description for purpose of explanation has been described with reference to specific embodiments. However the illustrative discussions above are not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The embodiments were chosen and described in order to best explain the principles of the invention and its practical applications to thereby enable others skilled in the art to utilize the invention and various embodiments with various modifications as may be suited to the particular use contemplated.

