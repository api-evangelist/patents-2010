---

title: Contextualized telephony message management
abstract: In one or more embodiments, one or more methods and/or systems described can transform an inbound call into one or more call streams and/or call states that can include at least one of a contextualized or personalized message, a promotion, a coupon, an offer, a voucher, an advertisement, and an opt-in program, among others. For example, the one or more methods and/or systems described can perform: receiving identification information associated with a telephony device; determining, based on the identification information, a message for the user; and sending the message to the telephony device. For instance, the message can include a coupon or discount for a good or service. In one example, the coupon or discount can be sent via a short message service text message. In another example, the coupon or discount can include a computer-readable image that can be sent via a multimedia messaging service message.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08750468&OS=08750468&RS=08750468
owner: CallSpace, Inc.
number: 08750468
owner_city: Austin
owner_country: US
publication_date: 20101005
---
This application claims benefit of U.S. Provisional Application Ser. No. 61 248 593 filed Oct. 5 2009 titled Method and Apparatus For Syndicated Streaming Multimedia Messaging Network which application is hereby incorporated by reference in its entirety as though fully and completely set forth herein.

This description relates generally to the field of managing calls within a telephony management system and more specifically to dynamically providing call support services within a telephony management system.

Callers place calls to entities e.g. call centers restaurants government agencies businesses educational institutions retailers etc. in order to obtain information and or to speak to representatives within departments of an entity. In the past callers have spent billions of minutes per day listening to silence or pre recorded sets of repeating messages or music. Callers are subjected to navigating prompts often outdated presented to them by impersonal interactive voice response IVR telephony systems. This process is inefficient and frustrating to callers and is equally unsatisfactory to management of many of these entities. Entities have spent billions of dollars in promoting communicating and developing their product service or brand messaging in traditional marketing channels but those entities have overlooked and or missed various opportunities which remains untapped in the millions of calls flowing into their entities every day.

While the invention may be susceptible to various modifications and alternative forms specific embodiments thereof are shown by way of example in the drawings and will herein be described in detail. It should be understood however that the drawings and detailed description thereto are not intended to limit the disclosure to the particular form disclosed but on the contrary the disclosure is to cover all modifications equivalents and alternatives falling within the spirit and scope of an invention as defined by appended claims.

In one or more embodiments methods and or systems described can transform inbound calls into a series call streams and or call states that can include contextualized personalized relevant messages information promotions coupons offers advertising surveys vouchers opt in programs and or other specific messages. For example targeting multi site national retail entities embodiments described herein enable richly personalized experiences for on hold customers and provide entity wide brand consistency. For instance a system described herein can provide callers with prompts during a call to receive messages offers promotions discounts coupons and opt in programs in a form of response messages e.g. text messages multimedia messages etc. to a caller s phone or email address. Upon receipt of a prompt during various segments of the call the caller can respond which can include a pressing of an indicated number or sequence of numbers by voice acknowledgement or other possible forms of confirmation which can include facial or gestural recognition in the case of video calls. In response to caller confirmation a message or series of relevant messages that can include messages offers promotions discounts coupons and opt in programs can be transmitted to the caller s telephony device for use in future transactions that can be conducted with the entity.

Turning now to a block diagram of one or more network communications systems is illustrated according to one or more embodiments. As shown in one or more telephony devices TDs can be coupled to a public switched telephone network PSTN . In one example one or more of TDs can be coupled to PSTN in a wired fashion. In another example one or more of TDs can be coupled to PSTN in a wireless fashion. For instance telephony device TD can include a mobile telephony device e.g. a cellular telephony device a satellite telephony device etc. and the mobile telephony device can be coupled to PSTN via a cellular or satellite telephony network coupled to or included in PSTN . In one or more embodiments a TD can include a voice over Internet protocol VoIP telephony device. In various embodiments a TD can include a personal digital assistant PDA a smart phone or a hand held computing device that allows a user of the TD to communicate with PSTN and or other networks such as a wireless local area network WLAN among others.

Users e.g. callers can use TDs to place calls to one or more entity locations ELs and . As shown PSTN can be coupled to one or more routers and of ELs and respectively. In one example each of routers and can be coupled to PSTN via a primary rate interface PRI . In one or more embodiments routers and can receive the calls from one or more of TDs and can determine where and or how to route the calls. For example routers and can determine where and or how to route the calls based on one or more criteria and or configurations. As illustrated ELs and can include one or more extensions Exts and respectively. In one example extension Ext of entity location EL can be associated with a women s clothing department of EL Ext can be associated with a women s shoe department of EL and Ext can be associated with a children s clothing department of EL . In another example Ext of EL can be associated with a lumber department of EL Ext can be associated with a paint department of EL and Ext can be associated with a power tools department of EL .

As shown data centers and can be coupled to one or more networks and . In one or more embodiments network and or network can include a wired network a wireless network or a combination of wired and wireless networks. In one or more embodiments network can include a wide are network WAN . In one example network can include or be coupled to a WAN that accessible by the public e.g. the Internet . In a second example network can form part of the Internet. In another example network can be or include a private network.

In one or more embodiments network can include a WAN. For example network can be or include a private network. In one or more embodiments network can be or include a multiprotocol label switching MPLS network. In one example the MPLS network can be used to create virtual links between two nodes and can encapsulate packets of various network protocols. For instance packets of the MPLS network can be assigned labels and the data included in the labels can be used to forward and or route the packets of the MPLS network. In one or more embodiments a converged MPLS router can interface and or communicate with the MPLS network and or provide network routing for voice and data to each of ELs and . For example one or more of routers and can be or include a converged MPLS router.

In one or more embodiments router can be coupled to data centers and via respective routers and and network and or router can be coupled to data centers and via respective routers and and network . As shown router can be coupled to an Internet protocol IP private branch exchange PBX that can be coupled to a router and a customer database CDB e.g. a customer relationship management information database can be coupled to router . In one or more embodiments an IP PBX can provide one or more of session initiation protocol SIP registration of one or more extensions e.g. one or more of Exts and partitioning of extensions at locations and routing calls based on one or more rules among others.

In one or more embodiments router can include a voice gateway VGW e.g. an entity VGW . In one or more embodiments router can include one or more of a firewall mechanism a firewall service and one or more firewall data structures. In one example router can be used to separate and or isolate one or more communications paths of one or more of router CDB and IP PBX from one or more of router VGW CS database DB and rules engine RENG . In another example router can be used to separate and or isolate one or more communications paths of one or more of router VGW CS DB and RENG from one or more of router CDB and IP PBX .

As shown router DB RENG and VGW can be coupled to CS and VGW can be coupled to router . In one or more embodiments CS can include one or more of router DB RENG VGW and router . In one or more embodiments DB can include a relational database management system. For example DB can include an Oracle database a DB 2 database a PostgreSQL database a SQL Server database a SQLite database or a MySQL database among others.

As illustrated a media provider can be coupled to network via a router . As shown media provider can include a media server that can include various media and or messages that can be included and or provided in a telephone call. For example media server can provide the various media and or messages to a call server e.g. CS CS etc. so that the call server can provide the various media and or messages to callers. In one or more embodiments router can securely communicate with router and or router . In one example routers and can communicate using at least one of Internet Protocol Security IPSec a secure socket layer SSL and transport layer security TLS among others. In a second example routers and can communicate via an encrypted tunnel. In another example routers and can communicate via a virtual private network VPN . In one or more embodiments routers and can include one or more of a firewall mechanism a firewall service and one or more firewall data structures.

As shown a message gateway MGW can be coupled to network . In one or more embodiments MGW can provide one or messages via one or more of a short message service SMS and a multimedia messaging service MMS to one or more of TDs . For example MGW can be accessible by a call server e.g. CS CS etc. via an application programming interface API . For instance the call server can use MGW and its API to fulfill sending one or more of contextualized messages personalized messages text messages multimedia messages information promotions coupons offers surveys vouchers and opt in programs among others to one or more of TDs 

In one or more embodiments data center can be a secondary or backup data center to data center . For example elements of data center can include one or more same and or similar structures and or functionalities as those described with reference to respective elements of data center . In one or more embodiments DB can be synchronized with DB . For example DB can include data of DB should data center become unreachable or should DB or another element of data center fail.

Turning now to a block diagram of one or more network communications systems is illustrated according to one or more embodiments. As shown can include elements of . As illustrated PSTN can be coupled to a router included in data center and coupled to router and PSTN can be coupled to a router included in data center and coupled to router . In one or more embodiments ELs and can be coupled to PSTN via network and routers and or routers and . As illustrated ELs and can be coupled to network via respective routers and .

Turning now to a block diagram of states of a telephone call within a telephony management system is illustrated according to one or more embodiments. As shown a call can include one or more states . In one or more embodiments one state can follow another state without a specific order and or one or more states can be repeated. In one example routing state or hold state can follow conversation state . In another example routing state and or dial plan state can be repeated. In one or more embodiments states as shown may not depict any specific order and are enumerated for exemplary and or identification purposes.

As illustrated analytic information associated with one or more of states can be sent to and or collected by CS according to one or more embodiments. In one example the analytic information can include information associated with whether or not a rule of a rules engine was invoked and or whether or not the rule of the rules engine was matched. In a second example the analytic information can include information associated with what media was presented to a caller and or what time the media was presented to the caller. In a third example the analytic information can include information associated with a received call e.g. call time called number calling number etc. . In a fourth example the analytic information can include information associated with a call transfer e.g. call transfer time transfer number calling number etc. . In a fifth example the analytic information can include information associated with a disconnection of a call e.g. disconnection call time called number calling number etc. . For instance the call may have been disconnected by the caller hanging up during a call state or disconnecting after a bye state. In a sixth example the analytic information can include information associated with whether or not a message was proffered to a caller and or whether or not the message was accepted by the caller. In a seventh example the analytic information can include information associated with providing a customized menu to a caller and or whether or not a specific customized menu matched one or more portions of a profile of the caller.

In one or more embodiments ringback state can include sending media to a TD that has placed a call to an entity. For example the media sent to the TD can include audio and or video information that can convey information associated with the entity and or one or more goods and or services that can be provided by the entity. For instance call information associated with call can include one or more of an identification of the TD caller ID and a telephone number that the TD called DNIS or called party that can be used to determine and or provide the media sent to the TD.

In one or more embodiments a first state of a call entered by the TD upon answer of the call at the telephony management system is the hello state. The hello state can include providing an acknowledgement portion to the TD. For example the acknowledgement can be based on the call information and or profile information associated with the call information. In one instance the acknowledgement can thank the user of the TD for being a rewards member of the entity. In another instance the acknowledgement can thank the user of the TD for calling the entity.

In one or more embodiments offer state can include sending offer information to the TD. In one or more embodiments one or more methods and or systems described enable presentation of offer information to users of various offer types for callers to accept or decline during a course of a set of call states presented during the call. The offer types presented in the offer information include offers to receive information discounts coupons reviews directions or other types of information. Further the offer information can be presented in various forms. For example the offer information can include one or more of audio a graphic or image text and a video that is associated with one or more of the entity the entity location a brand of an item and or service for sale by the entity a sale event a store wide sale event a department sale event hours and or days of operation of the entity and or an entity location. The offer information further includes instructions for the caller to accept or decline the offer for delivery of the message. In one embodiment the offer information indicates delivery of the message to the caller s mobile telephone. In one example the message can be sent via a SMS or a MMS.

The caller can indicate whether or not the offered message is to be sent to the TD. For example the user can send DTMF signaling information that can indicate whether or not the message is to be sent to the TD. In another instance the information from the user can include voice information that can indicate whether or not the message is to be sent to the TD. In one or more embodiments the message sent to the TD can include one or more of audio information video information graphic information and text information. For example the message can include one or more of contextualized message s personalized message s information coupon s promotion s advertisement s survey s voucher s directions map s membership program s event information brand information product information music tones e.g. sonic logos sound marks etc. opt in program s and other specific offer s . In one or more embodiments the message can be an advertisement promoting a brand for a good or service separately offered for discount promotion or sale. In another instance the offer can include a discount and or coupon for one or more goods and or services for sale by the entity. In one or more embodiments one or more of the offer the discount the coupon and or the advertisement can be associated with a third party in addition to or instead of the entity. Still further in one or more embodiments the message can be based on one or more portions of the profile information associated with the call information.

In one or more embodiments dial plan state can include sending a menu e.g. an audio menu a graphical menu etc. to the TD. In one example a default menu can be sent to the TD. In another example a menu can be built or configured using the call information and or one or more portions of the profile information associated with the call information and can be sent to the TD. In one or more embodiments the default menu and or the configured menu can include choices or options to use one or more other menus e.g. submenus choices or options to be transferred to a department and or extension and or to receive a message. For example the message can include one or more of contextualized message s personalized message s information coupon s promotion s survey s voucher s directions map s membership program s event information brand information product information music tones e.g. sonic logos sound marks etc. opt in program s and other specific offers s .

In one or more embodiments routing state can include transferring the call to a person department and or extension of the entity coupled to the telephony management system. In one example transferring the call to a department and or extension can include sending media e.g. audio media graphical media video media etc. to the TD while the call is being transferred. In another example transferring the call to a department and or extension can include sending a message to the TD while the call is being transferred. In one or more embodiments conversation state can include a conversation of the user of the TD and an employee or representative of the entity.

In one or more embodiments hold state can include sending media e.g. audio media graphical media video media etc. to the TD while the call is on hold. In one example the audio and or video media can be a media stream from a multicast of media streams. For instance a determination of the media stream from the multicast of media streams can be based on the call information a geographic location of the TD and or one or more portions of the profile information associated with the call information. In one or more embodiments the profile information can include demographic information of the user of the TD. In one or more embodiments a last state of the call state a bye state can include sending media e.g. audio media graphical media video media etc. to the TD near a conclusion of the call. For example the media can thank the user of the TD for calling the entity and or for patronage.

Turning now to a method of sending a message to a telephony device is illustrated according to one or more embodiments. At a call can be received. For example router can receive a call from TD via PSTN . At the call can be redirected to a voice gateway. For example router can redirect the call to VGW . At call information associated with the call can be sent to a call server. For example VGW can send the call information associated with the call to CS . In one or more embodiments the call information associated with the call can include one or more of an identification of the TD caller ID and a telephone number that the TD called DNIS or called party . In one or more embodiments VGW can communicate with CS via a socket connection over a network. In one example VGW can communicate with CS using a hypertext transfer protocol HTTP via the socket. In another example VGW can communicate with CS using a data description language such as VoiceXML VXML via the socket. In one or more embodiments VXML can provide call control. For example VGW can receive one or more of dual tone multi frequency DTMF signaling information and voice information and provide the information corresponding to the DTMF signaling information and or the voice information to CS .

At profile information associated with the call information can be determined. In one or more embodiments determining the profile information can include querying a database for the profile information associated with the call information. For example CS can perform a structured query language SQL query of DB using the call information to determine the profile information. For instance the profile information associated with multiple users can be indexed by one or more of an identification of a TD and a telephone number that the TD called. In one or more embodiments DB can be periodically updated with caller information from CDB .

In one or more embodiments the profile information associated with the call information can include information associated with the user of the TD. For example the profile information can include information associated with the user such as one or more of a time zone a country a state a city a zip code a telephony device type a telephony device operating system a telephony device phone number a distance from an entity location at least one movie rented at least one television show watched a number of children at least one investment at least one product purchase a marital status an age at least one interest at least one hobby a gender a birthday an income at least one past transaction a content rating a membership status and at least one past department of an entity called among others. At messaging and routing for the call can be determined based on one or more of the determined profile information and the telephone number that the TD called. In one or more embodiments CS can utilize rules engine to determine messaging and routing for the call. For example one or more portions of the profile information can match and or satisfy one or more rules of rules engine to determine messaging and routing for the call.

At a message can be determined. In one example the message can be associated with one or more of the entity the entity location a brand of an item and or service for sale by the entity a sale event a store wide sale event a department sale event hours and or days of operation of the entity and or an entity location. In a second example the message can include an advertisement. In another example the message can include a discount and or coupon for one or more goods and or services for sale by the entity. In one or more embodiments the message can be based on one or more portions of the profile information associated with the call information. In one or more embodiments one or more of a message a coupon an offer an advertisement and a discount can be associated with a third party in addition to or instead of the entity.

At a proffer of a message can be sent to the TD. In one or more embodiments the proffer of the message can convey a request of the user to provide input to accept or decline the message. In one example the proffer of the message can convey a request of the user to input a number on a keypad of the TD to indicate that the message is to be sent to the TD. For instance the request of the user to input a number on a keypad of the TD can convey Press one to receive the message or press two to continue. In another example the proffer of the message can convey a request of the user to speak a word into a sound input device of the TD to indicate that the message is to be sent to the TD. For instance the request of the user to speak a word can convey Say yes to receive the message or say no to continue. 

At the user input can be received. For example CS can receive via VGW information from the user indicating whether or not the message is to be sent to the TD. In one instance the information from the user can include DTMF signaling information that can indicate whether or not the user is to be sent to the TD. In another instance the information from the user can include voice information that can indicate whether or not the message is to be sent to the TD. At it can be determined whether or not to send the message to the TD. If the message is not to be sent to the TD the method can proceed to . In one or more embodiments an amount of time transpiring without receiving user input can indicate that the message is not to be sent to the TD.

If the message is to be sent to the TD the message can be sent to the TD at . In one or more embodiments the message can be sent to the TD can include one or more of audio information video information graphic information and text information. In one example the message can be sent via a SMS or a MMS. For instance CS can send a SMS message or a MMS message that includes the message via MGW to TD . In another example the message can be sent via a data network. In one instance the message can be sent via a data network such as public accessible wide area network such as the Internet. In another instance the message can be sent via a data network such as a cellular telephone network that supports data communications other than telephone conversations. In one example the message can be sent via an email message to an email address of the user of the TD. In another example the message can be sent to an application that is configured to execute on the TD.

In one or more embodiments the message can include one or more of textual information image information video information and audio information. In one example a text message can include the message. In another example one or more graphics and or images can include the message. For instance the one or more graphics and or images can include a bar code e.g. a computer readable one or two dimensional bar code that can be used as a coupon or discount for one or more goods and or services. In one or more embodiments the message can be used to identify one or more of the TD and the user of the TD. For example the bar code that can be used as a coupon or discount for one or more goods and or services can include information that can be used to identify one or more of the TD and the user of the TD.

At a menu for the call can be built. For example CS can retrieve multiple pieces of media from storage and or DB and combine the multiple pieces of media to build the menu for the call. In one instance the multiple pieces of media can be ordered based on one or more portions of the profile information. For example a piece of media associated with a department where the user spends more time and or more money can be prioritized to be included in the menu before other pieces of media. For instance a piece of media may include Press one for the ladies shoes department and may be prioritized to be included in the menu before another piece of media such as Press two for the men s department based on information of the caller s profile. In this fashion the menu options e.g. digits one two three etc. can be dynamically mapped and or planned contextually.

In one or more embodiments building the media for the various call states can include cross fading multiple pieces of media. For instance the multiple pieces of media can include multiple audio files and building various media sequences and or the menu can include combining the multiple audio files such that the various media sequences and or the menu appears to be a continuous audio stream to a human ear.

At the menu can be provided to the TD. At user input can be received. For example CS can receive information from the user indicating a department and or extension. In one instance the information from the user can include DTMF signaling information that can indicate the department and or extension. In another instance the information from the user can include voice information that can indicate the department and or extension.

At a selection based on the user input can be determined. For example the menu can include two or more departments and or extensions and the selection of a department and or extension can be determined from the user input. If the selection is for a first department and or extension then the call can be transferred to the first department and or extension at . If the selection is for a second department and or extension then the call can be transferred to the second department and or extension at . If the selection is for a third department and or extension then the call can be transferred to the third department and or extension at .

Turning now to a method of transferring a call from a telephony device to an extension within the telephony management system is illustrated according to one or more embodiments. At audio signals and or data can be streamed and or transmitted to the TD. For example CS can stream and or transmit audio that is specific to the user of the TD or that is sourced from one or more audio streams. In one instance the stream of audio can be based on one or more portions of the profile information associated with the call information. For example the stream of audio can include information that is specific to and or customized for the caller based on one or more portions of the profile information associated with the call information. In another instance the stream of audio can be one of a multicast of audio streams. In one or more embodiments CS can be a source of the multicast of audio streams.

In one or more embodiments an audio stream of the multicast of audio streams can be determined based on one or more portions of the profile information associated with the call information. For example a portion of the profile information can include an age. In one instance a first audio stream of the multicast of audio streams can be determined if the age is within thirteen to sixteen years of age. In another instance a second audio stream of the multicast of audio streams can be determined if the age is within forty three to fifty five years of age. In one or more embodiments an audio stream of the multicast of audio streams can be determined based the extension that the call is being transferred. For example a first audio stream of the multicast of audio streams can be determined if the call is being transferred to Ext and a second audio stream of the multicast of audio streams can be determined if the call is being transferred to Ext .

In one or more embodiments a message can be included in the audio stream. At it can be determined whether or not to send a proffer of a message. If it is determined not to send the proffer of a message then the method can proceed to . If it is determined to send the proffer of a message a message can be determined at . In one or more embodiments the message can be determined in a same or similar fashion as determined at of . At the proffer of the message can be sent to the TD. In one or more embodiments the proffer of the message can be sent to the TD in a same or similar fashion as of .

At user input can be received. In one or more embodiments the user input can be received in a same or similar fashion as user input can be received with reference to method element of . At it can be determined whether or not to send the message to the TD. In one or more embodiments determining whether or not to send the message to the TD can be performed in a same or similar fashion as of . If the message is not to be sent to the TD the method can proceed to . If the message is to be sent to the TD the message can be sent to the TD at . In one or more embodiments the message can be sent to the TD in a same or similar fashion as the message can be sent to the TD with reference to method element of .

At call transfer information can be sent to a VGW. For example CS can send the call transfer information to VGW . For instance the call transfer information can include extension information and an address. In one or more embodiments the address can include an Internet protocol IP address. For example the address can be an IP address of a router that manages communications for an entity location. For instance the IP address can be an IP address of router that manages communications for EL and the call transfer information can be of form similar to IPaddress where IPaddress is an IP address of router and can be used by router to route the call transfer to Ext . In one or more embodiments the IP address of the router that manages communications for the entity location can be a publicly routable IP address. In one or more embodiments the IP address of the router that manages communications for the entity location can be a private IP address. For example the private IP address may be associated with one or more IP addresses described in Request for Comments RFC 1918 which is available from the Internet Engineering Task Force IETF . For instance network can be a private network that uses private IP addresses. At the call transfer information can be sent to an IP PBX to transfer the call. For example VGW can send the call transfer information to IP PBX via a SIP.

In one or more embodiments CS can be or include a SIP agent that can continue to stream the audio to the TD and maintain a SIP state while other one or more portions of methods and or processes are occurring. At a call transferred message can be received. For example CS can receive a SIP message indicating that the call has been transferred to Ext . At the audio that is streamed to the TD can be ceased or stopped.

Turning now to a method of providing a message based at least on one or more submenu choices is illustrated according to one or more embodiments. At an initial menu can be built with one or more submenu choices and can include one or more department and or extension choices. In one or more embodiments the initial menu can be built in a similar fashion to the menu built in method element of . In one or more embodiments the submenu choices of the initial menu can include choices that are user selectable to navigate to another menu associated with a choice. In one example a submenu choice can be for a hardware department that can lead to a submenu that can include two or more submenu items or options of plumbing hardware fasteners e.g. screws bolts nuts nails glue etc. and electrical hardware e.g. wire electrical outlets circuit breakers etc. among others. In another example a submenu choice can be for a children s department that can lead to a submenu that can include two or more submenu items or options of children s shoes boys clothing girls clothing toddlers clothing and pre teens clothing among others.

At the initial menu with submenu choices can be provided to the TD. For example CS can provide the initial menu with submenu choices to TD . At user input can be received. For example CS can receive user input from TD and the user input can include a choice from the initial menu. In one instance the user input can include DTMF signaling information that can indicate a choice from the initial menu. In another instance the user input can include voice information that can indicate a choice from the initial menu.

At it can be determined whether or not the user input indicates a transfer. For example a menu choice from the initial menu can be associated with a department and or extension. For instance the menu choice can be associated with Ext . If the user input indicates a menu choice that is associated with a department and or extension the call can be transferred to the department and or extension at . If the user input does not indicate a menu choice that is associated with a department and or extension the method can proceed to where the submenu choice can be stored.

At it can be determined whether or not to send a proffer of a message. In one or more embodiments CS can determine whether or not to send the proffer of a message to the user of the TD based on a number of submenu choices that have been selected by the user an ordered sequence of two or more submenu choices that have been selected by the user an ability of the TD to receive a message a distance the TD is from an entity location an amount of time transpiring during the call and or one or more portions of the profile information associated with the call information.

In one or more embodiments determining whether or not to send the proffer of a message to the user of the TD can include determining whether or not the TD includes a capability to receive a message. In one example CS can search a database using the call information associated with the call to determine whether or not the TD includes the capability to receive the message. In one instance the database can include telephone numbers e.g. caller IDs and corresponding one or more capabilities associated with the telephone numbers and CS can search the database using the telephone number e.g. caller ID of TD to determine whether or not TD can receive the message. In another instance the database can include telephone numbers e.g. caller IDs and corresponding one or more communication methods and or systems that can be used to send the message to the user of the TD. For example CS can search the database using the telephone number e.g. caller ID of TD to determine whether or not an email address is associated with the telephone number of TD where the email address can be used to send the message to the user of TD .

In one or more embodiments determining whether or not to send the proffer of a message to the user of the TD can include determining a distance the TD is from an entity location. In one example CS can search a database using the call information associated with the call to determine distance the TD is from an entity location. For instance the database can include telephone numbers e.g. caller IDs and corresponding geographic locations associated with the telephone numbers and CS can search the database using the telephone number e.g. caller ID of TD to determine the geographic location of TD . Using the geographic location e.g. latitude longitude and or altitude of TD and a geographic location of an entity location CS can determine a distance TD is from the entity location.

In a second example CS can query a system e.g. a cellular telephone system a satellite telephony system a VoIP telephony system etc. using the call information associated with the call to determine a distance the TD is from an entity location. In one instance the system can provide a geographic location of the TD or a geographic location of a cellular telecommunications antenna communicating with the TD. In another instance CS can provide a geographic location of an entity location and the telephone number e.g. caller ID of TD to the system and the system can respond by providing a distance TD is from the entity location.

In another example CS can query TD for a geographic location of TD and TD can respond by providing its geographic location that can be usable by CS to determine a distance TD is from an entity location. In one instance TD can include a global positioning GPS device that can determine a geographic location of TD that can be provided to CS . In a second instance a system e.g. a cellular telephone system can provide a geographic location of TD or a geographic location of a cellular telecommunications antenna communicating with TD to TD . In another instance the user of TD can provide a geographic location of TD to TD . In one example the user can provide one or more of a zip code an address a town or city name and an intersection of streets among others to TD .

If it is determined not to send the proffer of a message then the method can proceed to . If it is determined to send the proffer of a message a message can be determined at where a message can be determined based at least on one or more submenu choices. In one example the message can be determined based on a number of submenu choices that have been selected by the user. In a second example the message can be determined based on an ordered sequence of two or more submenu choices that have been selected by the user. In one or more embodiments the message can also be determined based on one or more portions of the profile information associated with the call information and or a distance from an entity location. In one example a first message can include a first discount e.g. a first coupon for one or more goods and or services to a first TD e.g. TD based on a first distance the first TD is from the entity location e.g. EL and a second message can include a second discount e.g. a second coupon for the one or more goods and or services to a second TD e.g. TD based on a second distance the second TD is from the entity location. For instance the second distance can be greater than the first distance and the second discount can be greater than the first discount. In a second example the message can include one or more of a map and directions to an entity location.

At the proffer of the message to the TD can be sent to the TD. In one or more embodiments the proffer of the message can be sent to the TD in a same or similar fashion as of . At user input can be received. In one or more embodiments the user input can be received in a same or similar fashion as user input can be received with reference to method element of . At it can be determined whether or not to send the message to the TD. In one or more embodiments determining whether or not to send the message to the TD can be performed in a same or similar fashion as of . If the message to the TD is not to be sent to the TD the method can proceed to . If the message to the TD is to be sent to the TD the message can be sent to the TD at . In one or more embodiments the message can be sent to the TD in a same or similar fashion as the message can be sent to the TD with reference to method element of .

At a submenu can be built. In one or more embodiments the submenu can be built in a similar fashion to the menu built in method element . At the submenu can be provided to the TD. In one or more embodiments the submenu can be provided to the TD in a similar fashion to providing the initial menu to the TD in method element . In one or more embodiments the method can proceed to . In one or more embodiments a submenu of an initial menu or another submenu may include two or more department and or extension options without further submenu options. In one or more embodiments a submenu of an initial menu or another submenu may include one or more submenu options and or one or more department and or extension options that have already been presented to the user of the TD during the call.

Turning now to a method of operating a telephony management system is illustrated according to one or more embodiments. At the call server e.g. CS CS etc. can receive information. For example the received information can include analytic information that can be stored or can be request information. In one instance the analytic information can include information of and or resulting from one or more of states . For example the analytic information can include a result from a condition evaluation. In another instance the request information can include a request for information from a rules engine e.g. RENG RENG etc. . In one or more embodiments the received information can be from a device different from the call server or from a method or process utilized by the call server.

At content of the received information can be determined. If the received information includes analytic information then the analytic information can be stored at . In one example the analytic information can be stored in a log file e.g. a log file of the call server . In another example the analytic information can be stored in a database e.g. DB DB etc. . In one or more embodiments the method can proceed to .

If the received information includes request information then the method can proceed to where a database e.g. DB DB etc. can be queried. In one or more embodiments querying the database can include sending information to the database. For example one or more of an identification of a TD caller ID and a telephone number that the TD called DNIS or called party can be sent to the database where the database can use the one or more of the identification of the TD and the telephone number that the TD called to retrieve associated information. At a result can be received from the database.

At a rules engine e.g. RENG RENG etc. can be queried. In one or more embodiments querying the rules engine can include sending information to the rules engine. In one example the rules engine can be sent information to determine whether or not to proffer a message to a user of a TD. In a second example the rules engine can be sent information to determine a message to be sent to a user of a TD. In a third example the rules engine can be sent information associated with a call sequence or call state. In another example the rules engine can be sent information associated with the result from the database query.

At a result from the rules engine can be received. In one or more embodiments the result from the rules engine can include a default result e.g. no rule matched the query information or a result based on the query information matching one or more rules. At the result from the rules engine can be sent to the device method or process that sent the request for the result. In one or more embodiments the method can proceed to .

Turning now to an exemplary block diagram of an entity location that receives messages from users telephony devices is illustrated according to one or more embodiments. In one or more embodiments EL can include one or more point of sale terminals POSes coupled to router and each of POSes can be or include a computing device. In one or more embodiments a point of sale terminal POS e.g. a POS of POSes can receive message information or information associated with the message information sent from a TD e.g. a TD of TDs . For example the message information or information associated with the message information can include a coupon that can be used to provide a discount on compensation e.g. cost for one or more goods and or services messageed for sale by an entity. For instance POS can receive a coupon via message information or information associated with the message information and a user of TD can receive ten percent 10 off a purchase of ladies shoes a brand of ladies shoes clothing a brand of clothing one or more goods and or services messaged for sale by the entity etc. In one or more embodiments message information or information associated with the message information sent from a TD to a POS can include an identifier and or an index that is usable to identify one or more of a message a coupon the TD and a user of the TD among others.

In one or more embodiments EL can include an optical input device OID coupled to POS where OID can sense and or discern one or more images from a display of TD and or from a paper medium. For example OID can transform the one or more images from display of TD and or from the paper medium and provide data associated with the one or more images to POS where the data is usable by POS and conveys message information to POS . In one or more embodiments OID and or POS can use one or more of pattern recognition artificial intelligence and computer vision systems and or methods to determine information conveyed by the one or more images from display of TD and or from the paper medium. In one or more embodiments determining the information conveyed by the one or more images can include transforming optical signals from the one or more images into data that can be used by a computing device and or stored in a memory medium included in or coupled to the computing device.

In one example OID can sense and or discern a computer readable image CRI displayed by display of TD and provide information that is included and or encoded in CRI to POS . For instance CRI can include a barcode and OID can sense and or discern the barcode displayed by display and provide information that is included and or encoded in the barcode to POS . In one or more embodiments the information included and or encoded in CRI can include information associated with message information . In one or more embodiments message information can be received by TD when CS sends a message to TD .

In one or more embodiments EL can include a radio frequency device RFD coupled to POS . For example RFD can include one or more of a radio frequency receiver and a radio frequency transmitter configured to communicate with a TD such as TD . As shown TD can include a RFD that can include one or more of a radio frequency receiver and a radio frequency transmitter configured to communicate with another RFD such as RFD . In one or more embodiments RFD can transmit message information to RFD and RFD can provide message information to POS . In one example a user of TD can direct TD to transmit message information to RFD . In another example RFD can transmit a query to TD via RFD and TD can respond to the query by transmitting message information to RFD via RFD . In one or more embodiments message information can be received by TD when CS sends a message to TD .

In one or more embodiments RFDs and can communicate using one or more ISM industrial scientific and medical bands. For instance an ISM band can include a frequency range of 6.765 6.795 Mhz 433.05 434.79 Mhz 902 928 Mhz 2.4 2.5 Ghz 5.725 5.875 Ghz or 24.0 24.25 Ghz among others. In one or more embodiments RFDs and can communicate using one or more of IEEE 802.11 IEEE 802.15 IEEE 802.15.4 ZigBee 6LoWPAN spread spectrum of frequencies frequency modulation of a carrier wave and amplitude modulation of a carrier wave among others. In one or more embodiments TD can be identified by information used in communicating with RFD and or POS . In one example TD can be identified by a media access control MAC address used in communicating with RFD and or POS . In another example TD can be identified by an IP address or a portion of an IP address used in communicating with RFD and or POS . For instance IPv6 Internet protocol version 6 can be used in communicating with RFD and or POS and TD can be identified by IP address or a portion of an IP address used by TD can be used to identify TD . In one or more embodiments one or more of the MAC address the IP address and the portion of the IP address can be included in analytic information that can be sent CS for storage and or analysis.

In one or more embodiments EL can include an infrared device IRD coupled to POS . For example IRD can include one or more of an infrared receiver and an infrared transmitter configured to communicate with another IRD such as an IRD . As shown TD can include IRD which can include one or more of an infrared receiver and an infrared transmitter configured to communicate with another IRD such as IRD . In one or more embodiments IRD can transmit message information to IRD and IRD can provide message information to POS . In one example a user of TD can direct TD to transmit message information to IRD . In another example IRD can transmit a query to TD via IRD and TD can respond to the query by transmitting message information to IRD via IRD . In one or more embodiments message information can be received by TD when CS sends a message to TD .

In one or more embodiments an entity can use an entity associate e.g. an employee of the entity a contractor of the entity a volunteer of the entity etc. to read message text from a display of a TD and entity associate can provide message text to POS . For example entity associate can provide message text to POS via a keyboard or keypad of or coupled to POS . In one or more embodiments message text can include information associated with message information . For example information associated with message information can be included and or encoded in message text . In one or more embodiments message information can be received by TD when CS sends a message to TD .

As shown each of TDs can include respective processors coupled to respective memories and coupled to respective displays . In one or more embodiments memories can include respective message information and respective program instructions that can be executed on a respective processor to implement one or more methods and or systems described herein. As illustrated TD can include RFD coupled to processor and TD can include IRD coupled to processor .

Turning now to sequence diagrams of an exemplary call flow is illustrated according to one or more embodiments. As shown a caller can dial into an entity VGW e.g. router and the entity VGW can forward the call to an entity IP PBX e.g. IP PBX . The entity IP PBX can route the call to a TMS telephony management system VGW that can invoke an application on a call server e.g. CS which implements one or more methods described herein. In one or more embodiments the TMS VGW can provide call information to the call server via VXML Voice eXtensible Markup Language . For example the call information can include an identification of the TD ANI or caller ID and a telephone number that the TD called DNIS or called party .

The application executing on the call server can query a customer database e.g. CDB or a database e.g. DB that includes caller information from the customer database to determine at least one entry that includes caller profile information associated with the identification of the TD. Using the caller profile information and one or more of analytic information and business rules the application executing on the call server can determine and or produce media that includes a proffer of a message to provide to the caller. In one or more embodiments the media can include the multiple messages that are cross faded together. For example cross fading the multiple pieces of media can include combining the multiple audio files such that the media appears to be a continuous audio stream to a human ear. For instance the media can include information such as Thank you for calling Corkies Department Store at Barton River Mall. Please press one to receive a coupon to receive ten percent off any pair of ladies shoes or press two to continue. 

The caller can provide user input to the TD that indicates a request for or an acceptance of the proffer for the message. For example the user can press one on a keypad of the TD and the TMS VGW can receive DTMF signaling information indicating the one on the keypad of the TD. The TMS VGW can provide VXML data to the call server that indicates the one on the keypad of the TD and the call server can provide the message to the TD. In one example the call server can send a coupon for ten percent off any pair of ladies shoes to the TD via MGW . In another example the call server can send a coupon for ten percent off any pair of ladies shoes to an email address associated with the caller via a data network. In one or more embodiments the coupon can include text and or graphics usable to receive ten percent off any pair of ladies shoes and or to identify one or more of the TD and the user of the TD.

Using the caller profile information and one or more of analytic information and business rules the application executing on the call server can determine and or produce media e.g. a menu to the caller. In one or more embodiments the media can include the multiple pieces of media that are cross faded together. For instance the media can include information such as Please make a selection from the following menu items. Press one for our ladies department press two for our teens department press three for our children s department press four for our men s department or press zero for operator assistance. The caller can provide user input to the TD that indicates the ladies department. For example the user can press one on a keypad of the TD and the TMS VGW can receive DTMF signaling information indicating the one on the keypad of the TD. The TMS VGW can provide VXML data to the call server that indicates the one on the keypad of the TD and the call server can forward e.g. transfer the call to an entity telephone e.g. Ext via the TMS VGW and the entity VGW.

Turning now to an exemplary entity relational diagram that can be used in a rules engine is illustrated according to one or more embodiments. As shown the entity relational diagram ERD can include tables . In one or more embodiments the rules engine can be implemented using a database e.g. DB DB etc. and tables can store information associated with implementing the rules engine. For example the database can be or include a relational database system RDBMS where one or more tables of the ERD can be linked to one or more other tables of the ERD via one or more primary keys and or foreign keys. For instance Department table can be linked to Store table via a foreign key e.g. Department.StoreID . In another instance StoreMenu table can be linked to Store table via a first foreign key e.g. StoreMenu.StoreID and can be linked to Department table via a second foreign key e.g. StoreMenu.DepartmentID .

Turning now to an exemplary block diagram of a data processing system is illustrated according to one or more embodiments. As shown a data processing system DPS can include a processor a memory coupled to processor and one or more network interfaces coupled to processor . As illustrated memory can include one or more applications APPs and an operating system OS and or a configuration . In one or more embodiments one or more of APPs and and OS can store program instructions that are executable by processor to implement on or more processes and or methods described herein. In one or more embodiments configuration can store configuration information usable by one or more of APPs and and OS to implement on or more processes and or methods described herein.

In one or more embodiments one or more of network interfaces can be configured to be coupled to one or more of a router a network a telephony system a telephony network a telephony device and another DPS among others. In one or more embodiments one or more of the devices and or systems described herein can include same and or similar structures and or functionalities as those described with reference to DPS . For example one or more of routers and VGWs and CSs and media server DBs and RENGs and CDBs and IP PBXs and and POSes can include same and or similar structures and or functionalities as those described with reference to DPS .

In one or more embodiments the term memory can mean a memory medium and or computer readable memory medium which is intended to include various types of memory or storage including an installation medium e.g. a CD ROM or floppy disks a random access memory or computer system memory such as DRAM SRAM EDO RAM Rambus RAM NVRAM EPROM EEPROM flash memory etc. and or a non volatile memory such as a magnetic media e.g. a hard drive and or optical storage. The memory medium can include other types of memory as well or combinations thereof. In one or more embodiments the memory medium can be and or include an article of manufacture and or a software product. For example an article of manufacture and or a software product can include a memory medium that includes instructions executable by a processor to perform one or more portions of one or more methods and or processes described herein.

In addition the memory medium can be located in a first computer in which the programs are executed or can be located in a second different computer and or hardware memory device that connects to the first computer over a network. In one or more embodiments the second computer provides the program instructions to the first computer for execution. The memory medium can also be a distributed memory medium e.g. for security reasons where a portion of the data is stored on one memory medium and the remaining portion of the data can be stored on a different memory medium. Also the memory medium can include one of the networks to which the current network is coupled e.g. a SAN Storage Area Network .

In one or more embodiments each of the systems described herein may take various forms including a personal computer system server computer system workstation network appliance Internet appliance wearable computing device personal digital assistant PDA tablet computing device laptop mobile telephone mobile multimedia device embedded computer system television system and or other device. In general the terms computing device computer and or computer system can be broadly defined to encompass any device having a processor which executes instructions from a memory medium.

It is noted that in one or more embodiments one or more of the method elements described herein and or one or more portions of an implementation of a method element can be performed in varying orders can be repeated can be performed concurrently with one or more of the other method elements and or one or more portions of an implementation of a method element or can be omitted. Additional and or duplicated method elements can be performed as desired. For example a process and or method can perform one or more described method elements concurrently with duplicates of the one or more described method elements. For instance multiple methods processes and or threads can be implemented using same described method elements.

In one or more embodiments concurrently can mean simultaneously. In one or more embodiments concurrently can mean apparently simultaneously according to some metric. For example two or more method elements and or two or more portions of an implementation of a method element can be performed such that they appear to be simultaneous to a human. It is also noted that in one or more embodiments one or more of the system elements described herein may be omitted and additional system elements can be added as desired.

Further modifications and alternative embodiments of various aspects of the invention may be apparent to those skilled in the art in view of this description. Accordingly this description is to be construed as illustrative only and is for the purpose of teaching those skilled in the art the general manner of carrying out the invention. It is to be understood that the forms of the invention shown and described herein are to be taken as embodiments. Elements and materials may be substituted for those illustrated and described herein parts and processes may be reversed and certain features of the invention may be utilized independently all as would be apparent to one skilled in the art after having the benefit of this description of the invention. Changes may be made in the elements described herein without departing from the spirit and scope of the invention as described in the following claims.

