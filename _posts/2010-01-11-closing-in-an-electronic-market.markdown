---

title: Closing in an electronic market
abstract: A method for trading a security in an electronic market includes receiving closing orders and orders for the security traded in the electronic market, disseminating an order imbalance indicator indicative of predicted trading characteristics of the security at the close of trading, determining a closing price for the security based on the closing orders and orders, and executing at least some of the closing orders at the determined closing price.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08280797&OS=08280797&RS=08280797
owner: The NASDAQ OMX Group, Inc.
number: 08280797
owner_city: New York
owner_country: US
publication_date: 20100111
---
This application is a continuation and claims the benefit of priority under 35 U.S.C. 120 of U.S. application Ser. No. 10 835 510 filed on Apr. 28 2004 now U.S. Pat. No. 7 647 264. The disclosure of the prior application is considered part of and is incorporated by reference in the disclosure of this application.

Electronic equity markets such as The Nasdaq Stock Market collect aggregate and display trade information to market participants. Market participants initiate trades of securities by sending trade information to the electronic market on which the securities are traded. The trade information includes continuous orders for execution during a market trading session. After the close of a market trading session a closing price is determined for each security.

Certain investors including mutual funds and derivative traders need to execute transactions in a security at the closing price using on close orders. Some electronic markets perform a closing process that takes the final trade of a security executed during the trading session as the closing price for that security. Since this closing process is performed without special treatment for on close orders an electronic market center does not guarantee that a particular on close order will trade at the closing price. Without a guarantee from an electronic market center that a particular order will trade at the closing price investors turn to manual markets or broker dealers to guarantee them the closing price for their transactions.

In general in one aspect the invention features a method for trading a security in an electronic market. The method includes receiving closing orders and orders for the security traded in the electronic market disseminating an order imbalance indicator indicative of predicted trading characteristics of the security at the close of trading determining a closing price for the security based on the closing orders and orders and executing at least some of the closing orders at the determined closing price.

In general in another aspect the invention features an electronic market for trading of securities. The electronic market includes a client station for entering a closing order for a security traded in the electronic market and a server system. The server system includes a queue storing the closing order along with other orders a process to disseminate an order imbalance indicator indicative of predicted trading characteristics of the security at the close of trading and a process to determine a closing price for the security based on the stored orders and execute at least some of the orders at the determined closing price.

In general in another aspect the invention features a computer program product residing on a computer readable medium for use in an electronic market for trading of securities comprises instructions for causing a system to receive closing orders and orders for the security traded in the electronic market disseminate an order imbalance indicator indicative of predicted trading characteristics of the security at the close of trading determine a closing price for the security based on the closing orders and orders and execute at least some of the closing orders at the determined closing price.

In general in another aspect the invention features a method for trading a security in an electronic market. The method includes receiving closing orders and orders for the security traded in the electronic market determining a closing price for the security based on the closing orders and orders the closing price being within a predetermined range of a benchmark value representing market conditions prior to the close of trading and executing at least some of the closing orders at the determined closing price.

In general in another aspect the invention features a system including a server system configured to send an information data stream to a trading system. The data stream includes at least one of an inside match price or a near indicative clearing price.

In general in another aspect the invention features a system including a client station coupled to a server system that is part of an electronic venue for trading financial products and configured to send an order for a security to the server system. The order includes data fields including a price value a number of shares value and an indicator value that indicates the order as an imbalance only order.

The method includes modifying a limit price associated with one of the imbalance only orders based on a comparison between the limit price and an inside price.

The method also includes periodically producing the order imbalance indicator over a series of time periods.

The order imbalance indicator at a first of the series of time periods includes at least one of an inside match price a number of shares paired at an inside match price an on close order imbalance a buy sell direction of the on close order imbalance an indicative clearing price range associated with the first of the series of times or a percentage by which an indicative price varies from an inside price.

Determining the closing price includes determining a preliminary closing price comparing the preliminary closing price to a benchmark value representing market conditions prior to the close of trading and determining the closing price based on the comparison.

The benchmark value includes a volume weighted average of orders executed during a predetermined time period before the close of trading.

The inside match price is selected from an inside bid price an inside offer price an inside bid offer midpoint price or zero based on an imbalance of closing orders.

The near indicative clearing price includes a price at which closing orders and continuous orders would execute if paired with each other.

The imbalance only order executes in response to an imbalance in liquidity associated with the electronic venue.

Closing orders are executed in a single transaction. The information included in the imbalance indicator improves transparency and price discovery. Disseminating the imbalance indicator gives market participants an opportunity to adjust their trading based on the imbalance indicator by adjusting the price and or size of existing imbalance only orders or by submitting additional imbalance only orders. The closing process improves liquidity reduces risk and reduces costs for investors seeking to trade at the closing price.

Other features and advantages of the invention will become apparent from the following description and from the claims.

Referring to an electronic market is shown. The electronic market includes client stations in communication with a server system over a distributed computing network e.g. the Internet an intranet a local area network or other similar form of network . A client station includes a process to send trade information e.g. continuous orders closing orders etc. entered by a user e.g. a market participant a market maker etc. to the server system . The server system collects trade information from the client stations and enters valid orders into a storage module . An order identifies a security and a number of shares of the security to be traded. A priced buy order includes a bid price at which to buy the shares. A priced sell order includes an offer price at which to sell the shares. The storage module includes a queue for each security traded in the market that stores orders for that security.

The server system includes a trading module that executes trades of securities electronically based on the entered orders. After an order is executed or canceled the order is removed from the storage module . The trading module also includes a closing process that runs after the end of a trading session to determine a closing price for each security and execute at least some of the entered orders for a security at the determined closing price. The server system disseminates information about the market on a data feed over the network or alternatively over a separate communication line to the client stations .

In the electronic market a user electronically trades with other users as opposed to trading on a trading floor . Trading can occur over extended periods of time. An example of an electronic market the Nasdaq Stock Market allows trading during a trading session i.e. 9 30 a.m. to 4 00 p.m. ET . Orders placed and executed during the trading session are continuous orders. The server system maintains an inside bid price corresponding to the price of the best i.e. highest continuous buy order and an inside offer price corresponding to the price of the best i.e. lowest continuous sell order based on the most recently received continuous orders.

Orders placed during the trading session to be executed after the trading session at the closing price are closing orders. Two types of closing orders are On Close orders and Imbalance Only IO orders. On Close orders can be un priced and entered as market on close MOC orders or priced and entered as limit on close LOC orders. A LOC buy order includes a buy limit price and a LOC sell order includes a sell limit price. On Close orders both MOC and LOC orders execute at the price determined by the closing process. Thus LOC buy orders are subject to price improvement i.e. reduction if the buy limit price is greater than the determined closing price and LOC sell orders are subject to price improvement i.e. increase if the sell limit price is less than the determined closing price. In one embodiment On Close orders can be entered cancelled and or corrected between 9 30 01 a.m. EST and 3 50 00 p.m. e.g. just after market open and just prior to market close but are not displayed or disseminated by the server system .

IO orders execute only against any imbalance in liquidity supplementing the liquidity provided by On Close orders. IO order types are priced limit orders. The server system enforces rules for entering or modifying submitted IO orders. For example the server system rejects IO orders that are submitted without a price. In one embodiment IO orders are entered up until 3 59 59 e.g. just prior to market close but they cannot be cancelled or modified after e.g. 3 50 00 except to increase the number of shares or to increase the buy limit price or decrease the sell limit price. IO sell orders execute at or above the 4 00 00 inside offer and IO buy orders execute at or below the 4 00 00 inside bid. Thus IO buy orders are subject to price improvement i.e. reduction if the buy limit price is greater than the 4 00 00 inside bid and LOC sell orders are subject to price improvement i.e. increase if the sell limit price is less than the 4 00 00 inside offer. As with On Close orders IO are not displayed or disseminated by the server system .

Referring to a first exemplary format for orders includes a field for entering a name or symbol representing a security a b s field that represents whether the order is a buy b or sell s order a price field and a size field that represents the number of shares in the order. The format also includes a type field . The type field can have various values representing different types of orders. If the value of the type field is MOC LOC or IO then the order is a closing order. The value of the price field is interpreted as a limit price for LOC and IO orders. The value of the size field indicates a number of shares to be traded upon execution of the order. Alternatively instead of including an explicit type field the value of the type field can be implicitly derived from evaluation of other fields.

A second exemplary format for orders includes an optional relative price field for specifying a relative limit price for IO orders. An IO order that uses this relative price field does not include a value in the price field but instead specifies a limit price as a percentage deviation from a predetermined benchmark price. Orders may include other fields.

The information disseminated over the data feed includes an order imbalance indicator. The order imbalance indicator includes information about closing orders as described in more detail below and the price at which those closing orders would execute at the time the order imbalance indicator is disseminated. For example the order imbalance indicator is disseminated at predetermined time intervals before the close of the market.

The information included in the order imbalance indicator at a given time for a given security is based on an order imbalance in that exists in the market at that time. The trading module identifies an order imbalance based on orders in a queue for a security at a particular time by identifying a number of On Close buy shares MB that are marketable at or above the inside offer i.e. are MOC or LOC priced at or above the inside offer and a number of On Close sell shares MS that are marketable at or below the inside bid i.e. are MOC or LOC priced at or below the inside bid . The trading module identifies a number of shares of sell closing orders PS On close and IO orders that can be paired or crossed with the marketable On Close buy shares and a number of shares of buy closing orders PB On close and IO orders that can be paired with the marketable On Close sell shares. The order imbalance corresponds to the number of shares of On Close orders that are not executed when the maximum number of shares of closing orders are paired at the inside inside match price. 

When MIN MB PS MIN MS PB the inside match price is the inside offer and there is a buy side order imbalance of MB PS shares. When MIN MB PS 

The following information described in 1 5 below can be included in the order imbalance indicator at a given time for a given security. The order imbalance indicator can be disseminated as a data stream and have a format that includes at least one of the information fields PSH MP IMB ISH IPR or PVI described below.

The imbalance indicator includes the number of shares PSH corresponding to MOC LOC and IO orders that are eligible to be paired at the current inside match price MP and the current inside match price i.e. the match price at the given time .

The imbalance indicator includes the number of shares ISH corresponding to MOC and LOC orders that are not eligible to be paired at the current inside match price i.e. the On Close order imbalance and a label IMB indicating Buy for a buy side imbalance Sell for a sell side imbalance Zero Imbalance for a zero order imbalance i.e. all On Close orders are paired or No Imbalance when there are no On Close orders. Alternatively the label IMB can be indicated by numerical values. For example Buy or Sell can be indicated by positive or negative values and a Zero Imbalance and or No Imbalance can be indicated by a value of 0.

The imbalance indicator includes an indicative price range for the closing price if the closing were to occur at the given time. The indicative closing price range is bounded on the far side i.e. the top of the range by the far indicative closing price at which the MOC LOC and IO orders would execute if paired with each other with no unpaired On Close orders . The indicative closing price range is bounded on the near side i.e. the bottom of the range by the near indicative closing price at which the MOC LOC IO and continuous orders excluding volume that is available only by order delivery would execute if paired with each other with no unpaired On Close orders . For either the near or far indicative closing price calculations if the On Close orders cannot be fully paired against offsetting orders then no indicative closing price exists and the server system disseminates a no indicative price indicator including the phrase market buy for a buy side imbalance or market sell for a sell side imbalance and one or both of the near and far indicative closing prices are listed as zero. If there are no On Close orders the near and far indicative closing prices are listed as zero and the no indicative price indicator is blank.

The imbalance indicator includes a price variance indicator based on the percent by which the near indicative price varies from the inside bid if the near indicative price is less than the inside bid or from the inside offer if the near indicative price is larger than the inside offer. If the near indicative price is between the inside bid and the inside offer i.e. within the inside spread then the price variance indicator is zero. The value of the price variance indicator is disseminated in coded form according to the codes listed in Table 1.

The imbalance indicator includes the time HH MM SS when the Imbalance was calculated. The time corresponds to one of a series of times for dissemination of the imbalance indicator. At 3 50 00 the trading module begins transmitting the order imbalance indicator over the data feed e.g. a Nasdaq TotalView data feed or an Application Programming Interface API data feed . The imbalance indicator is disseminated beginning at 3 50 00 and thereafter at more frequent intervals as the time to market close decreases every 30 seconds beginning at 3 50 every 15 seconds beginning at 3 55 every 5 seconds beginning at 3 58 and every second from 3 59 until market close.

Before determining the Paired Shares PSH the server system temporarily re prices i.e. the queue for the security stores the original price and a new price is stored in a temporary storage location in the storage module IO buy or sell orders that are priced more aggressively than the inside bid or offer respectively as described above . In this example the IO sell order of 1000 shares at 19.98 priced more aggressively than the inside offer of 20.00 is temporarily re priced to 20.00. The IO orders are potentially re priced again at the next dissemination of the order imbalance indicator based on the inside bid and offer at the time.

The number of shares of On Close buy orders MB that are marketable at or above the inside bid are 8 000 at Market and 3 000 at 20.02 totaling 11 000 shares. The number of shares of sell closing orders PS that can be paired with those shares are 5 000 at Market 3 000 at 19.98 and 2 000 at 20.00 1 000 of which correspond to the re priced IO orders totaling 10 000 shares. So the server system is able to pair 10 000 shares PSH at the 20.00 inside offer leaving a Buy IMB imbalance of 1 000 shares ISH .

The server system determines the far indicative closing price as the price at which the greatest number of shares of MOC LOC and IO orders can be paired with each other. In this example 11 000 shares can be executed at a price of 20.02. So the far indicative closing price is 20.02

The server system determines the near indicative closing price as the price at which the greatest number of MOC LOC IO and continuous orders can be paired with each other. In this example for the near indicative closing price 11 000 shares can be executed at a price of 20.01 or 20.02. The server system selects the price that leaves the smallest number of unpaired shares which in this case is 20.01 leaving 4 500 unpaired shares on the sell side. A price of 20.02 would leave 8 500 unpaired shares on the sell side. So the near indicative closing price is 20.01.

At or shortly after market close e.g. at 4 00 00 p.m. the trading module performs a closing process . The closing process determines a closing price for each security based on the closing orders and continuous orders in the storage module at the close. After determining the final closing price the closing process executes some or all of those orders at the determined final closing price. After the closing process concludes e.g. at approximately 4 00 05 p.m. the server system reports the closing orders executed e.g. in a report to the consolidated tape for Nasdaq securities including the aggregate of shares executed at the closing price and after hours trading may commence. The closing process attempts to accomplish three goals for each security in decreasing priority 1 maximize the number of shares executed at the closing price 2 minimize On Close order imbalance and 3 minimize the distance of the closing price from the 4 00 00 inside bid offer midpoint.

Referring to the closing process determines a final closing price for each security. The closing process selects a preliminary closing price that maximizes that number of shares executed. If more than one such price exists the closing process selects a price that minimizes the On Close order imbalance. If more than one such price exists the closing process selects a price that is closest to the inside bid offer midpoint at closing.

After selecting a preliminary closing price the closing process performs a benchmark threshold test to protect against unusual occurrences e.g. the closing price discovery mechanism described herein did not function as expected . The closing process compares the preliminary closing price of each security to one or more benchmark values representing market conditions approximately five seconds prior to the close. For example one benchmark value that can be used is the volume weighted average of the orders executed by the trading module over the period from 3 59 55 to 4 00 00 Volume Weighted Average Price VWAP . Optionally the volume weighted average of the inside bid offer midpoint over the period from 3 59 54 to 3 59 57 Volume Weighted Average Inside VWAI can be used as a second benchmark value.

If the preliminary closing price for a security is within a predetermined percentage the Threshold Percentage of the benchmark value or of any of multiple benchmark values the closing process selects the preliminary closing price as the final closing price for that security. The Threshold Percentage is selected for example based on market conditions and past results of the closing process . The server system publicly publishes the Threshold Percentage e.g. via the NasdaqTrader website . Otherwise if the preliminary closing price for a security is not within the Threshold Percentage of either the VWAI or the VWAP the closing process selects a final closing price for that security that is constrained to be within the Threshold Percentage of either benchmark according to the same three goals 1 maximize the number of shares executed at the closing price 2 minimize On Close order imbalance and 3 minimize the distance of the closing price from the 4 00 00 inside bid offer midpoint. The closing process selects a closing price within the Threshold Percentage of either benchmark that maximizes that number of shares executed. If more than one such price exists the closing process selects a price that minimizes the On Close order imbalance. If more than one such price exists the closing process selects a price that is closest to the inside bid offer midpoint at closing. The closing process executes some or all of the orders for each security at the determined final closing price for that security.

If for a security the closing process executes fewer than all of the closing orders and all of the continuous orders that are available for automatic execution then the closing process executes orders in the following priority 

 2 LOC orders limit orders IO orders displayed quotes and reserve interest that are priced more aggressively than the final closing price with time as the secondary priority 

 3 LOC orders IO orders displayed interest of limit orders and displayed interest of quotes at the final closing price with time as the secondary priority 

For example the continuous and closing orders for a security include following orders at closing i.e. 4 00 00 p.m. 

The closing process re prices the 3 55 IO sell order priced at the 19.98 to the inside offer price of 20.00 based on the 3 59 continuous order priced at 20.00 . The closing process determines a final closing price of 20.01. Although 11 000 shares can be executed at both 20.01 and 20.02 and the On Close order imbalance is 0 shares at both 20.01 and 20.02 the 20.01 price is closer to the 4 00 00 inside offer of 20.00. The closing process executes 11 000 shares at the final closing price of 20.01 as follows 

All shares of the eligible On Close orders are executed. The 3 48 continuous sell order priced at 20.01 has 500 of its 5000 offered shares executed.

The executed orders may be reported using an anonymous trading mechanism e.g. reporting executed anonymous orders to the consolidated tape with SIZE as the contra party . The determined final closing price and the associated paired volume are disseminated via the data feed as the official closing price. 

The closing process shown in described herein is not limited to the embodiment described above it may find applicability in any computing or processing environment. The closing process may be implemented in hardware software or a combination of the two. For example the closing process may be implemented using circuitry such as one or more of programmable logic e.g. an ASIC logic gates a processor and a memory.

The closing process may be implemented in computer programs executing on programmable computers that each includes a processor and a storage medium readable by the processor including volatile and non volatile memory and or storage elements . Each such program may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the programs can be implemented in assembly or machine language. The language may be a compiled or an interpreted language.

Each computer program may be stored on an article of manufacture such as a storage medium e.g. CD ROM hard disk or magnetic diskette or device e.g. computer peripheral that is readable by a general or special purpose programmable computer for configuring and operating the computer when the storage medium or device is read by the computer to perform the functions of the closing process. The closing process may also be implemented as a machine readable storage medium configured with a computer program where upon execution instructions in the computer program cause a machine to operate to perform the functions of the closing process described above.

Embodiments of the closing process may be used in a variety of applications. Although the closing process is not limited in this respect the closing process may be implemented with memory devices in microcontrollers general purpose microprocessors digital signal processors DSPs reduced instruction set computing RISC and complex instruction set computing CISC among other electronic components.

Embodiments of the closing process may also be implemented using integrated circuit blocks referred to as core memory cache memory or other types of memory that store electronic instructions to be executed by a microprocessor or store data that may be used in arithmetic operations.

Embodiments can be applied to a variety trading systems including a venue for trading securities electronically such as an electronic commerce network an electronic auction an exchange or an electronic exchange. The electronic market can use an opening process including any or all of the features described herein for the closing process e.g. for determining an opening price before the opening of trading .

A number of embodiments of the invention have been described. Nevertheless it will be understood that various modifications may be made without departing from the spirit and scope of the invention.

