---

title: Application service invocation
abstract: An Internet Protocol Multimedia Subsystem (IMS) includes a Serving-Call Session Control Function (S-CSCF). The S-CSCF includes a Service Capability Interaction Manager (SCIM) configured to invoke one or more application services in response to a message being received by the S-CSCF.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08644460&OS=08644460&RS=08644460
owner: Verizon Patent and Licensing Inc.
number: 08644460
owner_city: Basking Ridge
owner_country: US
publication_date: 20100803
---
The present application is a Continuation of U.S. patent application Ser. No. 11 564 984 filed in Nov. 30 2006 which is a Continuation in Part of U.S. patent application Ser. No. 11 460 750 filed Jul. 28 2006 which claims priority to U.S. Provisional Patent Application No. 60 703 812 filed Jul. 29 2005 and U.S. Provisional Patent Application No. 60 764 748 filed Feb. 3 2006. The contents of all of these applications are incorporated herein by reference in their entireties.

The Internet Protocol Multimedia Subsystem IMS provides mobile and fixed multimedia services. The aim of IMS is not only to provide new services but also all of the services current and future that the Internet provides. In this way IMS gives network operators and service providers the ability to control and charge for each service. In addition users are given the ability to execute services from their home networks as well as when the users are roaming.

The following detailed description of implementations consistent with principles of the invention refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements. Also the following detailed description does not limit the invention. Instead the scope of the invention is defined by the appended claims and their equivalents.

Implementations described herein relate to placing a Service Capability Interaction Manager SCIM within an S CSCF of an IMS.

S CSCF I CSCF and P CSCF may be considered call session control components in system . The call session control components may be responsible for parsing a session e.g. a session initiation protocol SIP session and applying logic e.g. business logic service logic operational logic etc. on a per event basis. The outcome of the session control may be to route an event to the appropriate components and or append SIP headers and values.

S CSCF may be viewed as the brains of the IMS core. S CSCF may perform session control registration and service invocation for the subscribers of the IMS core. Hence S CSCF may be viewed as the run time engine deciding to whom and under what conditions specific services in the form of Application Servers are accessed by a SIP request. S CSCF may receive subscriber profiles from HSS at registration time or later for unregistered users to learn the subscribers chosen services and the rules under which the services should be brokered. Additionally S CSCF may perform user authentication based on information from HSS . S CSCF may receive session requests from for example P CSCF or I CSCF . After service invocation is completed S CSCF may disposition the sessions by routing the session requests to the destinations via for example P CSCF BGCF and or I SBC .

As illustrated S CSCF may include a SCIM and a Resource Management RM function . SCIM may be considered as an extension of S CSCF responsible for orchestrating the offerings of one or more application services across various service enabling technologies and platforms to produce valued services for IMS users. As such SCIM may be viewed as an adjunct IMS platform function that also orchestrates service invocation at session setup modify or teardown. Accordingly SCIM may also be based on a subscriber s profile and predefined interaction rules to determine which services are to be invoked at run time and what type of application and or media capabilities should be engaged in order to properly execute the services. SCIM may allow for more complex rules to be used for services determination based on the subscriber s profile and for example on external information such as policy information location information presence information the readiness condition of an application server e.g. load balancing information network outage information application server status information resource availability information etc. etc. In one implementation S CSCF SCIM may use a complex set of rules for invoking services during call or session establishment and or during an on going call or session as described in greater detail in U.S. patent application Ser. No. 11 612 681 filed Dec. 19 2006 and entitled APPLICATION SERVICE INVOCATION BASED ON FILTER CRITERIA the entire contents of which are incorporated by reference herein.

RM as will be discussed in further detail below may be responsible for executing business rules and service level agreements SLAs by allocating the appropriate resources.

I CSCF may act as the main point of contact for connections to and from a subscriber in the IMS platform. I CSCF may be located at the edge of the IMS core. I CSCF may receive SIP messages and identify the next hops for the SIP messages. To achieve this I CSCF may query HSS for the location e.g. an address of the appropriate S CSCF to which a particular SIP message is to be forwarded.

P CSCF may receive session requests from end points located at both public IP networks and private IP networks. P CSCF may validate requests forward the requests to selected destinations and process and forward the responses. P CSCF may generate chargeable events and send information relating to the chargeable events to CF . Additionally P CSCF may interact with PDF to grant reject or downgrade a session request based on platform resources and quality of service QoS measurements.

HSS may include one or more servers that act as the central repository for user related information. HSS may contain user related subscription information for handling multimedia sessions. Some of the information contained in HSS may include information identifying the location of a particular S CSCF for a particular user. As indicated above the location of a particular S CSCF may be conveyed to I CSCF upon receiving a query from a network element. HSS may also include subscriber profile information that contains service trigger points and information for identifying the corresponding resources e.g. applications media services etc. that offer the services. The subscriber profile information may be forwarded to S CSCF for session control and service treatment. Moreover HSS may provide and receive updates directly from application servers .

SLF may include one or more databases that contain subscription location information for subscribers. SLF may receive a query which may contain identification information for a subscriber from I CSCF and may return based on the subscriber identification information information identifying an HSS that serves the subscriber.

System may include various components that bridge the IMS core to external networks such as a public switched telephone network PSTN the Internet etc. These components which may include MGW function MGCF SLG NGW BGCF and BIGCF may perform protocol conversion and event routing to or from the IMS core. In one implementation consistent with principles of the invention SLG and NGW may be replaced with more generic gateways that include MGW and MGCF .

MGW function may connect PSTN networks and the IMS core. In one implementation MGW function may terminate bearer channels from a PSTN network and media streams from the IMS core e.g. real time transport protocol RTP streams in an IP network or Asynchronous Transfer Mode ATM Adaptation Layer 2 AAL2 ATM connections in an ATM backbone execute the conversion between these terminations and perform transcoding and signal processing. In addition MGW function may provide tones and announcements to circuit switched CS users. In one implementation consistent with exemplary embodiments MGW function may operate under the control of MGCF .

MGCF may be part of the gateway infrastructure that enables communication between the IMS core and PSTN networks. MGCF may contain signaling gateway functions that perform protocol conversion between the Integrated Services Digital Network ISDN User Part ISUP or Primary Rate Interface PRI and SIP protocols before forwarding a session to the IMS core. In a similar fashion IMS originated sessions directed towards PSTN users may traverse MGCF . MGCF may use media gateway control protocols control media channels in MGW . In addition MGCF may report account information to CF .

SLG may include a set of MGCF and MGW entities. SLG may connect the IMS core to Class networks. In one implementation the interfaces between SLG and the Class networks may include Digital Signal 1 DS1 based Non Facilities Associated Signaling NFAS PRIs.

NGW may include a set of MGCF and MGW entities. NGW may connect the IMS core to Class networks. In one implementation the interfaces between MGCF of NGW and the Class networks may include DS1 based signaling system 7 SS7 interfaces and the interfaces between MGW of NGW and Class networks may include DS1 bearer channels.

BGCF may connect IMS initiated calls to Circuit Switch CS customers e.g. an IMS subscriber calling a telephone number in the PSTN . BGCF may based on a routing policy select an appropriate network in which the connection is to be made or may select the appropriate gateway to the other network.

BIGCF may correspond to an ingress point that handles incoming calls from PSTN gateways e.g. NGW SLG wholesale gateways other IP based carriers e.g. based on Voice over Internet Protocol VoIP peering agreements Emergency Services Peering Points etc. BIGCF may route calls from and to non IMS subscribers. BIGCF may route calls to the IMS core when the calls are destined for IMS subscribers or when IMS applications are invoked or may bypass the IMS core elements P CSCF I CSCF S CSCF HSS etc. when calls are destined for non IMS subscribers and no IMS applications are invoked by the calling party or called party. BIGCF may route calls to PSTN based termination points to BGCF and route calls to IP based termination points e.g. a wholesale termination point IP based carriers etc. directly to I SBCs associated with the IP based termination points. If calls are either from and or to IMS subscribers or IMS applications or services are invoked BIGCF may route the calls to the IMS core via I CSCF and using S CSCF to invoke calling and or called party features.

The IMS core may provide multimedia services. Examples of multimedia services or applications include playing announcements audio video recording and playback interactive voice response IVR fax reception and transmission automatic speech recognition ASR text to speech conversion TTS multimedia conferencing customized ring back tones push to talk over cellular PoC video messaging etc. MRF may be part of the IMS core and may support services that use multimedia streams.

As illustrated in MRF may include MRFC MRFP and MRB . MRFC and MRFP are the IMS resources that provide support for bearer related services e.g. multi party sessions announcements to a user bearer transcoding etc. . MRFC may provide bearer control related services. MRFP may provide user plane resources that may be requested and instructed by MRFC . MRB may provide a resource management function that is able to allow media resources to become common resources shared among multiple applications.

Application servers may include one or more servers that provide enhanced audio video messaging and data services within the application layer of system . Application servers may be accessible to the users of the IMS core and provide value added multimedia services to those users. Application servers may submit charges to the IMS core for the services that application servers provide to the IMS user community.

Two types of application servers that may be used within system may include macro applications or macro application services and micro applications or micro application services . Macro applications may include standalone application servers that typically contain support functions e.g. registration media resource etc. .

Each of the macro applications may correspond directly to a service and a trigger in a subscriber s profile. S CSCF may detect the trigger point of a macro application and invoke the macro application via the S CSCF SCIM functionality. The S CSCF SCIM may manage interactions among the intact macro applications and the composite services constituted by multiple micro applications described in greater detail below or a combination of one to many macro and one to many micro applications.

Examples of macro application services may include Hosted IP CENTREX HIPC Unified Messaging UM GLMS and Presence service . CENTREX may correspond to a type of Private Branch Exchange PBX service in which switching occurs at a local telephone office instead of at the company premises where the traditional PBX is located which may be referred to as Customer Premise Equipment CPE . In one implementation CENTREX may be replaced by or supplemented with a SIP Voice Features server. Unified messaging may allow users to retrieve and send voice messages from a single interface regardless of the technology e.g. telephone personal computer etc. and may provide other unified messaging services e.g. fax deposit retrieval voice to email etc. .

Micro applications may be provided on one or more Services Creation Environment SCE with service execution capability formulating SIP Application Servers. Micro applications may include a wide variety of enhanced multimedia services that allow for a rapid development and deployment cycle. Multiple micro applications may be assembled into a composite service. This composite service in the same manner as the macro applications may be represented by a trigger in a subscriber s profile. S CSCF may detect the trigger point of a composite service and invoke the composite service via SCIM functionality.

SCIM may also play a role in managing interactions among the micro applications when such a composite service is invoked. SCIM may apply the following processes in managing the interactions among micro applications sequences the micro applications invocation based on predefined priority detects mid call triggers and determines the subsequent micro application invocation accordingly resolves service conflicts based on the predefined interaction rules and or applies default handling in exception cases. These processes may be similar to what S CSCF applies on macro applications. However micro applications have a stronger disproportionate reliance on the richer SCIM functionality in comparison to macro services. For example if a Location Service is blended with a CENTREX service most of the session control may reside within the CENTREX service. Comparatively if micro applications such as Find Me Do Not Disturb voicemail and a Location service all as micro services are blended then there may be a disproportionately higher reliance on session control from SCIM . That is SCIM may be used to handle mid call triggers fully manage exception cases etc. Accordingly the need for robust orchestration may be significantly higher in an environment where there is significant service decomposition micro services .

One example of a micro application is the Carrier AS . Carrier AS may facilitate feature rich tool free call processing. Other examples of micro applications may include as indicated above a Find Me service a Do Not Disturb service a voicemail service a location service etc.

SCE logic may provide a foundation for rapid development of next generation services. SCE may support Java Specification Request JSR SIP Servlet and a suite of externalized application programming interfaces APIs for developers to gain access to the IMS core. A single SCE may contain basic service capabilities support a number of macro application servers and may support the building of micro applications.

The IMS core may support a number of different services such as GLMS Presence service and ENUM server . GLMS may include one or more services that allow for group list creation management and use across multiple applications within the IMS core. GLMS may enforce access and visibility rules. Presence service may include one or more services that automate the task of aggregating both presence and availability information. Presence service may inform one user about the status of another user s availability and willingness to communicate. Presence service may use a Presence User Agent PUA to manage the presence of the IMS subscribers and handle presence subscription requests. For example an application or an IMS subscriber may act as a watcher which is an entity that subscribes to presence information provided by Presence service . ENUM server may provide translation of E.164 to SIP URIs. BIGCF and S CSCF may query ENUM server to determine a next hop for a call. In some implementations consistent with exemplary embodiments BIGCF may execute ENUM queries for both calling and called number resolution. Additional information regarding ENUM server may be found in co pending U.S. patent application Ser. No. 11 460 668 filed Jul. 28 2006 and entitled ROUTING CALLS IN A NETWORK which is incorporated by reference herein in its entirety.

The IMS core may include one or more session border controllers SBCs that provide control of the boundary between different service provider networks provide signaling protocol inter working between the SIP based IMS core and other service provider networks control the transport boundary between service provider networks and provide usage metering and Quality of Service QoS measurements for media flows. Two types of SBCs that may be associated with the IMS core are the A SBC and the I SBC . In other implementations A SBC and I SBC may be replaced with border control and border gateway functions.

A SBC may correspond to an ingress point to the IMS core for Customer Premises Equipment CPE traffic. A SBC may provide SIP aware firewall capabilities that support network address translation NAT prevent denial of service DoS attacks and execute other security enforcement features. A SBC may be the first SIP events normalization point prior to the IMS core.

I SBC may serve as a connection point between the IMS core and wholesale gateways and also between the IMS core and IP peering VoIP carriers. I SBC may provide SIP normalization and Topology Hiding and Internetwork Gateway THIG services.

System may include a number of policy components. For example system may as illustrated in include policy engine PDF and RM . Policy engine may include one or more rule based engines that govern subscriber access to the IMS core subscriber access to resources and routing decisions for several different types of event requests made within the IMS core. In one implementation policy engine may provide decision logic to policy components also called policy decision points within the IMS core. Policy engine may manage two general categories of resources 1 network bandwidth resources related to the transport of multimedia content streams and 2 application resources related to the service logic and media processing used to initiate and control multimedia content streams. Policy engine may maintain real time information regarding the state of all resource requests e.g. bandwidth requests media requests etc. being made in system and update the appropriate policy components e.g. PDF and or RM in system based on the real time information. Moreover policy engine may allow for policies to be created modified and or deleted and may update the appropriate policy components e.g. PDF and or RM in real time to reflect the policy changes. Policy engine may interface with PDF and RM using the extensible markup language XML protocol. Policy engine may also interface with one or more external operations support systems OSSs not shown for policy creation modification and or deletion and with one or more network management systems for obtaining resource status updates. Additional information regarding policy engine may be found in co pending U.S. patent application Ser. No. 11 460 672 filed Jul. 28 2006 and entitled POLICY ENGINE which is incorporated by reference herein in its entirety.

PDF may provide service based local policy control. PDF may make policy decisions based on session and media related information. PDF may exchange this decision information with another IMS element such as A SBC or I SBC to control the flow and characteristics of a communication link. PDF may manage the bandwidth resources. PDF may act as a sub component of the platform border signaling elements P CSCF BIGCF BGCF and SBCs and and may enforce policies to ensure that multimedia streams are transported with the proper bandwidth utilization properties and Quality of Service QoS in accordance with subscriber service level agreements SLAs .

RM may be used to execute a policy at the component level. As illustrated in RM may be associated with for example S CSCF BGCF BIGCF A SBC and I SBC . In one implementation RM may store and execute the policy decisions that are relevant for the location at which RM is associated.

CF may include a unified system for providing both offline charging and online charging. Offline charging is a process where charging information for network resource usage is collected concurrently with that resource usage. The charging information may be passed through a chain of CFs . At the end of this process Charging Detail Record CDR files may be generated by the network which are then transferred to the network operator s billing domain for the purpose of subscriber billing.

Online charging is a process where the actual charging for network resource usage occurs in real time concurrently with that resource use. The charges may be debited from an appropriately funded subscriber account. An example of online charging includes pre paid calling card usage.

CDF may compile chargeable events gathered from IMS components into a single Charging Detail Record CDR for offline billing activities. CDF may gather the chargeable events from a Charging Trigger Function CTF that may be associated with components of system and after creating the CDR pass the billing data to the CGF .

CGF may act as a gateway between both the offline charging system the online system and an external post processing system such as a billing domain.

GUP may include a collection of data that is stored and managed by different entities such as the user equipment the home environment the visited network and the value added service providers which may affect the way in which an individual user experiences services. GUP may include a number of user profile components and an individual service may make use of a subset of the available user profile components.

Bus may permit communication among the components of S CSCF . Processing logic may include any type of processor or microprocessor that interprets and executes instructions. In other implementations processing logic may be implemented as or include an application specific integrated circuit ASIC field programmable gate array FPGA or the like. Memory may include a random access memory RAM or another type of dynamic storage device that stores information and instructions for execution by processing logic a read only memory ROM or another type of static storage device that stores static information and instructions for the processing logic and or some other type of magnetic or optical recording medium and its corresponding drive for storing information and or instructions.

Input device may include a device that permits an operator to input information to S CSCF such as a keyboard a keypad a mouse a pen a microphone one or more biometric mechanisms and the like. Output device may include a device that outputs information to the operator such as a display a speaker etc.

Communication interface may include any transceiver like mechanism that enables S CSCF to communicate with other devices and or systems. For example communication interface may include mechanisms for communicating with other components within system .

As described in greater detail below S CSCF may perform processing associated with invoking services in an IMS environment. S CSCF may perform these and other functions in response to processing logic executing software instructions contained in a computer readable medium such as memory . A computer readable medium may be defined as one or more memory devices and or carrier waves. The software instructions may be read into memory from another computer readable medium or from another device via communication interface . The software instructions contained in memory may cause processing logic to perform processes that will be described later. Alternatively hardwired circuitry may be used in place of or in combination with software instructions to implement processes consistent with the principles of the invention. Thus systems and methods consistent with exemplary embodiments are not limited to any specific combination of hardware circuitry and software.

S CSCF service brokering component may receive a message e.g. a SIP message parse the message and apply brokering rules to determine to which application server s the message should be sent. The message may include for example a SIP INVITE message. S CSCF service brokering component may parse the message to identify the calling party and called party. S CSCF service brokering component may separately process the service invocation for the calling party and the called party. Depending on the stage of session processing S CSCF service brokering component may use the calling party identity or the called party identity to lookup a subscriber profile for orchestrating the calling party services or the called party services. S CSCF service brokering component may identify the type and capability of application servers based on brokering rules in the subscriber profile s . S CSCF service brokering component may query the RM to obtain actual application resources or media resources and send the message to these resources for service invocation.

SCIM service orchestration component may identify one or more micro applications based on a more complex set of brokering rules in the subscriber profile s . In some implementations SCIM service orchestration component may also make micro application selections based upon external information such as information from policy service s location services and or presence locations information regarding the readiness condition of an application server e.g. load balancing information network outage information the current state of an application server resource availability information etc. etc.

SCIM service orchestration component may also manage the interaction among micro applications. SCIM service orchestration component may sequence micro application invocations based on predefined priority in the subscriber profile s . SCIM service orchestration component may detect triggers during an ongoing call and invoke the appropriate micro application s . SCIM service orchestration component may resolve service conflicts based on predefined interaction rules and may apply default handling in exception cases.

As illustrated database may include a subscriber profile field . Database may include other fields that facilitate identifying one or more subscriber profiles for a received message.

Subscriber profile field may store profiles for registered subscribers with which the particular S CSCF is associated. Each subscriber profile may include specific data about the subscriber such as IMS subscription data to correlate private and public identifiers the specific S CSCF where the user is registered authentication password s and a service profile for the subscriber. In other implementations subscriber profiles may include other information.

The service profile may include one or more service profile elements. The service profile elements may include for example S CSCF capabilities Trigger Points TP and Filter Criteria also called rules that may be used to determine the logic to be executed when a Trigger Point is detected and any services chaining for the orderly management of multiple services.

Trigger Points TPs may include Boolean operations applied on Service Point Triggers SPTs . As an example the SPT could be a SIP method INVITE and a string 17323351127 in the RURI or From. The TP may use the AND operation to combine these two together. The result may look like TP Method INVITE AND String 17323351127 IN RURI .

SPTs may include those points in the SIP signaling on which Filter Criteria can be set. In one implementation the following SPTs may be defined any initial known or unknown SIP method e.g. REGISTER INVITE SUBSCRIBE MESSAGE presence or absence of any header field content of any header field or Request URI direction of the request session description information etc. SPTs in packet telephony may be associated and mapped to the classic Intelligent Network Capabilities Set 2 IN CS2 Originating and Terminating Setup Busy RNA and Disconnect events. Thus SPTs may be defined based on IN CS2 events.

Filter Criteria may include initial Filter Criteria iFC and subsequent Filter Criteria sFC . The iFC may trigger one or more SPTs to send the received request to one specific application server. The set of Filter Criteria that is stored for a service profile of a specific subscriber may be called Application Server Subscription Information. In order to allow S CSCF SCIM to handle the different Filter Criteria in the correct sequence a priority may be assigned to each of the criteria. Execution rules may determine application invocation with potential support for application server precedence resolution of conflicts between applications management of exceptions when things do not go as planned or thresholds are exceeded placement of constraints and work within the context of the session request. Filter Criteria can take into account any information embedded in the SIP message including for example the RURI Header Content Message Body the UserID the Method and Session Description Protocol SDP content. The SIP Message may affect the dynamic behavior of the filtering.

The sFC may include filter criteria that are signaled from an Application Server to S CSCF . sFC may allow for dynamic definition of the relevant SPTs at application execution time.

The subscriber profile may include the information described above with respect to . In one implementation the subscriber profile may include at least one S CSCF rule for invoking one or more macro applications and at least one SCIM rule for invoking one or more micro applications.

S CSCF may store the received subscriber profile block . For example S CSCF may store the subscriber profile in database .

S CSCF may parse the received call request block . For example S CSCF may parse the call request to identify information in the header of the message and or body of the request. In one implementation S CSCF may identify the destination party for the call request. S CSCF may use the destination party s identity to obtain a subscriber profile associated with the destination party s identity. If the destination party is a registered subscriber S CSCF may use the destination party s identity to obtain a subscriber profile from database . If the destination party is an unregistered user S CSCF may use the destination party s identity to obtain a subscriber profile from HSS .

S CSCF SCIM may apply S CSCF rules and SCIM rules in the obtained subscriber profile to identify the appropriate macro and or micro application s to be invoked for the received call request block . As set forth above the subscriber profile may include filter criteria that may be used to determine the service s to be chained when a trigger point is invoked.

S CSCF SCIM may invoke the appropriate macro application s and or micro application s for the call request block . As indicated above a macro application may include an IP Centrex or another service provided by a stand alone application server and a micro application may include a Find Me function a Do Not Disturb function a voicemail function a location function etc. S CSCF SCIM may invoke the appropriate macro application s and or micro application s by transferring the call request to the appropriate application server s .

S CSCF may forward the call request toward the appropriate destination block . For example S CSCF may forward the call to P CSCF BGCF or I SBC for completing the call. Once the call is established S CSCF SCIM may monitor the call to detect any mid call triggers that might invoke additional macro applications and or micro applications.

S CSCF SCIM may use the subscriber profiles of the called and or calling subscribers to identify one or more macro application s and or one or more micro application s to invoke for the call request. In this example assume that the called subscriber s subscriber profile indicates that the called subscriber desires a group of micro application services such as a Find Me service provided by a first application server and then a voicemail box provided by a second application server be applied based upon the service point trigger of a session setup. SCIM may invoke the Find Me service by sending the call request to the first application server block . The first application server may identify a location for the called party and transmit this information to SCIM block . S CSCF may forward the call request to the called subscriber in order to establish the call blocks and . If the call cannot be established e.g. the called subscriber does not accept the call request SCIM may invoke the called subscriber s voicemail box. If on the other hand the call is established e.g. by the called subscriber accepting the call request S CSCF SCIM may monitor the on going call and invoke the appropriate macro application s and or micro application s that may be triggered during the call.

The foregoing description of exemplary implementations provides illustration and description but is not intended to be exhaustive or to limit the invention to the precise form disclosed. Modifications and variations are possible in light of the above teachings or may be acquired from practice of the invention. For example while series of acts have been described with respect to the order of the acts may be varied in other implementations. Moreover non dependent acts may be implemented in parallel.

Embodiments of the invention as described above may be implemented in many different forms of software firmware and hardware. The actual software code or specialized control hardware used to implement embodiments of the invention is not limiting of the invention. Thus the operation and behavior of embodiments were described without reference to the specific software code it being understood that design software and control hardware may be designed to implement embodiments based on the description herein.

Further certain portions of the invention may be implemented as logic that performs one or more functions. This logic may include hardware such as an application specific integrated circuit a field programmable gate array a processor or a microprocessor software or a combination of hardware and software.

No element act or instruction used in the description of the present application should be construed as critical or essential to the invention unless explicitly described as such. Also as used herein the article a is intended to include one or more items. Where only one item is intended the term one or similar language is used. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.

