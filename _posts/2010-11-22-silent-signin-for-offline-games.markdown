---

title: Silent sign-in for offline games
abstract: Techniques are disclosed to silently sign in a user of an offline game title onto an online service. The user is afforded access to select online services to facilitate future online gaming. In a described implementation, a method is disclosed. The method silently signs in a user of an offline game title onto an online gaming service. As a result, the signed-in user may receive one or more online services such as an in-game notification, a friend request (e.g., inviting a user to become a friend), a cross-title game invitation, and/or data corresponding to a friends list.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08719168&OS=08719168&RS=08719168
owner: Microsoft Corporation
number: 08719168
owner_city: Redmond
owner_country: US
publication_date: 20101122
---
This application is a continuation application of and claims priority to U.S. patent application Ser. No. 10 800 331 filed on Mar. 12 2004 entitled Silent Sign In for Offline Games the entire disclosure of which is incorporated herein by reference.

The present invention generally relates to gaming systems and more particularly to silent sign in for offline games.

Traditionally gaming systems accommodated a limited number of players such as 1 4 players. A recent trend in gaming systems is to provide capabilities to facilitate gaming among multiple players over a network such as Internet based online gaming. These online gaming systems allow players to compete with other players regardless of their geographic location.

The game titles available on the market today can be generally classified into two categories. The first category is online games which allow a user to play the game against one or more players online. The users may build a list of preferred online players or friends list . The users may also send and receive messages such as invitations to play the online game . The second category is offline games that are generally played by one or more users with access to the same game console only.

One shortcoming of today s game titles and online services is that if a user is playing an offline game that user is excluded from receiving online messages such as an invitation to play an online game. This limits a user s ability to play against a preferred group of players.

Techniques are disclosed to silently sign in a user of an offline game title onto an online service. The user is afforded access to select online services to facilitate future online gaming.

In a described implementation a method includes silently signing in a user of an offline game title onto an online gaming service. As a result the signed in user may receive one or more online services e.g. an in game notification a game invitation a friend request e.g. inviting a user to become a friend and or data corresponding to a friends list .

In another described implementation an apparatus such as a game console includes an interface configured to communicate with an online game service via a public network such as the Internet . The apparatus further includes a processor coupled to the interface. The processor may be configured to silently sign in a most recently signed in user of the apparatus. After the signing in the user is capable of receiving online services.

The following disclosure describes the silent sign in for offline game titles. The signing in also referred to as logging in herein affords the user access to select online services such as an in game notification a cross title game invitation a friend request e.g. inviting a user to become a friend and or data corresponding to a friends list which are traditionally only available to online titles with a signed in user. Such access enables a gamer to readily switch from an offline game to an online game when the situation changes e.g. a friend signs in or issues an invitation to play an online game . Silently signing in generally indicates that a user of a console is automatically signed onto an online service without requiring action by a user of a console in an implementation.

In some situations network includes a LAN e.g. a home network with a routing device situated between game console and security gateway . This routing device may perform network address translation NAT allowing the multiple devices on private network or a LAN to share the same IP address on the Internet and also operating as a firewall to protect the device s from access by malicious or mischievous users via the Internet.

Security gateway operates as a gateway between public network and private network . Private network can be any of a wide variety of conventional networks such as a local area network. Private network as well as other devices discussed in more detail below is within a data center that operates as a secure zone. Data center is made up of trusted devices communicating via trusted communications. Thus encryption and authentication within secure zone is not necessary. The private nature of network refers to the restricted accessibility of network access to network is restricted to only certain individuals e.g. restricted by the owner or operator of data center .

Security gateway is a cluster of one or more security gateway computing devices. These security gateway computing devices collectively implement security gateway . Security gateway may optionally include one or more conventional load balancing devices that operate to direct requests to be handled by the security gateway computing devices to appropriate ones of those computing devices. This directing or load balancing is performed in a manner that attempts to balance the load on the various security gateway computing devices approximately equally or alternatively in accordance with some other criteria .

Also within data center are one or more monitoring servers one or more presence and notification front doors one or more presence servers and one or more notification servers collectively implementing a presence and notification service one or more match front doors and one or more match servers collectively implementing a match service and one or more statistics front doors and one or more statistics servers collectively implementing a statistics service . The servers and provide services to game consoles and thus can be referred to as service devices. Other service devices may also be included in addition to and or in place of one or more of the servers and . Additionally although only one data center is shown in alternatively multiple data centers may exist with which game consoles can communicate. These data centers may operate independently or alternatively may operate collectively e.g. to make one large data center available to game consoles .

Game consoles are situated remotely from data center and access data center via network . A game console desiring to communicate with one or more devices in data center establishes a secure communication channel between the console and security gateway . Game console and security gateway encrypt and authenticate data packets being passed back and forth thereby allowing the data packets to be securely transmitted between them without being understood by any other device that may capture or copy the data packets without breaking the encryption. Each data packet communicated from game console to security gateway or from security gateway to game console can have data embedded therein. This embedded data is referred to as the content or data content of the packet. Additional information may also be inherently included in the packet based on the packet type e.g. a heartbeat packet or traversal packet discussed in more detail below .

The secure communication channel between a console and security gateway is based on a security ticket. Console authenticates itself and the current user s of console to a key distribution center and obtains from key distribution center a security ticket. Console then uses this security ticket to establish the secure communication channel with security gateway . In establishing the secure communication channel with security gateway the game console and security gateway authenticate themselves to one another and establish a session security key that is known only to that particular game console and the security gateway . This session security key is used as a basis to encrypt data transferred between the game console and the security gateway cluster so no other devices including other game consoles can read the data. The session security key is also used as a basis to authenticate a data packet as being from the security gateway or game console that the data packet alleges to be from. Thus using such session security keys as a basis secure communication channels can be established between the security gateway and the various game consoles .

Once the secure communication channel is established between a game console and the security gateway encrypted data packets can be securely transmitted between the two. When the game console desires to send data to a particular service device in data center the game console encrypts the data and sends it to security gateway requesting that it be forwarded to the particular service device s targeted by the data packet. Security gateway receives the data packet and after authenticating and decrypting the data packet encapsulates the data content of the packet into another message to be sent to the appropriate service via private network . Security gateway determines the appropriate service for the message based on the requested service s targeted by the data packet.

Similarly when a service device in data center desires to communicate data to a game console the data center sends a message to security gateway via private network including the data content to be sent to the game console as well as an indication of the particular game console to which the data content is to be sent. Security gateway embeds the data content into a data packet and then encrypts the data packet so it can only be decrypted by the particular game console and also authenticates the data packet as being from the security gateway .

Although discussed herein as primarily communicating encrypted data packets between security gateway and a game console alternatively some data packets may be partially encrypted some portions of the data packets are encrypted while other portions are not encrypted . Which portions of the data packets are encrypted and which are not can vary based on the desires of the designers of data center and or game consoles . For example the designers may choose to allow voice data to be communicated among consoles so that users of the consoles can talk to one another the designers may further choose to allow the voice data to be unencrypted while any other data in the packets is encrypted. Additionally in another alternative some data packets may have no portions that are encrypted that is the entire data packet is unencrypted . It should be noted that even if a data packet is unencrypted or only partially encrypted the data packet is still authenticated.

Each security gateway device in security gateway is responsible for the secure communication channel with typically one or more game consoles and thus each security gateway device can be viewed as being responsible for managing or handling one or more game consoles. The various security gateway devices may be in communication with each other and communicate messages to one another. For example a security gateway device that needs to send a data packet to a game console that it is not responsible for managing may send a message to all the other security gateway devices with the data to be sent to that game console. This message is received by the security gateway device that is responsible for managing that game console and sends the appropriate data to that game console. Alternatively the security gateway devices may be aware of which game consoles are being handled by which security gateway devices this may be explicit such as each security gateway device maintaining a table of game consoles handled by the other security gateway devices or alternatively implicit such as determining which security gateway device is responsible for a particular game console based on an identifier of the game console.

Monitoring server s operate to inform devices in data center of an unavailable game console or an unavailable security gateway device of security gateway . Game consoles can become unavailable for a variety of different reasons such as a hardware or software failure the console being powered down without logging out of data center the network connection cable to console being disconnected from console other network problems e.g. the LAN that the console is on malfunctioning etc. Similarly a security gateway device of security gateway can become unavailable for a variety of different reasons such as hardware or software failure the device being powered down the network connection cable to the device being disconnected from the device other network problems etc.

Each of the security gateway devices in security gateway is monitored by one or more monitoring servers which detect when one of the security gateway devices becomes unavailable. In the event a security gateway device becomes unavailable monitoring server sends a message to each of the other devices in data center servers front doors etc. that the security gateway device is no longer available. Each of the other devices can operate based on this information as it sees fit e.g. it may assume that particular game consoles being managed by the security gateway device are no longer in communication with data center and perform various clean up operations accordingly . Alternatively only certain devices may receive such a message from the monitoring server e.g. only those devices that are concerned with whether security gateway devices are available .

Security gateway monitors the individual game consoles and detects when one of the game consoles becomes unavailable. When security gateway detects that a game console is no longer available security gateway sends a message to monitoring server identifying the unavailable game console. In response monitoring server sends a message to each of the other devices in data center or alternatively only selected devices that the game console is no longer available. Each of the other devices can then operate based on this information as it sees fit.

Presence server s holds and processes data concerning the status or presence of a given user logged in to data center for online gaming. Notification server s maintains multiple queues of outgoing messages destined for a player logged in to data center . Presence and notification front door is one or more server devices that operate as an intermediary between security gateway and servers and . One or more load balancing devices not shown may be included in presence and notification front door to balance the load among the multiple server devices operating as front door . Security gateway communicates messages for servers and to the front door and the front door identifies which particular server or particular server the message is to be communicated to. By using front door the actual implementation of servers and such as which servers are responsible for managing data regarding which users is abstracted from security gateway . Security gateway can simply forward messages that target the presence and notification service to presence and notification front door and rely on front door to route the messages to the appropriate one of server s and server s .

Match server s hold and process data concerning the matching of online players to one another. An online user is able to advertise a game available for play along with various characteristics of the game e.g. the location where a football game will be played whether a game is to be played during the day or at night the user s skill level etc. . These various characteristics can then be used as a basis to match up different online users to play games together. Match front door includes one or more server devices and optionally a load balancing device s and operates to abstract match server s from security gateway in a manner analogous to front door abstracting server s and server s .

Statistics server s hold and process data concerning various statistics for online games. The specific statistics used can vary based on the game designer s desires e.g. the top ten scores or times a world ranking for all online players of the game a list of users who have found the most items or spent the most time playing etc. . Statistics front door includes one or more server devices and optionally a load balancing device s and operates to abstract statistics server s from security gateway in a manner analogous to front door abstracting server s and server s .

Thus it can be seen that security gateway operates to shield devices in the secure zone of data center from the untrusted public network . Communications within the secure zone of data center need not be encrypted as all devices within data center are trusted. However any information to be communicated from a device within data center to a game console passes through security gateway cluster where it is encrypted in such a manner that it can be decrypted by only the game console targeted by the information.

In an implementation each stage discussed with reference to the method is performed by a console such as the console of or an online service such as that discussed with reference to the data center of . Also each stage may be performed by software hardware firmware or combinations thereof. The method includes a stage which determines whether any user online accounts are present on the console. If an account is present a stage determines whether automatic sign in is enabled on the console. Automatic sign in may be enabled in a corresponding user configurable setting such as a dash settings or stored profile data . If either stages or fail the method will return to a previous state.

Otherwise if the stage determines that automatic sign in is enabled the saved user information is utilized to sign in the user as initiated by the game console and completed by the online service . After the user successfully signs into the online service a stage registers the presence of the user online and the user is provided with online services . In one implementation the stage may be performed by the presence server s of .

The main menu may also include a status message window to display messages regarding the status of the game or console. For example the status message may indicate any of the following no user account present automatic sign in disabled signing in not signed in signed in and the like.

In one implementation selecting the live button brings up either a a friends drop in UI e.g. to enable communication with player on a friends list such as that discussed with reference to or b if a sign in or connection error has occurred displays the drop in 1 player sign in UI this may then allow the user to sign in and or troubleshoot their connection . In an implementation the latter option requires a user to enter an authorization code such as a passcode . If a connection error occurs after sign in has successfully occurred e.g. a cable is unplugged and the user subsequently clicks on the live button the user will be brought to the sign in screen. The sign in process and or the account information associated therewith as will be further discussed with reference to may be encrypted. Also the account information may be transferred to another game console e.g. through storing the data on a memory unit of a game controller such as those discussed with reference to .

In turn if a sign in succeeds this may be indicated in the status message window on the main menu . Thereafter selecting the live button will bring the user to the friends screen discussed with reference to or some other area such as the sign in menu discussed with reference to . If sign in fails for any reason connectivity or passcode related this may again be indicated in the status message window . Thereafter in an implementation selecting the live button will bring the user to the sign in screen trying to sign in will bring the user to either a request for passcode or the network troubleshooter.

In an implementation each stage discussed with reference to the method is performed by a console such as the console of or an online service such as that discussed with reference to the data center of . Also each stage may be performed by software hardware firmware or combinations thereof. The method includes a stage which determines whether any user online accounts are present on the console. If an account is present a stage determines whether automatic sign in is enabled on the console. Automatic sign in may be enabled in a corresponding user configurable setting such as that discussed with reference to . If stages or fail the method will return to a previous state. In case of failure of stages or an error message regarding lack of an account or automatic sign in disablement may be generated respectively.

Otherwise if the stage determines that automatic sign in is enabled the saved user information is utilized to sign in the user as discussed with reference to for example a stage such as may initiate the sign in process on the game console side not shown . After the user successfully signs into the online service a stage determines whether the sign in stage was successful. If the stage was unsuccessful a stage reports an error e.g. by displaying an error in a user interface which may optionally provide further processing . In one implementation the error message indicates that passcode is required or sign in has failed. Also the stages and may be performed by the game console online service or combinations thereof. An optional stage may initiate an interactive sign in. The optional stage may be initiated by the user. The interactive sign in may also request that the user provide a user name e.g. a gamertag in addition to an authorization code such as discussed with reference to . After the stage the method resumes with the stage .

If sign in was successful i.e. the Yes branch from block the data center registers presence of the console stage . The presence registration allows the provision of online services e.g. providing the user of the console with access to in game notifications cross title game invitations friend requests data corresponding to a friends list and the like . Accordingly the stage may be optionally followed by a stage which depicts the messages on a console such as notifications on the console of or a display device attached to the console. In one implementation the stage is performed by the presence server s of . The stage is followed by a stage which senses error conditions such as unplugging of a cable which may be sensed by the console . In case of error the method continues with the stage .

In one implementation the stages and are performed by a console such as the console of . In an alternative implementation the stages and are performed by a server such as those discussed with reference to the data center of .

An API may be utilized to provide silent sign in of a most recently logged on account automatically. Such an API may enable developers to quickly implement a silent sign in UI for offline game titles for example.

In implementations involving an Xbox game console provided by Microsoft Corporation of Redmond Wash. XOnlineSilentLogon application programming interface API may be utilized to enable applications which are capable of silent sign in to automatically sign in the most recently signed in account assuming there is no passcode on the account and automatic sign in is enabled on the game console. In an alternate implementation a controller coupled to the gaming device can provide specific user account information to sign in the user account onto the online service instead of the most recently signed in user account.

This API is similar to XOnlineLogon except that it does not require any user information. The most recently logged on account is automatically picked by the API. If the most recently logged on account fails the API will not retry with any other account information that may be on the console.

Computer environment includes a general purpose computing device in the form of a computer . The components of computer can include but are not limited to one or more processors or processing units optionally including a cryptographic processor or co processor a system memory and a system bus that couples various system components including the processor to the system memory .

The system bus represents one or more of any of several types of bus structures including a memory bus or memory controller a peripheral bus an accelerated graphics port and a processor or local bus using any of a variety of bus architectures. By way of example such architectures can include an Industry Standard Architecture ISA bus a Micro Channel Architecture MCA bus an Enhanced ISA EISA bus a Video Electronics Standards Association VESA local bus and a Peripheral Component Interconnects PCI bus also known as a Mezzanine bus.

Computer typically includes a variety of computer readable media. Such media can be any available media that is accessible by computer and includes both volatile and non volatile media removable and non removable media.

The system memory includes computer readable media in the form of volatile memory such as random access memory RAM and or non volatile memory such as read only memory ROM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently operated on by the processing unit .

Computer may also include other removable non removable volatile non volatile computer storage media. By way of example illustrates a hard disk drive for reading from and writing to a non removable non volatile magnetic media not shown a magnetic disk drive for reading from and writing to a removable non volatile magnetic disk e.g. a floppy disk and an optical disk drive for reading from and or writing to a removable non volatile optical disk such as a CD ROM DVD ROM or other optical media. The hard disk drive magnetic disk drive and optical disk drive are each connected to the system bus by one or more data media interfaces . Alternatively the hard disk drive magnetic disk drive and optical disk drive can be connected to the system bus by one or more interfaces not shown .

The disk drives and their associated computer readable media provide non volatile storage of computer readable instructions data structures program modules and other data for computer . Although the example illustrates a hard disk a removable magnetic disk and a removable optical disk it is to be appreciated that other types of computer readable media which can store data that is accessible by a computer such as magnetic cassettes or other magnetic storage devices flash memory cards CD ROM digital versatile disks DVD or other optical storage random access memories RAM read only memories ROM electrically erasable programmable read only memory EEPROM and the like can also be utilized to implement the exemplary computing system and environment.

Any number of program modules can be stored on the hard disk magnetic disk optical disk ROM and or RAM including by way of example an operating system one or more application programs other program modules and program data . Each of such operating system one or more application programs other program modules and program data or some combination thereof may implement all or part of the resident components that support the distributed file system.

A user can enter commands and information into computer via input devices such as a keyboard and a pointing device e.g. a mouse . Other input devices not shown specifically may include a microphone joystick game pad satellite dish serial port scanner and or the like. These and other input devices are connected to the processing unit via input output interfaces that are coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB .

A monitor or other type of display device can also be connected to the system bus via an interface such as a video adapter . In addition to the monitor other output peripheral devices can include components such as speakers not shown and a printer which can be connected to computer via the input output interfaces .

Computer can operate in a networked environment using logical connections to one or more remote computers such as a remote computing device . By way of example the remote computing device can be a personal computer portable computer a server a router a network computer a peer device or other common network node game console and the like. The remote computing device is illustrated as a portable computer that can include many or all of the elements and features described herein relative to computer .

Logical connections between computer and the remote computer are depicted as a local area network LAN and a general wide area network WAN . Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When implemented in a LAN networking environment the computer is connected to a local network via a network interface or adapter . When implemented in a WAN networking environment the computer typically includes a modem or other means for establishing communications over the wide network . The modem which can be internal or external to computer can be connected to the system bus via the input output interfaces or other appropriate mechanisms. It is to be appreciated that the illustrated network connections are exemplary and that other means of establishing communication link s between the computers and can be employed.

In a networked environment such as that illustrated with computing environment program modules depicted relative to the computer or portions thereof may be stored in a remote memory storage device. By way of example remote application programs reside on a memory device of remote computer . For purposes of illustration application programs and other executable program components such as the operating system are illustrated herein as discrete blocks although it is recognized that such programs and components reside at various times in different storage components of the computing device and are executed by the data processor s of the computer.

Various modules and techniques may be described herein in the general context of computer executable instructions such as program modules executed by one or more computers or other devices. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Typically the functionality of the program modules may be combined or distributed as desired in various implementations.

An implementation of these modules and techniques may be stored on or transmitted across some form of computer readable media. Computer readable media can be any available media that can be accessed by a computer. By way of example and not limitation computer readable media may comprise computer storage media and communications media. 

 Computer storage media includes volatile and non volatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by a computer.

 Communication media typically includes computer readable instructions data structures program modules or other data in a modulated data signal such as carrier wave or other transport mechanism. Communication media also includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media. Combinations of any of the above are also included within the scope of computer readable media.

CPU memory controller and various memory devices are interconnected via one or more buses including serial and parallel buses a memory bus a peripheral bus and a processor or local bus using any of a variety of bus architectures. By way of example such architectures can include an Industry Standard Architecture ISA bus a Micro Channel Architecture MCA bus an Enhanced ISA EISA bus a Video Electronics Standards Association VESA local bus and a Peripheral Component Interconnects PCI bus also known as a Mezzanine bus.

As one suitable implementation CPU memory controller ROM and RAM are integrated onto a common module . In this implementation ROM is configured as a flash ROM that is connected to the memory controller via a PCI Peripheral Component Interconnect bus and a ROM bus neither of which are shown . RAM is configured as multiple DDR SDRAM Double Data Rate Synchronous Dynamic RAM that are independently controlled by the memory controller via separate buses not shown . The hard disk drive and portable media drive are connected to the memory controller via the PCI bus and an ATA AT Attachment bus .

A 3D graphics processing unit and a video encoder form a video processing pipeline for high speed and high resolution graphics processing. Data is carried from the graphics processing unit to the video encoder via a digital video bus not shown . An audio processing unit and an audio codec coder decoder form a corresponding audio processing pipeline with high fidelity and stereo processing. Audio data is carried between the audio processing unit and the audio codec via a communication link not shown . The video and audio processing pipelines output data to an A V audio video port for transmission to the television or other display. In the illustrated implementation the video and audio processing components are mounted on the module .

Also implemented on the module are a USB host controller and a network interface . The USB host controller is coupled to the CPU and the memory controller via a bus e.g. PCI bus and serves as host for the peripheral controllers . The network interface provides access to a network e.g. Internet home network etc. and may be any of a wide variety of various wire or wireless interface components including an Ethernet card a modem a Bluetooth module a cable modem and the like.

The game console has two dual controller support subassemblies and with each subassembly supporting two game controllers . A front panel I O subassembly supports the functionality of a power button and a media drive eject button as well as any LEDs light emitting diodes or other indicators exposed on the outer surface of the game console. The subassemblies and are coupled to the module via one or more cable assemblies .

Eight memory units are illustrated as being connectable to the four controllers i.e. two memory units for each controller. Each memory unit offers additional storage on which games game parameters and other data may be stored. When inserted into a controller the memory unit can be accessed by the memory controller .

A system power supply module provides power to the components of the game console . A fan cools the circuitry within the game console .

A console user interface UI application is stored on the hard disk drive . When the game console is powered on various portions of the console application are loaded into RAM and or caches and executed on the CPU . Console application presents a graphical user interface that provides a consistent user experience when navigating to different media types available on the game console.

Game console implements a cryptography engine to perform common cryptographic functions such as encryption decryption authentication digital signing hashing and the like. The cryptography engine may be implemented as part of the CPU or in software stored on the hard disk drive that executes on the CPU so that the CPU is configured to perform the cryptographic functions. Alternatively a cryptographic processor or co processor designed to perform the cryptographic functions may be included in game console .

Game console may be operated as a standalone system by simply connecting the system to a television or other display. In this standalone mode game console allows one or more players to play games watch movies or listen to music. However with the integration of broadband connectivity made available through the network interface game console may further be operated as a participant in online gaming as discussed above.

It should be noted that although the game console discussed herein is described as a dedicated game console not a general purpose PC running computer games the game console may also incorporate additional functionality. For example the game console may include digital video recording functionality so that it can operate as a digital VCR the game console may include channel tuning functionality so that it can tune and decode television signals whether they be broadcast signals cable signals satellite signals etc. and so forth. Further in alternate implementations the game console is replaced with a set top box or other computing device.

Thus although the invention has been described in language specific to structural features and or methodological acts it is to be understood that the invention defined in the appended claims is not necessarily limited to the specific features or acts described. Rather the specific features and acts are disclosed as exemplary forms of implementing the claimed invention.

