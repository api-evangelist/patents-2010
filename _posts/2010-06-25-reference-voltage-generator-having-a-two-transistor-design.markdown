---

title: Reference voltage generator having a two transistor design
abstract: An improved voltage reference generator is provided. The voltage reference generator comprises: a first transistor having a gate electrode biased to place the first transistor in a weak inversion mode; and a second transistor connected in series with said first transistor and having a gate electrode biased to place the second transistor in a weak inversion mode, where the threshold voltage of the first transistor is smaller than the threshold voltage of the second transistor and the gate electrode of the second transistor is electrically coupled to a drain electrode of the second transistor and the source electrode of the first transistor to form an output for a reference voltage.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08564275&OS=08564275&RS=08564275
owner: The Regents of the University of Michigan
number: 08564275
owner_city: Ann Arbor
owner_country: US
publication_date: 20100625
---
This application claims the benefit of U.S. Provisional Application No. 61 220 712 filed on Jun. 26 2009. The entire disclosure of the above application is incorporated herein by reference.

This invention was made with government support under Grant No. EEC9986866 awarded by the National Science Foundation. The government has certain rights in the invention.

The present disclosure relates to an improved reference voltage generator that improves power consumption size and ease of design with comparable temperature supply voltage and process insensitivity to existing designs.

Recent progress in ultra low power ULP circuit design has been made due to significant interest in environmental and biomedical sensor applications. These systems often include analog and mixed signal modules such as linear regulators A D converters and RF communication blocks for self contained functionality.

Voltage references VR are key building blocks for these modules. In particular linear regulators require a voltage reference to supply a constant voltage level to the entire system. Also amplifiers in A D converters employ several bias voltages. Therefore it is often necessary to incorporate multiple voltage reference circuits in a system.

Voltage references are commonly integrated in wireless sensing systems with tight power budgets which are often less than hundreds of nanowatts due to very limited energy sources. Hence it is vital that voltage references consume very little power. On the other hand voltage references should be able to operate across a wide Vrange in particular near or below 1V since some power sources such as energy scavenging units provide low output voltages.

This section provides background information related to the present disclosure which is not necessarily prior art.

An improved voltage reference generator is provided. The voltage reference generator comprises a first transistor having a gate electrode biased to place the first transistor in a weak inversion mode and a second transistor connected in series with said first transistor and having a gate electrode biased to place the second transistor in a weak inversion mode where the threshold voltage of the first transistor is smaller than the threshold voltage of the second transistor and the gate electrode of the second transistor is electrically coupled to a drain electrode of the second transistor and the source electrode of the first transistor to form an output for a reference voltage.

This section provides a general summary of the disclosure and is not a comprehensive disclosure of its full scope or all of its features. Further areas of applicability will become apparent from the description provided herein. The description and specific examples in this summary are intended for purposes of illustration only and are not intended to limit the scope of the present disclosure.

The drawings described herein are for illustrative purposes only of selected embodiments and not all possible implementations and are not intended to limit the scope of the present disclosure. Corresponding reference numerals indicate corresponding parts throughout the several views of the drawings.

Example embodiments will now be described more fully with reference to the accompanying drawings. Example embodiments are provided so that this disclosure will be thorough and will fully convey the scope to those who are skilled in the art. Numerous specific details are set forth such as examples of specific components devices and methods to provide a thorough understanding of embodiments of the present disclosure. It will be apparent to those skilled in the art that specific details need not be employed that example embodiments may be embodied in many different forms and that neither should be construed to limit the scope of the disclosure.

With only two transistors the voltage reference generator is both smaller and simpler than existing designs. This is valuable not only to minimize circuit area power and cost but also to minimize the time required to design the voltage reference generator.

Of note the threshold voltage of the first transistor M is less than threshold voltage of the second transistor M. For clarity the transistor having the greater threshold voltage is indicated with a thicker bar in the accompanying figures. Different ways for achieving a desired threshold voltage are contemplated by this disclosure and may include but is not limited to different threshold implants different transistor gate sizes different oxide thicknesses and different body biases. In any case the difference between the first threshold voltage and the second threshold voltage will typically exceed 150 millivolts and preferably 200 millivolts to achieve the most desirable operating characteristics. However the design will function at smaller differences.

During operation the gate source voltages of the first transistor M and the second transistor M must be set to ensure that both transistors are operated in a weak inversion operating mode also commonly referred to as a subthreshold region . By operating the transistors in a weak inversion mode rather than in a saturation region power consumption of the generator is reduced dramatically as compared to existing designs. Furthermore operation in a weak inversion mode ensures that the voltage reference generator can operate with supply voltage VDD much less than 1V. For improved performance the drain source voltages on M and M should be greater than approximately 3v where vis the thermal voltage. Combining these assumptions with a well known subthreshold current equation shows that the value of the reference voltage Vis 

Through transistor sizing the temperature dependence of Vcan be changed from proportional to absolute temperature PTAT to complementary to absolute temperature CTAT to temperature independent. In a typical implementation the gate width of transistor M would be chosen relative to the gate width of transistor M to make Vinsensitive to temperature. In addition to affecting the temperature sensitivity of V the gate sizes of transistor M and transistor M affect the power consumption of the voltage reference generator. For example choosing transistors M and M to have narrow width or long length would reduce the power consumption of the voltage reference generator substantially.

Since coupling though the parasitic MOSFET capacitance can affect power supply rejection ratio an output capacitor may be added for signal robustness. Larger output capacitance provides a better power supply rejection ratio.

In an exemplary embodiment the gate electrode of first transistor M is tied to a bias voltage V that biases this transistor into a weak inversion mode. The second transistor M is configured as a diode connected transistor with its gate electrode tied to its drain electrode such that this shared gate drain terminal serves as the output of the reference voltage generator V. Other transistor configurations which meet the operating criteria set forth above are envisioned by this disclosure.

Conversely the voltage reference generator implemented with p type transistors is depicted in . Thus the source electrode of the second transistor is electrically coupled to a supply voltage the drain electrode of the second transistor is electrically coupled to the source electrode of the first transistor and the drain electrode of the first transistor is electrically coupled to a ground voltage. In this way the reference voltage is referenced to Vrather than V.

In the exemplary embodiment the first and second transistors are further defined as metal oxide semiconductor field effect transistors. More specifically the first transistor M may be implemented with a MOSFET transistor having a near zero threshold voltage V ZVT such that it remains in weak inversion mode even at negative V. These types of ZVT devices are widely available in foundry technologies ranging from 0.25 m to 65 nm. The second transistor M may be implemented with an input output MOSFET device. Both transistors have thick gate oxides to support operation across a wide range of V. Other types of transistors are contemplated by this disclosure.

The reference voltage generator has been simulated extensively and fabricated in multiple industry standard circuit processes including a 0.18 m process a 0.13 m process and a 65 nm process. One exemplary reference voltage generator fabricated in a 0.13 m process was designed for temperature independence and outputs a voltage of 175.5 mV with a temperature coefficient of only 3.6 ppm C. a supply voltage dependence of 0.033 V and power consumption of 2.2 pW. Additionally the 1350 mreference operates correctly with the supply voltage as low as 0.5V at which point it consumes 2.22 pW.

Additional circuit arrangements for the reference voltage generator are depicted in . shows how a voltage drop can be introduced in series between Vand the reference voltage generator to limit the maximum voltage dropped across the generator itself. In an exemplary embodiment a diode or a diode connected transistor could be used to insert a voltage drop on the order of 400 700 mV. shows how two or more reference voltage generators may be cascaded to output higher voltages. Note that the cascading can be extended by using multiple numbers of N type based structures and or P type based structures to generate various reference voltages. shows how the second transistor M may be replaced by two or more transistors to generate lower reference voltages. The lower reference voltages may also be tuned to have a linear dependence on temperature.

Process sensitivity is a common problem for most voltage reference generators and is typically addressed through trimming. However trimming is often a time cost intensive process particularly if it involves laser trimming of resistors in the case of a bandgap voltage reference generator. Therefore we propose a digitally trimmable version of the voltage reference generator design to improve temperature coefficient and output voltage accuracy across dies while reducing trimming time and cost. Measurements from a prototype chip in a 0.13 m process show that trimming enables tighter distributions of temperature coefficient and nominal output voltage across 25 dies. The temperature coefficients lie between 5.3 ppm C. and 47.4 ppm C. while the nominal output varies by 0.4 from the mean value. The voltage reference generator consumes 29.5 pW at 0.5V and 25 C.

To minimize the temperature coefficient and output voltage spread a voltage reference generator system with digital trimming is shown in . The ratio of top to bottom device widths is critical to temperature coefficient and output voltage. However the optimal width ratio at design time may not be ideal for each chip due to process variations. Therefore it is beneficial to be able to change the width ratio post silicon.

In the exemplary embodiment the voltage reference generator system is constructed around a voltage reference generator which serves as a baseline for the reference voltage output by the system. This baseline voltage reference generator is constructed in accordance with the principles set forth above. A plurality of selectable transistors are connected in parallel with either the first transistor or the second transistor or both as shown in the figure of the baseline voltage reference generator . It is conceivable the baseline voltage reference generator may be eliminated where the system include a plurality of top and bottom selectable transistors as shown in the figure.

The selectable transistors can be selectively turned on or off to change the effective gate width amongst the transistors arranged in parallel. In this way the effective width ratio of the voltage reference generator can be changed. In an exemplary embodiment the gate electrodes amongst the plurality of selectable transistors may have different width sizes. For example the plurality of selectable transistors coupled in parallel with the first or top transistor are sized up gradually from the minimum width of ZVT devices 3 m whereas the plurality of selectable transistors coupled in parallel with the second bottom transistor are sized as powers of 2 for range and granularity as shown in . Other sizing arrangements for the selectable transistors are also contemplated by this disclosure including transistors having the same width sizes. Moreover it is understood that trimming can be achieve using other techniques such as changing the body bias that change the strength of the first and or second transistor. These techniques also fall within the broader aspects of this disclosure.

A plurality of control switches may be used to selectively control operation of the selectable transistors . By applying control signals bmod and tmod to the control switches the top to bottom width ratio can be varied. In the exemplary embodiment the top to bottom width ratio can be varied from 0.52 to 3.75 with 256 different settings. Control signals swing from 0 to V requiring no extra supply voltage. One time programmable memories such as fuses can be used to provide the signals with minimal power overhead. Once one or more of the control switches are turned off any of the selectable transistors connected to them have negligible effect on the output voltage acting as a dangling capacitor. Finally an output capacitor e.g. 0.8 pF may be added to suppress the effect of noise on output voltage.

The trimmable voltage reference can be used to achieve consistently small temperature coefficient and or very tight output voltage ranges. show measurement results for the voltage references from first and second fabrication runs. In the 3 output voltage spread is reduced by 3.5from the untrimmed version while shows a reduction in worst case temperature coefficient of nearly 8.

More likely the design goal will be to meet a specified temperature coefficient constraint with minimum deviation from the desired output voltage. illustrates the temperature coefficient and output voltage design spaces for different settings in the trimmable VR. shows that for a given total width of top devices for example 22 m setting the bottom device total width to 10 m minimizes temperature coefficient. A clear trend is observed where a specific width ratio leads to minimum temperature coefficient forming a diagonal line in the matrix. Likewise output voltage changes at different settings and depends directly on the width ratio. This is again confirmed by the diagonal line in .

A trimming procedure is developed for the proposed voltage reference that balances minimal trimming time with optimal performance. To reduce testing time the number of trim settings and temperatures during the trimming process is limited. At two temperature points 20 and 80 C. output voltages are measured by sweeping across 16 settings using two top device and eight bottom device widths. Then an optimal setting for each die is chosen for given design objective. The objective is to minimize output voltage spread subject to temperature coefficient being less than 50 ppm C. After choosing the appropriate setting each voltage reference is tested at a finer temperature granularity and it is observed that the temperature coefficient constraint remains met.

In summary the reference voltage generator according to the current principles in this disclosure improves upon existing designs in four key areas power consumption design complexity area and minimum supply voltage. The foregoing description of the embodiments has been provided for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention. Individual elements or features of a particular embodiment are generally not limited to that particular embodiment but where applicable are interchangeable and can be used in a selected embodiment even if not specifically shown or described. The same may also be varied in many ways. Such variations are not to be regarded as a departure from the invention and all such modifications are intended to be included within the scope of the invention.

The terminology used herein is for the purpose of describing particular example embodiments only and is not intended to be limiting. As used herein the singular forms a an and the may be intended to include the plural forms as well unless the context clearly indicates otherwise. The terms comprises comprising including and having are inclusive and therefore specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof. The method steps processes and operations described herein are not to be construed as necessarily requiring their performance in the particular order discussed or illustrated unless specifically identified as an order of performance. It is also to be understood that additional or alternative steps may be employed.

