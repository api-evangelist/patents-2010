---

title: Zigbee IP/6LowPan router
abstract: A system and method for managing energy of a home or other structure are disclosed. An energy management system for a home network comprises a central device controller configured to communicate with energy consuming devices, energy generation devices and storage devices at a home. Power/energy measuring devices provide consumption measurements for the home and each device to the controller. A home network router routes communications among various networks for the home. The router provides for a 6LowPan/Zigbee network to communicate with WiFi, Ethernet and the like networked devices of the home.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08724490&OS=08724490&RS=08724490
owner: General Electric Company
number: 08724490
owner_city: Schenectady
owner_country: US
publication_date: 20101021
---
This disclosure relates to energy management and more particularly to energy systems and methods with time of use TOU and or demand response DR energy programs. The disclosure finds particular application to utility systems and appliances configured to manage energy loads to consumers through a communicating consumer control device such as a home energy manager HEM programmable communicating thermostat PCT appliance controller or the like.

Many utilities are currently experiencing a shortage of electric generating capacity due to increasing consumer demand for electricity. Currently utilities charge a flat rate but with increasing cost of fuel prices and high energy usage at certain parts of the day utilities have to buy more energy to supply customers during peak demand. If peak demand can be lowered then a potential huge cost savings can be achieved and the peak load that the utility has to accommodate is lessened. In order to reduce high peak power demand many utilities have instituted time of use TOU metering and rates which include higher rates for energy usage during on peak times and lower rates for energy usage during off peak times. As a result consumers are provided with an incentive to use electricity at off peak times rather than on peak times and to reduce overall energy consumption of appliances at all times.

Presently to take advantage of the lower cost of electricity during off peak times a user must manually operate power consuming devices during the off peak times. However a consumer may not always be present in the home to operate the devices during off peak hours. In addition the consumer may be required to manually track the current time to determine what hours are off peak and on peak.

There is a need to provide a system that can automatically operate power consuming devices during off peak hours in order to reduce consumer s electric bills and also to reduce the load on generating plants during on peak hours while enabling communication among different types of appliances and the utility network. Active and real time communication of energy costs of appliances to the consumer will enable informed choices of operating the power consuming functions of the appliance.

The present disclosure enables energy consuming devices of a home network to route communications among devices and the central controller in the home network as well as external networks with an internet protocol address.

In one embodiment an energy management system for a home network comprising managed energy consuming devices respectively drawing different amounts of power in a home is provided. The energy management system is a home energy manager system comprising a central controller or central device controller with a memory. The controller is in communication with the managed energy consuming devices that respectively comprise a device controller. A router having at least two communication modules and a routing engine within the network routes communications at the home network to devices in which the communications are addressed for. At least one power energy measuring device is in communication with the controller and the managed devices and configured to provide a total energy power consumption measurement for the home and a power energy consumption measurement for each managed device. The central controller has a processor and at least one transceiver and is configured to monitor and control energy consumption of each of the managed devices and respective components thereof by sending communications to each of the managed devices via the router and to a device controller of an energy consuming device or appliance respectively.

A home area network router comprises multiple wireless and wired transceivers which communicate in various formatted protocols. The home area network router integrates devices communicating in these various protocols through one portal in the home network. A central controller e.g. a home energy gateway of an energy management system is communicatively coupled to the home area network router and provides homeowners the means to monitor and manage their energy consumption through a combination of behavior modification and programmed control logic. The central controller provides feedback on energy consumption and storage of energy at the home which may be presented to a user via a web browser on the homeowner s networked personal computer mobile device or any other client device in a client interface.

The energy management system having the home network router is further designed to integrate with the electrical utilities push towards Demand Side Management DSM also known as Demand Response DR . The central device is capable of receiving electricity rates and schedules from the utility and using that information to implement pre determined load shedding behavior across the whole home electrical load via the home area network router as will be further appreciated below.

The home network router is designed to accommodate multiple methods of wireless communication. This enables the central device to talk to radio modules of devices within the home network by router communications among them. The central device operatively coupled to the router therefore has the following wireless capability 802.11 WiFi FM receiver and 802.15.4 compliant Zigbee radios and 802.3 Ethernet capabilities.

The controller is configured to receive a communication signal via the home network router and then process the signal. The signal may be a DR signal indicative of one or more energy parameters and or a utility state of an associated energy supplying utility and or from energy consuming devices within the home network. There are several ways to accomplish this communication including but not limited to WiFi 802.11 6LowPan ZigBee 802.15 Ethernet 802.3 802.11 802.15.4 etc.

The controller is configured to communicate to the devices in one of a plurality of operating modes including at least a normal operating mode and an energy savings mode in response to the received DR signal. Specifically each appliance can be operated in the normal operating mode during the off peak demand state or period and can be operated in the energy savings mode during the peak demand state or period. The controller is able to communicate via the router in various communication formats in internet protocol such as an ipv6 IP address. As a result devices of multiple types can communicate within the home network.

In one embodiment the home network router joins a Zigbee IP or 6LowPan network as an edge router for example. The router is operable to transform the 6LowPan Zigbee IP internet protocol address to an ipv6 address format. In addition the router operates as a WiFi router access point and is able to host other WiFi devices and or further operates as a local Ethernet router in order to host Ethernet devices on the network too.

As will be discussed in greater detail below the controller is configured to communicate with each device and or appliances through the router and thus is able to precipitate the return of the devices to the normal operating mode after the peak demand period is over regardless if the devices vary in communication protocol for example. If the controller receives and processes an energy signal indicative of a peak demand state or period at any time during operation of the appliances the controller makes a determination of whether one or more of the power consuming features functions of each appliance should be operated in the energy savings mode and if so it signals the appropriate features functions of each appliance to begin operating in the energy savings mode via the home network router in order to reduce the instantaneous amount of energy being consumed by the appliances.

The device controller is the central brain for the entire system. It contains an optional user display with a user interface coupled thereto that may be used for displaying current energy consumption historical energy consumption thermostat set points and schedule a 7 day weather forecast or the like. The controller communicates to the router via an Ethernet interface and to sensor radios of appliances via one or more wireless radios. The interface radios are Zigbee 802.15.4 at WiFi 802.11 at and an eRadio FM receiver . The controller can also communicate to devices via a wired connection and the like. The controller can include USB ports for adding additional functionality.

In one embodiment the controller connects via either Ethernet or WiFi to the homeowner s router and to a client application in a personal computer and or a mobile device to access the Internet of . This allows for remote service and monitoring capability with the ability to communicate to devices on the network with various different protocols e.g. 6LowPan Zigbee Ethernet WiFi etc. . A server can keep records of the home that may be accessed remotely via the internet.

In another embodiment the home can be outfitted with a smart electric meter as the meter or other meters in the system for example. This meter wirelessly communicates directly with the central device controller or to other devices of the home via the home network router . The home s smart meter can be configured to output a communication signal based on electrical consumption. In another embodiment the electric utility can directly send the consumption data to the central controller via the Internet rather than the meter.

As stated above local utility and rate information is also broadcast from the utility or energy provider to the controller directly. The controller can receive rate and schedule information as well as demand side management DSM signals to communicate them to the household appliances via the router . The devices within the network may also transmit energy power consumption data or other like data to the central controller . The central controller can provide home data through an application programming interface such as for a web based application or application on a client device that is communicated through the home area network router to the various energy consuming devices within the home network or to other client devices communicatively coupled thereto. The central device may therefore operate as a data server for providing data such as in a client application for example which in turn can be used to present the data to the consumer client. The data may be presented in the form of a graph with data of historical present energy usage generation and or storage data therein.

Referring to a system block diagram of a home network router is illustrated. The router comprises multiple communication modules that facilitate communication between devices of the HAN central controllers and or energy providers over an internet protocol. The router joins networks within the home and sends communications to operate internet gateway addresses.

One of ordinary skill in the art will appreciate the mechanics of a router which is an electronic device that interconnects two or more computer networks and selectively interchanges packets of data between them. Each data packet contains address information that a router can use to determine if the source and destination are on the same network or if the data packet must be transferred from one network to another. How a data packet is transformed is appreciated by one of ordinary skill in the art will and is not fully described in detail herein.

In one embodiment the home network router illustrated in is operable as a 6LowPan Zigbee IP 802.15.4 edge router in an energy management system such as system discussed above or other like system. The router includes at least two communication modules. For example a first communication module of the router is a 6LowPan Zigbee IP communication module and a second communication is a WiFi 802.11 communication module. The first communication module and the second communication module are operatively coupled to a routing engine mechanism that processes data received and interchanges communication between at least two networks.

The first communication module communicates data in a Zigbee IP 6LowPan network and forwards the communicated data to the routing engine for processing and routing data to other networks and devices of different and or the same address format. Any time a node for example in the Zigbee IP LowPan network attempts to send communication packet e.g. a datagram at an address outside the Zigbee IP LowPan network the routing engine recognizes this action because the Internet Protocol IP address prefix of the communication will be a value that is not consistent with the Zigbee IP LowPan communicating devices linked on the Zigbee 6LowPan network. When the router receives such a communication packet via first communication link such as a datagram with an inconsistent value in the address the routing engine unwraps the link local MAC PHY data of the packet and evaluates the IP destination address.

The router includes a memory not shown that stores a list of IP addresses subnet mask of all other devices that are communicatively coupled to the router over different links i.e. WiFi Ethernet etc. Communication is facilitated with the second communication module and or a third communication module which may be different type of module than the second communication module . If the IP address of a communication packet from a network e.g. Zigbee 6LowPan WiFi Ethernet etc. of the home is equal to one of the devices connected to it or part of this subnet then the router will then package the data into the proper link format form an ipv6 header and transmit the communication to the proper device accordingly.

The router with the routing engine recognizes the IP prefix in communication packets for the Zigbee IP LowPan network. When receiving communications e.g. datagrams or the like on any of the other communication links with destination addresses to one of these addresses the router will forward the communication to the Zigbee IP LowPan network. Thus the router provides many different common links such as WiFi Ethernet and or the like that can communicate directly via the router to Zigbee IP 6LowPan devices. This provides an advantage of eliminating the need for gateways bridges between various networks and devices.

In one embodiment the third communication module is an optional module that includes an Ethernet interface for communicating between personal computer or other devices on an Ethernet network communicating with Ethernet protocol formats. The second module and third module are not limited to any particular communication with addresses of any one particular format and can be of other formats other than WiFi and or Ethernet format. For example the router allows a user or homeowner to join any type of device such as a WiFi Ethernet or Zigbee IP 6LowPan device and the like. Where each device communicates via an internet protocol via the router with one another.

The method begins at where the router receives a communication data packet from a WiFi Ethernet Zigbee 6LowPan format or an internet protocol format. At a processing engine of the router determines what communication link to transmit the message to for further transmission from a communication module of the router. For example the engine questions if the IP destination address is on an 802.15.4 link. If the address is addressed for this link then at the data packet is forwarded to the appropriate communication module and sent to the appropriate 802.15.4 device on that network. The communication module can be a wireless transceiver or a wired interface for example.

If the decision at is not positive then the engine determines at whether the IP destination address is on the 802.11 link. If the address is addressed for this particular link then at the data packet is forwarded to the appropriate communication module and sent to the appropriate 802.11 device on that network. If the decision at is not positive then the engine determines at whether the IP destination address of the communication packet I son the 802.3 link. If the decision is positive then at the packet is forward to the appropriate communication module of the router and sent to the appropriate 802.3 device on that network. The flow continues at if the decision at is negative. At if the address is an IP destination address for the global internet then the packet is forwarded to the appropriate internet gateway address.

The invention has been described with reference to the preferred embodiments. Obviously modifications and alterations will occur to others upon reading and understanding the preceding detailed description. It is intended that the invention be construed as including all such modifications and alterations.

