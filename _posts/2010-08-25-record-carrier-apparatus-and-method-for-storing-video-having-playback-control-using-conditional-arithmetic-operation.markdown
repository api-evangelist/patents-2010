---

title: Record carrier, apparatus and method for storing video having playback control using conditional arithmetic operation
abstract: A record carrier () of the invention stores at least video-related user data and control data in digital form. The control data enables playback control of the user data, which control data comprises at least play control data which defines user data items which are playable, at least selection control data for enabling the user to select and control reproduction of user data and at least variable control data for operating on user and system variables. The record carrier () is characterized in that the variable control data comprises at least one instruction for a conditional arithmetical operation.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08189995&OS=08189995&RS=08189995
owner: Koninklijke Philips Electronics N.V.
number: 08189995
owner_city: Eindhoven
owner_country: NL
publication_date: 20100825
---
This is a continuation of prior application Ser. No. 09 315 707 filed on May 20 1999 now U.S. Pat. No. 7 805 057 and is incorporated by reference herein.

The invention pertains to a record carrier storing at least video related user data and control data in digital form which control data enable playback control of the user data which control data comprises at least play control data which defines user data items which are playable at least selection control data for enabling the user to select and control reproduction of user data and at least variable control data for operating on user and system variables.

The invention further pertains to an apparatus capable of reproducing user data under control of control data the user data and the control data being stored in digital form on a record carrier which user data comprises at least video data which control data comprises at least play control data which defines user data items which are playable and at least selection control data for enabling the user to select and control reproduction of user data items which control data further comprise variable control data defining operations on user and system variables which apparatus is provided with control means comprising a processor controllable by said control data.

The invention further pertains to a method of reproducing user data under control of control data according to which method the user data and the control data are read from a record carrier on which these data are stored in digital form which user data comprises at least video data which control data comprises play control data selection control data and variable control data according to which method user data items are played under control of the play control data according to which method the selection control data enables the user to select and control reproduction of user data items according to which method the variable control data control operations on user and system variables.

Such a record carrier apparatus and method are known from WO 98 09290. The play control data in the form of Play Lists enables the record and or playback device to reproduce the user data in a predetermined order. Apart from video data the user data may contain for example audio data and data giving information about the video and or audio data. The selection control data in the form of Selection Lists enable the user to make a selection out of the available Play Lists by giving input to the apparatus. In addition the known apparatus can process variable control data by performing arithmetical operations and logical tests. The variable control data enables the apparatus a further way of controlling the playback of user data at the record carrier dependent of the history of user input.

In the known record carrier the variable control data comprises a Statement List which describes operations on variables and a Conditional List which describes conditional jumps.

For this purpose the apparatus is characterized in that the apparatus is adapted to be controlled by variable control data which comprises instructions for conditional arithmetical operations.

For this purpose the record carrier is characterized in that the variable control data comprises at least one instruction for a conditional arithmetical operation.

For this purpose the method is characterized in that the variable control data comprises at least one instruction for a conditional arithmetical operation.

The invention is based on the insight that for interactive playback of audio visual data the choice of what is to be played back depends on many parameters such as the current user input the history of user input the region of playback etc. A plurality of the operations necessary for playback control is therefore performed conditionally. As the apparatus of the invention is adapted to be controlled by variable control data which comprises instructions for conditional arithmetical operations the variable control data can be concise so that less memory space is required and variable control is simplified.

The conditional arithmetical operations are for example addition subtraction multiplication division and modulo calculation. Whether the arithmetic operations specified in the instruction are performed depends on the outcome of a logical test.

In the record carrier of the invention the variable control data can be clearly structured. Operations which are to be performed conditionally can be arranged in the same sequence as other operations.

Such a way of control is very suitable for educational purposes According to instructions in the variable control data the processor can evaluate the progress of the user for example by evaluating results of user responses upon questions presented by the apparatus. Depending on the outcome of the evaluation the system can select an educational session to continue with.

In a favorable embodiment the record carrier is characterized in that the instructions are embedded in Command Lists which further comprise a Command List Header which precedes the instruction and an unconditional goto which succeeds the instruction and which refers to a next List e.g. another Command List a Play List or a Selection List .

It is preferred that each Command List comprises only one instruction apart from the unconditional goto.

This embodiment is advantageous if the record carrier is to be played by an apparatus of the invention in which the same processor which interprets the play control data and the selection control data also interprets the variable control data. The header enables the processor to recognize the type of control data. The unconditional goto instruction passes control to a next List which may be either a Command List or for example a Play List which forms play control data or a Selection List which forms selection control data.

Otherwise the apparatus of the invention can have separate processors for interpreting the variable control data and the other control data. The processors can for example communicate with each other via variables which are stored in a common memory.

This information is to be read out by use of an optical stylus known as such which supplies the detected data to a decoding and error correcting means . The decoded and error corrected data are supplied to a processor which cooperates with a ROM memory and a RAM memory to control and operate on the data flow received from decoding and error correcting means . A first task of the controller is to provide control signals such as velocity control tracking and focusing control signals to the servo system . The servo system controls the angular velocity of the rotating disc as well as the position of the optical stylus with respect to the track of the optical disc which has been shown by the dotted arrow r. Further the servo system controls the focusing of the optical stylus such that the bright bundle emitted by the laser is focused on the information layer of the optical disc which has been shown by the dotted arrow f .

A second task of the processor is to control the audio and video bit stream to the dedicated decoders which decode the e.g. MPEG2 coded video and audio and supply the decoded video to a display and the decoded audio to a speaker or speaker system e.g. a multi channel sound system .

The information to be reproduced by the display and sound system is selectable by user input which is received e.g. by direct control of selection buttons of the input means of the optical disc player or via a remote control device having selection buttons . Of course other possibilities of control are available and adequate such as but not limited to voice control control via a direct link to a personal computer or via a telephone modem etc.

The processor of the shown embodiment can be a relatively low power microcontroller having 1 MIPS million instructions per second capacity. It is possible to have the video and audio MPEG2 decoding realized by a software controlled processor which then should be a high speed high power process unit equipped with adequate amounts of RAM and ROM memory and

The control data stored by the record carrier comprises at least play control data here in the form of Play Lists which defines user data items which are playable also denoted as Play Items for example a plurality of user data items which are playable in sequence. The control data further comprises selection control data here in the form of Selection Lists for enabling the user to select and control reproduction of user data items. The control data further comprises variable control data in the form of Command Lists defining operations on user and system variables. A more detailed description is given below. Therein hexadecimal numbers are preceded by a and binary numbers are preceded by a .

The second set has an opcode starting with the bits 010. This set of instructions comprises assignments. The instruction 010 cond0 000 provides for assignment of the value of variable V l to variable V k provided that condition cond0 is true. Likewise the instruction 010 cond1 001 provides for assignment of the value of the variable V l to variable V k if condition cond1 is true. The instruction 010 cond0 010 provides for assignment of the value of the constant dddd to variable V j if condition cond0 is true. The instruction 010 00 110 results in a block of variables being assigned the value dddd while the variable V i greater than or equal to 0. The variable currently being filled is indicated by index j V i . After each assignment the variable. V i is decreased by 1.

The third set comprises goto instructions. This set has an opcode starting with the bits . Opcodes 100 cond0 000 and 100 cond0 001 respectively effectuate a jump to the List at address offs if cond0 is true and if cond1 is true. Opcodes 100 cond0 010 effectuate a jump to the List at address stored in variable V j if cond0 is true. Opcodes 100 cond0 100 and 100 cond1 101 effectuate a jump to the address offs and a decrease of the value of variable V i by one if respectively cond0 and cond1 are true. The opcode 100 cond0 110 effectuates a jump to the address offs and a decrease of the variables V i and V j by one.

The fourth set of which the opcode starts with the bits comprises a wait and goto instruction. If this instruction 110 cond0 000 is performed the playback device will wait during V j seconds for user input. If no input is received within that time interval the control jumps to the list at address offs .

Apart from user variables the command list interpreter can also access system variables. The system variables serve as an application programming interface between a so called virtual machine VM which processes the commands and the hardware of the reproducing apparatus. By acting on system variables the instructions in the Command List can evaluate and or influence system variables such as the status of an overlay graphics channel the setting of the audio channels mute mono stereo etc. . Additionally the instructions can cause the processor to read other parameters such as the current disc identification the current track the current playing time.

The following table gives an example of possible variables to be controlled by commands in the Command List. The variables are stored in an array of 256 16 bit registers. The array comprises 16 read write general purpose variables having variable index 0 15. These variables are not initialized at the start of the Command List. In an embodiment of the apparatus of the invention the value of these variables is maintained when a record carrier is replaced by another record carrier for example another record carrier belonging to the same album. The array further comprises 240 registers for system variables comprising reserved registers variable index 16 207 player decoder registers variable index 208 223 disc related registers variable index 224 239 Play List related registers variable index 240 251 and other system related registers variable index 252 255 .

After the counters are initialized the control is passed to the Play List indicated by the value of the pointer in the field Next List Offset of Command List . Upon interpretation of the Play List the processor effectuates that a first English module comprising one or more Play. Items not shown with audio and or video data is presented to the user. After this module is finished Selection List which is pointed to by the Next List Offset of Play List takes over control. This Selection List points to a Play Item not shown which presents the user a question about the first English module. The user can respond thereto by making a choice. Dependent on the choice made by the user control is passed to one of the Command Lists or via pointers and respectively. The Command Lists evaluate the input of the user and adapt the scores. The Next List Offset of the Command Lists refers to a following Play List or which effects the playback of a next English module. This next module can be succeeded by a next Selection List by which a next question is posed to the user. After a plurality of such sessions comprising presentation of a module and the posing of a question control is passed to a final Command List n which evaluates the history of user input and determines how to proceed the English language course.

Such an computation may be implemented in a Command List as follows. Presume that the variables a b c d are stored in the variable registers 0 1 2 and 3 and that the result R is stored in variable register 6. Registers 4 5 are used for storing temporary results p q. The instructions are shown in a mnemonic which corresponds to the definition according to the table in . Bits to are represented by the abbreviations defined in the table of . The parameters between the brackets correspond to the indices i j k l as shown in Table 4. In this case the commands all belong to the group of conditional calculations.

Whilst the invention has been described with reference to preferred embodiments thereof it is to be understood that these are not limitative examples. Thus various modifications may become apparent to those skilled in the art without departing the scope of the invention as defined by the claims. Further any reference signs do not limit the scope of the claims. The invention as far as incorporated in the reproducing apparatus can be implemented by means of both hardware and software and several means may be represented by the same item of hardware. The word comprising does not exclude the presence of other elements or steps than those listed in a claim. Also the word a or an preceding an element does not exclude the presence of a plurality of such elements. In addition the invention lies in each and every novel feature or combination of features.

