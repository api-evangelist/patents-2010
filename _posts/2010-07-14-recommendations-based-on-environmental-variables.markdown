---

title: Recommendations based on environmental variables
abstract: Disclosed are various embodiments for generating product recommendations. A user profile associated with a user is retrieved and profile data is extracted from the user profile. Environmental variables associated with the user and/or the location of the user are retrieved and/or detected. Product recommendations related to the user profile data and the environmental variables are generated.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08606636&OS=08606636&RS=08606636
owner: Amazon Technologies, Inc.
number: 08606636
owner_city: Reno
owner_country: US
publication_date: 20100714
---
Users of an electronic commerce system may receive product recommendations from the electronic commerce system or related applications. These recommendations can be based on purchasing history browsing history and the like. Users may seek product recommendations that are based on additional variables and or dimensions that are not provided by many electronic commerce systems or recommendation engines.

In the following discussion a general description of the system and its components is provided followed by a discussion of the operation of the same. Disclosed herein are systems and methods of generating product recommendations that are based on at least one of data stored within a user profile and environmental variables that can be detected. As discussed herein a product can include any good or service that can be made accessible via an electronic commerce system. Accordingly an environmental variable can include information that can be retrieved and or determined that can reveal additional information about a user so that product recommendations can be more tailored to the user relative to prior art systems.

With reference to shown is a networked environment according to various embodiments. The networked environment includes at least one computing device in communications with at least data service as well as at least one client . The network includes for example the Internet intranets extranets wide area networks WANs local area networks LANs wired networks wireless networks or other suitable networks etc. or any combination of two or more such networks.

The computing device may comprise for example a server computer or any other system providing computing capability. Alternatively a plurality of computing devices may be employed that are arranged for example in one or more server banks or computer banks or other arrangements. For example a plurality of computing devices together may comprise for example a cloud computing resource a grid computing resource and or any other distributed computing arrangement. Such computing devices may be located in a single installation or may be dispersed among many different geographical locations. As one example each of the disclosed components executed in the computing device can be executed in different computing devices in various locations in one or more data centers. However for purposes of convenience the computing device is referred to herein in the singular. Even though the computing device is referred to in the singular it is understood that a plurality of computing devices may be employed in the various arrangements as described above.

The components executed on the computing device include for example an electronic commerce system the contextual recommendation engine and other systems applications services processes engines or functionality not discussed in detail herein. The electronic commerce system is executed in order to facilitate the viewing and or purchasing of items and products over the network . The electronic commerce system can direct the shipment and or delivery of products to a customer from a fulfillment center or the like. The electronic commerce system also performs various backend functions associated with the online presence of a merchant in order to facilitate the online purchase of items as will be described.

For example the electronic commerce system generates network pages such as web pages or other types of network content that are provided to client devices in response to requests for the purposes of selecting items for purchase rental download lease or other form of consumption and to perform other tasks as will be described. In other embodiments the electronic commerce system facilitates the generating of data for display on a user interface rendered by another type of application executed on a client device .

The contextual recommendation engine facilitates generating recommendations for products available via the electronic commerce system on behalf of users. The contextual recommendation engine can generate product recommendations for products available via the electronic commerce system or elsewhere that are based on information about the activity of a user within the electronic commerce system as well as environmental variables related to the user that can be retrieved from or detected external to the electronic commerce system . In one embodiment such an environmental variable can be a location of the user. Depending on the location of the user the contextual recommendation engine can generate product recommendations that can be transmitted to the user via the electronic commerce system that are relevant to the location. For example if the user is traveling in a city away from home the contextual recommendation engine can generate recommendations that are relevant to the city that also take into account the fact that the user is away from home.

A data service can be implemented on one or more computing device and can include any network accessible service that provides data to the contextual recommendation engine on which recommendations can be based and or refined. As one example a data service can include a social networking system associated with a user of the electronic commerce system . As another example the data service can include a service that provides information about weather or events occurring in various locations. Accordingly the contextual recommendation engine can retrieve information from one or more data services from which recommendation can be generated and or refined. A data service can also include a microblogging service a ticketing service from which tickets can be procured on behalf of a user a travel site and any other service and or site. A data service can include a service and or site with which a user has an account such as a social networking system so that information about the user can be retrieved from the data service . A data service can also include a service from which general information that is not specific to a user can be retrieved such as a weather data service.

Accordingly a data service can include any service from which data can be retrieved that is not specific to a user s profile and or interactions with the electronic commerce system and with which product recommendations generated by the contextual recommendation engine can be refined. In other words a data service can provide environmental variables such as location and weather from which product recommendations can be generated and or refined. Other examples of a data service should be appreciated by a person of ordinary skill in the art.

Accordingly the contextual recommendation engine can include an application programming interface API connector that allows the contextual recommendation engine to interact with an API provided by a data service . As an example a location based social networking service can provide an API with which data can be retrieved regarding users of the service. For example a location based social networking service can permit users to check in at a geographic location in order to interact with other users located nearby or to interact with other users with whom he or she is affiliated within the service. Therefore in this example the API connector can retrieve data regarding a user from the location based social networking service from which product recommendations are generated by the contextual recommendation engine . As another example a weather data service can provide information regarding weather conditions of various geographic locations. Accordingly the API connector can retrieve weather information from the API of the data service from which product recommendations can be generated.

With regard to the data store the data stored therein can include for example a catalog that includes a listing of various products that are available for browsing and or purchasing within the electronic commerce system . The products in the catalog of the data store can also be associated with the product data which can be stored in various forms as can be appreciated. The product data can include stock keeping unit SKU identifiers model numbers serial numbers product attributes product descriptions other products with which the product is associated etc. Additionally the product data can include entries that identify a product class and or hierarchy in which the product can be classified.

The data store can also include data about users of the electronic commerce system . In some embodiments each user can be associated with a user profile that can contain additional data about the user that can facilitate the generating of product recommendations. As a non limiting example the purchasing history of the user can be stored in a user profile from which product preferences and or interests can be determined by the contextual recommendation engine . As another example the browsing history of the user can be stored in a user profile which can store data regarding the products the user has viewed and or in which the user has expressed an interest. The user profile can also store data regarding a location of the user. For example the user profile can store addresses that are associated with the user. In some embodiments a user may designate an address that is a home address to which purchases can be shipped. In other embodiments the user may simply designate addresses to which purchases are shipped but may not designate an address as a home address.

A user profile associated with a user may also contain information regarding data services with which a user is associated with. As one example a user of the electronic commerce system may also have an account within a social networking service. Accordingly the user profile can contain authentication information an API token a unique identifier for the user or other information allowing retrieval of data from the social networking service regarding the user. In one embodiment the user can authorize the contextual recommendation engine to access the social networking system to retrieve information about the user. In another embodiment the user profile can contain a username or information about an identity of the user in the social networking system and the contextual recommendation engine can retrieve publicly available information from the social networking system about the user.

As another example a user of the electronic commerce system may have an account with a location based social networking system that allows the user to interact with other users based upon location. Accordingly the user profile can contain information regarding an account of the user in the location based social networking system provided by the user that allows the contextual recommendation engine via the API connector to retrieve information about the location of the user from the location based social networking system. As yet another example the user profile can store information about an account of the user in a blogging service a microblogging service and or social networking system in which the user publishes content and the contextual recommendation engine can retrieve information regarding the user via the API connector and refine and or generate product recommendations for products available via the electronic commerce system . Other examples of data that can be stored in a user profile that can be associated with a user should be appreciated.

The client device is representative of a plurality of client devices that may be coupled to the network . The client device may comprise for example a processor based system such as a computer system. Such a computer system may be embodied in the form of a desktop computer a laptop computer a personal digital assistant a mobile device e.g. cellular telephone smart phone etc. set top box music players web pads tablet computer systems or other devices with like capability. The client device includes a display device upon which various network pages and other content may be rendered.

The client device may be configured to execute various applications such as a browser application and or other applications. The browser application may be executed in a client device for example to access and render network pages such as web pages or other network content served up by the computing device and or other servers. The client device may be configured to execute applications beyond browser application such as for example an email client for receiving email generated by the electronic commerce system instant message applications an application specifically tailored to access resources of the computing device and or other applications as can be appreciated. In embodiments of the present disclosure a user on a client can purchase and or view products via the electronic commerce system executed by the computing device by manipulating a user interface rendered on the client .

The client device can also include a mobile device on which a browser application and or a mobile application configured to access the computing device can be executed. The client may comprise a mobile device including cellular telephone location detection hardware and software components. Accordingly the mobile device client can detect the location of a user using the client which can be incorporated into various location based services and applications executed thereon. In one example global positioning system GPS functionality provided by the client can provide a location of the client to the mobile application which can in turn transmit a location of the client to the computing device . In one embodiment the contextual recommendation engine can utilize location based services and applications executed on the client to determine a location of the user and generate recommendations.

The mobile application can comprise a special purpose application tailored to interact with the electronic commerce system . As one example the mobile application can include client side code that enhances a user experience by providing more complex user interface elements and other functionality and facilitates interaction with the electronic commerce system . For example the mobile application can facilitate the providing of location based services e.g. GPS in conjunction with the contextual recommendation engine by providing access to the location based services provided in the client hardware.

Next a general description that provides some examples of the operation of the various components of the networked environment is provided. The following discussion includes non limiting examples of the generating of recommendation based on user profile data as well as environmental variables retrieved from data services . The electronic commerce system can allow a user on a client to view browse and or purchase products. In embodiments of this disclosure the contextual recommendation engine can generate product recommendations for the user. As noted above these product recommendations can be based on user profile data which contains data regarding interactions of the user within an electronic commerce system .

The contextual recommendation engine can generate product recommendations for products available via the electronic commerce system based at least upon user profile data which as noted above can include purchase history browse history and other user profile data such as age product interests etc. Product recommendations can be supplemented and or refined by taking into account environmental variables such as location weather etc. As one example the contextual recommendation engine can detect a location of the user which can be accomplished via IP network location techniques and or a location provided by the user or the client employed by a user interacting with the electronic commerce system . As another example a location of the user can be retrieved from a location based social networking system such as a data service in the networked environment of via an API provided therein.

Accordingly in one embodiment the contextual recommendation engine can attempt to determine whether the user is away from home and generate product recommendations that take into account that the user is away from home. In one example the contextual recommendation engine can detect whether the user is away from home by determining whether an address designated in a user profile as a home address is located in a geographic area that is sufficiently different from the present location of the user. In another example the contextual recommendation engine can retrieve a purchase history associated with the user from the user profile data and determine whether a percentage of orders above a predetermined threshold are shipped to a particular address and or a particular geographic area in an attempt to determine a home geographic area of a user. As one example if a majority of orders submitted by a user in an electronic commerce system are associated with a particular shipping address the contextual recommendation engine can infer that the address is the home address of the user.

Upon detection of a location of the user the contextual recommendation engine can make recommendations tailored to the location of the user. As one example if the contextual recommendation engine determines the location of the user via a data service implementing a location based social networking service the contextual recommendation engine can then generate recommendations of products that take into account other environmental variables in addition to location. The contextual recommendation engine can extract weather conditions associated with the location of the user from an API associated with a weather data service and generate recommendations based on present and or predicted weather conditions. As an example if the contextual recommendation engine determines that rainy weather conditions exist in the location of the user the contextual recommendation engine can generate product recommendations based upon the purchasing history the browsing history and or location for products that the user may desire in rainy conditions. In this example the contextual recommendation engine can extract information about events in a particular geographic area that are occurring indoors and transmit these recommendations to the user via a client .

Additionally these product recommendations that are augmented and or refined based on location and other environmental variables can take into account whether the user is away from home. In the above example the contextual recommendation engine via the API connector can determine that a user is traveling if the location of the user is different than a geographic area of the home address of the user. Accordingly if the contextual recommendation engine also detects via a weather data service that it is raining in the location of the user the contextual recommendation engine can generate product recommendations for wet weather gear and or indoor activities. Other variations of the above should be appreciated and the above example is intended as but one example of the functionality of the contextual recommendation engine .

Referring next to shown is an example user interface that can be rendered by a mobile application and or a network page rendered by a browser application associated with a client in the networked environment of . illustrates an example user interface rendered on a client in which a user can associate various data services for which the user may have an account with a user profile associated with the electronic commerce system . In the depicted example of a mobile application executed on a client the user can manipulate a user interface provided by the mobile application and activate one of the user interface elements to add a profile associated with a data service to a user profile .

Accordingly continues the example of . depicts a mobile application rendering a user interface that contains a data service authentication module which can facilitate associating an account of a user in the data service with a user profile . In this example an account of a user in a location based social networking service implemented by a data service is associated with a user profile . Accordingly in the depicted example the site connector module can facilitate adding such an account to the user profile so that the contextual recommendation engine can retrieve information about the location of the user from the location based social networking service in order to generate product recommendations on behalf of the user. The site connector module can be a user interface element provided by an API of a data service that allows a user to connect an account in the data service with the user profile accessible via the electronic commerce system .

Turning now to shown is a user interface that can be rendered in a mobile application and or a browser application that continues the example of . depicts an example of the contextual recommendation engine determining that the user based upon information retrieved from a location based social networking system implemented by a data service may be traveling away from home. In such a case the contextual recommendation engine may make product recommendations for products that can be purchased via the electronic commerce system . In the depicted example a user has via a location based social networking system checked in at a location. Accordingly the contextual recommendation engine via the API connector can retrieve location information about the user from the API of the data service associated with the location based social networking system and generate a notification user interface element that alerts the user that the contextual recommendation engine has generated product recommendations that are based on information in a user profile as well as environmental variables which in this example include the location of the user. It should also be appreciated that the location of the user can be determined via IP network location techniques and or location detection capabilities e.g. GPS associated with a client .

Additionally in the depicted non limiting example the contextual recommendation engine can determine whether the user is traveling and or away from a geographic area associated with a home address. Accordingly in which continues the example of the contextual recommendation engine has determined that the user is located in a geographic area that is away from a home address. Accordingly the contextual recommendation engine can generate product recommendations that are based upon information in the user profile the location of the user the fact that the user may be traveling and other environmental variables that can be retrieved from various data services .

In the example of the contextual recommendation engine has generated product recommendations that take into account weather conditions in the location of the user by retrieving weather information from a weather data service . Accordingly in this non limiting example the contextual recommendation engine can determine based upon a home address associated with the user whether product recommendations for weather specific gear are appropriate product recommendations. As one example if the home address of the user is located in a warm weather climate the contextual recommendation engine can recommend cold weather gear as product recommendations displayed in a mobile application and or browser application on a client if the user is now located in a cold weather climate. Additionally the contextual recommendation engine can make this recommendation if it is determined by analyzing a purchasing history associated with a user profile of the user that the user has not purchased cold weather gear in the past.

Alternatively if the user has recently purchased cold weather gear via the electronic commerce system the contextual recommendation engine can make other product recommendations because it can determine that the user may not need cold weather gear. In the depicted example the contextual recommendation engine can also recommend other products and or services that can be based on environmental variables and information retrieved from data services associated with the user as shown. In the illustrated example the contextual recommendation engine can generate product recommendations for theater tickets by determining from social networking systems microblogging networks etc. that a user may have an interest in theater. In this example the contextual recommendation engine can perform natural language and or relevance based searching on content and or interests published by the user in social networking systems microblogging networks or other data services in order to determine that the user may have an interest in the depicted theater ticket product recommendation that can be purchased via the electronic commerce system .

Referring next to shown are flowcharts that provide examples of the operation of various embodiments of the contextual recommendation engine according to various embodiments. It is understood that the flowchart of provide merely examples of the many different types of functional arrangements that may be employed to implement the operation of the contextual recommendation engine as described herein. As an alternative the flowcharts of may be viewed as depicting examples of steps of methods implemented in the computing device according to one or more embodiments.

With specific reference to beginning with box the contextual recommendation engine can identify a user profile associated with a user of the electronic commerce system . In box the contextual recommendation engine can extract profile data about the user. As described above the contextual recommendation engine can retrieve purchasing history browsing history etc. that is associated with the user in order to generate product recommendations. In box the engine can determine environmental variables associated with the user in order to refine product recommendations. As noted above the engine can retrieve information about the user from social networking systems microblogging networks and other data services as can be appreciated. In box the contextual recommendation engine can generate product recommendations based upon the data retrieved from the user profile as well as the environmental variables that are identified.

Referring next to shown is a flowchart that provides an alternative example of the operation of a portion of the contextual recommendation engine according to various embodiments. Beginning with box the contextual recommendation engine can identify a user profile associated with a user of the electronic commerce system . In box the contextual recommendation engine can extract profile data about the user. As described above the contextual recommendation engine can retrieve purchasing history browsing history etc. that is associated with the user in order to generate product recommendations.

In box the contextual recommendation engine can determine a location associated with the user. As described above the contextual recommendation engine can identify a location of a user by retrieving location information from an API of a data service implementing a location based social networking service from location detection functionality in a client and or other ways as can be appreciated. In box the contextual recommendation engine can determine environmental variables associated with the location of the user. As noted above the contextual recommendation engine can determine weather conditions associated with the user events occurring in or near a location of the user and or retrieve other information about interests of the user from other API s associated with data services from which product recommendations can be generated. In box product recommendations are generated based upon user profile data a location of the user and other environmental variables.

Referring next to shown is a flowchart that provides another alternative example of the operation of a portion of the contextual recommendation engine according to various embodiments. Beginning with box the contextual recommendation engine can identify a user profile associated with a user of the electronic commerce system . In box the contextual recommendation engine can extract profile data about the user. As described above the contextual recommendation engine can retrieve purchasing history browsing history etc. that is associated with the user in order to generate product recommendations.

In box the contextual recommendation engine can determine a location associated with the user. As described above the contextual recommendation engine can identify a location of the user by retrieving location information from an API of a data service implementing a location based social networking service from location detection functionality in a client and or other ways as can be appreciated. In box the contextual recommendation engine can retrieve addresses associated with the user profile and in box attempt to identify a home address associated with the user. If in box a home address and or geographic area can be identified then in box the contextual recommendation engine determines whether the user is away from home which can influence the product recommendations generated by the contextual recommendation engine . In box environmental variables associated with the location of the user are retrieved as describe above and in box product recommendations based on the user profile the location of the user whether the user is away from home and other environmental variables are generated.

With reference to shown is a schematic block diagram of the computing device according to an embodiment of the present disclosure. The computing device includes at least one processor circuit for example having a processor and a memory both of which are coupled to a local interface . To this end the computing device may comprise for example at least one server computer or like device. The local interface may comprise for example a data bus with an accompanying address control bus or other bus structure as can be appreciated.

Stored in the memory are both data and several components that are executable by the processor . In particular stored in the memory and executable by the processor are the contextual recommendation engine and potentially other applications. Also stored in the memory may be a data store and other data. In addition an operating system may be stored in the memory and executable by the processor .

It is understood that there may be other applications that are stored in the memory and are executable by the processors as can be appreciated. Where any component discussed herein is implemented in the form of software any one of a number of programming languages may be employed such as for example C C C Objective C Java Javascript Perl PHP Visual Basic Python Ruby Delphi Flash or other programming languages.

A number of software components are stored in the memory and are executable by the processor . In this respect the term executable means a program file that is in a form that can ultimately be run by the processor . Examples of executable programs may be for example a compiled program that can be translated into machine code in a format that can be loaded into a random access portion of the memory and run by the processor source code that may be expressed in proper format such as object code that is capable of being loaded into a random access portion of the memory and executed by the processor or source code that may be interpreted by another executable program to generate instructions in a random access portion of the memory to be executed by the processor etc. An executable program may be stored in any portion or component of the memory including for example random access memory RAM read only memory ROM hard drive solid state drive USB flash drive memory card optical disc such as compact disc CD or digital versatile disc DVD floppy disk magnetic tape or other memory components.

The memory is defined herein as including both volatile and nonvolatile memory and data storage components. Volatile components are those that do not retain data values upon loss of power. Nonvolatile components are those that retain data upon a loss of power. Thus the memory may comprise for example random access memory RAM read only memory ROM hard disk drives solid state drives USB flash drives memory cards accessed via a memory card reader floppy disks accessed via an associated floppy disk drive optical discs accessed via an optical disc drive magnetic tapes accessed via an appropriate tape drive and or other memory components or a combination of any two or more of these memory components. In addition the RAM may comprise for example static random access memory SRAM dynamic random access memory DRAM or magnetic random access memory MRAM and other such devices. The ROM may comprise for example a programmable read only memory PROM an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM or other like memory device.

Also the processor may represent multiple processors and the memory may represent multiple memories that operate in parallel processing circuits respectively. In such a case the local interface may be an appropriate network that facilitates communication between any two of the multiple processors between any processor and any of the memories or between any two of the memories etc. The local interface may comprise additional systems designed to coordinate this communication including for example performing load balancing. The processor may be of electrical or of some other available construction.

Although the contextual recommendation engine and other various systems described herein may be embodied in software or code executed by general purpose hardware as discussed above as an alternative the same may also be embodied in dedicated hardware or a combination of software general purpose hardware and dedicated hardware. If embodied in dedicated hardware each can be implemented as a circuit or state machine that employs any one of or a combination of a number of technologies. These technologies may include but are not limited to discrete logic circuits having logic gates for implementing various logic functions upon an application of one or more data signals application specific integrated circuits having appropriate logic gates or other components etc. Such technologies are generally well known by those skilled in the art and consequently are not described in detail herein.

The flowcharts of show the functionality and operation of an implementation of portions of the contextual recommendation engine . If embodied in software each block may represent a module segment or portion of code that comprises program instructions to implement the specified logical function s . The program instructions may be embodied in the form of source code that comprises human readable statements written in a programming language or machine code that comprises numerical instructions recognizable by a suitable execution system such as a processor in a computer system or other system. The machine code may be converted from the source code etc. If embodied in hardware each block may represent a circuit or a number of interconnected circuits to implement the specified logical function s .

Although the flowcharts of show a specific order of execution it is understood that the order of execution may differ from that which is depicted. For example the order of execution of two or more blocks may be scrambled relative to the order shown. Also two or more blocks shown in succession in may be executed concurrently or with partial concurrence. Further in some embodiments one or more of the blocks shown in may be skipped or omitted. In addition any number of counters state variables warning semaphores or messages might be added to the logical flow described herein for purposes of enhanced utility accounting performance measurement or providing troubleshooting aids etc. It is understood that all such variations are within the scope of the present disclosure.

Also any logic or application described herein including the contextual recommendation engine that comprises software or code can be embodied in any non transitory computer readable medium for use by or in connection with an instruction execution system such as for example a processor in a computer system or other system. In this sense the logic may comprise for example statements including instructions and declarations that can be fetched from the computer readable medium and executed by the instruction execution system. In the context of the present disclosure a computer readable medium can be any medium that can contain store or maintain the logic or application described herein for use by or in connection with the instruction execution system. The computer readable medium can comprise any one of many physical media such as for example electronic magnetic optical electromagnetic infrared or semiconductor media. More specific examples of a suitable computer readable medium would include but are not limited to magnetic tapes magnetic floppy diskettes magnetic hard drives memory cards solid state drives USB flash drives or optical discs. Also the computer readable medium may be a random access memory RAM including for example static random access memory SRAM and dynamic random access memory DRAM or magnetic random access memory MRAM . In addition the computer readable medium may be a read only memory ROM a programmable read only memory PROM an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM or other type of memory device.

It should be emphasized that the above described embodiments of the present disclosure are merely possible examples of implementations set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above described embodiment s without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure and protected by the following claims.

