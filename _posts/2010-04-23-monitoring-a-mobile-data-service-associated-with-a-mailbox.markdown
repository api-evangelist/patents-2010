---

title: Monitoring a mobile data service associated with a mailbox
abstract: Methods and apparatus enable monitoring a mobile data service, and in particular monitoring an operational status of a relationship between a mobile gateway account on a mobile gateway and a mailbox on a messaging server. The operational status may be based on an initialization state of the mobile gateway account on a mobile gateway and a mailbox status of an associated mailbox on a messaging server. In one embodiment, the mailbox status may be determined based on mailbox errors indicative that a mobile gateway is unable to access the mailbox on the messaging server. In one embodiment a mobile gateway detects mailbox errors based on mailbox protocol error messages and sends an error notification to a monitoring system. Also provided are error notifications for facilitating, in a monitoring system, the correlation of mailbox errors with mobile gateway accounts.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08767707&OS=08767707&RS=08767707
owner: BlackBerry Limited
number: 08767707
owner_city: Waterloo
owner_country: CA
publication_date: 20100423
---
This disclosure relates generally to the monitoring of a mobile data service and specifically to monitoring of a relationship between a mobile gateway account on a mobile gateway and a communications service mailbox associated with the mobile gateway account.

Mobile devices smart phones portable digital assistants portable gaming devices laptops cell phones etc may exchange messages or other content via a mobile data service. A mobile data service may be a messaging service a mobile mail service messaging subscription or any service that creates a relationship between a mailbox and a mobile device. For example a mobile data service may be used to send receive synchronize or otherwise communicate emails between a mobile device and a mailbox. It will be understood that a mailbox may be a traditional email account mail account messaging account social media account instant messaging account or any account also referred to as a user account subscription profile or user identity that is associated with a bundle of communications directed to or from the account. For example a mailbox may provide access to a group of email messages. In another example a mailbox may be a storage for communications directed to or from an instant messaging account e.g. an account for IM ICQ IRC or other types of instant messaging platforms . A messaging server may provide coordination of communications in a mailbox for a variety of clients including a client application on a personal computer a web browser a mobile gateway or mobile device. A messaging server is not limited to managing data in the form of traditional messages but may manage other content items different from traditional messages.

A mobile gateway may store settings or configurations parameters associated with a gateway account in a gateway account database or other storage accessible to the mobile gateway. For example a mobile gateway account on a mobile gateway may comprise one or more configuration parameters that identify a mailbox associated with the mobile gateway account. Often the configuration of the mobile gateway account is managed at the mobile gateway while configuration of the mailbox is managed at a separate system. For example the mailbox may be associated with a separate account database or mailbox parameters on the messaging server. Consequently when an error prevents a mobile device from accessing the mailbox via a mobile gateway resolving the error may entail troubleshooting of the mobile data service.

Troubleshooting a problem with a mobile data service may be difficult or time consuming. For example a troubleshooting process might include identifying a mobile gateway account associated with a mobile device and then checking a mobile gateway having the mobile gateway account for an indication of an error condition. Troubleshooting an error condition at the mobile gateway may involve accessing the mobile gateway to obtain a log file or other data parsing the log file to identify an entry if any related to the mobile gateway account and interpreting the entry for clues as to the cause of the error. Troubleshooting a problem with a mobile data service using conventional troubleshooting processes is especially difficult when there are multiple mobile gateways and or multiple mobile gateway accounts involved.

Accordingly monitoring of relationships between mobile gateway accounts and mailboxes would assist in the troubleshooting and management of mobile data services.

Provided are method and apparatus for monitoring an operational status of a relationship between a mobile gateway account on a mobile gateway and a mailbox on a messaging server. The operational status associated with a mobile data service may be related to at least one of an initialization state of the mobile gateway account on the mobile gateway and the mailbox status. In one embodiment the mailbox status may be determined based on mailbox errors detected by a mobile gateway wherein presence of a mailbox error indicates an inability to access the mailbox. For example the operational status of the mobile data service may be responsive to a mailbox error detected by the mobile gateway based on a mailbox protocol error message.

A mailbox error may be communicated to and received by a monitoring system in an error notification. The error notification may include other information such as a mobile gateway account identifier or a mailbox identifier used by the monitoring system to associate the mailbox error with a mobile gateway account. Monitoring of a mobile data service may be improved by presenting an initialization status of a mobile gateway account as well as the mailbox error.

In an embodiment a monitoring system may utilize error information associated with mailbox errors and an account list identifying mobile gateway accounts configured on a mobile gateway to present a list of inoperative mobile gateway accounts e.g. having an operational status indicating inoperability and associated mailbox errors. A relationship between mailbox status and mobile gateway account status may be coordinated in the monitoring server to assist in the monitoring of mobile gateway accounts. For example the monitoring system may combine mailbox status and mobile gateway account status to provide an operational status associated with the mobile gateway account. In an example system with a large number of mobile gateway accounts the operational status of the mobile gateway accounts may be monitored based on received error notifications from a mobile gateway upon encountering mailbox protocol errors associated with a specific mailbox in relation to a specific mobile gateway account.

Returning to an example system may comprise mobile gateway messaging server and monitoring system . In this disclosure a mobile gateway is any machine computing device agent application or combination thereof that enables a mobile device to access a mailbox on a messaging server. Messaging server may be realized as an email server mailbox server mail server instant messaging platform social networking application or generally arrangement of at least one of a server computer device and server software executing thereon which provides a service related to coordination of communications for at least one client. Messaging server may be implemented as any suitable messaging server capable of providing sending receiving or otherwise communicating messages or other content. For example messaging server may be implemented as a mail server such as Microsoft Exchange a Lotus Notes server or any other message transport agent such as Sendmail qmail Exim postfix any of which may implement any suitable messaging protocols and interfaces such as those described in this document and the like. Mobile gateway provides an interface between one or more mobile devices and the messaging server . In first mobile device has a mobile device association represented by line with a first gateway account configured on the mobile gateway . Additionally the first gateway account is configured on mobile gateway such that there is a mailbox association represented by line between the first gateway account and a first mailbox on messaging server . For example the first gateway account may comprise configuration settings that establish a relationship between the first mobile device the first gateway account on the mobile gateway and a first mailbox on the messaging server .

Mobile device association and mailbox association represent logical relationships in . As will be understood any suitable communication link such as those described in may be used by the mobile gateway to communicate with the first mobile device and first mailbox in furtherance of the logical relationships . For example a communication link between the mobile gateway and the messaging server may comprise a network or combination of networks that allow the mobile gateway to access the messaging server . Additionally a communication link may comprise a messaging agent proxy gateway or other process used by the mobile gateway to access the messaging server . According to the settings of a first gateway account the mobile gateway may interact with the first mailbox on the messaging server via the communication link. The mobile gateway may access the first mailbox using a variety of mailbox protocols such as those known to a person of skill in the art. For example the mailbox protocol may be a messaging application programming interface MAPI Internet Message Access Protocol IMAP Post Office Protocol POP Simple Mail Transfer Protocol SMTP Outlook Web Access OWA HyperText Transfer Protocol HTTP Secure HyperText Transfer Protocol HTTPS eXtensible Markup Language XML Exchange Web Services EWS Exchange ActiveSync Simple Object Access Protocol SOAP or any other protocol that may be used by the mobile gateway to access an individual mailbox on a messaging server.

Among several functions of mobile gateway when an email message arrives for first mailbox at messaging server mobile gateway may initiate a process to transmit exchange synchronize or otherwise communicate the email message to first mobile device . Mobile gateway may provide synchronization between the first mailbox and the first mobile device specifically a counterpart first mobile mailbox not shown on the first mobile device . Synchronization may performed periodically at scheduled intervals performed as a result of the mobile device or messaging server receiving a request to initiate synchronization or may occur as the result of a change in the mailbox such as a new message or an account update .

When synchronization is enabled and successfully completed by the mobile gateway first gateway account may be associated with a success condition. Alternatively when synchronization is disabled failed or otherwise incapable of completion the first gateway account may be associated with an error condition on the mobile gateway . The success condition or error condition may be referred to as an initialization state of the first gateway account on the mobile gateway . In some implementations the initialization state of a mobile gateway account may be stored in a log file saved in storage accessible by the mobile gateway or transmitted to a monitoring system such as monitoring system . Other terms may refer to an initialization state of an mobile gateway account such as mobile gateway account status gateway account state activation status or other similar terms associated with the gateway account success or failure to provide mobile data service between a mobile device and a mailbox. An initialization state on the mobile gateway may be altered based on any change in the success or failure condition. For example the initialization state may be changed after a subsequent synchronization process to indicate a success or failure of the subsequent synchronization.

Monitoring system may be in communication such as via monitoring link with the mobile gateway . The monitoring system may be configured to monitor various aspects of the mobile gateway . Additionally the monitoring system may have a second monitoring link such that the monitoring system may monitor various aspects of messaging server . Various aspects monitored by the monitoring system may include network connectivity accessibility the executing status of an application or utilization of one or more processors of the mobile gateway or messaging server . It will be understood that aspects of monitoring system may include commercial proprietary or customized monitoring applications running on a server computer device. Monitoring system may comprise a collection of applications configured to implement various aspects of this disclosure. Monitoring system may have one or more processors and may be distributed among one or more machines.

Messaging server mobile gateway and monitoring system may be realized using one or more suitable programmable computer systems running a commercially available operating system. For example these items may be realized using commercial server computers having Intel IA 32 based processors and running an operating system in the Microsoft Windows Server family. Other computers and operating systems could also be used. Although some of elements and are depicted as distinct elements and may be realized as such i.e. using separate server computers these elements may be refactored or virtualized as necessary to meet expected load. Thus these elements could also be realized as different processes running on the same computer or on several computers.

Having described an example system in which embodiments of this disclosure may be used an example scenario detailing an embodiment of this disclosure will be described. This example scenario and other examples in this disclosure are provided for illustrative purposes and are not intended to limit the scope of the present disclosure.

In one example scenario an error occurs that prevents synchronization of the first mailbox with the first mobile device . Specifically the mobile gateway encounters an error when accessing the first mailbox on the messaging server . Examples of errors associated with accessing a mailbox may include without limitation mailbox unavailable mailbox disabled mailbox corrupt mailbox authentication failure etc. In this disclosure errors associated with a mailbox may also be referred to as mailbox errors or messaging account errors and denotes any error specific to a particular mailbox on the messaging server. Other errors such as server wide problems general problems with a messaging process on a messaging server or general application errors may also cause connectivity issues to the messaging server but are not necessarily associated with a particular mailbox on the messaging server.

Mobile gateway may detect mailbox errors when attempting to access the first mailbox . For example a MAPI error message received at the mobile gateway may include an error code that indicates a mailbox error associated with first mailbox on the messaging server . Upon detecting the mailbox error associated with the first mailbox the mobile gateway may send an error notification to monitoring system . The error notification may be a message indicative of an error associated with the first mailbox . In one embodiment the error notification comprises an error indicator and an identification of the first gateway account also referred to as first gateway account identifier . Because the mobile gateway detects the error based on accessing the first mailbox and the first mailbox is associated with the first gateway account the mobile gateway may include the first gateway account identifier in the error notification to the monitoring system . Alternatively the error notification may be sent from the messaging server to the monitoring system upon detection by the messaging server of a mailbox error. For example the error notification from the messaging server may include a mailbox identifier or some other identifying information that may be used by the monitoring system to relate the mailbox error to a mobile gateway account.

In the example scenario the monitoring system is configured to monitor one or more aspects of the status of the first gateway account on the mobile gateway . For example the monitoring system may monitor an operational status of a relationship between the first gateway account on the mobile gateway and the first mailbox on the messaging server . Monitoring the operational status of the relationship may comprise maintaining a record of the operational status e.g. in memory storage media or other apparatus for storing information . The record may be implemented as a database record in a database or may be unrelated to a database record. In one implementation the record of the operational status comprises data in a memory or other storage accessible to the monitoring system. The monitoring system may receive error notifications associated with errors encountered by a mobile gateway when accessing particular mailboxes on a messaging server . For example the monitoring system may receive the error notification from the mobile gateway based on the first mailbox error detected at mobile gateway . Based on the received error notification the monitoring system may update a record of the operational status of the relationship between the first gateway account and the first mailbox to include error information such as an error indication or error text about the first mailbox error. For example the monitoring system may update a record of the operational status in a storage record associated with the first gateway account . An administrator accessing the monitoring system may obtain from the monitoring system an identification of the first gateway account and error information concerning the first mailbox . As described in this disclosure an operational status associated with a mobile gateway account may include an operational status of a relationship between the mobile gateway account and a related mailbox. For example the operational status associated with the first gateway account may comprise a combination of 1 an initialization state of the first gateway account on the mobile gateway and 2 the mailbox status associated with the first mailbox .

In one embodiment the monitoring system may process the error notification. Processing the error notification may comprise one or more of translating the error indication storing the error indication in a storage matching a mobile gateway account identifier in the error notification to an account list identifying mobile gateway accounts on a mobile gateway or transmitting an alert message to an administrator indicating an operational status of the relationship between the mobile gateway account and an associated mailbox. For example the alert message may include an identifier of the mobile gateway account and the mailbox error encountered. In some implementations the monitoring system may query the mobile gateway for more information about the mobile gateway account in response to receiving the error notification. For example the monitoring system query a management application programming interface of the mobile gateway to obtain additional error information concerning the mailbox error.

As a continuation of the example scenario mobile gateway may periodically attempt to access first mailbox after having encountered a first mailbox error. The mobile gateway and or the monitoring system may maintain an initialization state of the first gateway account indicating an error condition. If the mobile gateway subsequently is successful connecting to the first mailbox e.g. not encountering the mailbox error previously detected or otherwise successfully completing access of mailbox items the mobile gateway may send a subsequent notification to the monitoring system to indicate that the first mailbox error has abated. The monitoring system may receive the subsequent notification and update the record of the operational status associated with the first gateway account .

In some implementations a mobile gateway may provide mobile data services for a plurality of mobile devices. In the example system of mobile gateway provides mobile data service for first mobile device second mobile device and third mobile device . Similar to the relationship between first mobile device first gateway account and first mailbox there may be a relationship between second mobile device second gateway account and second mailbox . The mobile gateway may have additional mobile gateway accounts associated with other mobile devices. The mobile gateway may have other mobile gateway accounts such as third gateway account which are configured for other messaging services not shown provided to a mobile device such as third mobile device . Similarly the messaging server may also have other mailboxes configured on the messaging server that are not associated with a mobile gateway account on the mobile gateway such as third mailbox .

The monitoring system may be configured such that it monitors mobile data services for a plurality of mobile gateway accounts. The monitoring system may monitor operational statuses of relationships between the plurality of mobile gateway accounts and a plurality of associated mailboxes. For example the monitoring system may obtain an account list of mobile gateway accounts associated with a mobile gateway. Additionally a monitoring system may provide a centralized monitoring architecture for monitoring mobile gateway accounts distributed among a plurality of mobile gateways. In one embodiment the monitoring system collects and stores error information received in error notifications for later retrieval. For example a monitoring system may receive an administrative request that initiates monitoring of operational status for one or more mobile gateway accounts. Upon receiving the administrative request the monitoring system may obtain from a mobile gateway an account list of mobile gateway accounts. The account list may be a complete list of all mobile gateway accounts or may be a partial list comprising only the mobile gateway accounts with a specified initialization state such as those mobile gateway accounts associated with an error condition on the mobile gateway . For those mobile gateway accounts in the obtained account list the monitoring system may retrieve error information from storage such as records in a database associated with each mobile gateway account. For example the account list may comprise an identifier associated a mobile gateway account and the monitoring system may retrieve error notifications having an associated mobile gateway account identifier.

In one embodiment the monitoring system may present the account list and the operational status associated with each of the mobile gateway accounts in the account list. Presentation may be made to a variety of output components such as a screen printer application programming interface API or interface that is operable to present a record of an operational status associated with at least a first mobile gateway account. The presentation of the error information may improve the effectiveness of the monitoring system by correlating first mailbox errors with the mobile gateway account status. For example an administrator using the monitoring system may more easily identify a need to troubleshoot the first mailbox on the messaging server rather than troubleshoot the mobile gateway account on the mobile gateway.

As seen in a wireless telecommunications system providing a messaging service to mobile devices may comprise first mobile device mobile gateway messaging server and one or more networks coupling the first mobile device to mobile gateway . Although only a single mobile device is shown in embodiments may include a plurality of mobile devices. In some embodiments the mobile gateway and messaging server may be components in a messaging system . Messaging system may for example be the internal network of a business or other enterprise and may provide a variety of network and information services to users associated with that business or enterprise. It will be understood that messaging systems may include additional components not shown such as components for providing access to personal computing information storage and other applications. Messaging system could also be the network of an Internet Service Provider ISP or an Application Service Provider ASP which may similarly provide network and information services to external subscribers. Alternatively messaging system may comprise components that are distributed in multiple networks in communication. In some implementations the monitoring system may be part of the messaging system . The monitoring system may be associated with a single messaging system such as messaging system or may be configured for monitoring multiple messaging systems not shown .

The wireless telecommunications system may employ one or more networks providing communication between first mobile device and mobile gateway . Network may comprise one or more wireless networks and any additional transport networks to couple such wireless networks to mobile gateway . By way of example but not limitation network may include a first network which may be a telecommunications carrier operated public network such as a GPRS UMTS CDMA or other similar network of any generation or technology offering data services to public subscribers or users. Network may also include for example a wireless network for providing access via for example the group of wireless technologies known as WLAN WiFi or WiLAN. Wireless network may comprise a wireless access point not shown . Other wireless access technologies could also be used. First mobile device includes equipment compatible with at least one of the networks such that one or more wireless data communications links such as may be established between the first mobile device and corresponding networks .

As is known in the art networks and may be in communication with messaging system via one or more transport networks . Transport networks may be realized using any suitable network technology including without limitation leased data lines virtual private networks the Internet and the like. For example carrier network may be connected to messaging system via leased lines or other private dedicated or non shared facilities. For another example WiFi access point may be connected to messaging system via the public Internet. The transport networks may provide communications to or from mobile gateway via any suitable links .

The client protocol module and server protocol module interact using a mailbox protocol such as MAPI IMAP POP OWA XML HTTP HTTPS EWS SOAP etc. . Mailbox protocol may be any protocol that may be used to access each mailbox such as first mailbox on the messaging server . As previously described a mailbox may be a traditional email account mail account messaging account social media account instant messaging account or any account also referred to as a user account subscription profile or user identity that is associated with a bundle of communications directed to or from the account. Therefore other protocols used to access various types of mailboxes may be associated with mailbox protocol for example without limitation Open System for CommunicAtion in Realtime OSCAR Trillian ICQ Skype protocol Session Initiation Protocol SIP Internet Relay Chat IRC Jabber Extensible Messaging and Presence Protocol XMPP or any other protocols associated with accessing a messaging account mailbox on a messaging server.

Additionally the mailbox protocol may comprise signaling that enables the messaging server to notify the mobile gateway of a new email message. Alternatively the mobile gateway may utilize the mailbox protocol to access the first mailbox to periodically exchange transmit or synchronize messages between first mailbox and a counterpart mobile mailbox not shown on first mobile device .

In one example with reference to the client protocol module communicates using mailbox protocol with the server protocol module to obtain access to first mailbox . Typically there may be three possible results of the attempt to obtain access to first mailbox . In a first result the connection is successful and client protocol module is able to access first mailbox without encountering any mailbox errors. In a second result the connection attempt times out or does not complete due to a lack of response from the server protocol module . The mobile gateway may treat this second result as a temporary problem or may report the lack of response to monitoring system . In the third result the connection fails due to a mailbox error in the first mailbox . Typically the presence of a mailbox error in the first mailbox will result in a mailbox protocol error message from the server protocol module to the client protocol module .

When the client protocol module detects an error associated with first mailbox the error is shared transmitted or otherwise communicated to a notification module . The notification module may create or generate the error notification and provide that error notification to the monitoring system . For example the notification module may send a User Datagram Protocol UDP one way notification message to the monitoring system . In one implementation the error notification may comprise a Simple Network Management Protocol SNMP trap message. In other implementations error notifications may comprise any message transmitted from the mobile gateway to the monitoring system . Alternatively the error notification may be logged in a storage in the mobile gateway in such a way that the monitoring system may retrieve the error notifications according to common monitoring protocols such as SNMP polling log file retrieval etc . Although depicts the notification module as being part of the mobile gateway the notification module may be a component of the messaging server or components of both the mobile gateway and the messaging server . For example the server protocol module may detect an error associated with the first mailbox based on a mailbox protocol error message and may initiate an error notification to the monitoring system . If the messaging server causes the error notification to be sent to the monitoring system the error notification may comprise a mailbox identifier that is related to a mobile gateway account identifier.

As described previously an attempt to access first mailbox may result in a successful connection or in a timeout both of which may also be communicated to the notification module. The notification module may communicate other notifications in addition to the error notifications to the monitoring system as a result of successful connections timeouts or other notifications sent from the mobile gateway .

Monitoring system may comprise various components such as capture module query module error database and management interface . Capture module may receive error notifications from the notification module of the mobile gateway . Alternatively capture module may receive error notifications from other sources including messaging server or first mobile device . The capture module may process the error notifications and optionally store error information in the error database . For example the capture module may store an error indicator and mobile gateway account identifier retrieved from the error notification in the error database for subsequent retrieval.

The query module may provide access to an account list identifying mobile gateway accounts on the mobile gateway . For example the query module may communicate a query message to the mobile gateway to request an account list and receive a response message from the mobile gateway comprising the account list. The query module may interact directly with a gateway account database in the mobile gateway or may receive an account list through an intermediary component. For example the query module may interact with an administrative server not shown that has access to mobile gateway account settings associated with mobile gateway accounts on the mobile gateway .

In this disclosure an account list identifies at least a first gateway account configured on a mobile gateway. The account list may comprise a mobile gateway account identifier initialization state of the mobile gateway account on the mobile gateway or other information associated with mobile gateway accounts. The account list may identify one or many mobile gateway accounts and may represent a complete listing or partial listing of mobile gateway accounts on the mobile gateway. For example query module may request an account list from mobile gateway requesting only mobile gateway account identifiers for mobile gateway accounts that are in an error condition on the mobile gateway.

Also depicted as a part of monitoring system is a management interface . The management interface may be an output component such as a screen printer application programming interface API or interface that is operable to present a record of an operational status associated with at least a first gateway account. The management interface may present information in part or in whole associated with an account list obtained by the query module as well as error information obtained by the capture module . For example the management interface may present an account list showing those mobile gateway accounts that are in an error condition on the mobile gateway as well as error information retrieved from the error database . The error information may be associated with error notifications that indicate mailbox errors. The management interface may present the collected information in such a way that the account list provides an operational status associated with the mobile gateway account including mobile gateway account status e.g. initialization state of the mobile gateway account on the mobile gateway and any error information suggesting mailbox status based on mailbox protocol errors .

It will be understood that the monitoring system may combine information from multiple sources when presenting the record of the operational status of a relationship between a mobile gateway account and a mailbox. As described the monitoring system may combine aspects of an account list identifying mobile gateway accounts with error information stored in relation to mobile gateway account identifiers. Additionally the monitoring system may combine information obtained from SNMP polling database queries or other notifications to present the record of the operational status associated with one or more mobile gateway accounts. For example the error notifications or other notifications may include an identifier that enables the monitoring system to relate the notification to a mobile gateway account. In some implementations the monitoring system may perform one or more steps to translate an identifier in an error notification into a mobile gateway account identifier. Translation might include for example looking up an email address associated with a mailbox identifier in an error notification and using the email address to lookup the associated mobile gateway account. Other translations or combinations of lookups might be used to relate error notifications to a specific mobile gateway account.

The error notification may comprise an identification of a mailbox on the messaging server. If the messaging system comprises more than one messaging server the error notification may comprise an identification of the messaging server associated with the mailbox error. If the messaging system comprises more than one mobile gateway the error notification may also comprise an identification of the mobile gateway not shown . Any portion of additional information if included in the error notification may be utilized by the monitoring system when presenting error information associated with a mobile gateway account.

The example error notifications are illustrative of error notifications that may be received at the monitoring system. Although depicted in table form each error notification may be received at different times. In some embodiments the monitoring server may collect error notifications and store error information in a memory such as error database of the monitoring server. The first error notification includes a date time field an identifier of a mobile gateway account indicating Acct as the mobile gateway account identifier and an error indicator represented by the text Unable to Open Mailbox in this example . A second error notification is associated with Acct an identifier of a fourth mobile gateway account configured on the mobile gateway with mailbox error represented by the text Unable to open message store . A third error notification is associated with Acct an identifier of a fifth mobile gateway account configured on the mobile gateway with mailbox error represented by the text Mail Account Disabled .

Many types of mailbox errors may be used in various embodiments of the present disclosure. Many of these are derived from mailbox protocol error messages or may be textual descriptions of error indicators in mailbox protocol error messages. Several examples of mailbox errors may include without limitation 

As described in the mobile gateway may also send other notifications related to mobile gateway account errors. These may be local errors not specific to a mailbox error including but not limited to Could not create threadpool Could not create usercontrol object MailboxDN is empty ServerDN is empty Unknown reason User is being deleted User is shutting down. These mobile gateway errors may be combined at the monitoring system with the error notifications if any when presenting the operational status associated with a mobile gateway account.

When monitoring a mobile gateway account the monitoring system may collect error notifications and match them with corresponding mobile gateway account indicators in an account list. For example the monitoring system may obtain the example account list identifying gateway accounts configured on a mobile gateway. Based on the Failed initialization state in first gateway account status associated with the first gateway account identifier the monitoring server may determine that the initialization state of the first gateway account status is in an error condition. The monitoring system may retrieve error information from a memory such as error database to identify any mailbox errors associated with the first gateway account. For example the monitoring system may retrieve the first error notification based on a match represented by double headed arrow between the first gateway account identifier Acct and the error notification having the same identifier Acct . The monitoring system may present a status of the first gateway account based on first gateway account status Failed operational state of the first gateway account on the mobile gateway and first mailbox status represented by error indicator Unable to Open Mailbox error in the first mailbox on messaging server .

If multiple error notifications which are received are associated with a mobile gateway account the monitoring system may present error information for the multiple error notifications or may present only error information associated with the most recently received error notification associated with the mobile gateway account. Alternatively the monitoring system may present error information in order of priority or severity. For example if an error notification indicates a mailbox error and it is the most likely cause of the failed operational state compared to other error notifications the mailbox error information may represent a higher priority for presentation. Other ways to present error information associated with multiple error notifications will be readily apparent to one of skill in the art such as combining notifications prioritizing notifications consolidating error information or other ways of presenting multiple data items related to error notifications.

At mobile gateway attempts to access a first mailbox on messaging server . Specifically the mobile gateway may utilize a mailbox protocol such as those previously described to obtain access to message items in the first mailbox. The first mailbox is associated with a first gateway account on the mobile gateway such that the first gateway account is configured with a parameter identifying the first mailbox. At the messaging server communicates information to the mobile gateway . More particularly the mobile gateway receives from the messaging server an indication of a mailbox error. For example arrow may be indicative of a mailbox protocol error message or other error message that indicates a problem that is specific to the first mailbox on the messaging system. Responsive to receiving the indication of the mailbox error mobile gateway sends an error notification to the monitoring system as indicated by arrow . The error notification may comprise an identifier of the first gateway account and the indication of the mailbox error. The error notification may include an error indication as it was received in the mailbox protocol error message. Alternatively the error notification may include error information relative to the error indication that is generated by the mobile gateway based on the error indication in the mailbox protocol error message.

At the monitoring system receives an error notification from the mobile gateway . At the monitoring system may process the error notification. For example the monitoring system may translate a portion of the error notification into a mailbox status. Optionally the monitoring system may store a portion of the error notification or a generated mailbox status based on the error notification in a memory of the monitoring system . In one embodiment the error indication is stored in the memory along with the identifier of the first gateway account. In some monitoring systems the processing may not occur in a near real time or real time fashion but may occur subsequently. The processes identified by and may be grouped as indicated by reference number . Furthermore this grouped process may occur more than once. For example grouped process may occur for each mobile gateway account of a plurality of mobile gateway accounts.

Arrows and represent a process which may be used by the monitoring system to obtain an account list identifying a plurality of mobile gateway accounts on the mobile gateway . This process includes operations which may occur at any time before or after the grouped error notification process . It will also be understood that arrows and may be omitted when there are other ways for the monitoring system to obtain an account list such as manual entry receiving the account list from another machine or retrieving the account list from a memory in the monitoring system. In one example the monitoring system receives a status request for example from an administrator for a list of mobile gateway accounts that are in an error condition on the mobile gateway . In response to receiving the status request the monitoring system may obtain the account list to provide a more accurate list of current mobile gateway accounts in an error condition. At the monitoring system sends a query message to the mobile gateway to request the account list. At the monitoring system receives a response message from the mobile gateway having the account list. As described previously the account list may be a full list partial list or subset of mobile gateway accounts on the mobile gateway.

At the monitoring system presents a record of an operational status of a relationship between the first gateway account on the mobile gateway and the first mailbox on the messaging server. For example the monitoring system may output on a visual display printer electronic message or other output device an identifier of the first gateway account and the error indication. At the monitoring system may also present a portion of the account list along with a mailbox status for the mobile gateway accounts included in the account list. For example the monitoring system may output a partial listing of mobile gateway accounts that are in an error condition on the mobile gateway and associated with each mobile gateway account respective mailbox errors having been detected by the mobile gateway for each such mobile gateway account.

In some implementations the mobile gateway may provide an account list of mobile gateway accounts configured on the mobile gateway. For example the account list may include at least a portion of the mobile gateway accounts on the mobile gateway. At block the mobile gateway may provide an account list to the monitoring server. Optionally the mobile gateway may provide an initialization state of each mobile gateway account in the account list at block .

At block the monitoring system monitors an operational status of relationship between a mobile gateway account on a mobile gateway and a mailbox on a messaging server. At block the monitoring system receives an error notification that the mobile gateway is unable to access the mailbox. In one example the error notification is received from the mobile gateway. Responsive to the error notification the monitoring system updates a record of the operational status at block . For example the monitoring system may update a portion of memory for storing the operational status associated with each mobile gateway account. The monitoring system may append a status indicator associated with the mobile gateway account to indicate a mailbox error identified in the error notification.

At block the monitoring system may present the record of the operational status associated with the mobile gateway account. For example this may be a screen display showing details about the mobile gateway account in which error information about the mailbox error is displayed. Alternatively at block the monitoring system may present at least a portion of the account list and any associated mailbox errors identified in the error notifications.

The monitoring system in may provide mobile gateway account monitoring in a distributed messaging system . For example a centralized monitoring system might provide account level status for mobile gateway accounts and associated mailbox status. An administrator may use the centralized monitoring system to determine if failed mobile gateway accounts are in an error condition due to mailbox errors or mobile gateway account errors on the mobile gateway. Without a centralized monitoring system the administrator may have additional steps to determine the correct mobile gateway for a mobile gateway account. Furthermore the administrator may perform additional steps to determine the mobile gateway account status on the correct mobile gateway. Moreover the administrator may perform additional steps to determine whether the error condition is associated with mailbox protocol errors or other error indicators associated with the mailbox on a messaging server.

Through an implementation of at least one embodiment of the present disclosure the administrator may be presented with some or all of an account list along with mobile gateway account status and any mailbox errors known by monitoring system to be associated with failed mobile gateway accounts.

The processor executes instructions logic codes computer programs or scripts that it may access from the network connectivity devices RAM ROM or secondary storage which might include various disk based systems such as hard disk floppy disk or optical disk . In one embodiment a computer readable medium may store computer readable instructions which when executed by the processor cause the processor to perform according to a method described in this disclosure. While only one CPU is shown multiple processors may be present. Thus while instructions may be discussed as being executed by a processor the instructions may be executed simultaneously serially or otherwise by one or multiple processors. The processor may for example be implemented as one or more CPU chips or modules. The processor may also be integrated with other functions of a device e.g. first mobile device mobile gateway messaging server and monitoring system in or on a single chip or module.

The network connectivity devices may take the form of any component enabling communication via a network such as those used for local area network devices wireless network devices personal area network devices radio transceiver devices and or other well known devices for connecting to networks. The network connectivity devices might also include one or more transceiver components capable of transmitting and or receiving data wirelessly including devices embodying or implementing any of the following wireless network technologies without limitation code division multiple access CDMA global system for mobile communications GSM worldwide interoperability for microwave access WiMAX etc.

The RAM might be used to store volatile data and perhaps to store instructions that are executed by the processor . The ROM is a non volatile memory device that in some cases has a smaller memory capacity than the memory capacity of the secondary storage . ROM might be used to store instructions and perhaps data that are read during execution of the instructions. Access to both RAM and ROM is typically faster than to secondary storage . The secondary storage is typically comprised of one or more disk drives or tape drives and might be used for non volatile storage of data or as an over flow data storage device if RAM is not large enough to hold all working data. However the secondary storage could be implemented using any appropriate storage technology including so called solid state disk FLASH EEPROM or other generally non volatile or persistent storage. Secondary storage may be used to store programs that are loaded into RAM when such programs are selected for execution. In addition to storing instructions that are executed by the processor RAM or secondary storage may be used to store mailboxes gateway account database error database error information account list of mobile gateway accounts or other elements described in this disclosure associated with memory of a device.

The I O devices may include liquid crystal displays LCDs touch screen displays keyboards keypads switches dials mice track balls voice recognizers card readers paper tape readers printers video monitors or other well known input devices. Also the transceiver might be considered to be a component of the I O devices instead of or in addition to being a component of the network connectivity devices . Some or all of the I O devices may be substantially similar to various components described in the previously figures such as the management interface of .

This disclosure describes a method comprising monitoring an operational status of a relationship between a mobile gateway account on a mobile gateway and a mailbox on a messaging server receiving an error notification that the mobile gateway is unable to access the mailbox the error notification identifying a mailbox error and updating a record of the operational status responsive to the mailbox error.

As apparent to one of skill in the relevant arts this method may be expanded to monitor more than a single mobile gateway account. For example the method may further comprise monitoring a second operational status of a second relationship between a second mobile gateway account on the mobile gateway and a second mailbox receiving a second error notification that the mobile gateway is unable to access the second mailbox the second error notification identifying a second mailbox status and updating the record of the second operational status responsive to the second mailbox status.

The method may further comprise receiving a plurality of error notifications each error notification comprising a mobile gateway account identifier and a related mailbox status of a related mailbox associated with the mobile gateway account identifier. The method may further comprise upon receiving each error notification storing error information in a memory of the monitoring system the error information comprising the related mobile gateway account identifier and the related mailbox status. The method may further comprise when the related initialization state of the related mobile gateway account is in a failed condition retrieving the error information comprising the related mobile gateway account identifier from the memory of the monitoring system.

In addition to the methods described herein this disclosure provides a mobile gateway comprising a computer configured to implement the methods associated with a mobile gateway. This disclosure also provides a monitoring system comprising a computer configured to implement the methods associated with a monitoring system.

The steps or operations described herein are examples. There may be many variations to these steps or operations without departing from the scope of this disclosure. For instance where appropriate the steps may be performed in a differing order or steps may be added deleted or modified. Although example embodiments of this disclosure have been depicted and described in detail herein it will be apparent to those skilled in the relevant art that various modifications additions substitutions and the like can be made without departing from the concepts and embodiments disclosed herein and these are therefore considered to be within the scope of the present subject matter as defined in the following claims.

