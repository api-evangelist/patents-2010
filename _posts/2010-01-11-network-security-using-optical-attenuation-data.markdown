---

title: Network security using optical attenuation data
abstract: A data processing device is connectable to a communication network and operable to receive data associated with an attenuation characteristic of a transmission line of a cable in a cable communication subsystem, the subsystem comprising a transmitter and/or receiver coupled to the cable. The data processing device is responsive to the received data to initiate a security procedure.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08693865&OS=08693865&RS=08693865
owner: Hewlett-Packard Development Company, L.P.
number: 08693865
owner_city: Houston
owner_country: US
publication_date: 20100111
---
Networking infrastructures such as data centers house large numbers of electronic equipment such as computers and storage devices. Such networking infrastructures can span from a single room to multiple floors of an entire building. Servers are often stacked in rack cabinets that are placed in rows forming corridors so technicians can access the rear of each cabinet. Mainframe computers and other storage devices are often placed near the servers and can occupy spaces as large as the racks themselves.

Data centers and other networking infrastructures can have enormous numbers of cable and wires connecting various electronic equipments. Even though such facilities are highly organized the number of cables interconnecting such equipment can be overwhelming. Installing maintaining and tracking cables and connections to equipment and identifying degradation or failure of specific cable subsystems can be complex. Timely identifying changes to network infrastructure that represent potential security related events can be problematic in such environments.

In accordance with some embodiments of the invention a security manager is implemented for example in software on a data processing device in the form of a network management server or other host computer. The exemplary management server is connected to a communication network such as a data centre comprising a plurality of cable subsystems. Each cable subsystem has for example a cable respective cable end connectors at opposite ends of the cable and two transceivers the cable end connectors each coupled to a respective one of the transceivers to transmit and receive relatively high frequency and relatively high power communication signals through the cable. The transceivers are coupled for example hot plugged into respective network devices examples switch controller of a storage device server host bus adapter HBA to enable the network devices to control the transceivers for transmitting and receiving signals through the cable.

Also in accordance with some embodiments the cable end connectors and the transceivers use relatively low frequency low power monitoring and or diagnostic channels to receive and store data associated with at least one physical layer characteristic of a cable subsystem in memory for example in memory on the transceivers in accordance with a suitable protocol. Network devices coupled to transceivers include functionality to access the data stored in the transceiver memory and to communicate the data through the network to the network management server for example using standard protocols such as SMI S Storage Management Initiative Specification or SNMP Simple Network Management Protocol .

In at least some embodiments the security manager collects the cable subsystem physical layer data and assesses the physical layer data to determine a present operational state or security state of cables and transceivers of a cable subsystem. The accuracy of the determined operational state can vary between cable subsystems depending on the sophistication of cable monitoring features of individual cable transceivers and connectors. The level of sophistication of physical layer monitoring and consequential level of accuracy of determination of operational state can vary between cable subsystems across the network and such variations can be accommodated by the security manager. For example in one embodiment an algorithm assesses the physical layer data and uses stochastic inference to determine an estimate of cable and transceiver operational state. The security manager also processes events received from the managed network devices and provides a notification service where required for example by customer policies.

According to at least some embodiments the security manager stores details of predetermined cable subsystem operating states that represent security states requiring initiation of a corresponding predetermined security procedure. In this manner the network management server can initiate an appropriate security procedure in response to receipt of the cable subsystem physical layer data. The definition of which operational states represent security states and or of which security procedures correspond to which specific security states requiring initiation of a security procedure can be at least partially effected by a customer user of the data centre or other managed network setting policies. Some security procedures may be automatically effected for example automatic deactivation of specific cables and or transceivers. Some security procedures may require at least partial human involvement for example to confirm a deactivation decision prior to effecting deactivation or to authorise reactivation of a cable and or transceiver on the network. Various embodiments of the invention facilitate network security decisions based on physical layer data in contrast to inferring physical layer status from higher level information for example from OSI layer 2 frames. At least some embodiments facilitate a real time security response to network security breaches defined using customer security policies.

In some embodiments the cable includes multiple transmission lines. For example a multimode fiber optic cable for use in a data centre may comprise two transmission lines in the form of two optical fibers. In use one fiber is connected to a transmitter optical subassembly of a transceiver and the other fiber is connected to a receiver optical subassembly of the transceiver. Enhanced transceivers are provided that include respective embedded reflectometers for example in the form of embedded optical time domain reflectometers OTDRs . An enhanced transceiver may detect a reflected test pulse using the receiver optical subassembly as a photodetector by redirecting reflected energy from the transmitter fiber through an end of the receiver fiber. In alternative embodiments the reflected energy is detected using an additional photodetector. Enhanced transceivers may also be provided for other types of cable for example single mode and or single fiber cable and or electrical communication cable.

Data collected by the OTDR is stored for example in a memory of the transceiver provided for storing OTDR data and processed to obtain an attenuation characteristic indicative of the rate of attenuation of the reflected signal relative to distance along the optical fiber. Processing of the data can occur in circuitry on board the transceiver and or maybe transmitted to another device for processing. The results of the processing are stored in a memory on the transceiver or alternatively on the network device hosting the transceiver and made available to the security manager. The security manager can compare updated OTDR attenuation characteristic data with historical OTDR attenuation characteristic data to determine whether a significant increase in attenuation has appeared at any specific location along the optical fiber since the last update. This determination is used to determine a present security state and a corresponding security procedure may be initiated taking into account the potential tap to the optical fiber.

At least some embodiments of the invention facilitate the provision of a convenient and cost effective transmission line tap monitor service. The provision of indications relating to breaks in or degradation of transmission lines can also be facilitated. The level of sophistication of reflectometer components required to identify major attenuation anomalies indicative of many types of optical tap for example a tap implemented using an adapter and tapping say 50 of signal energy is available at relatively modest cost sufficient to enable cost effective embedding of reflectometers in transceivers.

Cables to are shown interconnecting various ones of the network devices to . Opposite ends of the cables to are terminated using cable end connectors. At least some of the end connectors are active end connectors such as the end connector of which comprises memory for storing data relating to physical layer characteristics of a cable subsystem and a communication interface for communicating with a transmitter and or receiver to provide a relatively low frequency and low power diagnostic and or monitoring channel. The data can be stored and accessed for example according to the SFF 8472 Specification for Diagnostic Monitoring Interface for Optical Transceivers extended as necessary to accommodate the desired data physical layer parameters or any other suitable protocol. The end connector represents an LC connector and the cable comprises for example two transmission lines in the form of respective multimode optical fibers . However in alternative embodiments any other cable end connector type and appropriate corresponding cable type including single mode optical fiber cables and electrical communication cables suitable for use in a communication network can be employed.

Active network devices such as the switches storage arrays tape library and servers hosts to are operable to transmit and or receive communication signals through the network using transmitters and or receivers. An exemplary network device is shown in having an exemplary transceiver connected thereto. The transceiver shown in represents an SFP Small Form factor Pluggable SFP or SFF optical transceiver. However in alternative embodiments any other transceiver transmitter or receiver type suitable for use in a communication network can be employed including those for connecting to electrical communication cables. The transceiver includes a memory for storing for example according to SFF 8472 data relating to physical layer characteristics of a cable subsystem and a communication interface for communicating with a cable end connector over the relatively low frequency and low power diagnostic and or monitoring channel.

The exemplary network device comprises a processor a memory and an external communication interface . The memory stores computer program instructions for example in the form of software and or firmware to provide at least some of the functionality of the network device. The network device is operable to read the physical layer data stored in the transceiver memory . Communication between the network device and the transceiver can be effected for example using an inter integrated circuit communication protocol such as I2C. The received physical layer data can be stored for example according to SFF 8472 in network device memory and communicated to the physical layer security application on the host computer over the network by the external communication interface using any appropriate protocol for example SMI S Storage Management Initiative Specification or SNMP Simple Network Management Protocol .

Where the network device comprises a switch the switch software stack supports extended MIB management information base and CIMOM common information model object manager and provides SMI S and SNMP functionality for communicating the data over the network . Where the network device comprises a storage controller such as a disc array controller or tape library controller the storage controller software stack supports extended MIB and CIMOM and provides SMI S and SNMP functionality for communicating the data over the network . A network device comprising a host computer such as a server to includes a network interface controller example Fibre Channel host bus adapter having firmware to support reading extended physical layer data from the transceiver and the host computer software stack includes a network interface controller driver also supporting reading the extended physical layer data and provides SMI S and SNMP functionality for communicating the data over the network .

In one embodiment the transceiver comprises an integrated circuit IC device that provides the memory and the communication interface . The transceiver IC device in some embodiments comprises a very low power IC tag device. The exemplary transceiver includes electrical contacts to mate with corresponding electrical contacts of the connector . The transceiver electrical contacts extend between the communication interface and one of the recesses which recesses receive respective ends of the cable end connector to mate optical fibers of the cable end connector with respective optical components of a transmitter optical subassembly and a receiver optical subassembly of the transceiver . The transceiver also comprises a communication interface to communicate with the network device .

The cable end connector comprises an IC device that provides the memory and the communication interface . The connector IC device in some embodiments comprises a very low power IC tag device. The electrical contacts of the connector extend between the communication interface towards a front end portion of the connector to mate electrically with the transceiver electrical contacts when the connector is received in the transceiver . A connector engagement detection mechanism not shown may be provided to provide information regarding connector transceiver engagement state for example whether a connector is fully engaged partially engaged or not engaged with a transceiver.

The transceiver and or the connector can include a visual indicator not shown for indicating operational states of the cable subsystem. For example light from an LED not shown controlled by the transceiver IC device can be channeled by a light pipe through the transceiver to an externally accessible region of the transceiver and when a connector is connected to the transceiver channeled by a further light pipe of the connector through portions of the connector to a user visible region of the connector.

Communication between the connector IC device communication interface and the transceiver IC device communication interface over the electrical contacts can be by any convenient inter integrated circuit protocol and the IC devices can be arranged to automatically transfer or exchange physical layer characteristic data stored in the memories . In some embodiments further electrical contacts can be provided on the connector and the transceiver to provide low level electrical power from the transceiver IC device to the connector IC device when the connector is engaged with the transceiver . In alternative embodiments the transceiver communication interface can take the form of an RFID reader and the connector IC device can take the form of an RFID tag having a communication interface in the form of an RFID transponder with parasitic power supply to transfer data between the connector and the transceiver for example as disclosed in US 2008 0240724A1 now U.S. Pat. No. 8 260 132 which is incorporated herein by reference in its entirety. In some embodiments RFID transponders respectively associated with a connector and transceiver are adapted to communicate with one another to allow information from each of the transponders to be communicated to an RFID reader via communication with only one transponder as disclosed in US2008 0100456A1 which is incorporated herein by reference in its entirety and from the RFID reader to the security application .

The exemplary transceiver comprises a first enhancement in the form of a low frequency diagnostic side band communication channel provided by a modulator in the transmission control channel a demodulator in the receiver control channel and modulation control logic . In one embodiment the side band communication channel can be implemented for example as disclosed in U.S. patent application Ser. No. 12 241 945 now U.S. Pat. No. 8 233 804. The side band communication channel enables cable subsystem physical layer characteristic data to be communicated between enhanced transceivers at opposite ends of a cable to facilitate collection of complete cable subsystem physical layer data at both ends of a cable.

The exemplary transceiver comprises a second enhancement comprising an embedded reflectometer in the form of an OTDR optical time domain reflectometer including control logic and OTDR memory . The OTDR logic operates to close normal transmissions through the transmission control channel and receive control channel using switches and causes the laser to send a test pulse through the transmission fiber channel to obtain attenuation data in respect of the transmission cable. In one embodiment the OTDR control logic controls a light valve to enable reflections of the test pulse from the optical transmission fiber to be channelled to the receiver optical subassembly through the optical receiver fiber channel as described in PCT patent application number PCT US2009 062709 WO 2011 053306 which is incorporated herein in its entirety. Alternatively a further light detector can be provided for receiving OTDR reflections from the transmission fiber. The digitally sampled signals resulting from detection of the OTDR test pulse reflections can be stored in OTDR memory . The sampled signals can be processed on board the transceiver or transferred to another device for example the transceiver s host network device for processing. The attenuation pattern resulting from the processing of the OTDR data should be sufficiently accurate to indicate whether for example an optical tap has been placed on a cable for example using a cable adapter and to approximately identify the distance of the tap location along the cable even using components of relatively modest sensitivity and cost. For a dual fiber cable OTDR data can be obtained for the receiver fiber channel from a transceiver with the second enhancement at an opposite end of the cable using the side band communication channel.

Various cable subsystem physical layer characteristic data can be stored in the memory on the cable end connector and in the memory of the transceiver . Cable data parameters stored in the connector memory and transceiver data parameters stored in the transceiver memory can be transmitted between the memories and stored in both memories . Furthermore cable data parameters and transceiver data parameters can be received from a connector and transceiver at an opposite end of the cable using the sideband communication enhancement and also stored in the transceiver memory and the connector memory . Storage of data in the connector memory can provide convenient access to the data in certain circumstances for example to enable convenient access to the data by a handheld RFID reader. In some embodiments a transceiver not shown is provided that omits the modulated sideband first enhancement and or the OTDR second enhancement.

In at least some embodiments variously stored cable subsystem parameters relate to identifiers of cables connectors and transceivers and or to present quality of cable subsystem communication performance. Cable parameters can include for example at least one of the following non limiting exemplary cable parameters cable serial number connector type cable type manufacturer identification manufacturer s data cable performance parameters such as attenuation characteristics during installation. Transceiver parameters can include for example at least one of the following nonlimiting exemplary transceiver parameters transceiver identifier laser transmitter optical power laser transmitter current photodiode receiver optical energy. OTDR data for example data indicating a possible optical tap is also stored in the transceiver memory and the connector memory . In some embodiments relating to electrical communication cables analogous electrical cable parameters can be provided corresponding to some of the optical specific parameters mentioned above including electrical TDR data.

Conveniently the security manager is implemented using a security service module and a security procedure module . The security service executes for example data collection and event processing from managed network devices. Some security related data may be obtained by polling managed network devices at frequencies appropriate to the perceived security threats. Other security related data may be obtained using events triggered by the managed network devices for example if an embedded OTDR detects a potential optical tap in a fiber optic cable. The security service determines including in some embodiments by stochastic inference a security state for a cable subsystem using the received physical layer data and stored predefined possible states. The security service provides the presently determined security state to the security procedure module . The security service also provides external notification for example to a network administrator where required.

Security configuration data is stored for example in the database for maintaining and implementing received customer security policies and can include security procedure algorithms. The security procedure module is arranged to receive a presently determined security state from the security service and to determine an appropriate security procedure in accordance with the received security state and the stored security configuration data. The security procedure module is also arranged to output information for the customer relating to any security procedure initiated by the security manager in response to a security state. The security procedure manager may also be arranged to output information to the security service for example to initiate a security related action by a managed device and or to trigger a notification or logging action by the security service .

The exemplary program instructions also implement a security policy wizard application and an API application programming interface to facilitate input of customer policies to the security module . Other applications may also be implemented and communicate with the security manager through the API for example a command line interface application host application example data centre management application and or web services application .

The exemplary network of can accommodate cable subsystems which vary widely as to the range of physical layer data they are able to provide for cable security monitoring and diagnosis. Accordingly the accuracy with which operational states and security states can be assessed can vary widely between network devices. It is envisaged that network administrators will select transceivers and cables with the various enhancements described above for network connections where improved accuracy and security is desired. Different respective security policies can be set for different respective cable subsystems.

The table of lists in the left hand column various possible cable subsystem operating conditions or detectable events that can be used to define security states and along the top row various levels of ability to provide various data associated with physical layer characteristics of a cable communication subsystem. The ability to provide a varied range of data is related to the degree of enhancement of the transceiver s and or cable end connectors of a cable subsystem. Marks in the boxes of the table of indicate whether a specific operating condition can be determined using a specific level of ability to provide physical layer data. All columns in represent a cable subsystem or network of cable subsystems including at least one transceiver that is capable of collecting physical layer data in transceiver memory for access by a network device hosting the transceiver the network device being operable to access the data and further communicate the data to a physical layer security application .

Column in represents the use of a cable subsystem or network of cable subsystems having a transceiver that is capable of collecting in transceiver memory data relating to a present quality of communication performance of the transceiver. Such data can comprise for example transmitter power and or transmitter current parameters photodiode receiver energy parameters. Column does not necessarily relate to cable subsystems having enhanced side band communication or cable tap detection capability. However provided that the network devices hosting column transceivers at each end of the cable support receiving physical layer data from the transceiver and communicating the data to the physical layer security application the security application can obtain the physical layer data from both ends of the cable subsystem. It can be seen from that column cable subsystems can enable a physical layer security application to detect including infer that a cable is disconnected and reconnected and also that the cable is disconnected or broken by piecing together the quality of communication performance data from both ends of the cable. The security application can in some embodiments enable a network user or administrator to select an identified multi cable link or route between network devices the link comprising various cable subsystems and monitor the constituent cable subsystems of the link to identify any cable connection topology changes involving the link employing various detectable operating conditions as required for example the cable disconnected and reconnected condition and or the cable replaced condition.

Column in represents a cable subsystem or network of cable subsystems using transceivers at both ends of the cable that support side channel communications for example an accordance with the first enhancement described above. Because transceivers at both ends of the cable subsystem store physical layer data relating to the transceiver at the opposite end of the cable subsystem including transceiver identity data if one of the transceivers is swapped for a transceiver having a different identity or no side channel communication capability the security application can detect the transceiver swap by comparing historical and present transceiver identity data stored at the remaining transceiver. The column arrangement can also be used to detect cable disconnection and reconnection and cable disconnected or broken as described above in connection with the column arrangement.

Column in represents the use of cable end connectors and corresponding transceivers modified to detect and engagement state of the connector in the transceiver for example no engagement partial engagement or full engagement and supplied the engagement state data to the transceiver memory. The security application can use the stored data to detect a connector partially engaged condition.

Column in represents cable subsystems that use cable end connectors and transceivers that can bring together physical layer data from cable end connectors and their respective interconnected transceivers. For example column end connectors and transceivers may exchange physical layer data when interconnected such as in response to the interconnection of respective IC devices by means for example of electrical contacts or RFID connection. The column arrangement permits detection when a cable storing identity information is replaced with another cable having a different identity or no identity by comparing a present cable identity stored in transceiver memory with a previously stored cable identity. Column cable subsystems can also in most circumstances enable a physical layer security application to detect that a cable is disconnected and reconnected and that the cable is disconnected or broken.

Column in represents the use of transceivers with cable tap detection capability for example using transceivers with embedded OTDR capability in accordance with the second enhancement described above. OTDR data from the transceiver can be used by the security application to detect cable taps.

In at least some method embodiments according to the invention the security manager receives data including transceiver communication input output parameters transmitter optical power and current optical receiver energy transceiver identifiers example serial numbers and connector engagement status not engaged partially engaged fully engaged from both ends of a cable subsystem cable identification and performance parameters and the OTDR generated data. The data is collected for example from a network device through the network for example over a cable or wireless link using SNMP or SMI S by polling the network device to provide data from the memories of all its transceivers or from a specifically identified transceiver. OTDR generated data regarding the presence of potential optical fiber taps and other potentially time sensitive data can also be received by virtue of events notified by a managed network device . The security manager determines a security state based on the received data and determines an appropriate security procedure in accordance with the received security state stored customer security policies and stored security procedure algorithms. The security manager initiates the appropriate security procedure. For example a managed network device may be required to disable a cable subsystem communication link in response to detection of unplugging of a cable from a transceiver. The security manager can send notifications to a network administrator and or data centre customer to inform them of the security procedure and of any further action that might be required to permit reconnection to the affected cable subsystem of the unplugged cable or another cable. The security manager can also cause a transceiver to control its LED to visually display a security status.

In one embodiment the security manager may comprise a state machine according to the state diagram illustrated in . The exemplary Moore state machine comprises the following states 

The exemplary state machine and further comprises the following possible inputs the inputs representing various detectable operating conditions that may be indicative of a security breach 

As seen in from the start any input results in transition to the Admin state from which date any input results in transition to the Idle state U. In the Idle state U a negation of any of the permissible inputs results in a return to Idle U. In Idle receipt of an input C D or E results in a transition to the Connector state Y receipt of an input capital A B or G results in a transition to the Fiber state V and receipt of an input capital F results in a transition to the Transceiver state X. Receipt of inputs A B or G in the connector state Y or in the transceiver state X results in a transition to the Fiber state V. Receipt of inputs C D or E in the Fiber state V or in the transceiver state X results in a transition to the Connector state Y. Receipt of input F in the Fiber state V or in the Connector state Y results in a transition to the Transceiver state X.

The Reset R input can be arranged to occur automatically in the Connector state Y the Fiber state V or the Transceiver state X and results in a transition to the Reset state Z. The Reset R input can be arranged to provide notification logging link disablement LED visual status indication and clearing of errors and to require manual input in some circumstances. A Reset R input in the Reset state Z can be used to return the state machine to Idle.

In at least some embodiments of the invention the provision of a real time transmission line tap monitor and response service is facilitated. At least some embodiments of the invention facilitate the provision of a transmission line breakage and or degradation indication service.

In at least some embodiments a network physical layer security system is provided that can use polling exceptions and traps according to the desired protocol to gather communication transceiver based for example SFP based diagnostic information from a network device hosting the transceiver. The gathered data may be stored in a centralised or distributed network database. Real time or near real time security responses may be provided by the system. A communication cable subsystem can have many different combinations of operating conditions for its different elements. The physical layer security system facilitates definition of which operating conditions constitute a possible breach of security and what action should be taken in response to an identified security breach. For example depending on a level of severity accorded to specific security breaches the application could for example send an e mail notification to a network administrator and or user store details of the event in a log or shut down one or more cable subsystems in an affected link.

As used herein an SFP or small form factor pluggable is an optical transceiver used in optical communications for telecommunication and or data communications. SFPs including SFP interface network devices to fiber optic cable. Real time means that the time taken to initiate an action such as a security procedure is sufficiently short to be perceived by a human user such as a network administrator as adequate to enable a timely and appropriate response consequent to the action and can vary depending on the requirements surrounding different types of actions. In at least one exemplary embodiment one or more steps discussed herein are automated in other words occur automatically. As used herein the terms automated or automatically and like variations thereof mean controlled operation of an apparatus system and or process using computers and or mechanical electrical devices without the necessity of human intervention observation effort and or decision.

Methods in accordance with exemplary embodiments of the present invention are provided as examples and should not be construed to limit other embodiments within the scope of the invention. For instance blocks in diagrams or numbers such as 1 2 etc. should not be construed as steps that must proceed in a particular order. Additional blocks steps may be added some blocks steps removed or the order of the blocks steps altered and still be within the scope of the invention. Further specific numerical data values such as specific quantities numbers categories etc. or other specific information should be interpreted as illustrative for discussing exemplary embodiments. Such specific information is not provided to limit the invention.

The above discussion is meant to be illustrative of the principles and various embodiments of the present invention. Numerous variations and modifications will become apparent to those skilled in the art once the above disclosure is fully appreciated. It is intended that the following claims be interpreted to embrace all such variations and modifications.

