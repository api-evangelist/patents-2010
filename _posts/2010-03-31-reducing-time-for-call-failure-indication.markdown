---

title: Reducing time for call failure indication
abstract: Techniques are disclosed for reducing the time for a wireless communication device originating a group communication, such as a push-to-talk call, to receive a call failure indication on a wireless communications system. In an embodiment, a group communications server receives a request to initiate a call with a target from an originator, and sends a corresponding message to a network node. If the call cannot be completed, the server receives from the network node an internet control message protocol (ICMP) message indicative of there being no connection between the network node and the target wireless communication device. In response to the message, the group communications server sends a status failure message to the originating wireless communication device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08744509&OS=08744509&RS=08744509
owner: QUALCOMM Incorporated
number: 08744509
owner_city: San Diego
owner_country: US
publication_date: 20100331
---
The present application for patent claims priority to Provisional Application No. 61 167 697 entitled REDUCING TIME FOR CALL FAILURE INDICATION WHERE TARGET DEVICE IS UNREACHABLE BUT STILL REGISTERED WITH THE ALL SERVER filed Apr. 8 2009 and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

Aspects of the disclosure relate to measuring the performance of call completion in wireless communications systems. More specifically various embodiments are directed to calculating real time performance and load statistics in a group communication wireless communication system such as a push to talk system.

In wireless telecommunication devices such as cellular phones PDAs mini laptops and advanced pagers the devices typically communicate over long distances by bridging telephone calls through existing cellular telephone networks and passing data packets across the network. These wireless devices have varying data processing and computing capability and can accordingly send and receive software programs in addition to voice across the wireless network.

One wireless telecommunication service provides a quick one to one or one to many communication that is generically referred to as Push to talk over cellular PTT PoC push to talk PTT capability. The specific PTT group of recipient devices for the communicating wireless device is commonly set up by the carrier. A PTT communication connection is typically initiated by a single button push on the wireless device that activates a half duplex link between the speaker and each member device of the group so that the wireless device can speak on the floor and once the button is released the floor is released and the wireless device can receive incoming PTT transmissions. In some arrangements the PTT speaker will have the floor where no other group member can speak while the speaker is speaking. Once the speaker releases the PTT button any other individual member of the group can engage their PTT button and they will have the floor.

In a PTT environment when the PTT server sends an ANNOUNCE message to a target client the packet data serving node PDSN receives the ANNOUNCE message and needs to route that message to the target client s wireless communication device. In order to route the ANNOUNCE message to the appropriate radio access network RAN the PDSN must have an established A10 connection with the RAN. It is possible that the PDSN receives the ANNOUNCE message for a target device without having an established A10 connection with the RAN. This can occur because due to an internal problem at either the RAN or PDSN an A10 or point to point protocol PPP connection between the RAN and PDSN is not present for the target client device. In current systems the PDSN will drop the announce message the PTT server will time out and will keep resending the ANNOUNCE message according to a preset reliability mechanism. After the reliability mechanism has completed the server will end the call and send a STATUS failure message to the operator indicating that the target device cannot be reached. There may be several issues associated with this design.

First the current system may waste server resources to retry the ANNOUNCE message. Second it may waste over the air bandwidth resources for the originating wireless communication device because the server does not send the STATUS failure before it exhausts the reliability mechanism. Third in current systems one cannot infer whether the message reached the target RAN or not from the cause code of the STATUS failure or from the server log. Fourth during field testing activity when the only logs available are client logs it is very important to know the exact failure code for the failed call attempt. A generic failed reason of target unreachable does not help identify the root cause of the problem.

As such it would be beneficial to have techniques that increase the speed and minimize the resources involved with communicating a call failure message to an originating wireless communications device.

In an embodiment a network communications entity may receive from an originator wireless communications device a request to initiate a call with a target wireless communications device. The network entity may send a call announce message that corresponds to the request to a network node. The network entity may receive from the network node an internet control message protocol ICMP message indicative of the node lacking a connection to a radio access network that corresponds to the target. The network entity may send a status failure message to the originator indicative of the call failing. The network communications entity may include a group communication server a Push To Talk PTT server and or a call server.

Aspects of the invention are disclosed in the following description and related drawings directed to specific embodiments of the invention. Alternate embodiments may be devised without departing from the scope of the invention. Additionally well known elements of the invention will not be described in detail or will be omitted so as not to obscure the relevant details of the invention.

The word exemplary is used herein to mean serving as an example instance or illustration. Any embodiment described herein as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments. Likewise the term embodiments of the invention does not require that all embodiments of the invention include the discussed feature advantage or mode of operation.

In this description the terms communication device wireless device wireless communications device PTT communication device handheld device mobile device and handset are used interchangeably. The terms call and communication are also used interchangeably. The term application as used herein is intended to encompass executable and non executable software files raw data aggregated data patches and other code segments. The terms group communication or PTT call mean a point to point or point to multipoint half duplex communication either in a true or virtual half duplex communication channel.

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of embodiments of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises comprising includes and or including when used herein specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

Further many embodiments are described in terms of sequences of actions to be performed by for example elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits e.g. application specific integrated circuits ASICs by program instructions being executed by one or more processors or by a combination of both. Additionally these sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus the various aspects of the invention may be embodied in a number of different forms all of which have been contemplated to be within the scope of the claimed subject matter. In addition for each of the embodiments described herein the corresponding form of any such embodiments may be described herein as for example logic configured to perform the described action.

In this embodiment the wireless telecommunication device such as mobile telephone notifies at least the group communication computer device shown here as server which may be present on a server side LAN across the wireless network to indicate that the wireless device is present i.e. accessible on the wireless network . The group communication computer device can share this information with the set of target wireless telecommunication devices designated by the wireless telecommunication device or can also share is with other computer devices resident on the server side LAN or accessible across the wireless network . The group communication computer device can have an attached or accessible database to store the group identification data for the wireless devices. A data store shown here as file management server is also present on the server side LAN . It should be appreciated that the number of computer components resident on server side LAN or across the wireless network or Internet generally are not limited.

The direct communication such as a PTT communication can be established through a half duplex channel between the communicating wireless telecommunication device and the one or more other wireless telecommunication devices of the target set. Also the group communication computer device can attempt to bridge the requested direct communication with the target set if at least one of the wireless telecommunication devices of the target set have informed the group communication computer device of their presence on the wireless network .

The group communication computer device can also inform the wireless telecommunication device of the inability to bridge a direct communication to the target set upon none of the wireless telecommunication devices or at least one of the target set not having informed the group communication computer device of their presence on the wireless network . Further while the group communication computer device is shown here as having the attached database of group identification data the group communication computer device can have group identity data resident thereupon and perform all storage functions described herein

In overview the system includes at least one wireless communication device such as mobile telephone that is a member of a communication group of wireless communication devices that communicate with each other in group communications across a wireless communication network . The wireless communication device can also be configured to selectively send group directed media to other members of the communication group such as voice or other data. At least one group communication computer device may be configured to store information on communication groups on the wireless communication network the information including the identity of the specific member wireless communication devices of one or more communication groups. The group communication computer device may be further configured to selectively receive group directed media from a sending wireless communication device such as mobile telephone of a communication group and send the group directed media to the other member wireless communication devices of the communication group for the sending wireless communication device. The system can further include a data store in communication with the group communication server s for access and storage purposes.

The wireless communication device can send communication group identification data to the group communication computer device at the time of requesting the group directed media to be sent e.g. send a target list and thus the group communication device may send or store the group directed media to the member wireless communication devices identified in the communication group identification data based upon a variety of criteria as is further discussed herein. Alternately prior to the wireless communication device sending group directed media the wireless communication device can request member data for a communication group from the group communication computer device and the group communication computer device can send one or more addresses or communication group addresses to the wireless communication device .

The group communication server s are connected to a wireless service provider s packet data service node PDSN such as PDSN shown here resident on a carrier network . Each PDSN can interface with a base station controller of a base station through a packet control function PCF . The PCF is typically located in the base station . The carrier network controls messages generally in the form of data packets sent to a messaging service controller MSC . The carrier network communicates with the MSC by a network the Internet and or POTS plain ordinary telephone system . Typically the network or Internet connection between the carrier network and the MSC transfers data and the POTS transfers voice information. The MSC can be connected to one or more base stations . In a similar manner to the carrier network the MSC is typically connected to the branch to source BTS by both the network and or Internet for data transfer and POTS for voice information. The BTS ultimately broadcasts and receives messages wirelessly to and from the wireless devices such as cellular telephones by short messaging service SMS or other over the air methods known in the art. It should also be noted that carrier boundaries and or PTT operator network boundaries do not inhibit or prohibit the sharing of data as described herein.

Cellular telephones and mobile telecommunication devices such as wireless telephone are being manufactured with increased computing capabilities and are becoming tantamount to personal computers and hand held PDAs. These smart cellular telephones allow software developers to create software applications that are downloadable and executable on the processor of the wireless device. The wireless device such as cellular telephone can download many types of applications such as web pages applets MIDlets games and data. In wireless devices that have designated a communication group the wireless communication device can directly connect with the other member of the set and engage in voice and data communication. However all such direct communications will occur through or at the control of the group communication computer device . All data packets of the devices do not necessarily have to travel through the group communication computer device itself but the group communication computer device must be able to ultimately control the communication because it will typically be the only server side component that is aware of and or can retrieve the identity of the members of the communication group or direct the identity of the members of the communication group to another computer device.

As shown here the wireless device can be a mobile telephone with a graphics display but can also be any wireless device with a computer platform as known in the art such as a personal digital assistant PDA a pager with a graphics display or even a separate computer platform that has a wireless communication portal and may otherwise have a wired connection to a network or the Internet. Further the memory can be comprised of read only or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. The computer platform can also include a local database for storage of software applications not actively used in memory . The local database is typically comprised of one or more flash memory cells but can be any secondary or tertiary storage device as known in the art such as magnetic media EPROM EEPROM optical media tape or soft or hard disk. The graphics display can present not only information about the ongoing group call but also the information on the group directed media to include a file preview as is more fully described herein.

In this embodiment of the wireless device the computer platform also includes a group communication interface that can open the group communication channel from the wireless device. The group communication interface can also be part of the standard communication interface for the wireless device which ordinarily carries the voice and data transmitted to and from the wireless device. The group communication interface typically is comprised of hardware as is known in the art.

The PTT Client is an application that offers access to PTT services through an external interface here shown at a PTT aware UI . The PTT Client includes all the functions required to enable mobile operating system applications such as the Group Media Client . In addition to providing access to PTT services with the PTT Client the PTT Client preferably acts as an isolation layer between all PTT aware applications and the interface to the group communication computer device . In this embodiment the PTT Client maintains access to PTT services responds to group communication requests processes all PTT aware mobile operating system applications requests for PTT services processes all outgoing PTT requests collects and packages vocoder packets for originating PTT talk spurts and parses packets of vocoder data for terminated PTT talk spurts.

The Group Media Client is a mobile operating system based application that extends PTT services for access to media types other than the traditional half duplex voice communications VoIP PTT media . The Group Media Client provides access to group media services through an external interface in one embodiment being a separate API such as a Group Media Aware API. The Group Media Aware UI is an application that may be developed entirely as a mobile operating system based application or used in combination with an AMSS interface. The Group Media Aware UI responds to user requests for group directed media services by invoking the appropriate APIs such as those from other resident PTT and group media applications . The Group Media Client services the requests from the user and informs the user the result of any group directed media request. The user can also have setting on the Group Media Client that specify how to handle an incoming notification that indicates there is a file to be downloaded from the file management server data store . For example the Group Media Client can elect to have the file download commence immediately or to allow the target user to be prompted to determine whether to download the file.

Referring to illustrated is an exemplary mobile communication device and in particular the user interface for the device. The device typically includes a display that may comprise an LCD or OLED display. In some embodiments the display may include touch screen capability. The device may include a keypad that may be a standard phone keypad or in other embodiments a QWERTY keypad. The device may also include navigation buttons that may further comprise up down left and right keys for navigating through the display . The navigation keys may further comprise a selection or OK key to indicate the user s selection or acknowledgment of a particular function. The device may also include soft keys that are programmable and used to select the function as indicated in an area of display near the soft key.

Referring to in one embodiment the device may illuminate one or more buttons from keypad navigation buttons or OK key . The button s may illuminate steady in a particular color or may flash on off or in any other manner as configured in the device or by the user to illustrate a given functionality.

The process may continue with receiving from the network node an internet control message protocol ICMP message indicative of the node lacking a connection to a radio access network that corresponds to the target device as shown at step . Various PDSNs currently support ICMP messages such as the PDSN manufactured by UTSTARCOM . In an embodiment the message indicative of the node lacking a connection comprises a message indicative of the node lacking an A10 connection. The ICMP message can be one from a set of an ICMP for Internet Protocol version 4 ICMPv4 message and an ICMP for Internet Protocol version 6 ICMPv6 message. In an embodiment the ICMP message further comprises an indication that the network node could not determine an internet protocol IP address for the target. In an embodiment the PDSN has been modified from its off the shelf form to return a meaningful error code such as no PPP connection exists for the target. 

The process may continue with sending a status failure message to the target device indicative of the call failing as shown at step . The status failure message can be sent on a control channel. In an embodiment the status failure message will indicate the one or more reasons why the call failed such as an indication of a no PPP connection existing for the target. Errors are typically observed in situations where a PDSN has recently restarted such as after a software crash or the target wireless device has lost power. These may lead to situations where the server does not know that IP connectivity via the PDSN has been lost for the target but the PDSN is aware of this.

After the specified timeout period has elapsed which here for example may be 740 ms the server sends a second ANNOUNCE message to the second PDSN . As each timeout period elapses the group communications server sends another ANNOUNCE message until the present total number of retries of four for a total of five including the initial ANNOUNCE message is reached. Upon the final ANNOUNCE message timing out the group communications server sends the originator a STATUS Failure message which takes a time of t to pass from the server to the originator .

This technique may takes a period of time equal to the sum of t t and for example 3200 ms 740 ms 5 to operate. Even if t and t are instantaneous the sum of the two is typically somewhat less than 150 ms that is still over three seconds when a push to talk environment typically deal in times a fraction of that length.

This technique may take a period of time equal to the sum of t t and for example approximately 30 ms to operate. Compared to the sum of t t and 3200 ms required by the prior art technique of this is a savings of over 3 seconds very significant in a low latency environment such as a push to talk system.

The group communications server may include a network interface that may be wired and or wireless for communicating over the server side LAN. A processor may be connected to the network interface a user interface and memory . The processor may include one or more microprocessors microcontrollers and or digital signal processors that provide processing functions as well as other calculation and control functionality. The processor accesses memory for reading writing data and or software instructions for executing programmed functionality. The memory may be on board the processor e.g. within the same IC package and or the memory may be external memory to the processor and functionally coupled over a data bus.

A number of software modules and or data tables may reside in memory and be utilized by the processor for managing PTT functionality including functionality describe above. As illustrated here within memory the group communications server may further include or otherwise provide a group communication management and interface module . While the software module is illustrated in the example as being contained in memory it should be recognized that in certain implementations such procedures may be provided for or otherwise operatively arranged using other or additional mechanisms. For example all or part of software module may be provided in firmware. Additionally while in the software module is shown as a single distinct entity for ease of description it should be understood that it may include a plurality of modules that are not illustrated or otherwise be further partitioned into a differing groups of procedures.

Those of skill in the art will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Further those of skill in the art will appreciate that the various illustrative logical blocks modules circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules circuits and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.

The methods sequences and or algorithms described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor.

Accordingly an embodiment of the invention can include a computer readable media embodying a method for receiving from an originator wireless communications device a request to initiate a call with a target wireless communications device and sending a call announce message that corresponds to the request to a network node. The method embodied may further include receiving from the network node an internet control message protocol ICMP message indicative of the node lacking a connection to a radio access network that corresponds to the target and sending a status failure message to the originator indicative of the call failing. Accordingly the invention is not limited to illustrated examples and any means for performing the functionality described herein are included in embodiments of the invention.

While the foregoing disclosure shows illustrative embodiments of the invention it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. The functions steps and or actions of the method claims in accordance with the embodiments of the invention described herein need not be performed in any particular order. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

