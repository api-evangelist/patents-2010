---

title: Novas hybrid positioning technology using terrestrial digital broadcasting signal (DBS) and global positioning system (GPS) satellite signal
abstract: A positioning method using global positioning system (GPS) signal and digital broadcasting system (DBS) signal. The method includes detecting a presence status of the GPS signal through a signal detector in a receiver, detecting a presence status of the DBS signal through the signal detector, determining the signal strength of the GPS signal if the GPS signal is detected, determining the signal strength of the DBS signal if the DBS signal is detected, choosing one positioning mode among a plurality of positioning modes in a signal processing unit in the receiver based on signal presence status and the signal strength of a detected signal, and determining a location of the receiver based on the chosen positioning mode. The plurality of positioning modes includes standalone GPS mode, assisted GPS (AGPS) mode, assisted GPS positioning with DBS assist mode, DBS positioning with GPS assist mode, standalone DBS mode, and assist DBS mode.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08004460&OS=08004460&RS=08004460
owner: O2Micro International, Ltd.
number: 08004460
owner_city: Georgetown
owner_country: KY
publication_date: 20100318
---
This application is a continuation of and claims the benefit of U.S. application Ser. No. 11 440 179 filed on May 24 2006 for NOVAS HYBRID POSITIONING TECHNOLOGY USING TERRESTRIAL DIGITAL BROADCASTING SIGNAL DBS AND GLOBAL POSITIONING SYSTEM GPS SATELLITE SIGNAL which claims the benefit of U.S. Provisional Application No. 60 736 725 A NOVAS HYBRID POSITIONING TECHNOLOGY USING TERRESTRIAL DIGITAL BROADCASTING SIGNAL DBS AND GLOBAL POSITIONING SYSTEM GPS SATELLITE SIGNAL filed on Nov. 15 2005 the specification of which is hereby incorporated in its entirety by this reference.

The present invention relates to positioning technology and more particularly to positioning technology using terrestrial digital broadcasting signal DBS and global positioning system GPS satellite signal.

Global positioning system GPS is currently the most widely used positioning system. Usually the GPS satellites are located more than 20 kilometers above the surface of earth. GPS signal degrades significantly over such a long distance when it reaches the earth. Generally a GPS receiver requires at least a sensibility of 130 dBm to acquire a GPS signal in a clear and open sky environment. In urban or indoor environment the GPS receiver may require a sensitivity parameter ranging from 155 dBm to 160 dBm or more than 160 dBm to perform GPS positioning functions. Furthermore the performance and accuracy of GPS positioning system will degrade dramatically due to any reflection blockage and multi path effect of GPS signals under urban or indoor environment.

With the digitalization of terrestrial analog audio broadcasting and analog video broadcasting technologies which correspond to two mainstream standards namely DAB digital audio broadcasting and DVB digital video broadcasting ATSC advanced television system committee respectively terrestrial digital broadcasting system T DBS which includes DAB DVB and ATSC system has an unparalleled edge over the global positioning system in terms of signal transmission power signal transmission distance. Furthermore the penetration ability of T DBS signals is much stronger than that of GPS signal broadcasting at L1 carrier frequency level. Terrestrial digital broadcasting system can be used in environments such as basement stair ways and underground parking lots where GPS positioning fails to perform. In addition the use of the terrestrial digital broadcasting system can serve as a complement to the GPS in an urban environment where GPS positioning results become unreliable due to the densely built high rises. Thus it is to a hybrid positioning technology using T DBS signal and GPS signal that the present invention is primarily directed.

There is provided a receiver for determining position using terrestrial digital broadcasting signal DBS and global positioning system GPS satellite signal. The receiver includes a first tuner a second tuner a signal detector a hybrid signal processing unit a measurement data processing unit and an assist data processing unit. The first tuner is used to convert the GPS signal from its original frequency to an intermediate frequency IF . The second tuner is used for converting the DBS signal to an intermediate frequency IF . The signal detector is capable of detecting the existence of the GPS signal and the DBS signal measuring the signal strength of the detected signal and outputting a signal indicating a positioning mode based on the measured signal strength. The hybrid signal processing unit is capable of choosing a positioning mode among a plurality of positioning modes and determining position of the transmitters and arrival time difference between each signal arriving at the receiver. The measurement data processing unit coupled to the hybrid signal processing unit for determining the position of the receiver based on the position of the transmitters and the arrival time difference. The assist data processing unit coupled to the hybrid signal processing unit is adapted to receive assistance data from an assist station and provide the assistance data to hybrid signal processing unit for further signal processing when an assist positioning mode is chosen. The plurality of positioning modes includes standalone GPS positioning mode assisted GPS AGPS positioning mode assisted GPS positioning with DBS assist mode DBS positioning with GPS assist mode standalone DBS positioning mode and assist DBS positioning mode.

There is also provided a method for obtaining a position using global positioning system GPS signal and digital broadcasting system DBS signal. The method includes detecting the presence of a GPS signal in a signal detector in a receiver detecting the presence of a DBS signal in the signal detector determining the signal strength of the GPS signal if the GPS signal is detected determining the signal strength of the DBS signal if the DBS signal is detected providing a plurality of positioning modes choosing one positioning mode among the plurality of positioning modes in a signal processing unit in the receiver based on signal presence status and the signal strength of the detected signal and determining the location of the receiver based on the chosen positioning mode. The plurality of positioning modes includes standalone GPS positioning mode assisted GPS AGPS positioning mode assisted GPS positioning with DBS assist mode DBS positioning with GPS assist mode standalone DBS positioning mode and assist DBS positioning mode.

Suppose that t m 0 3 refers to the moment when the wireless signal is transmitted and t n 0 3 refers to the moment when the wireless signal reaches the receiver then the following equation group 2 can be obtained 

As illustrated in equation group 3 if x y z x y z x y z x y z T and Tare known x y z and M can be determined thereby the user position can be calculated. In other words for a positioning system GPS or T DBS if the difference in time of transmitting the wireless signal T and the differences in time of receiving the wireless signals T are known and the positions of each transmission stations are also known according to the received signals or local data base the absolute location of the receiver can be determined.

For the GPS system usually all GPS signals transmit at almost the same time all satellites transmit the same frame of signals simultaneously while in fact the transmission time may differ slightly with one another but the receiver can correct the differences according to satellite ephemeris that is T 0 i 0 3 . Therefore in reality the three dimension positioning can be performed simply based on the differences in time of receipts of GPS signals at the receiver and the received navigation data contained in the GPS signal according to the equation group 3 .

For terrestrial digital broadcasting system if a single frequency network SFN is set up and if the network side can ensure all transmission towers to transmit the same frame of signals simultaneously transmission towers may be synchronized using GPS time then the user position may be determined after receiving signals transmitted by the transmission towers according to the same positioning principle of the GPS system as shown in the equation group 3 . If the network side fails to transmit signals simultaneously or there is a difference in the time for transmitting the signals from each transmission station the difference will lead to an error in positioning. If a high positioning accuracy is desired a reference station also known as a fixed monitor may be required to provide information for calculating T i 0 3 as illustrated in . Tcan be calculated according to the equation group 4 shown below 

The DBS GPS receiver can choose to receive signals from DBS transmitters or GPS satellites according to application environments. Assistance data is used when the receiver operates in assisted mode. The present invention provides a plurality of positioning modes. The receiver is able to switch between different positioning modes depending on the received signal strength or working environments. The plurality of positioning modes include standalone GPS positioning mode assisted GPS AGPS positioning mode assisted GPS positioning with DBS assist mode DBS positioning with GPS assist mode standalone DBS positioning mode and assist DBS positioning mode. The following description will explain each mode in detail.

Standalone GPS positioning mode is directed to conventional applications under open sky and outdoor environment. The receiver requires the GPS signals transmitted from at least 4 satellites. The receiver extracts the coordinate information from the four GPS signals and determines the time difference for receiving the four GPS signals as understood by those skilled in the art. Thus the user position can be calculated based on the formula given by equation group 3 .

In this mode the receiver receives and uses the GPS signals and the GPS assistance data from the assist station i.e. assist server in . The AGPS positioning mode utilizes assistance data from the assist station to assist the positioning in terms of acquiring and tracking stage. The GPS assistance data include Doppler shift Doppler shift rate and navigation data. Assisted by the GPS assistance data the receiver may perform coherent integration in a long time period and obtain a higher gain of the spread spectrum signal. However the use of the assistance data requires an accurate GPS time. Therefore the receiver working in AGPS mode must undertake a critical step clock synchronization. That is the local time of the receiver must be synchronized with the GPS time before the utilizing the assistance data. One approach to realize time synchronization is to use a large quantity of parallel correlators to conduct correlation based on a certain GPS signal. When the certain GPS signal is acquired the receiver then starts to search and acquire more GPS signals from other GPS satellites. The method is severely affected by unfavorable network delay that may occur during the transmission of the assistance GPS data. A long network delay may result in a huge amount of computation task. In addition when the network delay period is unknown the time synchronization method may also take a lot of time. Therefore to achieve a higher efficiency AGPS mode requires a short network delay period and a large amount of parallel correlators.

According to one embodiment of the present invention DBS signal may be used to assist AGPS positioning by dramatically reducing the time spent on clock synchronization and thereby enhancing the performance of AGPS. For example when the DBS signal is a DVB signal or DAB signal synchronization time stamp STS information comprised in the DVB or DAB signal can be extracted from each frame. If the measurement unit of the STS is 100 ns it helps to determine the time when a next mega frame is transmitted. Since the transmission distance from the DBS transmission station to the receiver is generally no longer than 75 Km the transmission delay is less than 75 Km 300 000 Km 0.25 ms. The duration can be advantageously used to realize time synchronization in AGPS mode and consequently realize accurate and fast positioning under indoor environment. Assisted GPS positioning with DBS assist has outstanding advantages over traditional AGPS in terms of TTFF Time To First Fix performance especially under conditions when the number of DVB DAB transmitters are limited.

This positioning mode is desirable in the situation when both the number of DBS transmitters and the number of visible GPS satellites are limited for instance 2 DBS transmitters and 3 visible GPS satellites. In this case the receiver receives both DBS signals and GPS signals. Therefore this positioning mode is also referred to as a mixed positioning mode. It should be noted that the total number of the transmission stations including DBS transmitters and GPS satellites should be at least five stations. The reason for using at least five stations is that the mixed employment of the two positioning systems may introduce a new unknown factor the transmission time difference between the two systems . Originally in equation group 3 the location information from the 4 transmission stations may help to calculate the four unknowns x y z and M. However with the introduction of the new unknown factor one more equation is needed to calculate the additional unknown factor. Therefore there should be at least five transmission stations to provide the coordinate information and the equation group 3 should be amended accordingly. The user position can be determined by analyzing the GPS signals and DVB DAB signal information in a composite way.

In the environments such as underground parking lots and tunnels where GPS satellites are invisible only standalone DBS positioning mode is effective. The standalone DBS positioning mode requires signals from at least three DVB DAB transmitters to conduct 2 Dimensional positioning. In this mode no reference station is needed.

To improve the positioning accuracy DBS assist station can be adopted to provide precise clock information. Fox example the assist station receives the same DVB DAB signal and calculates the transmission time difference Tbased on coordinates of transmitter and assist station. The receiver is able to obtain the reception time difference arrival time difference Tand calculate the user information according to the equation group 3 .

The GPS RF tuner is used to receive GPS signals convert these signals to GPS intermediate frequency IF signals and send the IF signals to a base band processing unit . The DBS RF tuner is used to receive DBS signals and convert these signals to DBS intermediate frequency IF signals.

The GPS DBS hybrid signal processing unit is used to perform acquisition tracking and demodulation of the GPS IF signal and or DBS IF signal and to extract the navigation data or DBS data that indicate the locating information of the corresponding transmitter. The GPS DBS hybrid signal processing unit is further capable of measuring the time difference in receiving the GPS DBS signal T or time stamp . The GPS DBS hybrid signal processing unit outputs T and navigation data and or DBS data corresponding to x y z x y z x y z x y z in equation group 3 . The GPS DBS measurement data processing unit is used to solve the equation group 3 and output the user coordinates velocity time and other user concerned information. The GPS DBS signal detector may detect the signal to noise ratio SNR of received GPS and or DBS signal. The SNR information is sent to GPS DBS hybrid signal processing unit and is used to determine the positioning mode as previously detailed. Based on the SNR information the GPS DBS hybrid signal processing unit is configured to operate in GPS signal processing mode standalone GPS mode AGPS mode DBS signal processing mode standalone DBS mode assist DBS mode or hybrid processing mode assisted GPS positioning with DBS assist mode DBS positioning with GPS assist mode . Usually each positioning mode is assigned a priority. Standalone GPS positioning mode assisted GPS AGPS positioning mode generally have a higher priority.

The GPS DBS assist data processing unit may process the GPS signal and DBS signal simultaneously or process one of the two types of signals. In operation the GPS DBS signal detector is able to detect which type of signal is stronger and choose the corresponding positioning mode based on the detected outcome. If no DBS signal is detected for example in suburban environment the receiver will switch to the GPS signal processing mode. If the detected GPS signal is very weak for example in the downtown area where high rises are densely built the receiver will switch to the DBS signal processing mode. Both these two modes are able to receive the assistance data from assist station to enhance the positioning performance. It should be noted that in one embodiment the GPS DBS hybrid signal processing unit may internally include two hardware modules to process GPS IF signal and DBS IF signal independently. The GPS DBS assist data processing unit is enabled when assist modes are entered. The GPS DBS assist data processing unit receives GPS assistance data and or DBS assistance data and outputs the processed assistance data to the GPS DBS hybrid signal processing unit . The position output unit outputs standardized positioning results according to outputs from the previous stage .

The following descriptions of through are mainly focused on how to use T DBS signal for positioning purpose. illustrates a transmission frame of a DAB signal. A DAB T terrestrial digital audio broadcasting signal is modulated using COFDM Coded Orthogonal Frequency Division Multiplexing approach. In the mode I one of the DAB transmission frame structures the content of a broadcasting program is transmitted by 1536 carriers with 1.536M bandwidth. The audio data is encoded complying with the MPEG II standard. illustrates the frame structure of a DAB T signal in Mode 1. Data included in the frame comes from three sources synchronization channel fast information channel FIC and main service channel MIC .

The DAB signal includes two parts main signal s t and optional signal s t TII refers to Transmitter identifier information . The DAB signal is the sum of s t and s t . In fact during the transmission time of the first OFDM symbol s t is transmitted that is the first OFDM symbol carries s t information.

After the DAB signal is received OFDM Orthogonal Frequency Division Multiplexing demodulation is performed. After the frame synchronization information from synchronization channel from the transmitter can be obtained that is the TII information can be extracted. After channel decoding information from fast information channel from the transmitter can be obtained.

The format comprises a plurality of segments including transport packet header synchronization ID pointer periodic flag synchronization time stamp Tx identifier etc. MIP can be filtered out based on packet header whose characteristic word is 0x15. Synchronization ID is used to indicate the existence of SFN network whose characteristic word is 0x00. Two word pointer indicates the number of TS packets between two MIP. Periodic flag PF indicates whether MIP message is transmitted periodically or not. Synchronization time stamp STS indicates the difference between the time when a next Mega frame is output from single frequency network adapter and the standard GPS time. Tx identifier indicates which transmitter the received signal is from.

The terms and expressions which have been employed herein are used as terms of description and not of limitation and there is no intention in the use of such terms and expressions of excluding any equivalents of the features shown and described or portions thereof and it is recognized that various modifications are possible within the scope of the claims. Other modifications variations and alternatives are also possible. Accordingly the claims are intended to cover all such equivalents.

