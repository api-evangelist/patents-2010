---

title: System and method for implementing power distribution
abstract: In accordance with particular embodiments, a method for adjusting power distribution includes establishing a connection between a base station and a plurality of remote transceivers. The method also includes establishing a plurality of wireless connections with a plurality of endpoints via one or more of the plurality of remote transceivers. The method further includes determining a plurality of signal quality indications. Each signal quality indication is associated with a different one of a plurality of unique endpoint-remote transceiver pairs. The method additionally includes determining a power distribution for the plurality of remote transceivers based on the plurality of signal quality indications and an optimization equation. The optimization equation is configured to optimize a data throughput associated with the plurality of wireless connections by determining a power gain for each of the wireless connections.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09178575&OS=09178575&RS=09178575
owner: Fujitsu Limited
number: 09178575
owner_city: Kawasaki-shi
owner_country: JP
publication_date: 20101130
---
This application claims the benefit under 35 U.S.C. 119 e of U.S. Provisional Application Ser. No. 61 312 415 filed Mar. 10 2010 and entitled Method and System for Enhancing Capability of Distributed Antenna System. 

This invention relates in general to wireless networks and more particularly to a system and method for implementing power distribution.

Distributed antenna systems consist of a base station also known as a Radio Element Control or a Baseband Unit and one or more remote transceivers also known as Radio Elements or Remote Radio Heads . These components provide endpoints with wireless network access. To aid the distributed antenna system in distinguishing between the various wireless transmissions to and from the various endpoints each endpoint may have one or more unique subcarriers assigned thereto.

Within a distributed antenna system the remote transceivers are distributed around different locations while being connected via a wired connection e.g. optical fiber to the base station. Wile there may be multiple remote transceivers from the perspective of an endpoint there is only one entity the base station. That is each remote transceiver transmits essentially the same core data and the endpoint combines multiple signals from multiple remote transceivers into a single communication.

The base station communicates with the remote transceivers using for example the Common Public Radio Interface CPRI standard. The CPRI standard allows in phase quadrature I Q data to be transmitted from the base station to the remote transceivers. The remote transceivers use the I Q data to form the transmissions that are sent to any endpoints connected thereto. The remote transceivers are also able to communicate with the base station using the CPRI standard. This allows the remote transceivers to relay data received from the endpoints and to communicate control information such as signal quality to the base station.

In accordance with a particular embodiment a method for adjusting power distribution includes establishing a connection between a base station and a plurality of remote transceivers. The method also includes establishing a plurality of wireless connections with a plurality of endpoints via one or more of the plurality of remote transceivers. The method further includes determining a plurality of signal quality indications. Each signal quality indication is associated with a different one of a plurality of unique endpoint remote transceiver pairs. The method additionally includes determining a power distribution for the plurality of remote transceivers based on the plurality of signal quality indications and an optimization equation. The optimization equation is configured to optimize a data throughput associated with the plurality of wireless connections by determining a power gain for each of the wireless connections.

Technical advantages of particular embodiments may include providing power distribution to multiple remote transceivers that increases the data throughput associated with the wireless connections. Other technical advantages will be readily apparent to one skilled in the art from the following figures descriptions and claims. Moreover while specific advantages have been enumerated above various embodiments may include all some or none of the enumerated advantages.

Distributed antenna system may be coupled to network via base station . Distributed antenna system provides wireless coverage for endpoints over a large geographic area. For example a single base station e.g. base station and a plurality of remote transceivers e.g. remote transceivers may be used to provide wireless coverage for an entire building. Because remote transceivers are distributed over a geographical area the distance between an endpoint and each remote transceiver may be different. In particular embodiments the signal quality between an endpoint and a remote transceiver may generally increase as the endpoint gets closer to the remote transceiver. Particular embodiments may take advantage of this increased signal quality by increasing the transmission power for the subcarriers associated with the signal having the better quality. Because a remote transceiver has a finite amount of transmission power an increase in power for a particular subcarrier may be balanced by a corresponding decrease in power of another subcarrier. In certain embodiments the power distribution calculated by base station may increase the data throughput of the remote transceivers by distributing power

Depending on the embodiment distributed antenna system may use any of a variety of wireless technologies or protocols e.g. IEEE 802.16m or 802.16e or long term evolution LTE for communications between remote transceivers and endpoints . The multiple remote transceivers appear to endpoints as a single entity an extension of base station . Thus each remote transceiver may attempt to send the same core data to endpoints and may potentially receive the same data from endpoints . The differences in the data that is sent or received may be the result of the respective distances of each remote transceiver from a particular endpoint and as will be discussed in more detail below the amount of power applied to each subcarrier at each remote transceiver.

Depending on the embodiment distributed antenna system may use any of a variety of different wired technologies or protocols e.g. CPRI for communications between remote transceivers and base station . In particular embodiments base station may be configured to adjust the power either directly e.g. incorporating the power distribution in the I Q samples that are sent to the remote transceivers or indirectly e.g. providing power distribution values to each remote transceiver from which the remote transceivers can determine their respective power distribution that each remote transceiver applies to its transmissions. By selectively increasing or decreasing the transmission power for particular subcarriers associated with particular endpoints at particular remote transceivers base station may be able to more efficiently use the available wireless resources.

Depending on the embodiment base station may use signal quality information from the various remote transceivers to determine the power distribution for each subcarrier for each remote transceiver . The signal quality information may include the received uplink power strength the maximal usable modulation and coding scheme MCS level the Carrier to Interference plus Noise Ratio CINR of the wireless connection. In particular embodiments uplink sounding may be used to estimate the channel gain and interference strength between endpoints and remote transceivers .

Network may be any network or combination of networks capable of transmitting signals data and or messages including signals data or messages transmitted through WebPages e mail text chat voice over IP VoIP and instant messaging. Network may include one or more LANs WANs MANs PSTNs WiMAX networks global distributed networks such as the Internet Intranet Extranet or any other form of wireless or wired networking. Network may use any of a variety of protocols for either wired or wireless communication.

Base station may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to implement any number of communication protocols that allow for the wireless exchange of packets in distributed antenna system . Base station may be configured to determine and distribute a power distribution to each remote transceiver . Depending on the embodiment base station may apply the power distribution to the data before it is sent to the remote transceivers for transmission or base station may send the power distribution to each remote transceiver to allow them to each individually apply the power distribution.

Remote transceivers may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to implement any number of communication protocols that allow for the wireless exchange of packets with endpoints in distributed antenna system . In some embodiments remote transceivers receive data from base station that may already include the power distribution determinations made by base station . In particular embodiments each remote transceiver may adjust the transmission power of the core data received from base station . In such an embodiment each remote transceiver receives the same core data and one or more control signals sent from base station specifying the transmission power for each subcarrier or plurality of subcarriers at each respective remote transceiver . Remote transceivers may then apply the power distribution to the core data before sending communications to endpoints .

Endpoints may comprise any type of wireless device able to send and receive data and or signals to and from base station via remote transceivers . Some possible types of endpoints may include desktop computers PDAs cell phones smart phones laptops and or VoIP phones. Endpoints may provide data or network services to a user through any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . Endpoints may also include unattended or automated systems gateways other intermediate components or other devices that can send or receive data and or signals.

The following example may help illustrate particular features of certain embodiments. For purposes of this example assume that base station only controls two remote transceivers remote transceivers and . Further assume that endpoints and are both located in the area served by remote transceivers and . To simplify the scenario assume that the scheduling algorithm at base station allocates the same number of subcarriers in a frame to each of endpoints and . Further assume that the magnitude of the channel gain between remote transceiver and endpoint is twice that of remote transceiver and endpoint and that the magnitude of the channel gain between remote transceiver and endpoint is twice that of remote transceiver and endpoint . Then based on these assumptions base station may allocate of remote transceiver s power to the subcarriers used by endpoint and to the subcarriers used by endpoint as opposed to the even and distribution of a standard distributed antenna system . Similarly base station may allocate of remote transceiver s power to the subcarriers used by endpoint and to the subcarriers used by endpoint

Although illustrates a particular number and configuration of endpoints connections links and nodes distributed antenna system contemplates any number or arrangement of such components for communicating data. In addition elements of distributed antenna system may include components centrally located local with respect to one another or distributed throughout distributed antenna system .

Distributed antenna system includes base station and remote transceivers . Base station and remote transceivers may each include one or more portions of one or more computer systems. In particular embodiments one or more of these computer systems may perform one or more steps of one or more methods described or illustrated herein. In particular embodiments one or more computer systems may provide functionality described or illustrated herein. In particular embodiments encoded software running on one or more computer systems may perform one or more steps of one or more methods described or illustrated herein or provide functionality described or illustrated herein.

The components of base station and remote transceiver may comprise any suitable physical form configuration number type and or layout. As an example and not by way of limitation base station and or remote transceiver may comprise an embedded computer system a system on chip SOC a single board computer system SBC such as for example a computer on module COM or system on module SOM a desktop computer system a laptop or notebook computer system an interactive kiosk a mainframe a mesh of computer systems a mobile telephone a personal digital assistant PDA a server or a combination of two or more of these. Where appropriate base station and or remote transceiver may include one or more computer systems be unitary or distributed span multiple locations span multiple machines or reside in a cloud which may include one or more cloud components in one or more networks.

Where appropriate distributed antenna system may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation distributed antenna system may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more distributed antenna systems may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein where appropriate.

In the depicted embodiment base station and remote transceiver each include their own respective processors and memory and storage and interfaces and and buses and . These components may work together to provide a distributed antenna system in which the power distribution for each endpoint at each remote transceiver is distributed based on a relative signal quality for each endpoint at each remote transceiver. Although a particular distributed antenna system is depicted having a particular number of particular components in a particular arrangement this disclosure contemplates any suitable distributed antenna system having any suitable number of any suitable components in any suitable arrangement. For simplicity similar components of base station and remote transceiver will be discussed together wherein the components of remote transceiver will be identified in parenthesis. However it is not necessary for both devices to have the same components or the same type of components. For example processor may be a general purpose microprocessor and processor may be an application specific integrated circuit ASIC .

Processor and or may be a microprocessor controller or any other suitable computing device resource or combination of hardware software and or encoded logic operable to provide either alone or in conjunction with other components e.g. memory or respectively wireless networking functionality. Such functionality may include providing various wireless features discussed herein. For example processor may determine how to allocate power for each subcarrier at each remote transceiver . Additional examples and functionality provided at least in part by processor and or will be discussed below.

In particular embodiments processor and or may include hardware for executing instructions such as those making up a computer program. As an example and not by way of limitation to execute instructions processor and or may retrieve or fetch instructions from an internal register an internal cache memory and or or storage and or decode and execute them and then write one or more results to an internal register an internal cache memory and or or storage and or .

In particular embodiments processor and or may include one or more internal caches for data instructions or addresses. This disclosure contemplates processor and or including any suitable number of any suitable internal caches where appropriate. As an example and not by way of limitation processor and or may include one or more instruction caches one or more data caches and one or more translation lookaside buffers TLBs . Instructions in the instruction caches may be copies of instructions in memory and or or storage and or and the instruction caches may speed up retrieval of those instructions by processor and or . Data in the data caches may be copies of data in memory and or or storage and or for instructions executing at processor and or to operate on the results of previous instructions executed at processor and or for access by subsequent instructions executing at processor and or or for writing to memory and or or storage and or or other suitable data. The data caches may speed up read or write operations by processor and or . The TLBs may speed up virtual address translations for processor and or . In particular embodiments processor and or may include one or more internal registers for data instructions or addresses. Depending on the embodiment processor and or may include any suitable number of any suitable internal registers where appropriate. Where appropriate processor and or may include one or more arithmetic logic units ALUs be a multi core processor include one or more processors and or or any other suitable processor.

Memory and or may be any form of volatile or non volatile memory including without limitation magnetic media optical media random access memory RAM read only memory ROM flash memory removable media or any other suitable local or remote memory component or components. Memory and or may store any suitable data or information utilized by base station and or remote transceiver including software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . In particular embodiments memory and or may include main memory for storing instructions for processor and or to execute or data for processor and or to operate on. As an example and not by way of limitation base station may load instructions from storage and or or another source such as for example another computer system another base station or a remote transceiver to memory and or . Processor and or may then load the instructions from memory and or to an internal register or internal cache. To execute the instructions processor and or may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions processor and or may write one or more results which may be intermediate or final results to the internal register or internal cache. Processor and or may then write one or more of those results to memory and or . In particular embodiments processor and or may execute only instructions in one or more internal registers or internal caches or in memory and or as opposed to storage and or or elsewhere and may operate only on data in one or more internal registers or internal caches or in memory and or as opposed to storage and or or elsewhere .

Bus and or may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to couple components of base station and or remote transceiver to each other. As an example and not by way of limitation bus and or may include an Accelerated Graphics Port AGP or other graphics bus an Enhanced Industry Standard Architecture EISA bus a front side bus FSB a HYPERTRANSPORT HT interconnect an Industry Standard Architecture ISA bus an INFINIBAND interconnect a low pin count LPC bus a memory bus a Micro Channel Architecture MCA bus a Peripheral Component Interconnect PCI bus a PCI Express PCI X bus a serial advanced technology attachment SATA bus a Video Electronics Standards Association local VLB bus or any other suitable bus or a combination of two or more of these. Bus and or may include any number type and or configuration of buses and or where appropriate. In particular embodiments one or more buses which may each include an address bus and a data bus may couple processor and or to memory and or . Bus and or may include one or more memory buses as described below.

In particular embodiments one or more memory management units MMUs may reside between processor and or and memory and or and facilitate accesses to memory and or requested by processor and or . In particular embodiments memory and or may include random access memory RAM . This RAM may be volatile memory where appropriate. Where appropriate this RAM may be dynamic RAM DRAM or static RAM SRAM . Moreover where appropriate this RAM may be single ported or multi ported RAM or any other suitable type of RAM or memory. Memory and or may include one or more memories and or where appropriate.

In particular embodiments storage and or may include mass storage for data or instructions. As an example and not by way of limitation storage and or may include an HDD a floppy disk drive flash memory an optical disc a magneto optical disc magnetic tape or a Universal Serial Bus USB drive or a combination of two or more of these. Storage and or may include removable or non removable or fixed media where appropriate. Storage and or may be internal or external to base station and or remote transceiver where appropriate. In particular embodiments storage and or may be non volatile solid state memory. In particular embodiments storage and or may include read only memory ROM . Where appropriate this ROM may be mask programmed ROM programmable ROM PROM erasable PROM EPROM electrically erasable PROM EEPROM electrically alterable ROM EAROM or flash memory or a combination of two or more of these. Storage and or may take any suitable physical form and may comprise any suitable number or type of storage. Storage and or may include one or more storage control units facilitating communication between processor and or and storage and or where appropriate.

In particular embodiments interface and or may include hardware encoded software or both providing one or more interfaces for communication such as for example packet based communication between base station remote transceivers any endpoints not depicted being serviced by base station any networks any network devices and or any other computer systems. As an example and not by way of limitation communication interface and or may include a network interface controller NIC or network adapter for communicating with an Ethernet or other wire based network and or a wireless NIC WNIC or wireless adapter for communicating with a wireless network.

In some embodiments interface and or may comprise one or more radios coupled to one or more antennas. In such an embodiment interface and or may receive digital data that is to be sent out to wireless devices such as endpoints via a wireless connection. The radio may convert the digital data into a radio signal having the appropriate center frequency bandwidth parameters and transmission power. The power distribution for the radio signal may have been determined and applied to each subcarrier at base station or the power distribution may be determined at base station and applied by remote transceivers . Similarly the radios may convert radio signals received via the antenna into digital data to be processed by for example processor and or . In some embodiments base station may process the data by Applying MRC to the individual incoming I Q samples from each remote transceiver determining the average received power of each subcarrier at each remote transceiver allocating transmission power to each subcarrier for each remote transceiver and perform power amplification and inverse fast Fourier transform on the data to be sent to the endpoints. In some embodiments processing the data may comprise at remote transceivers determining the average received power for each subcarrier and combining the data from the endpoint with data from the same endpoint provided by an upstream remote transceiver. Then at base station a power distribution is determined for each subcarrier for each remote transceiver .

Depending on the embodiment interface and or may be any type of interface suitable for any type of network for which distributed antenna system is used. As an example and not by way of limitation distributed antenna system may communicate with an ad hoc network a personal area network PAN a local area network LAN a wide area network WAN a metropolitan area network MAN or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example distributed antenna system may communicate with a wireless PAN WPAN such as for example a BLUETOOTH WPAN a WI FI network a WI MAX network an LTE network an LTE A network a cellular telephone network such as for example a Global System for Mobile Communications GSM network or any other suitable wireless network or a combination of two or more of these. Base station and or remote transceivers may include any suitable interface and or for any one or more of these networks where appropriate.

In some embodiments interface and or may include one or more interfaces for one or more I O devices. One or more of these I O devices may enable communication between a person and base station and or remote transceivers . As an example and not by way of limitation an I O device may include a keyboard keypad microphone monitor mouse printer scanner speaker still camera stylus tablet touchscreen trackball video camera another suitable I O device or a combination of two or more of these. An I O device may include one or more sensors. Particular embodiments may include any suitable type and or number of I O devices and any suitable type and or number of interfaces and or for them. Where appropriate interface and or may include one or more device or encoded software drivers enabling processor and or to drive one or more of these I O devices. Interface and or may include one or more interfaces and or where appropriate.

Herein reference to a computer readable storage medium encompasses one or more tangible computer readable storage media possessing structures. As an example and not by way of limitation a computer readable storage medium may include a semiconductor based or other integrated circuit IC such as for example a field programmable gate array FPGA or an application specific IC ASIC a hard disk an HDD a hybrid hard drive HHD an optical disc an optical disc drive ODD a magneto optical disc a magneto optical drive a floppy disk a floppy disk drive FDD magnetic tape a holographic storage medium a solid state drive SSD a RAM drive a SECURE DIGITAL card a SECURE DIGITAL drive a flash memory card a flash memory drive or any other suitable computer readable storage medium or a combination of two or more of these where appropriate. Herein reference to a computer readable storage medium excludes any medium that is not eligible for patent protection under 35 U.S.C. 101. Herein reference to a computer readable storage medium excludes transitory forms of signal transmission such as a propagating electrical or electromagnetic signal per se to the extent that they are not eligible for patent protection under 35 U.S.C. 101.

Particular embodiments may include one or more computer readable storage media implementing any suitable storage. In particular embodiments a computer readable storage medium implements one or more portions of processor and or such as for example one or more internal registers or caches one or more portions of memory and or one or more portions of storage and or or a combination of these where appropriate. In particular embodiments a computer readable storage medium implements RAM or ROM. In particular embodiments a computer readable storage medium implements volatile or persistent memory. In particular embodiments one or more computer readable storage media embody encoded software.

Herein reference to encoded software may encompass one or more applications bytecode one or more computer programs one or more executables one or more instructions logic machine code one or more scripts or source code and vice versa where appropriate that have been stored or encoded in a computer readable storage medium. In particular embodiments encoded software includes one or more application programming interfaces APIs stored or encoded in a computer readable storage medium. Particular embodiments may use any suitable encoded software written or otherwise expressed in any suitable programming language or combination of programming languages stored or encoded in any suitable type or number of computer readable storage media. In particular embodiments encoded software may be expressed as source code or object code. In particular embodiments encoded software is expressed in a higher level programming language such as for example C Perl or a suitable extension thereof. In particular embodiments encoded software is expressed in a lower level programming language such as assembly language or machine code . In particular embodiments encoded software is expressed in JAVA. In particular embodiments encoded software is expressed in Hyper Text Markup Language HTML Extensible Markup Language XML or other suitable markup language.

The components and devices illustrated in form distributed antenna system . From the perspective of an endpoint distributed antenna system may be perceived as a single base station. An endpoint may be unable to distinguish between a wireless transmission sent by a remote transceiver and a wireless transmission sent by a base station. The channel experienced by an endpoint is the sum of the channel responses from each of remote transceivers .

In particular embodiments base station may communicate with remote transceivers using Common Public Radio Interface CPRI . The CPRI specification supports a variety of topologies including ring tree star and chain topologies. Regardless of the topology CPRI allows multiple remote transceivers to be controlled by the same base station . In some embodiments the CPRI link may be used by base station to send receive different in phase quadrature I Q data to from each different remote transceivers . For example in some embodiments base station may apply power distribution locally to data before it is sent out to the remote transceivers. This may result in each remote transceiver receiving its own unique I Q sample. In particular embodiments the CPRI link may be used to send receive a single set of I Q samples to from remote transceivers . For example in some embodiments the power distribution may be applied individually at each respective remote transceiver. This may allow a single I Q sample to be used by all remote transceivers with each remote transceiver applying the power distribution locally.

In certain embodiments before base station allocates the power distribution it may first execute a scheduling algorithm to allocate subcarriers within a channel to the different endpoints. Once the subcarriers have been assigned base station may use the measured uplink power received from remote transceivers to redistribute the downlink power to maximize system capacity.

The allocation of power to different subcarriers at different remote transceivers in the power distribution may be based on channel response information associated with each endpoint at each remote transceiver . In particular embodiments base station may in general allocate more power to those endpoints having better channel quality at each respective remote transceiver. This may result in an improved usage of transmission power which may increase the overall system capacity.

Depending on the embodiment there may be at least three components used to determine channel response path loss shadowing and multipath. In contrast with shadowing and multipath effects path loss is the most dominant component in the channel response. Accordingly in some embodiments the shadowing effect and or multipath effect may be ignored to reduce the computational complexity of determining the power distribution. Path loss may be a function of the distance between an endpoint and a remote transceiver. The closer an endpoint is to a particular remote transceiver the higher the channel gain is between the endpoint and the remote transceiver. In distributed antenna system the varying distances between an endpoint and each remote transceiver may result in varying path losses and channel gains between remote transceivers and a particular endpoint.

In particular embodiments the closer an endpoint is to a remote transceiver the greater the power that will be allocated to the subcarriers associated with the endpoint at the respective remote transceiver. Conversely the farther an endpoint is from a remote transceiver the less power that will be allocated to subcarriers associated with the endpoint. This may allow each remote transceiver to more efficiently use their available transmission power. The non uniform power distribution to different subcarriers at different remote transceivers could enhance the signal to interference plus noise ratio SINR at the endpoint by increasing the received signal strength from the closer remote transceivers while the loss of signal strength due to the reduced power from a more distant remote transceiver may be insignificant.

In particular embodiments each remote transceiver may measure the average received power of the subcarriers allocated to each endpoint. This information may then be delivered to base station over a CPRI control channel. Base station may use the measured uplink power to approximate the downlink channel response between each remote transceiver and the endpoints. This estimation may be used by base station to determine the power distribution which base station may then send to remote transceivers using the CPRI control channel.

In some embodiments each remote transceiver may send their own respective I Q data to base station . Base station may use the individual I Q data samples to estimate the received downlink power at the endpoint e.g. it may be proportional to the determined uplink power . Using this estimated power base station may determine and apply an amount of amplification or attenuation to the downlink signal. This may be done without adjusting the phase of the downlink signal. The amplified data may then be sent to remote transceivers as individual I Q data.

The determined power distribution whether applied by remote transceivers or base station may amplify the downlink signal by a factor based on the magnitude of uplink power without adjusting phase. The power amplification may be expressed as square root over G k for the subcarrier k sent by the r th remote transceiver. The value of gain for each subcarrier at each remote transceiver may be determined by solving an optimization problem to maximize system capacity. In some embodiments the input data at base station may be multiplied by power amplification gain before IFFT operation tilde over X k square root over G k X k . The received signal at an endpoint after performing an FFT operation may be expressed as 

In certain embodiments based on information theory the system capacity of subcarrier k can be estimated as a function of SINR C k ln 1 SINR k . The objective of an optimization problem used to determine power distribution may be to determine the power amplification gain square root over G k or square of gain G k for the subcarriers of each endpoint remote transceiver pair such that the overall system capacity is maximized as compared to a system using a uniform distribution of power . The power gain applied to any one subcarrier cannot be amplified indefinitely since the total available transmission power a remote transceiver is limited to a maximum available output power P. Therefore the constraint functions in the optimization problem are that the total transmission power from each remote transceiver is less than or equal to P.

Besides P the given inputs of the optimization problem may also include P which may be the received uplink power of the k th subcarrier at remote transceiver r. As discussed above in some embodiments the downlink received power at an endpoint may be assumed to be the same as or proportional to the uplink received power at the corresponding remote transceiver. Pmay be used as the downlink received power in the SINR formula above.

Based on the above the capacity of the k th subcarrier with square root over G k power amplification may be expressed as 

In some embodiments the optimization problem may be considered without inter cell interference. This may simplify the problem to 

In particular embodiments the above mentioned objective and constraint functions may be further simplified by setting the power amplification gains for the subcarriers allocated to the same endpoint remote transceiver pair to be approximately equal. This may be based on the assumption that the pathloss between a remote transceiver and an endpoint will not vary much between subcarriers. With this simplification the number of variables G k in the optimization problem may be reduced from N N to N Nwhere Nis the number of remote transceivers N is the number of points of FFT Fast Fourier Transform in a channel and Nis the number of endpoints that receive subcarrier allocation within one TTI transmission time interval the basic time unit for scheduling decisions at base station . In some embodiments and or scenarios before power amplification a uniform power assignment may be set to all subcarriers such that P P N. The constraint function can be simplified as G S N r 1 . . . Nwhere Sis the number of subcarriers allocated to the u th endpoint.

Another way in which the above mentioned objective and constraint functions may be simplified in particular embodiments is to assume H k 1 for all subcarriers. This may be equivalent to ignoring the effect of shadowing and multipath. An alternative method may be to compute the average uplink channel gain of the subcarriers assigned to the u th endpoint UE.

In certain embodiments in which both of the above simplifications are applied the optimization formulation may be become a non linear programming problem which may be quickly solved 

In the above optimization formulation 1 Smay represent the number of subcarriers allocated to the u th end point 2 G g may represent the square of the common power amplification factor at the r th remote transceiver for all the subcarriers allocated to the u th end point 3 Pmay represent the average of the received uplink power of a subcarrier allocated to the u th end point at the r th remote transceiver 4 c may represent a constant used to calibrate the differences between the transmitting and receiving antenna gains of downlink and uplink connections 5 Nmay represent the number of the transmitting antennas at each remote transceiver 6 Nmay represent the number of the remote transceivers controlled by a base station in a cell 7 Nmay represent the number of end points that are scheduled in one TTI 8 Nmay represent the number of interference base stations 9 may represent the variance of the noise power per subcarrier 10 N may represent the number of points of FFT in a channel which may be the same as the number of subcarriers in a channel and 11 the term of the log function ln . may represent the average estimated per subcarrier capacity at the u th end point. It may be the case that the symbols in the formulation above represent mostly given parameters with G r 1 . . . N and u 1 . . . N being the variables in the formulation.

The objective of the above formulation may be to maximize the overall system capacity. The system capacity may be based on the sum of the estimated capacity of all the end points connected to base station . The first set of constraint functions may limit the total transmission power at each remote transceiver to be less than or equal to a maximum transmission power P. The constraint functions may be derived from the following inequality 1 Where Pis the power assigned to the k th subcarrier of the r th remote transceiver before the power amplification operation. In certain embodiments and or scenarios the power amplification of the subcarriers may initially be approximately equal thereby allowing Pto be P N. Moreover in certain embodiments as mentioned above the power amplification gains for different subcarriers allocated to the same endpoint remote transceiver pair may be approximately equal. This may allow the inequality to be simplified to the constraint functions in the optimization problem. The second set of constraint functions may ensure the positive or zero power amplification gains computed from the optimization problem.

In those embodiments in which inter cell interferences within a total of I cells is considered the optimization formulation may be 

Once base station has determined how to allocate the downlink power for the various subcarriers at each remote transceiver the power distribution may be applied either at base station or at remote transceivers . For example in some embodiments base station may generate I Q data for each remote transceiver that includes the core data modified by the power distribution this may be done in the frequency domain before base station performs Inverse Discrete Fourier Transform IDFT operations . This may scale the data of frequency domain before IDFT up or down proportionally such that the total power of each remote transceiver does not exceed its capabilities.

In some embodiments base station may receive a combined uplink signal from remote transceivers . For example remote transceiver may send its received uplink signal to remote transceiver . Remote transceiver may combine its own received uplink signal with the uplink signal from remote transceiver . The combined uplink signal may then be sent to remote transceiver for remote transceiver to combine with its received uplink signal. The combined uplink signal from all three remote transceivers may then be sent to base station . Accordingly base station may only receive one combined uplink I Q sample and not individual I Q samples from each remote transceiver .

In certain embodiments base station may enhance uplink capacity via Maximum Ratio Combining MRC . This may be achieved in part by determining the received signal power of the subcarriers allocated to each endpoint. Base station may further use MRC in processing each I Q data sample sent from each of remote transceivers . This may improve the array gain associated with the multiple receiving entities of remote transceivers .

In particular embodiments base station may apply the power distribution to the core data g k square root over G k before Inverse Fast Fourier Transform IFFT is applied. Both power amplification and IFFT may be done locally at base station . This may result in base station sending different I Q data to each remote transceiver . This may increase the data rate of the CPRI link. However because base station is sending different I Q data specific to each remote transceiver it may be possible to use standard remote transceivers without having to modify them to be able to make power adjustments based on a power distribution received from base station via a control channel. In particular embodiments the MRC power amplification determination FFTs to process I Q samples received from remote transceivers and the IFFTs to process I Q samples to be sent to remote transceivers may be performed by discrete modules designed specifically for each respective task. In some embodiments one or more of these features may be performed by a combination of one or more of processor memory storage bus and interface .

In particular embodiments each remote transceiver may apply the power distribution and perform IFFT locally. This may allow base station to send the same frequency domain data to each remote transceiver . This may reduce the data rate needed for the CPRI link. In certain embodiments in addition to the frequency domain I Q data base station may also send the downlink scheduling information e.g. the set of subchannels subcarriers assigned to each endpoint in the transmission time interval TTI and the power distribution for each endpoint. In particular embodiments both pieces of information may be carried over the CPRI control session or CPRI control channel. The amount of data for both power amplification gain and scheduling information is much less compared to I Q data.

In particular embodiments each remote transceiver may combine its own I Q data with the I Q data it receives from an upstream remote transceiver . The combined I Q data may then be passed to the next remote transceiver downstream towards base station . Because base station receives only a single set of I Q data based on the combination of the I Q data from each of remote transceivers base station may not be able to use the received I Q data to determine the power amplification distribution. However in certain embodiments remote transceivers may compute the average received power from particular endpoints and send this information to base station via a CPRI control signal. In some embodiments computing the received power from an endpoint may include using scheduling information from base station . In particular embodiments FFT operations may be performed at each remote transceiver thereby relieving base station of the task of performing FFT. In some embodiments remote transceivers may compute the average received power after FFT is conducted. In particular embodiments remote transceivers may comprise one or more discrete hardware modules for computing the average received power and or performing the FFT. In particular embodiments these tasks may be performed by a combination of processor memory storage and or interface .

Thus far several different embodiments and features have been presented. Particular embodiments may combine one or more of these features depending on operational needs and or component limitations. This may allow for great adaptability of distributed antenna system to the needs of various organizations and users. Some embodiments may include additional features.

At step one or more subcarriers are assigned to each of the plurality of endpoints. The base station may assign the subcarriers using any of a variety of methods. The subcarriers assigned to an endpoint are unique to the endpoint but not the remote transceivers. For example two different remote transceivers would use the same subcarrier to communicate with a particular endpoint whereas two different endpoints would use different subcarriers to communicate with a particular remote transceiver.

At step a plurality of wireless connections are established with a plurality of endpoints. The wireless connections are established via one or more of the plurality of remote transceivers. Each wireless connection may comprise a number of unique endpoint remote transceiver pairs. For example if a wireless connection is established with an endpoint via two remote transceivers then the wireless connection may comprise two unique endpoint remote transceiver pairs. While each endpoint from its perspective may have established a single wireless connection with a single base station each endpoint may actually be sending and receiving communications from a number of remote transceivers. When an endpoint receives multiple wireless signals from multiple remote transceivers it may perform various techniques for deriving the core data from the multiple wireless signals. For example in some embodiments an endpoint may combine two or more wireless signals from two or more remote transceivers each wireless signal comprises a copy of the same core data .

At step the uplink power for each endpoint remote transceiver pair is received. The received uplink power may be indicative of the received signal strength from the respective endpoint as received by the respective remote transceiver for each unique endpoint remote transceiver pair. Depending on the embodiment and or configuration the uplink power may be received on a CPRI control channel from each of the remote transceivers. For example each remote transceiver may determine the uplink power it receives from each endpoint. This information may then be sent over the CPRI control channel. In some embodiments the uplink power may be determined from the data and information sent from the remote transceivers over the CPRI data channel. For example the remote transceivers may send the base station the signals received from the endpoints with little or no processing done to the received signals. The signal may be sent over the CPRI data channel for the base station to process.

At step a signal quality indication is determined for each of the plurality of endpoint remote transceiver pairs. Each signal quality indication is associated with a different one the unique endpoint remote transceiver pairs. In this embodiment the signal quality indication may be based on the received uplink power however in other embodiments the signal quality indication may be determined from other information from which the base station may be able to determine the relative quality strength and or efficiency of a wireless connection for each endpoint remote transceiver pair.

At step the inter cell interference shadowing effect and multipath effect are determined. These determinations may increase the accuracy with which power is distributed among the endpoints at each of the remote transceivers. Some embodiments in the interest of reducing the computational load on the base station may only make two one or none of the determinations of step .

At step an approximately equal amount of power is assumed to be assigned to each subcarrier assigned to each endpoint at each remote transceiver. This may have the effect of treating the subcarriers assigned to an endpoint as a single channel. This takes advantage of an assumption that there is little or no difference in the signal quality between the subcarriers that are assigned to a particular endpoint remote transceiver pair. Thus it may reduce the computational complexity of determining the power distribution by assuming that a particular remote transceiver will use the same power for all the subcarriers it uses for the wireless connection with a particular endpoint.

At step a power distribution is determined that optimizes the system s capacity. The power distribution assigns power to the subcarriers used by the remote transceivers for the wireless connections with the endpoints. In certain embodiments the better e.g. stronger clearer more efficient a wireless signal is between a remote transceiver and an endpoint the greater the amount of power that will be distributed by the remote transceiver to use in communicating with the endpoint conversely the worse a wireless signal is the less power that will be distributed by the remote transceiver to use to communicate with the endpoint. In this embodiment when the power distribution is determined the base station takes into account among other things the plurality of signal quality indications e.g. the received uplink power the available transmission power associated with each of the plurality of remote transceivers the determined inter cell interference the determined shadowing effect and the determined multipath effect. The various determinations and received data are applied to an optimization equation configured to optimize a data throughput associated with the plurality of wireless connections. The optimization equation may generate a power gain for each subcarrier of the wireless connections in this embodiment the subcarriers for a wireless connection associated with a particular endpoint remote transceiver pair are assumed to all be approximately equal .

In certain embodiments once the base station has made its determination for how each remote transceiver is to allocate power among the plurality of endpoints the base station may encode the information into a control signal. The control signal may be transmitted to each remote transceiver either globally or individually. The base station may then transmit a global data signal. The remote transceivers may modify the data based on the power distribution received in the control signal. This may result in each remote transceiver transmitting a different signal.

In some embodiments once the base station has determined the power distribution it may apply the power distribution to the data before it is sent to the remote transceivers for broadcast to the endpoints. Each remote transceiver may be given a different data signal for which includes the appropriate power distribution has already been applied. The remote transceivers may then simply transmit the received data without having to make any modifications to the data based on the power distribution e.g. the base station has already done the modifying .

Some of the steps illustrated in may be combined modified or deleted where appropriate and additional steps may also be added to the flowchart. For example in some embodiments one or more of the inter cell interference shadowing effect and multipath effect may not be determined. Additionally steps may be performed in any suitable order without departing from the scope of particular embodiments.

While various implementations and features are discussed with respect to multiple embodiments it should be understood that such implementations and features may be combined in various embodiments. For example features and functionality discussed with respect to a particular figure such as may be used in connection with features and functionality discussed with respect to another such figure such as according to operational needs or desires.

Although particular embodiments have been described in detail it should be understood that various other changes substitutions and alterations may be made hereto without departing from the spirit and scope of particular embodiments. For example although an embodiment has been described with reference to a number of elements included within distributed antenna system such as endpoints base stations and remote transceivers these elements may be combined rearranged or positioned in order to accommodate particular routing architectures or needs. In addition any of these elements may be provided as separate external components to distributed antenna system or each other where appropriate. Particular embodiments contemplate great flexibility in the arrangement of these elements as well as their internal components.

Numerous other changes substitutions variations alterations and modifications may be ascertained by those skilled in the art and it is intended that particular embodiments encompass all such changes substitutions variations alterations and modifications as falling within the spirit and scope of the appended claims.

