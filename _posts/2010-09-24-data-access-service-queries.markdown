---

title: Data access service queries
abstract: A technique is described for selectively obtaining information stored in a business warehouse. Such a technique may include selecting a data access service from a library during run-time and presenting data within the business warehouse using the selected data access service. The library may contain at least one data access service for each of a plurality of on-line analytical processing data access queries. Related apparatus, systems, computer program products, and computer systems are also described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07991731&OS=07991731&RS=07991731
owner: SAP AG
number: 07991731
owner_city: Walldorf
owner_country: DE
publication_date: 20100924
---
This application is a continuation of U.S. application Ser. No. 11 087 203 filed Mar. 22 2005 now U.S. Pat. No. 7 814 044 entitled DATA ACCESS SERVICE QUERIES the disclosure of which is incorporated herein by reference.

This subject matter described herein relates to accessing business warehouse data and more particularly to on line analytical processing.

Business warehouse arrangements are becoming increasingly popular as enterprises aggregate data from disparate sources. Information stored in business warehouses may be used for example by tools that visualize such data for analytical purposes e.g. pivot tables slice and dice mechanisms drilldown capabilities etc. or for presentation purposes e.g. charts cockpits etc. .

Data from within a business warehouse may be obtained in response to an on line analytical processing OLAP query. OLAP queries may retrieve subsets of data stored within a business warehouse. Queries may also be used to provide supporting infrastructure such as aggregation evaluation of conditions and calculation of additional number not directly provided by the business warehouse.

In order to facilitate responses to an OLAP query the underlying data is stored in a multi dimensional cube format. Each axis of the cube contains identifiers from a field column in a database table and is referred to as a dimension. For example a first dimension may contain product names a second dimension may contain store names and a third dimension may contain measures relating to the various products and stores e.g. volume cost revenue etc. . In most cases a dimension is comprised of the same class of objects.

The outputs resulting from OLAP queries are typically complex result sets that may consist of information for row headers column headers and all data cells. If an OLAP query result is too complex business processes may be disrupted and processing resources may be unnecessarily consumed.

In one aspect a method for selectively obtaining information stored in a business warehouse comprises selecting a data access service from a library during run time wherein the library contains at least one data access service for each of a plurality of on line analytical processing data access queries and presenting data within the business warehouse using the selected data access service.

There are also numerous other variations that may be implemented singly or in combination with the generation or definition of a data access service.

In one variation the may method may additionally comprise receiving an on line analytical processing data access query having dimensions and measures selecting input parameters from the dimensions of the data access query selecting output parameters from at least one of the dimensions and measures of the data access query generating a data access service based on the selected input and output parameters and storing the data access service in the library.

The method may also include presenting a user with a series of interrogatories within a graphical user interface e.g. a wizard process to select at least one of the input and output parameters.

Various actions may be taken in order to select the input and or output parameters. For example the method may further comprise selecting at least one dimension of the data access service query in a row or a column format as an input parameter. Output parameters or non mandatory input parameters may be selectively removed. Input parameter capabilities may be restricted from a multiple value input to a single value input. Input parameter values may be overwritten with default input parameter values. Other filtering selection schemes may be implemented based on the desired configuration and output.

The method may also provide that a single measure or a single dimension of the data access service query is selected as an output parameter. Optionally or in addition the method may further comprise filtering query data along a dimension corresponding to the selected input parameter of the data access service

All dimension may be aggregated with the exception of any dimensions specified as an output of the data access service. In some variations a description is associated for each data access service. Such descriptions may be used in order to select an appropriate data access service by for example word searching .

In another aspect a computer implemented method for generating a data access service comprises receiving an on line analytical processing data access query having dimensions and measures selecting input parameters from the dimensions of the data access query selecting output parameters from at least one of the dimensions and measures of the data access query and generating a data access service based on the selected input and output parameters. This method may optionally also include storing a plurality of generated data access services in a library.

In yet another aspect an apparatus to selectively obtain information stored in a business warehouse comprises a selection unit to select a data access service from a library during run time wherein the library contains at least one data access service for each of a plurality of on line analytical processing queries and a presentation unit to present data within the business warehouse using the selected data access service.

The apparatus may in some variations also include a receiver to receive an on line analytical processing data access query having dimensions and measures a selection unit to select input parameters from measures of the data access query and to select output parameters from at least one of the dimensions and measures of the data access query and a generator to generate a data access service based on the selected input and output parameters.

In another aspect a technique may be used to define a data access service based on existing queries. Such a technique may allow data access services to be accurately defined and a user to define the data access service via a wizard process for existing queries. If an appropriate query does not exist then an infrastructure for building queries may be reused for building data access services. That way for the processing of a data access service the capabilities of the query may be reused.

The technique may include a heuristic portion during the definition of a data access service and during the processing of a data access service. During definition of a data access service the input and output of the data access service may be defined based on the dimensions and measures in a query. For example all dimensions of a query that are in rows and columns may be selected as a possible input of the data access service. One of the measures of the query may be defined as a possible output of the data access service. Moreover the data access service may be defined such that only one dimension or one measure can be output.

The technique may further include using OLAP capabilities of queries during the processing of the data access services in order to reduce the complexity of a result set output from the data access service. This complexity reduction may be accomplished for example by applying all input as filtering for an appropriate dimension. The complexity reduction may additionally or in the alternative aggregate all dimensions with the exception of a dimension that has been specified as an output. Optionally a list of dimension members may be returned if the output is a dimension or all dimensions may be aggregated and a single number for that measure may be returned if the output is a measure.

Computer program products which may be embodied on computer readable material are also described. Such computer program products may include executable instructions that cause a computer system to conduct one or more of the method acts described herein.

Similarly computer systems are also described that may include a processor and a memory coupled to the processor. The memory may encode one or more programs that cause the processor to perform one or more of the method acts described herein.

The subject matter described herein may provide one or more of the following advantages. For example the subject matter described herein allows business warehouse data to be made available as a semantically rich service e.g. a data access service . Design tools for creating such services are also provided and data access services may be executed at runtime. In addition the data access services described herein may expose all types of data available in a business warehouse. Such data may include master and fact data as well as a URL parameter container to create parameterized links to business warehouse queries templates.

The subject matter described herein enables data access services to seamlessly work together with processes at design time and at runtime. In addition at process design time a process design tool may facilitate the location and incorporation of data access services.

Data returned by a data access service may be mapped into a process context to further drive the data process i.e. branch differently depending on the importance of a customer etc. . Therefore the result of a data access service may be used to provide context specific access to business intelligence data for a user working on a task generated by the process.

The details of one or more variations of the subject matter described herein are set forth in the accompanying drawings and the description below. Other features and advantages of the subject matter described herein will be apparent from the description and drawings and from the claims.

The following provides optional variations for understanding and implementing the subject matter described herein. These variations may be combined where appropriate or may be added singly to the methods and apparatus described herein.

A Data Access Service Designer e.g. a business warehouse tool which may be web based may be used to build a Data Access Service . The Data Access Service Designer may read specific information of an underlying business warehouse object via a Data Access Service Provider Interface . The Data Access Service Designer may include an object tagger to attach semantic information to a service and its input and output parameters from for example a tagging information unit . Optionally the object tagger may be external to the Data Access Service Designer . The tagging information may be persisted on a database in a business warehouse. External tools may be used to find an appropriate data access service via a Search API

The Data Access Service Designer provides a user interface for creating and changing a Data Access Service . The Data Access Designer may allow the selection of a specific business warehouse object which may act as a DAS Provider . The Data Access Service Designer exposes a DAS Provider Interface as data access service which may allow removal of output and or non mandatory input parameters setting of optional parameters to mandatory parameters further restriction of input parameter capabilities e.g. from multiple values to a single value provision overwriting of default values for input parameters and removal of mandatory variables. The Data Access Designer may also allow semantic enrichment of parameters of the data access service.

The Data Access Service may be a business warehouse object type that represents a service to obtain data from a business warehouse. One purpose of the Data Access Service may be to provide access to business warehouse data by means of pre existing business warehouse object types e.g. query infoobject with master data etc. . The Data Access Service may be persisted on a business warehouse server in database tables.

A Data Access Service application programming interface API may be used by the client to initiate the Data Access Service . The API may include a process design time API that may be called by process modeling tools and a process runtime part that may be called by process engines . The design time API may be used to obtain the details of the input and output parameters of a specific Data Access Service and the run time API may be used for actual requests for data.

A Data Access Service Provider that handles queries templates and objects may be accessed via a Data Access Service Provider Interface which in turn includes a Service Provider Query module a Service Provider Template module and a Service Provider Object module . The Data Access Service Provider wraps an existing business warehouse object type query infoobject with master data etc. to expose its data as a data access service i.e. the DAS Provider implements the Data Access Service Provider Interface .

At design time the client finds the appropriate Data Access Service via the Search API . After that access to the specified Data Access Service may be accomplished via the Data Access Services API which is a set of interfaces implemented by the Data Access Service Implementation .

In some variations a wizard process as illustrated in may be utilized by a Data Access Service Designer to lead a user through the steps that may be used to create a data access service. A wizard process presents a user with a graphical user interface and a series of sequential interrogatories which guide the user through the process of designing a data access service. At step the wizard may prompt the user to select a desired service provider e.g. query template master data etc. . At step the wizard may prompt the user to select required input parameters and to create attributes for the parameters. At step the wizard may prompt the user to select output parameters and to create attributes for the parameters. At step the wizard may prompt the user to describe the data access service and to create attributes for the service.

The description of input parameters may include for example data type if the DAS provider is a query the data type for input parameters may be based on the associated characteristic a flag indicating if that input parameter is mandatory for that service additional flags that indicate if the input parameter supports a multiple values b intervals and or c multiple intervals. The description of the output parameters may include for example data type of the output parameter a flag that indicates if the output parameter contains multiple values additional flags that indicate if the output parameter may carry a a currency b a unit and the like.

A typical data access service based on an OLAP query may for example have input parameters based on characteristics in the query e.g. department fiscal year etc. and output parameters based on key figures in the query e.g. budget . When such a data access service is called e.g. with a specific fiscal year as input parameter value it would by means of the heuristics described above return as value for the output parameter budget the budget aggregated over all departments for that fiscal year. Alternatively a call of the same data access service with a specific fiscal year and a specific department as input parameter values would return as value of the output parameter budget the budget of the specified department in the specified fiscal year.

The attributes attached to or otherwise associated with input and output parameters of a data access service provide information to identify the parameters and their respective functionality. For example the attributes e.g. service and parameter descriptions may be searchable in order to facilitate the selection of a proper data access service. In some variations a central repository may aggregate attributes for various data access services across multiple services for example a business warehouse as well as a Customer Relationship Management system into a Universal Description Discovery and Integration repository . Such attributes may also be used to generate a library of data access services.

Various implementations of the subject matter described herein may be realized in digital electronic circuitry integrated circuitry specially designed ASICs application specific integrated circuits computer hardware firmware software and or combinations thereof. These various implementations may include implementation in one or more computer programs that are executable and or interpretable on a programmable system including at least one programmable processor which may be special or general purpose coupled to receive data and instructions from and to transmit data and instructions to a storage system at least one input device and at least one output device.

These computer programs also known as programs software software applications or code include machine instructions for a programmable processor and may be implemented in a high level procedural and or object oriented programming language and or in assembly machine language. As used herein the term machine readable medium refers to any computer program product apparatus and or device e.g. magnetic discs optical disks memory Programmable Logic Devices PLDs used to provide machine instructions and or data to a programmable processor including a machine readable medium that receives machine instructions as a machine readable signal. The term machine readable signal refers to any signal used to provide machine instructions and or data to a programmable processor.

To provide for interaction with a user the subject matter described herein may be implemented on a computer having a display device e.g. a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the user and a keyboard and a pointing device e.g. a mouse or a trackball by which the user may provide input to the computer. Other kinds of devices may be used to provide for interaction with a user as well for example feedback provided to the user may be any form of sensory feedback e.g. visual feedback auditory feedback or tactile feedback and input from the user may be received in any form including acoustic speech or tactile input.

The subject matter described herein may be implemented in a computing system that includes a back end component e.g. as a data server or that includes a middleware component e.g. an application server or that includes a front end component e.g. a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation of the subject matter described herein or any combination of such back end middleware or front end components. The components of the system may be interconnected by any form or medium of digital data communication e.g. a communication network . Examples of communication networks include a local area network LAN a wide area network WAN and the Internet.

The computing system may include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

Although a few variations have been described in detail above other modifications are possible. For example the logic flow depicted in the accompanying figures and described herein do not require the particular order shown or sequential order to achieve desirable results. Other embodiments may be within the scope of the following claims.

