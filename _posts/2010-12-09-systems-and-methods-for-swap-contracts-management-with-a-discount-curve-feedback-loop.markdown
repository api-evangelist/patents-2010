---

title: Systems and methods for swap contracts management with a discount curve feedback loop
abstract: A method, system, apparatus and media are directed to managing trading of financial instruments with a clearinghouse as a counter-party to trades. A plurality of inputs that includes trade data for trades executed using the computer system is received. A discount curve for projected prices of a swap contract over time based on the received plurality of inputs is determined in real-time. A swap contract price is valued based on the determined discount curve. A margin requirement is determined for a user who wishes to trade or hold a position in the swap contract in the user's account based on the swap contract price. Data about a trade of the swap contract that is executed within the computer system is incorporated into the trade data used for determining the discount curve to provide a feedback loop into the real-time determination of the discount curve.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08190503&OS=08190503&RS=08190503
owner: International Derivatives Clearing Group, LLC
number: 08190503
owner_city: New York
owner_country: US
publication_date: 20101209
---
This application claims the benefit of U.S. Provisional Application 61 288 247 filed Dec. 18 2009 the entire content of which is expressly incorporated herein by reference thereto.

The present invention relates to managing a computer system for electronic trading of financial instruments with a clearinghouse as a counter party to trades and more and more particularly but not exclusively to managing swap contracts.

The Commodity Futures Modernization Act CFMA of 2000 regulates futures clearinghouses. The CFMA permits clearinghouses to participate in the clearing of Over the Counter OTC derivatives. Prior to the CFMA OTC contracts had to be cleared bilaterally that is between the two counterparties to a contract. After the CFMA OTC contracts could be cleared multilaterally that is collectively across multiple OTC counterparties through a central clearinghouse. 

Futures clearinghouses including the NYMEX clearinghouse offers products that facilitate OTC clearing. The clearinghouses offer for example OTC clearing services on selected energy products. The clearinghouses convert OTC positions into futures positions and then clears the futures positions. OTC positions are converted to futures through a transaction called an exchange of futures for swaps or EFS transaction. The parties to EFS are allowed to privately negotiate the execution of an OTC swap and related futures transaction on their own pricing terms. To initiate an EFS position a market participant must work through a member of the clearinghouse. The clearing member is responsible for evaluating the creditworthiness of the market participant.

Certain types of derivative contracts such as interest rate swap contracts are traded in a bilateral manner in an OTC market between buyers and sellers and have not traditionally been traded on an electronic exchange with a clearinghouse as a counter party e.g. multilateral clearing . Because these contracts have not been traded on an electronic exchange with a clearinghouse as a counter party certain efficiency accuracy and transparency in the use of technical components of the exchange have not been realized. For example accurate and timely management of the computer system for providing the exchange and accurate and timely data management data presentation margin management and other financial risk management of the trading system itself has not been needed or realized.

Moreover bilateral trading without the use of an accurate timely and risk managed electronic exchange e.g. using a computer system creates systemic risk in the financial system that for example is attributed in part to the financial crisis in the second half of 2008. Risks of defaults by the bilateral parties also increase transaction costs and create risks in the global financial markets. A lack of an open exchange and a lack transparency of the costs and values of these derivative trading also create systemic risk for example the risk that failure of a single market participant having a disproportionate effect on the overall market the risk of financial bubbles and dangerous imbalances or the like. Therefore it is with respect to these problems and others that the current invention is directed.

One embodiment of the present invention is directed to a computer implemented method for managing a computer system for electronic trading of financial instruments that include swap contracts with a clearinghouse as a counter party to trades. In one embodiment each step is conducted by a computer system. In one embodiment the steps include receiving in real time a plurality of inputs that includes trade data for trades of swap contracts executed using the computer system determining by an electronic component within the computer system in real time a discount curve for projected prices of future swap contracts over time based on the received plurality of inputs and incorporating data about a trade of the swap contract that is valued based on the discount curve and that is executed within the computer system into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve to provide information that assists in managing the electronic trading of the financial instruments.

In one embodiment the inputs include data for historical or real time trades of swap contracts and the method further includes valuing a swap contract price based on the determined discount curve and determining a margin requirement for a user who wishes to trade or hold a position in the swap contract based on the swap contract price and the determined discount curve with the trading or holding managed in a user account.

In one embodiment the executing of the trade for the user further includes receiving a request for the trade of the swap contract by the user based on the provided determined discount curve and the swap contract price and executing the trade at a price that is based on the swap contract price.

In one embodiment the discount curve is determined in real time by aggregating the inputs based on a source of the inputs wherein the source of the inputs includes an interbroker dealer specializing in a type of the swap contract financial data vendors and prior trades executed using the computer system and wherein the inputs include characteristics that include a bid price an offer price a best offer price a best bid price and a time filtering the inputs based on the source of the inputs and the characteristics of the inputs projecting the discount curve through data points in time that are based on the filtered inputs and constraining the projected discount curve at or near a time of at least one of the inputs based on the best offer price and the best bid price.

In one embodiment the determining in real time of the discount curve includes filtering the inputs based on the source of the inputs and a value of the inputs weighting the inputs based on the source of the inputs and the characteristics of the inputs.

In one embodiment the method further includes providing in real time to a plurality of users the determined discount curve and the swap contract price wherein the swap contract price has a price range that includes three or more decimal places wherein the provided discount curve includes a plurality of time portions associated with a type or rate of the swap contract wherein the portions includes a short term portion a medium term portion and a long term portion.

In one embodiment the method further includes valuing the swap contract price by calculating the swap contract price over a plurality of dates based on a net present value of a cash flow for the swap contract and a discount rate that is based on the discount curve.

In one embodiment the method further includes receiving a plurality of swap contracts configured for trading over a network or market determining data structures based on the plurality of swap contracts for trading within the computer system and based on the determined data structures transferring an interest rate exposure of the plurality of swap contracts into a centrally cleared environment by providing executions for trading the plurality of swap contracts with the clearinghouse as the counter party.

In one embodiment the method further includes providing a margin call report for a hierarchy of users ranging over a company level a group level and an individual trader level based on the determination of the user s margin requirement.

In one embodiment method further includes providing in real time to the plurality of users data from the inputs in a user interface that includes the discount curve determined from such data. In one embodiment the method further includes providing in real time to the plurality of users the determined discount curve and the swap contract price wherein the discount curve is configured as data compatible for computing trading strategies or validation of contract prices of at least one of the financial instruments or swap contracts to be traded.

In one embodiment the trading of the swap contracts includes recording in processor readable media a sell or buy of the trade at the price in an account of the clearinghouse wherein other trades within the computer system is recorded against the clearinghouse account.

In one embodiment the determining of the margin requirement further includes determining a long and short position of the user in each contract held by the user determining margin charges for a plurality of buckets each bucket including at least one year wherein a charge in each bucket is netted or offsetted based on a charge in other buckets for other years and determining the margin requirement in a current time based on the determined positions and the margin charges.

One embodiment of the present invention is directed to a computer system for electronic trading of financial instruments that include swap contacts with a clearinghouse as a counter party to trades comprising a server configured to perform actions that include receiving in real time a plurality of inputs that includes trade data for trades executed using the server determining in real time a discount curve for projected prices of future swap contracts over time based on the received plurality of inputs and incorporating data about a trade of the swap contract that is valued based on the discount curve and that is executed within the computer system into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve to provide information that assists in managing the electronic trading of the financial instruments. The computer system can also include a third party data provider device configured to provide pricing data and a client device configured to send trade information to the server to trade the financial instruments.

In one embodiment the inputs include data for historical or real time trades of swap contracts and the discount curve is determined by filtering the inputs for outlier data weighting the inputs based on their source and computing the discount curve based on a decomposition of a covariance matrix of the filtered and weighted inputs.

In one embodiment the discount curve includes a plurality of time portions associated with a type or rate of the swap contract wherein the portions includes a short term portion a medium term portion and a long term portion.

In one embodiment the actions further includes valuing of the swap contract price by calculating the swap contract price over a plurality of dates based on a net present value of a cash flow for the swap contract and discount rate that is based on the discount curve.

One embodiment of the present invention is directed to a computer apparatus for managing electronic trading of financial instruments that include swap contacts with a clearinghouse as a counter party to trades comprising a transceiver for sending and receiving data a processor. In one embodiment the process is configured to perform actions that include receiving in real time a plurality of inputs that includes trade data for trades executed using the apparatus determining in real time a discount curve for projected prices of future swap contracts over time based on the received plurality of inputs and incorporating data about a trade of the swap contract that is valued based on the discount curve and that is executed within the computer system into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve to provide information that assists in managing the electronic trading of the financial instruments.

In one embodiment the discount curve is determined by filtering the inputs for outlier data weighting the inputs based on the source of the inputs and computing the discount curve based on interpolation between the inputs over time that have been filtered and weighed.

In one embodiment the discount curve includes a plurality of time portions associated with a type or rate of the swap contract wherein the portions includes a short term portion a medium term portion and a long term portion.

One embodiment of the present invention is directed to a processor readable medium for managing a computer system for electronic trading of financial instruments that include swap contacts with a clearinghouse as a counter party to trades the processor readable medium comprising instructions that when executed by a processor causes the processor to perform actions that includes receiving in real time a plurality of inputs that includes trade data for trades executed using the computer system 

determining by an electronic component within the computer system in real time a discount curve for projected prices of future swap contracts over time based on the received plurality of inputs and incorporating data about a trade of the swap contract that is valued based on the discount curve and that is executed within the computer system into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve to provide information that assists in managing the electronic trading of the financial instruments.

In one embodiment the actions further includes providing a carry and decay analysis of the valued swap contract and providing a principal component analysis of the valued swap contract.

One embodiment of the present invention is directed to a computer implemented method for managing a computer system for electronic trading of financial instruments that include swap contacts with a clearinghouse as a counter party to trades. In one embodiment each step is conducted by a computer system. In one embodiment the method includes receiving historical and ongoing data about trades of bilateral swap contracts of a user to generate a discount curve with projected prices for future swap contracts simulating the trades with the clearinghouse as a simulated counterparty within the computer system based on the discount curve incorporating data about the simulated trades into trade data used for generating the discount curve to provide a feedback loop into the generation of the discount curve and generating simulated daily reports about the simulated trades comprising margin usage and pricing of the trades. One embodiment of the present invention is directed to a computer system comprising a server configured to perform the steps. One embodiment of the present invention is directed to a computer apparatus comprising a processor configured to perform the steps. One embodiment of the present invention is directed to a processor readable medium comprising instructions that when executed by a processor causes the processor to perform the steps.

One embodiment of the present invention is directed to a computer implemented method for managing a computer system for reducing risk during electronic trading of financial instruments that include swap contacts with a clearinghouse as a counter party to trades. In one embodiment each step is conducted on a computer system. In one embodiment the method includes managing trading of a user that meets risk standards by managing a margin requirement of the user based on a computed discount curve for a plurality of swap contracts netting and offsetting similar contacts managed by the system to reduce overall residual risk of the electronic trading of the financial instruments between users the clearinghouse and incorporating data about the trading of the user into trade data used for computing the discount curve to provide a feedback loop into the computation of the discount curve to provide information that assists in managing the electronic trading of the financial instruments.

Other embodiments of the present invention are directed to a computer system comprising a server configured to perform the method a computer apparatus comprising a processor configured to perform the previous methods and a non transitory processor readable medium comprising instructions that when executed by a processor causes the processor to perform the previous methods.

The following description is presented to enable any person of ordinary skill in the art to practice the present invention. Various modifications to the preferred embodiment will be readily apparent to those of ordinary skill in the art and the principles defined herein may be applied to other embodiments and applications without departing from the spirit and scope of the present invention and appended claims. Thus the present invention is not intended to be limited to the specific embodiments shown but the claims are to be accorded an appropriate scope consistent with the principles and features disclosed herein as understood by skilled artisans.

As used herein the term component refers to computer implemented mechanisms including software combined with hardware such as a computer process and or computer memory or purely hardware mechanisms such as an application specific integrated circuit ASIC or the like.

As used herein the term financial instrument contract includes data structures and computer processor executed rules for representing a obligations of a plurality of parties including the obligations to transact commerce pay monies provide information through a variety of mechanisms including computer and or network based mechanisms or the like.

As used herein the term derivative contract includes data structures and computer processor executed rules for representing a financial instrument that is derived from some other asset index event value or condition known as the underlying asset . As used herein the term swap swap contract and or interest rate swap refers to a derivative contract in which one party exchanges a stream of interest payments for another party s stream of cash flows. Interest rate swaps can be used by hedgers to manage their fixed or floating assets and liabilities. These data structures preferably are stored and managed in computer readable memory such as main memory cache files databases data streams or the like.

Generally aspects of the invention are directed to a method system apparatus and media for providing an exchange and clearinghouse for trading swap contracts. Embodiments of the invention are directed to manage trading of financial instruments with a clearinghouse as a counter party to trades. A plurality of inputs that includes trade data for trades executed using the computer system is received. A discount curve for projected prices of a swap contract over time based on the received plurality of inputs is determined in real time. A swap contract price is valued based on the determined discount curve. A margin requirement is determined for a user who wishes to trade or hold a position in the swap contract in the user s account based on the swap contract price and or the determined discount curve. Data about a trade of the swap contract that is executed within the computer system is incorporated into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve.

While the description below is directed to trading on an exchange and or a clearinghouse the system can be modified to for the trading of the swap to occur off the exchange at an OTC market based on the discount curve provided through the system and the trade can be recorded and or cleared within the system. In one embodiment where exchange processing is mentioned the system can be modified to provide trade in an OTC and settle trade within the system.

In one embodiment components of the system are configured to receive in real time a plurality of inputs that includes at least real trade data e.g. ask price bid price and trade rate performed within the system. The components can be configured to determine in real time a discount curve that reflects the projected future price of the swap contract based on the plurality of inputs.

In one embodiment the components can value the swap contract price in real time based on the determined curve. For example the swap contract price can be valued for at least 30 years and or rest of the lifetime of the swap contract the dates and associated cash flow for the swap contract is determined the discount rate is determined based on the curve and or the price is determined based on the net present value that is based on the cash flow and discount rate.

In one embodiment the components can determine in real time a margin requirement for an account of a trader who wishes to trade or holds a position in the swap contract based on the discount curve and the valued swap contract price. For example the margin requirement can also be determined based on the characteristics of all swap contracts owned by the trader the long and short positions of the trader the amount of funds available for the trader and or a history of trading of the trader and or the margin calculation can be based on computing the margin charges per buckets over a plurality of years where the charge in each bucket can be netted or offsetted based on the charge in other buckets for other years.

In one embodiment the components can electronically trade the swap contract based on the real time determined swap contract price similar to trading of traditional futures contract within the exchange with the clearinghouse acting as the counter party.

In one embodiment the components can provide the discount curve in real time for third parties. For example the third parties can use the discount curve to project trade strategies and or the third parties can use the discount curve to independently validate other contract prices

In one embodiment the components can determine in real time the discount curve by for example pre processing the inputs and or calculating the curve. For example the components can aggregate the inputs the inputs can include at least data from interbroker dealer s specializing in the type of the swap contract and financial data vendor s and or the input can also include data for trades performed within the system thus providing a feedback loop for determining the discount curve. The data from within the system can include bid and offer prices best offer and best bid prices.

In one embodiment the components can calculate the curve. For example the inputs can be filtered to remove outlier data the inputs can combined in a weighted average for a data point in time of the inputs that includes a bid and offer price the projected point can be a computed average or the traded rate can be used for a data point in time the curve can be constrained to fall between a best offer and best bid price the input from within the system can be weighted higher or prioritized more the curve can be based on at least one of least square regression log linear interpolation or the like the curve can be based on a time weighted average of the real time received data e.g. in the last 15 minutes 

In one embodiment the components can provide the curve. For example the discount curve can be projected out to at least 30 years the discount curve can be projected for time intervals appropriate for the swap contract the discount curve can also be characterized as a zero coupon discount curve and or the discount curve can have several portions including a short term medium term and long term portion where each portion can be applicable to particular types of rates.

In other embodiments the system can also be configured to provide a price range for the swap contract including to 3 or more decimal places in a more narrow range than in prior swap contracts for greater transparency provide reports based on the margin calls for a hierarchy of traders e.g. the reports can range from a company level a group level to an individual trader level provide the inputs to the public via a plurality of interfaces provide a substantially unbiased discount curve that is based on publicly provided inputs and or provide a trading system for other types of options contracts and or derivative contracts normally traded over the counter or bilaterally between two parties.

The methods systems apparatuses and media of the invention described herein produces tangible technical results that are at least an improvement over other techniques including for example producing a more accurate and timely discount curve for managing trades. The methods described herein are implemented using a computer or processor combined with software. Moreover the use of the methods systems apparatuses and media described herein create a transformation of articles because they reduce memory usage since not all inputs needs representing a discount curve needs to be to be stored allows more and quicker trades since the trades can be substantially concurrent based on real time computed data.

In one embodiment the clearing of swap contracts using the present invention as described herein increases the efficiency of the transactions by for example facilitating the offset and netting of contract obligations and lowers the systemic risk by lower the risk that failure of a single swap trader market participant having a disproportionate effect on the overall swap market. In general the evolution of the OTC market to use clearing houses for heretofore purely bilateral contracts leads to several benefits for market participants as well as for the financial infrastructure. Clearing necessitates a much higher level of transparency which leads to lower transaction costs and increased liquidity. By widening and deepening the liquidity pool systemic risk is lowered as the risk transfer mechanism is strengthened and renewed. The payment of margin initial and variation acts as a deleveraging mechanism which helps to prevent financial bubbles and dangerous imbalances.

As discussed above the present invention relates to electronic identification and or associating data with an identified user. shows a block diagram that illustrates a system for managing swap contracts in accordance with embodiments of the present invention. The system includes an server that can communicate via a network communication medium with the client . Network communication medium can be a wired and or wireless communication medium. System can also include third party services which can communicate with the server or client via the network communication medium .

In one aspect client and server can be separate devices in communication over a computer network. The network communications can be via network interfaces. In one aspect client and server can be separate devices in communication over a communication interface such as a cellular or PSTN telephone call. There can be more or fewer components without departing from the scope of the invention. For example there can be other processors computing different aspects of the operations of the components of server . In other aspects the processor of the client and server can be the same processor. Also other communication configurations can also be used besides client server such as a peer to peer configuration with a plurality of interconnected peers wherein any node in the peer to peer network can perform the actions of the client or server . Of course any additional components can be in communication or otherwise in operative association with the client or server .

Third party data provider device includes any device configured to provide pricing data. In one embodiment device can host bilateral swap exchanges between parties. The trade data for the bilateral contracts can be gathered and sent to server device . Device can also provide information varying from for example short term. LIBOR rates medium term FRA rates to longer term swap rates.

Client devices includes any device configured to send trade information to the server to trade the financial instruments. In one embodiment the client devices are configured to trade swap instruments based on information provided by the server device . The information can include the projected price of the swap instrument based on a project discount curve as described herein.

Server device includes any device configured to managing trading of swap or other derivative contracts. In one embodiment the server device can perform actions including receiving in real time a plurality of inputs that includes trade data for trades from the services and or executed using the server device and the pricing data provided by the third party data provider device determining in real time a discount curve for projected prices of a swap contract over time based on the received plurality of inputs valuing a swap contract price based on the determined discount curve and determining a margin requirement for a user who wishes to trade or hold a position in the swap contract in the user s account based on the swap contract price. Server device can also be configured to perform actions including receiving a request for a trade of the swap contract by the user based on the provided determined discount curve and the swap contract price executing the trade at a price that is based on the swap contract price and incorporating data about the trade into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve. Generally server device can be configured to perform the processes of .

Attachment A discloses a rule book for implementing an embodiment of a system in accordance with the present invention. Where Attachment A recites the rules must or shall be performed it is understood that this is one embodiment and that in other embodiments the rules are non limiting and in some embodiments not all rules are performed and or other rules may also be added without departing from the scope of the invention. The entities defined e.g. in Rule 501 of Attachment A should be considered non limiting and entities that are persons can replaced with computer components where appropriate. Time limits amount limits or the like are preferred embodiments and other values can be used without departing from the scope of the invention.

The rules described in Attachment A while in some cases are recited as being performed by persons committees or the like can also or alternately be performed by computer components including server device of the system and or other hardware or hardware in combination with software of various apparatuses as described herein. For example at least some operations of the clearinghouse including margin maintenance fund management provisioning of discount curves sending of notices or the like can be performed by server device .

Where Attachment A describes operations performed only by or always by an entity it is understood that this is one embodiment and that in other embodiments other entities may perform the actions and or the actions may selectively performed or not performed at all. Where Attachment A describes all of something is determined performed or otherwise operated on it is understood that this is one embodiment and that in other embodiments some of the things may be selectively operated on or none of the things may be operated on.

As shown device comprises components in communication with each other including input output control processor memory and web application . Input output control provides an interface for entering user commands and or receiving feedback from the device. The control can comprise a keyboard mouse sound output haptic output visual output etc. Processor memory includes any computing component and or computer memory component. For example the processor includes any device for performing computerized operations such as running a program based on processor readable instructions stored within a memory such as RAM ROM EEPROM hard disk drive etc. Web application includes any component for providing a user interface. Web application can provide access to the resources of device including providing a web interface for trading providing margin calls and or providing the discount curve. A user can manage the services provided using the web application using input output control . As shown the components of device are configured to communicate via network bus or communication interface .

Margin management component includes any hardware and or hardware and software component configured to determine a margin requirement for a user who wishes to trade or hold a position in the swap contract in the user s account based on the swap contract price wherein if the determined margin requirement equals or exceeds a threshold for maintenance of funds for the account issuing a margin call for the account. Component can be configured to perform at least some of the steps of the processes of A H.

Discount curve component includes any hardware and or hardware and software component configured to determine in real time based on a plurality of inputs that includes trade data for trades including historic and or real time data e.g. received in real time over the network interface and or trades executed using the apparatus and or determine in real time a discount curve for projected prices of a swap contract over time based on the received plurality of inputs. Component can be configured to perform the process of .

Derivative Swap Contract Management component includes any hardware and or hardware and software component configured to value a swap contract price based on the determined discount curve. Component can be configured to perform the processes of .

Trading component includes any hardware and or hardware and software component configured to receive a request for a trade of the swap contract by the user based on the provided determined discount curve and the swap contract price execute the trade at a price that is based on the swap contract price and or send the data to component to to incorporate data about the trade into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve.

Analysis component includes any hardware and or hardware and software component configured to produce analysis reports about the swap contracts in the system and or shadow or simulated clearing of a portfolio derivates within the electronic exchange computer system and or providing reports.

Clearinghouse component includes any hardware and or hardware and software component configured to manage the accounts and processing of the clearinghouse. In one embodiment component may manage a guaranty fund based for example on the results of a discount curve as disclosed herein.

Trades e.g. BD6 that are cleared or accepted for processing are sent or pushed to the Razor gateway for risk management. Razor gateway may manage the margin based on the discount rate as described herein. If the trades are not accepted but are instead rejected as determined by component the trades are sent back to the clients or otherwise cleared from the system. If the trades are not accepted but are still pending as determined by component the trades are sent to Razor gateway for processing. Razor gateway process and stores data associated with risk management and or margin management as described herein and stores related data in razor database .

Components of can implement any of the components of and in particular server . The components communicate with each other via OMNet .

As shown matching process includes any component configured to match a trade of a swap contract with appropriate clearing and risk management facilities. The swap trades may be stored in component . The swap trade may flow next to clearing gateway .

Clearing gateway includes any component configured to receive and confirm appropriate parameters of a trade. The trade next flows to master risk scheduler . Master risk scheduler routes the trade to various risk and settlement components based on a process flow. Scheduler may route the trade to Portfolio mapping . Portfolio mapping may be configured for a particular user and or type of user. Based on the portfolio limits and or requirements of the user the trade is routed to any some or all of portfolio exposure lookup settlement risk component mark to market . Portfolio exposure lookup looks up the exposure of the trade if it were to be executed on the portfolio including the risk of default on payments by the user. Settlement risk component computes the risk of the settlement not being performed or other risks associated with the settlement. Mark to market marks to market the value of the swap trade. These components send the results of this analysis and or the trade to portfolio exposure which bundles the information determines if the trade satisfies risk criteria and if so sends the trade and associated settlement and risk data to master risk scheduler . Master risk scheduler then sends the trade and associated data to settlement to settle the trade. Settlement may exist in a back office and may send the trade settlement acknowledgment to other computers. Collateral management may receive funds for collateral and or send notifications for more funds for collateral to a user e.g. to the back office . Master risk scheduler receives information about the collateral associated with a user and sends this information to the risk management component . Various data produced and or used throughout the process and system may be stored and provided from central database .

Components of can implement any of the components of and in particular server . Various third party components e.g. from data provider are configured to components of the system e.g. from server via OMNet . For example Internal XT Applications includes any component configured to manage third party programs for communicating with the system processing trading of swaps etc. Proprietary applications include any component configured to further process data provided by the system including the discount curve and swap contract. ISV systems include any component configured to provide yet other services such as from independent software vendors. Internal XT Applications Proprietary applications and ISV systems are in communication with the other components of the apparatus via the OMNet network .

As shown common database is configured to store a plurality of information including information from matching process information dissemination deal capture and market control and supervision . Matching process includes any component configured to process received trades as described above. Deal capture is configured to capture information about various settlements of trades trading strategy or the like. Market control supervision manages the timing of sales movements of trades within the market margin the discount curve and the like. Information dissemination provides information about the various processes that are in communication with common database and may provide information external to the system for example to market data . Market data may include any component configured to provide the data for re use.

As shown total liquidity value includes any component configured to compute the total liquidity value of the system and or of a user s account. Component may base its computation on data from available margin and risk margin . Available margin may compute the available margin available for the system and or a user s account based on lodged collateral and or initial margin . Risk margin compute the risk to the system posed by the various margin amounts and or the Guaranty Fund of the system. Risk margin can base its determination on the results of variation margin coupon and or P L closed out . Coupon can compute and provide necessary amounts to be deducted from various funds to fulfill paying coupons for various instruments or the like. P L closed out can compute and provide the profits and losses of sales e.g. by netting buys sells . P L closed out can be computed on a per event basis for example by P L Balance by Event . Component may net based trades at various event levels types times or the like.

The system components described above can be used to perform analysis risk management and settlement on an each intraday and daily practice or the like. In one embodiment the Razor components discussed above can include the RAZOR products of Razor Risk Technologies the details of which are provided at http www.razor risk.com as of Dec. 18 2009 including the products Core Services Module Credit Risk Module Advanced Credit Risk Module Market Risk Module Limit Management Module Economic Capital Module Reporting Module and or Velocity Engine Commercial Lending Module.

At step a plurality of inputs that includes trade data for trades executed using the computer system is received in real time. In one embodiment the data includes both trade data from bi lateral exchanges as well as tri lateral exchanges using the computer system.

At step a discount curve is determined for projected prices of a type of swap contract over time based on the received plurality of inputs. In one embodiment the determination is performed by an electronic component within the computer system in real time. In one embodiment the provided discount curve includes a plurality of time portions associated with a type or rate of the swap contract wherein the portions includes a short term portion a medium term portion and a long term portion.

In one embodiment the discount curve can be based on historic swap contract trade data including trades of short medium and long term swap contracts. The computation can be based on various known methods including a using a spline such as described in Andersen Leif B. G. Yield Curve Construction with Tension Splines Dec. 2 2005 available at SSRN http ssrn.com abstract 871088 as of Dec. 18 2009 b the processes described in Yield Curve available from http en.wikipedia.org wiki Yield curve as of Dec. 18 2009 and c the various financial processes including swap curve computations described in U.S. Patent Applications 2009 0216673 2008 0249958 2008 0249956 2008 0167981 2008 0065528 2007 0118459 2004 0220870 2002 0010670 U.S. Pat. Nos. 7 565 316 7 467 112 5 924 082 and 5 787 402 and or UK Patent GB 2 398 895. Each of the references a c and in particular those disclosures directed to discount curve computations are incorporated herein by reference.

In a preferred embodiment instead of the known methods a novel and non obvious method based on various parameterization filtering weighting and or a feedback loop can be used instead of and or in addition to the known methods. This novel and non obvious process is described in more detail with respect to .

At step the determined discount curve the swap contract price and other swap contract parameters are provided in real time. In one embodiment the data is provided to modules within the system and or to a plurality of users. In one embodiment the data is provided in a plurality of interfaces user interface and or application programming interface . In one embodiment the swap contract price has a price range that includes 3 or more decimal places. The process and interfaces of step is described in more detail with respect to .

At step a swap contract price for a swap contract of the particular type is valued based on the determined discount curve. In one embodiment the swap contract price is calculated over a plurality of dates based on a net present value of a cash flow for the swap contract and a discount rate that is based on the discount curve. The process of step is described in more detail with respect to .

At step a margin requirement for a user who wishes to trade or hold a position in the swap contract in the user s account is determined or otherwise managed based on the swap contract price. An embodiment of the process of step is described in more detail in conjunction with A H.

At step a trade is processed and trade data from the computer system is provided as a feedback loop to the discount determination step of step . A request for a trade of the swap contract by the user is received based on the provided determined discount curve and the swap contract price. The trade at a price that is executed based on the swap contract price. In one embodiment trading includes recording in processor readable media a sell or buy of the trade at the price in an account of the clearinghouse. In one embodiment all or substantially all trade within the computer system is recorded against the clearinghouse account. Data about the trade is incorporated into the trade data used for determining the discount curve to provide a feedback loop into the real time determination of the discount curve.

At step reports including trade reports shadow reports and or margin call reports are provided for a hierarchy of users ranging over a company level a group level and an individual trader level based on the determination of the margin requirement for the user s account. Daily Reports can include five main sections Summary Report Open Position Report Closed Position Report Coupon Paid Report and Yield Curve Details. The process for generating reports are described in more detail with respect to . Processing then returns to other processing.

At step the margin charges for the accounts of the users are determined using for example the standardized portfolio analysis of risk SPAN algorithm. The process of step is described in more detail with respect to .

At decision step it is determined whether the determined margin requirement equals or exceeds a threshold for maintenance of funds for the user s account. If so processing continues to step where a margin call for the account is issued. Otherwise processing continues to step .

At step it is determined whether the determined margin requirement is below the threshold for maintenance of funds for the account. If so processing continues to step where the transaction for the account is processed See step of . Otherwise processing returns to other processing.

At step data structures are determined based on the plurality of swap contracts for trading within the computer system. In one embodiment the data structures are configured to conform with EFS Exchange Futures of Swaps rules. In one embodiment the data structure includes data fields configured to represent at least one of a Month Index Interest Rate Swap MIIRS a Forward Rate Agreement FRA a London Interbank Offered Rate LIBOR Swap an IDEX USD DLOC contract an Overnight Index Swaps OIS Index Interest Rate Swap a Short Throw Swaps a Swaption an interest rate option on a floating index a European Swap an Asian Swap a Constant Maturity Swap CMS a Constant Maturity Treasury CMT a Constant Maturity Mortgage CMM a Cross Currency Swap a Bond Future a Bond Option a Mortgage Pool a Credit Default Swap a Total Return Swap an Inflation Index Swap or the like.

At step the swap contracts are listed for trading based on determined data structures including unadjusted maturity date swap price and obligation rules. In other embodiments the contract definition can be provided as unadjusted maturity date rules for trading and redemption and a price. In this way all contracts can be listed in data triples and processed in a homogenous way by the system. For example based on this data the contract can be uniquely identified compared offsetted netted etc.

At step based on the determined data structures an interest rate exposure of the plurality of swap contracts is transferred into a centrally cleared environment by providing executions for trading the plurality of swap contracts with the clearinghouse as the counter party. Processing then returns to other processing.

Embodiments of Swap Data Configurations are described below. The configuration and use of these data configurations are described in more detail with respect to .

Forward Starting Swaps The same 3 Month Index Interest Rate Swap but with a delayed start. This product is heavily traded by hedge funds and it will be important to capture as much of their portfolios as possible in order to encourage their uptake and sponsorship of the platform. Most of the system and valuation work is already done incorporating the product into the risk management framework and self certification with the CFTC remain outstanding and the timing of its release should be determined to deliver maximum commercial impact.

1 Month Index Interest Rate Swap A similar product to the current 3 month index listing which is employed by some liability managers to hedge their portfolios notably the Farm Credit System. The shortcut treatment that these managers achieve in the accounting treatment of their derivatives would need to be replicated by the product to encourage their uptake of the platform. There are some valuation issues in introducing another index namely employing a common discount function which remain unresolved however most of the system work is a replication of what has already been done. Incorporating the product into the risk management framework will start to push the limits of the SPAN method of net margin calculation but this should not be insurmountable. Timing of its release may be accelerated to bring motivated participants onto the platform in short order.

Forward Rate Agreements FRA s A forward starting one roll swap which is more flexible than but provides a similar function to the CME s Eurodollar contract. Traditionally FRA s have been used as a hedging tool for the floating resets of swap portfolios and as a trading instrument. The ability of the nontraditional community to have access to a cleared version of this product may be important for their ability and or desire to participate in the wider swap space. This product can be released as part of a richer set of short end instruments FRA s OIS and short throw swaps .

OIS Index Interest Rate Swap Overnight Index Swaps OIS are interest rate swaps whose floating rate is linked to a daily overnight reference rate. OIS is a popular tool for hedging funding exposures to the overnight market especially in repo and FX forward markets. They are similar to the current offering but there are some key differences in how interest payments are compounded because of this they will require some additional system work to implement. The valuation and risk management work required would be similar to the other indices as would the impact on the usefulness of SPAN. As with the FRA product the product can be released as part of a richer set of short end instruments FRA s OIS and short throw swaps .

Short Throw Swaps This is a catch all for a variety of shorter maturity interest rate swaps. In one embodiment the system can offer these as aged versions of other product offerings however in order to be more commercial greater granularity in the risk management framework will need to be developed. These products complement FRA s and OIS and should be released as a set with them in order to get greatest attention.

Swaptions Interest rate options on forward starting swaps which would require substantial standardization in order to be cleared and or to maximize the benefits of clearing. The contract may be combined with an automatic exercise and some standardization in the combinations of expiry and strike.

Caps Floors Interest rate options on a floating index which are to Eurodollar options what FRA s are to the Eurodollars themselves. Their conventions lend themselves to clearing in some ways automatic exercise and cash settlement but may require some standardization in the combinations of expiry and strike in order to gain the maximum benefit of clearing.

IMM Variants There are a number of ways of standardizing the terms of an interest rate swap. These variants can be offered while maintaining the granularity of maturity convexity and persistence that other attempts have failed to achieve.

European Swaps All of the product outlined above is applicable to the European markets particularly EUR and GBP. The greater the percentage of participants and their portfolios that are used within the system the greater the efficiencies created. In addition the wider the product range the more leverage the system can compute in the margin offset argument with established clearinghouses.

Asian Swaps As with the European theater the product offering outlined above is applicable in the Asian region and doing so should be additive to the benefits of the offering in total. A collaborative approach might be the most productive given the regulatory complexities of Japan and the diversity of markets in the region.

Constant Maturity Product Constant Maturity Swaps CMS Constant Maturity Treasury CMT and Constant Maturity Mortgages CMM are all bespoke hedging markets that may be offered. For these products the floating rate is set on a much longer maturity instrument than others described herein. This has significant implications for valuation and risk management.

Cross Currency Swaps Interest rate swaps where the interest payments are determined and paid in different currencies and which have exchanges of notional in those currencies on the effective and maturity dates. These instruments are extremely credit intensive because of the currency risk involved which may be a driver for central clearing these risks may also mean that the commercial terms on which they can be cleared are prohibitively expensive.

Tables 1 5 show examples of data configurations of an example swap contract managed by the computer system for trading as described herein. As shown the data structure includes a spot date effective data maturity date notional principal fixed leg definition fixed rate payment frequency payment holiday centers payment holiday convention accrual year fraction accrual holiday centers accrual holiday convention first roll date and last roll date and various other fields. The examples are non limiting and other configurations may be used without departing from the scope of the invention. The data may be stored in computer readable medium of for example processor memory of . The data may be presented in a user interface to a user as part of the trading process. Other contract specifications can be defined within the system without departing from the scope of the invention. Other data structures with similar fields can also be configured for the swap products described above. In one embodiment the data configurations and or structure includes data fields configured to represent at least one of a Month Index Interest Rate Swap MIIRS a Forward Rate Agreement FRA a London Interbank Offered Rate LIBOR Swap an IDEX USD DLOC contract an Overnight Index Swaps OIS Index Interest Rate Swap a Short Throw Swaps a Swaption an interest rate option on a floating index a European Swap an Asian Swap a Constant Maturity Swap CMS a Constant Maturity Treasury CMT a Constant Maturity Mortgage CMM a Cross Currency Swap a Bond Future a Bond Option a Mortgage Pool a Credit Default Swap a Total Return Swap an Inflation Index Swap or the like.

At step the inputs are filtered based on the source of the inputs and a value of the inputs. In one embodiment raw data feeds are filtered. The OTC data feed itself can represent important insight into the very vibrant OTC market but because it is not necessarily subject to the same rigor as an executable price the raw data can be filtered to remove obvious errors while being careful not to exclude valid price observations.

Raw data is collected from multiple sources which include at a minimum one major interbroker dealer specializing in the product and one major financial data vendor. A simple model is then applied to the various data sources where a cleaned price series P constructed from the original series P by defining a suitable large price increment c. If the price changes by more than this amount but the next price does not verify this change then the price is ignored. The value of c is configurable such that it can be increased in fast market periods such as over economic releases central bank announcements pricing of significant debt issuance or any other time when the system deems it appropriate.

The individual cleaned series which are considered timely are then combined by an weighted averaging process which gives some precedence to series which are the product of multiple sources such as those provided by financial data vendors over individually generated data streams.

At step the inputs are weighted based on the source of the inputs and the characteristics of the inputs. In one embodiment the data feeds are prioritized. This step can involve combining price information from the exchange s based order book e.g. actual trades performed by the computer system and observations from the Over the Counter OTC environment e.g. from bilateral trades . As the observations of exchange s activity represent verifiable transactions they are given priority over OTC observations. This priority takes the following form 

Where a bid and offer exist with a maximum configurable width the average of these two rates will be used.

Once rounded to three decimal places these filtered and prioritized data feeds then form the inputs to the system s Discount Curve Generation process as described in the steps below. This curve is produced on a real time basis and or in a static form at 11 am and 4 pm or any additional time as determined by the system for among other things margining purposes pricing purposes or the like. The static curve can be computed as a time weighted average of the final data feed over the preceding fifteen minutes.

At step the discount curve is projected through data points in time that are based on each of the filtered and weighted inputs using interpolation of the filtered and weighted inputs interpolation or the like. The process of step is described in more detail with respect to .

At decision step it is determined if the projected discount curve should be constrained at or near a time of at least one of the inputs based on the best offer price and the best bid price of the inputs. If so the processing continues to step . Otherwise processing continues to step .

At step the data feeds are modified to constrain the curve. In one embodiment the output of the system Discount Curve Generation process is constantly compared to a number of industry standard benchmarks to ensure that it represents a sensible solution. Inputs may be adjusted when there are obvious errors.

FRA inputs are compared to prices implied from a discount curve built from CME Euro Dollar contracts adjusted for convexity and the impact of monetary supply conditions and announcements. This is the industry standard method of generating FRA rates. It is not employed in the official the system curve because of the commercial sensitivities of using a CME product and more importantly because replicating the various adjustments would be far more difficult for participants than observing the resultant prices.

The form of the forward curve is an industry standard method of ensuring the effectiveness of a discount curve building process. It is more desirous to have a smooth forward curve as this helps maintain a zero arbitrage environment. By design the 11 am and 4 pm static curve generation coincides closely with the ISDAFIX process. This is considered the leading benchmark for fixed rates on swaps worldwide and enables the system to facilitate more stable and risk managed trading of the derivate contracts. Processing then loops back to step or alternately to step to re compute the discount curve.

At step the discount curve data including a determined forward rate is provided. The discount curve can be provided as data usable within the electronic exchange computer system over a network over an interface e.g. API user interface or the like. In one embodiment the discount curve data including the implied forward rate are configured and provided as data compatible for computing trading strategies or validation of contract prices of at least one of the financial instruments. The data can be configured as an XML file comma separated data a stream of data or the like. A device of a third party separate from the computer system can perform the computing and or validation.

In one embodiment discount curve data including the forward rate and a user input interface such as an interface for receiving trade requests are provided through a computer interface. The interface can be a user interface e.g. the inputs and swap data can be provided within the same screen and or with mechanisms for trading the swap contract . The interface can be Application Programming Interfaces API network interfaces e.g. networking ports and protocols for communication or the like configured for sending and receiving such data. The interface provisioning can include the provided discount curve of and other determined data about the swap contract thereby providing transparency for trading and analyzing the discount curve. Processing then returns to other processing.

The task of generating discount curves has been made much easier with the development of modern computing power. This process or bootstrapping is relatively light on assumptions the two assumptions being that the discount curve represents a zero arbitrage environment and that the interpolation between known points reflects the true market behavior.

At decision step it is determined which type of discount curve is to be computed based on the type of swap contract. The swap contracts can be data provided by the system as feedback and or provided from third party providers. The set of tradable instruments which are used to generate a discount curve can vary normally on the basis of their liquidity which is determined by the fairness of their prices and the degree of definition that they provide to the overall curve. In one embodiment the set of points that is used by the system to generate the system Discount Curve initially breaking them down into three groups based on their conventions and how discount factors are derived for them. Conveniently this can also be thought of in broad maturity profiles shorter term LIBOR rates medium term FRA rates and longer term swap rates.

If the type is a swap contract for Shorter Term LIBOR Rates processing continues to step . If the type is a swap contract for Medium Term FRA Rates processing continues to step . If the type is a swap contract for Longer Term Swap Rates processing continues to step . In one embodiment all steps may be performed in sequence or even in parallel. In one embodiment only some but not all steps may be performed.

At step London Interbank Offered Rate LIBOR type discount factor is generated. LOBOR is the rate at which banks are prepared to lend each other unsecured funds in the London wholesale market. It is referenced once per day and is the floating rate index of the majority of USD Interest Rate Swaps. These loans are short term zero coupon instruments and as such their discount factor is very similar to their price and can be generated as follows 

At step Medium Term FRA Rates type discount factor is generated. Forward Rate Agreements FRA s in the sense considered here are contracts on the future level of one three month LIBOR setting. Again these instruments are already zero coupon in nature so their discount factors are readily generated given that the system has stored in memory or computed the discount factor to the start date of the instrument as follows 

At step Longer Term Swap Rates type discount factor is generated. The system generates the discount factors from the swap rates themselves. This is more involved than with the LIBOR or FRA rates because swaps do make periodic interest payments and as such are not zero coupon instruments. However if the swap rate is such that the value of the swap is zero a so called par swap and the system has discount factors for all but the last coupon payment of the swap either from LIBOR FRA or other swap rates then the discount factor for the maturity date of the swap can be generated as follows 

This forward substitution is why the process is sometimes referred to as bootstrapping. The specific instruments of each type employed in the system curve can be seen in the . Processing then continues to step .

At step the system generates the discount curve based on the computed discount factors using for example interpolation. As discussed above the method of interpolation is used between known points reflecting true market behavior. There are at least two places in the curve generation process where interpolation can be used determining the semi annual swap rates between the observed annual par rates and determining intermediate discount factors from known points. In one embodiment the semi annual swap rates are implied from observed rates with a natural spline function and discount factors are calculated using a log linear approach.

In a log linear interpolation the system linearly interpolate the log of the adjacent discount factors and obtain the required discount factor by taking the exponential of this result. Both of the methods of interpolation are selected to generate smooth discount and forward curves something which is generally desirous in a zero arbitrage environment and to replicate market practice.

At step forward rate s can be computed and provided based on the discount curve. The discount curve can be used to determine the forward interest rates implicit in the set of tradable instruments. If the system has a discount curve and two dates that are to be determined the forward rate can be calculated by using the following formula 

This will produce a zero coupon rate but the system can use a similar process to generate the equivalent yield for a coupon paying instrument. Processing then returns to other processing.

At step the discount curve and forward rates are determined as described for example in the processes of step .

At step the system generates or determines the dates and their associated cash flows based on the characteristics of the instrument swap which is to be valued. Once this is done the system can imply discount factors from the curve to each of these dates and calculate the present value of the payments.

At step the system computes the fixed coupon side of the swap to generate a first NPV the summary of the calculations can be seen in . shows that the fixed payments are semi annual and relatively even they are also positive indicating receiving of the fixed rate. The present value of each of these payments is the product of the payment and the discount factor remember that the discount factor can be thought of as the present value of 1 on that date . The present value declines the further they are from payment. The Net Present Value NPV of the fixed coupon side of the swap is simply computed as the sum of the individual present values in one embodiment 

At step the system computes the floating coupon side of the swap to generate a second NPV the summary of the calculations can be seen in . shows that the payments are not even but follow the forward LIBOR rates implied by the discount curve they are also negative indicating paying of the floating rate. The floating payments are quarterly but where the dates align with the previously considered fixed payments the discount factors can also be determined to match.

At step by combining the two NPVs this particular interest rate swap is generated as a positive NPV e.g. of 381 765 for the receiver of the fixed rate. In summary this example shows the use of the system s Discount Curve and its application in valuing swap and other derivative transactions.

In one embodiment margin relief for IDEX swap futures uses the standardized portfolio analysis of risk SPAN algorithm and or models. Below is a further description of a process for managing margin for swap futures contracts. The system s margin charge depends on the time to maturity or tenor of the traded instrument. The tenor is used to break down the full breadth of instruments into 13 separate buckets which will be associated with a different margin charge per bucket. In a scenario where there is no margin relief each individual instrument traded long or short would be subject to the full margin charge irrespective of a reduction in portfolio risk. SPAN margining allows for the reduction in collateral requirements needed to trade IDEX Swap Futures. All traded instruments are charged the full margin amount in a given bucket unless there is some offsetting or netting of risk. More specifically margin relief is applied when newly executed trades reduce the risk composition of a given swap futures portfolio. SPAN Margining Methodology

The calculation of margin offsets begins with three inputs The Relief Rate that describes the discount in IM that is given for risk offsets the Offset Ratio that describes the number of contracts of a shorter tenor that would be required to offset contract of a longer tenor and the Initial Margin IM charge per bucket. Each of these inputs will be pulled from tables that are posted on a monthly basis on the system s website or otherwise provided by the computer system. The Offset Ratio and the Relief Rates are displayed in a matrix form with the thirteen buckets on each axis.

In one embodiment the Initial Margin is designed to protect the clearing house against adverse price moves. Interest Rate Swap can be configured with a unique daily value that can be calculated. The system bases its calculation by looking at its Interest Rate Swap Contracts as thirteen discrete time buckets for example 2 Years through 10 Years 15 20 25 and 30 Years. By revaluing each Interest Rate Swap on a daily basis a time series can be constructed which can then be evaluated by the system.

In one embodiment the minimum time series that the system will use is 125 trading days or six calendar months. This period can be chosen because it captures at least one June 30 or December 31 period. The market value of an interest rate swap has two components 1 Clean Price 2 Accruals. The Clean Price is computed as the result of the shape of the interest rate curve and changes according to the market. The Accruals are computed as the daily amount of money that every plain vanilla interest rate swap must account for on both the paying and receiving side. Accruals are known through the next payment period.

In one embodiment to calculate initial margin the system uses the observed Clean Prices for each time bucket over the preceding 125 days. A time series is constructed by the system and a variance is established in matrix format for 30 90 and 125 days. To the resulting variances the system applies the following confidence intervals 95 2.045 Standard Deviations 99 2.736 Standard Deviations 99.7 3 Standard Deviations . According to the Risk Manual configured by the system the amount chosen can be the largest value observed in the 99.7 Confidence Interval. The calculation is performed at least monthly in normal market conditions. The process allows for back testing as maximums are reported along with recommended margin amounts

At step a Relief Rate is computed for example using the Sample Relief Rate Matrix of . shows a Sample Relief Rate Matrix including the intersection of the column and row highlighted represent the relief rate applied to a given offset.

At step an Offset Ratio is computed for example using the Sample Offset Ratio Matrix of . shows a Sample Offset Ratio Matrix including the intersection of the column and row highlighted represent the number of lower tenor bucket contracts required to offset contract of the higher tenor bucket.

At step an Initial Margin IM charge is computed for example using a Sample Initial Margin charge table and or formulas described herein. shows a Sample Initial Margin charge table. In one embodiment the formula for Total IM is below Total IM Requirement Total of Intra Bucket Offset Charges Total of Inter Bucket Offset Charges Remaining Portfolio IM Charge

At step margin charges for a plurality of buckets are determined. In one embodiment each bucket includes at least one year. In one embodiment a charge in each bucket is netted or offsetted based on a charge in other buckets for other years. The offset methodologies are applied in the order shown 

1st Intra bucket offsets Relief given to offsetting contracts e.g. based on the contracts valuation that are in the same bucket

2nd Inter bucket offsets Relief given to offsetting contracts e.g. based on the contracts valuation that are in 2 different buckets

3rd Remaining Margin Residual post netting non offsetting contracts e.g. based on the contracts valuation which receive full margin treatment

The same equation used for Intra bucket offset calculations is used for Inter bucket offset calculations 

As offsets are applied the number of contracts that have been offset can be removed from the original portfolio as each offset step is applied. The sum of all of the offset charges is added to the total initial margin charge of the remaining positions to calculate the Total IM requirement. The process of step are described in more detail in .

At step the margin requirement is determined in a current time based on the determined positions and the margin charges. For example the total margin charge with or without offsets can be determined by the formulas 

In this example margin offsets provide a savings of over 70 . shows another example of margin offset. Processing then returns to other processing.

This step is completed for the rest of the buckets where a long position can be offset with a short 3Y vs. 3Y and the 2Y vs. 2Y . the remaining positions are in the Net Positions Post Intra Offsets column in the table above Once intra bucket netting completed for each bucket with potential intra bucket offsets all intra bucket offset charges are summed to find the total intra offset charge. In this example the total of all of the intra bucket charges is 466 260.

At step the Inter Bucket Offsetting is performed. All inter bucket offsetting occurs between the longest tenors first and then offsets the lower tenors until no more offsets are possible. The first 2 offsetting buckets would be the short 15Y vs. the long 6Y. If any long 6Y positions remain then remaining long position can offset the next short exposure Long 6Y vs. Short 3Y . This step is repeated until all positive and negative exposures have netted. The first stage is to find out how many contracts can be consumed in a netting operation between a given pair of buckets long vs. short . The consumed contracts are removed from the portfolio valued for their total IM charge if given zero margin relief and then the relief rate equation 1 Relief Rate is applied.

In one embodiment the system of as disclosed above may be further configured to manage the risk of users and market risk. In particular server device of the system may be configured to perform the process of .

Attachment A discloses a rule book for implementing an embodiment of a system in accordance with the present invention. Where Attachment A recites the rules must or shall be performed it is understood that this is one embodiment and that in other embodiments the rules are non limiting and in some embodiments not all rules are performed and or other rules may also be added without departing from the scope of the invention. The entities defined e.g. in Rule 501 of Attachment A should be considered non limiting and entities that are persons can replaced with computer components where appropriate. Time limits amount limits or the like are preferred embodiments and other values can be used without departing from the scope of the invention.

The rules described in Attachment A while in some cases are recited as being performed by persons committees or the like can also or alternately be performed by computer components including server device of the system and or other hardware or hardware in combination with software of various apparatuses as described herein. For example at least some operations of the clearinghouse including margin maintenance fund management provisioning of discount curves sending of notices or the like can be performed by server device .

Where Attachment A describes operations performed only by or always by an entity it is understood that this is one embodiment and that in other embodiments other entities may perform the actions and or the actions may selectively performed or not performed at all. Where Attachment A describes all of something is determined performed or otherwise operated on it is understood that this is one embodiment and that in other embodiments some of the things may be selectively operated on or none of the things may be operated on.

In one embodiment the apparatus of as disclosed above may be further configured to manage analysis and reporting with respect to the swap contract exchange.

In one embodiment clearinghouse component of the apparatus includes any hardware and or hardware and software component configured to manage the accounts and processing of the clearinghouse. In one embodiment component may manage a guaranty fund based for example based on the results of a discount curve as disclosed herein. Component can be configured to perform at least some of the steps of the process of .

In other embodiments the Razor components described with respect to can be replaced with and or supplemented with KASM Risk. shows a process interface and component for providing risk setup and or management in accordance with one embodiment of the invention. The component for providing the interface and process of can be components and or . As shown the system provides risk management in a variety of forms including as charts data e.g. in table form and trading data about historically traded swap contracts. The system provides the chart view as shown. The view provides three graph charts a data table chart and various control and or search views.

A yield curve and discount function chart live USD 3M Curve shows the yield curve ascending line and the discount function discount line mapped in the same chart. The yield curve and be selected for various types of swap contracts e.g. USD 3M . Further details cash FRA Swap and DF data may also be selected and provided. As shown various clearing members by name settlement amount collateral surplus and initial margin chart are provided. In one embodiment the sensitivity candle chart shows a possible needed margin and or guaranty funds for the various members. The highlighted candle line above a margin and or guaranty limit e.g. 1 000 000 show that a particular member may require attention and or a notification needs to be or has been sent a notification as described herein. The user of this interface may select to send the notification. The clearing members list also highlights the member with the problematic risk identification. As shown the initial margin requirement for the member is below a threshold shown as a vertical line . The P L profits and loss residual risk e.g. computed as described herein e.g. with respect to step is provided. The net residual IBP is also shown and represents the overall uncovered possible liability to the clearinghouse for projected defaulting clearing members. The net residual can be computed in various ways e.g. a sum of the guaranty fund coverage and or margin coverage provided by each of the clearing members.

Trading activity view provides historical and or real time trading data by the various parameters shown instrument participant account B S Contracts Rates trade Product type trade data effective date expiry date etc .

The view can be customized by finding and or filtering the data to be presented in the various other views shown e.g. sensitive clearing members trading discount and yield curve etc by particular participants account contact contract swap contract gauge etc. Various other data reporting is also provided and shown.

In generally any of the inputs of the views can also be changed and or inputted by the user and or received and or updated by the system based on real time information. For example the margin charge of the member e.g. member clear can be manually changed by changing the initial margin slide bar to be beyond the vertical line thus changing the amounts needed for the particular member. Any of the charts can be changed in real time and or on a continuous and or periodic basis based on real time computation of the risk management discount curve and or valuations as described herein. The control and or find view also enables control of the discount curve computation including a live stop of the discount curve computation overwriting the rates based on data entered entering various filters to the data and applying various filters including the entered filters and or pre configured filters. The real time computation can be modified to run on a live and or various update frequencies. In one embodiment the process component and interface of can be combined with the process component and interface of with duplicate functions and views e.g. discount yield curve and control views consolidated appropriately.

At step the system manages the trading and margin of a user based on a generated discount curve that in one embodiment is based on the trading data generated by the system. The process of step are described in more detail with respect to .

At step the system can continuously monitor and ensure the fair allocation of the Guaranty Fund to offset a potential default scenario. The process of step are described in more detail with respect to .

At step the system can review and assess Clearinghouse and Clearing Member risk utilizing various practices at predetermined frequencies as described below. Trading activity of the Clearing Members can be processed pre trade through for example the system in order to prevent Clearing Members from exceeding risk limits and to protect the Clearinghouse from unauthorized trading events. The process of step are described in more detail with respect to .

At step the system can monitor the ongoing creditworthiness of all Clearing Members and can initiate appropriate action when circumstances warrant ensuring a Clearing Member s continued creditworthiness subsequent to admission. The process of step are described in more detail with respect to .

At step the system can perform actions to minimize market risk. For example adequate but not excessive Performance Bonds can be collected to collateralize market risk. The daily marking to market of positions can eliminate loss accumulation. This can be done on a near real time basis as well as preferably at midday and at the end of day. The process of step are described in more detail with respect to .

At step similar contracts are netted and offsetted to reduce the residual risk of the system. The process of step are described in more detail with respect to . Processing then returns to other processing.

At step the Clearing Membership Application is Reviewed. Applications for Clearing Membership can be reviewed by the system which includes examining the books and records of the applicant reviewing the applicant s risk management and compliance procedures performing background checks of management and to take such other steps as it determined necessary to ascertain the facts bearing upon the qualification of an applicant. The system may receive information from a regulatory services provider third party device to assist with such review.

At step the Initial Credit is reviewed Review. In one embodiment the system may require the Clearing Members to satisfy at least some or all of the following 

At step the system can receive and base membership approval on the at least some of following information risk standards in connection with an applicant s application for Clearing Membership 

At step the system can perform Ongoing Financial Review of Clearing members. In accordance with the Clearing Member s requirement to provide periodic financial statements the system can receive and base ongoing membership status on the at least some of following information 

The system can receive the above information as scores points Boolean values or the like. The system can use a heuristic such as a weighted sum rules or the like to determine approval of the applicant for membership or ongoing membership status.

At step a guaranty fund is established. The Clearinghouse has established a Guaranty Fund to cover its clearing obligations in the unlikely event of a Clearing Member default. In order to maintain an active status all Clearing Members are required to contribute and maintain adequate assets in the Guaranty Fund.

At step Clearing Members are required to make a minimum contribution to the Guaranty Fund. In one embodiment the minimum contribution is threshold amount e.g. 5 000 000 for Class A Members and threshold amount e.g. 2 500 000 for Class B Members. The contribution of a Class A Member can be subject to a three year lock up provision and the contribution of a Class B Member can be subject to a one year lock up provision.

At step the system can evaluate the adequacy of the Guaranty Fund and each Clearing Member s required Guaranty Fund deposit on a periodic e.g. quarterly basis and can perform periodic e.g. daily stress testing of the Guaranty Fund each as described below. Clearing Members are required to deposit such additional amounts as the Clearinghouse and or the system shall determine from time to time.

Based on the feature of allowing clearing participants to back load portfolios for clearing the Guaranty Fund can be stressed and reallocated if a portfolio of more than a threshold e.g. 250 000 000 notional is added. In one embodiment each Clearing Member is required to maintain its minimum Guaranty Fund deposit as long as it remains a Clearing Member. In one embodiment Clearing Members can deposit U.S. Currency in order to satisfy their Guaranty Fund requirements.

At step the system can periodically e.g. on no less than a quarterly basis recalculate and set the Guaranty Fund requirement according to the greater of three daily stress tests described in the following paragraphs and perform determinations based on the recalculation of the requirement.

If the result of the calculation of requirement is more than the current Guaranty Fund level processing continues to step where all Clearing Members may be required to deposit additional amounts into the Guaranty Fund pro rata based on each Clearing Member s daily average Performance Bond requirement. After any recalculation of the Guaranty Fund requirement a Clearing Member whose requirement exceeds 125 of the then current Guaranty Fund requirement for any three consecutive days can be required to contribute additional resources within one business day. Any Clearing Member not meeting this deadline can have its account automatically debited on the second business day following the adjustment. A Clearing Member whose requirement has decreased relative to its current contribution may withdraw its excess contribution upon request after fulfilling the three year or one year lock up requirement. The Clearinghouse can not call for any additional contribution to the Guaranty Fund that would otherwise be required if the amount is less than threshold amount e.g. 10 000 .

At step if the stress testing of the Guaranty Fund show any deficiencies the system can automatically increase in the size of the Guaranty Fund and or an indication can be sent to convene a Risk Committee within 5 business days to recommend an increase in the size. In one embodiment the Guaranty Fund requirement can be increased to a level such that the stress test is satisfied. The minimum Guaranty Fund requirement can also be set as 5 of the average daily Performance Bond at the Clearinghouse over the previous 125 trading days

If the result of the calculation is less than or equal to the Guaranty Fund level processing continues to step where any amounts in excess of the Clearing Member s minimum can be returned to the Clearing Member upon request.

At step the system can periodically e.g. on a daily basis perform at least one and preferably two or more stress tests of the Guaranty Fund. In one embodiment the first stress test simulates the default of the two largest Clearing Members by Performance Bond deposits and a randomly selected third Clearing Member assuming a six standard deviation price change in the underlying interest rate swap as calculated internally by the system using a non directional shift in the interest curve. The second stress test simulates the default of the largest Clearing Member assuming the worst case price change in the underlying interest rate swap contract observed over the prior two years.

In each case the resulting defaults can be simulated over a one two and three day cure period or any number of days determined or adaptable by the system.

At step the sufficiency of the Guaranty Fund can be gauged in curing the defaulting Clearing Members positions. If the result of either stress test show that the then current Guaranty Fund would be insufficient over the three day cure period processing continues to step where the a notification of a need to modify the Guaranty Fund is sent.

At step the system can periodically e.g. on a daily basis compares the Guaranty Fund requirements of each Clearing Member to its deposits in the Guaranty Fund to ensure such deposits remain sufficient. If such deposit is insufficient processing continues to step where the system can notify the Clearing Member of such deficiency and the Clearing Member can be required to deposit additional amounts into the Guaranty Fund within one business day. Any Clearing Member that does not meet this deadline can have its account automatically debited for such deficit on the second business day following the notice.

At step the system can perform a practice rule to review and assess Clearinghouse and Clearing Member risk utilizing various practices at predetermined frequencies. In one embodiment the system can use at least one of the following rules. The rules can be configured in processor readable medium. The configurations below shows preferred embodiments of the functions system component involved frequency automatic manual configuration or the like but the rules can be modified for example to be performed automatically and or indicated for manual performance through an interface without departing from the scope of the invention. The system components described below including the Excel frontend which can alternately be a web frontend OMNet Razor are described in more detail with respect to . External sources including Bloomberg Reuters or the like can be data provider device of . The practice rules include 

Function To monitor intraday yield curve movement against established Performance Bond or trigger levels

Function Review mid day Performance Bond deficits for positions to be cleared after 1 30 pm New York time

Function Review Performance Bond intervals and spread credits to ensure they meet the required standard set forth in the Original Performance Bond section of the Risk Management Procedures.

Function Review the change of the settlement prices for each month of each active Contract so as to determine the exposure to volatile markets

Function Assess the suitability of all risk management procedures based upon the previous year s data

At step the system manages the clearinghouse risk filter s for each user. The system and or the Risk Committee can set the Clearinghouse Risk Filter levels for the Proprietary Accounts of each Clearing Member and each Clearing Member can be responsible for setting the Clearinghouse Risk Filter levels for each of its Customer Accounts.

The Clearinghouse Risk Filter can be set for each Clearing Member after an analysis of their books and records has been undertaken and their knowledge capabilities of in the interest rate markets assessed. Given the availability of longer dated and higher risk contracts the Risk Committee can look at three fundamental factors 1 the Clearing Member s liquidity and ability to pay 2 experience in trading along all points on the yield curve and 3 the highest amount in Performance Bond the Clearinghouse can be comfortable to call weighted by the average duration of all available contracts.

Each Clearing Member can be responsible for actually establishing and enforcing limits for customers that they clear. However the system has the authority to review and reduce or cancel the limits a Clearing Member sets for its customers.

At step the system can provide periodic reports e.g. to the Risk Committee as to whether the recommended limits have been respected over a given period.

At step the ongoing creditworthiness of all Clearing Members can be monitored and appropriate action can be initiated when circumstances warrant ensuring a Clearing Member s continued creditworthiness subsequent to admission. To ensure their ongoing creditworthiness subsequent to admission the system can monitor the capital levels of all Clearing Members as well as their adherence to regulatory and Clearinghouse requirements. All Clearing Members are required to submit their monthly CFTC Form 1 FR FCM or equivalent for review by the system to ensure they maintain the minimum financial requirements set by the Clearing Member Committee.

At step the system can monitor the risk and financial exposure associated with large trader positions and a firm s open interest to assess the exposure of Clearing Members to changing market conditions. If the notice is received that a Clearing Member has fallen below stated minimum financial requirements the system can perform an investigation relating to the Clearing Member s ability to meet the financial requirements and confirm that they meet 

At step periodically positions in contracts of the Clearing Members can be stress tested. In one embodiment on a daily basis the positions in all contracts of the Clearing Members can be stress tested using a non directional shift in the yield curve created in a scenario generator. These shifts can be generated by moving the underlying portions of the yield curve in different directions and differing magnitudes in order to arrive at a worst case scenario. The Clearing Members positions can be revalued according to this stress test and compared against their existing collateral and last reported Adjusted Net Capital.

At step periodically a report of the credit monitoring can be provided. In one embodiment on a monthly basis a report of each Clearing Members trading activity Performance Bond levels and activity averages can be presented or otherwise provided e.g. to a Risk Committee.

At step on a periodic e.g. monthly basis can set the performance bond s . The system can conduct an analysis of each product e.g. each of the 13 stated maturities for each currency denomination for the previous six months. Using the minimum Performance Bond standards established for each product group the system can provide recommendations and or determinations of adequate levels of Performance Bond interval and spread credit changes.

In one embodiment under normal market conditions the system can calculate the Performance Bond Requirement using a one day move in the price calculated on an absolute value basis of the underlying interest rate swap over a 30 90 and 125 trading day time horizon. Under extraordinary market conditions as determined by the Risk Management Department the system can calculate the Performance Bond Requirement using a two day move in the price calculated on an absolute value basis of the underlying interest rate swap over a 30 90 and 125 trading day time horizon. The resulting variances can be recalculated using 95 97 and 99.7 confidence intervals for each time period and the largest value observed in the 99.7 confidence interval can be used to set the Performance Bond. The system also can calculate the Performance Bond using the largest one day move in price over the preceding 125 trading day time horizon. According to the risk policy adopted for each product the highest resulting Performance Bond rounded up to the nearest threshold amount e.g. 100 can be applied. This procedure also provides a methodology for back testing the sufficiency of Initial Performance Bond over the previous 125 trading days.

In one embodiment the system can ensure that the higher risk in longer dated contracts is reflected in the levels chosen for Initial Performance Bond. The primary methods to protect the Clearinghouse are 

In one embodiment the system e.g. system can employ any combination of the following additional Performance Bond methods 

In one embodiment users of the system including the Chief Risk Officer or its designee can have the access to the system to modify and or activate any of these methods.

At step the variable Performance Bond rule is employed by the system to mitigate the risk associated with potential volatility triggered by an initial market move greater than the Performance Bond required. The variable Performance Bond rule can automatically increase the Performance Bond interval by 100 should a market move surpass 75 of the Original Performance Bond within one trading day.

Additionally users of the system including the Chief Risk Officer or its designee can have the access to the system to change Performance Bonds as necessary to protect the interests of the Clearinghouse concentration risk credit downgrades excessive price movements etc. .

Concentration Performance Bond amounts are set to ensure that Clearing Members are charged higher Initial Performance Bond amounts should they represent more than 25 of the open interest in any given contract. The application of concentration is designed to 1 protect the Clearinghouse for the increased risk in case of a default by the Clearing Member and 2 act as an incentive to the Clearing Member to reduce the concentration in the contracts.

In one embodiment the system e.g. the system can determine that concentration margins based on the following schedule 

At step the system can periodically revalue the positions held by each Clearing Member. The step can be performed throughout the trading day and preferable twice daily. The revaluation process can rely on the construction of a blended interest rate curve to generate discount factors for any point along the curve. The resulting net present value of the cash flows fixed side and floating side in the case of an interest rate swap future can determine the value or mark to market of the interest rate swap future. The Clearinghouse can debit the Clearing Member s collateral account to realize any losses during the trading day. Gains in value can be paid once per day in the first banking process.

The blended yield curve can be constructed by bootstrapping a set of quoted benchmark rates and various financial contract prices to create zero coupon discount factor curves. This process is described in more detail with respect to step . Briefly the bootstrapping process begins with the shortest term swap future contract and steps through them all in ascending order of maturity. At every step discount factors from the preceding swap future contracts are used to determine the discount factor for the current one. The curve generation process strips each swap future contract into its individual cash flows and then prices it using zero coupon pricing.

The methodology for generating the curve can be published and available to the Clearing Members and the general public on the Clearinghouse Website. As new products are added the revaluation curve methodology can be reviewed for its applicability and suitability to the risks taken by the Clearinghouse.

At step the performance bond collection is managed. In one embodiment the system uses at least one of the following rules associated to the collection of all Performance Bond requirements at the Clearinghouse.

At step the performance bond collateral is managed. All forms of collateral must continue to meet at least one of the general collateral acceptance criteria below to be considered for approval 

At step at least one money market fund is determined to usable as collateral. In one embodiment the system may establish a list of Approved Money Market Funds which may be used as collateral based on at least one of the following criteria 

At step the system can determine the collateral valuation and haircuts for the Performance Bond. The following are one embodiment of rules governing the collateral valuation and haircuts used to determine the Performance Bond on deposit amount.

The process described below provides for First In First Out FIFO offsetting and netting of similar swap contracts based on maturity dates of the contracts thereby reducing the residual risk for the exchange.

At step the system initializes a swap contract for trading. In one embodiment the contract is a IDEX USD DLOC contract and is configured to alleviate the impact of these mismatches while retaining the granularity and precision of the existing IDEX USD IRS contract. The IDEX USD DLOC contract is configured to encourage a large degree of cross over interest from existing contracts. In general any swap contract that is configured such that small mismatches in maturity dates do not create significant exposures from their offsetting fixed legs can be configured for the process i.e. yesterday s spot five year contract is a very effective hedge against movements in today s spot five year rate. The process for initializing a swap contract for trading is described in more detail in at least step of .

At step the contract is configured to have interest periods and reset dates common among contracts across the majority of its life. Where exposure does occur is in the timing difference in the floating rate sets if these settings straddle an important economic or monetary policy event they can create or destroy material value. The IDEX USD DLOC contract or any other contract configured for the process deals with this risk by being configured to have interest periods and reset dates common among contracts across the majority of its life e.g. a substantial period of the life e.g. 90 100 of the life . Specifically in one embodiment interest payments are configured to occur on the third Wednesday of the months of March June September and December and finally on the maturity date of the contract itself. This way the first and last floating resets will differ across contracts thus reducing the implications of holding maturity date mismatches and furthermore allows the Clearinghouse IDCH to offer significant initial margin relief.

At step the swap contract can be further configured to minimize material interest rate exposure. Mismatches in coupon rates can create material interest rate exposure if the resultant annuity is large. This can be the case if the offsetting notional is significant and or if the coupon differential is wide. This exposure arises because the value of a positive annuity increases as yield fall and vice versa . In one embodiment the IDEX USD DLOC contract or any contract configured for the process deals with this risk by trading on price and keeping all future obligations common for a given maturity date. Specifically in one embodiment all fixed rates are set at 5.00 and the price represents the net present value of these common future obligations.

At step the system and or the counter party IDCH nets and collapses offsetting transactions with common maturities leaving a participant e.g. user and or clearing house with no or almost no ongoing commitments. The process of step can be performed by the process of . By virtue of the swap product construction and configuration described above and to ease cross over interest from existing contracts the system IDCH is able to provide a common valuation tool in the form of the system Discount Curve as described herein which results in total variation margin relief and significant initial margin relief between various contracts including IDEX USD IRS contracts and IDEX USD DLOC contracts. Processing then continues to other processing.

At step a trade is received and stored. In one embodiment if the trade is a buy the trade may be put in a buy FIFO queue. If the trade is a sell the trade may be put in a sell FIFO queue.

At step for a single account e.g. a Trading and or position account or Daily Account and or a group of related account each like contract is netted on a First In First Out FIFO basis. So the first buy available e.g. on the buy FIFO queue will be netted by the first sell available e.g. on the sell FIFO queue and visa versa. The netted transactions are removed from the respective FIFO queues.

At step it is determined if the buy and or sell FIFO queues are not empty processing loops back to step where the next buy may be netted by the next sell and so forth. So if in an account the user buys at 10 4.00 than 15 4.01 than 25 4.04 and than 5 4.02 than the user sells 10 4.06 the system will net the first buy at 4.00 against the first sell at 4.06 and so on. In this embodiment the result of the netting may be 6 bps.

At step a Profits and Loss P L is computed for each netted pair of buy to sell and or across all pairs based on a valuation of the result of the netting e.g. 6 bps against the discount curve and the computed margin for the user. In one embodiment the P L made of the netted buy to sell is then determined by the Dollar Value of 1 basis point DVO1 of a basis point against the discount curve as disclosed herein and paid or collected in the variation margin. In one embodiment the DVO1 of a basis point against the discount curve comprises valuation against the discount curve as described in . In the above example if the user sold at a value e.g. 50 m the system will net in order of time to fulfill the sale. Processing then continues to other processing.

In one embodiment the system of as disclosed above may be further configured to manage analysis and reporting with respect to the swap contract exchange. In on embodiment server device of the system may be configured to perform the process of A .

In one embodiment the apparatus of as disclosed above may be further configured to manage analysis and reporting with respect to the swap contract exchange.

In one embodiment analysis component of the apparatus includes any hardware and or hardware and software component configured to produce analysis reports about the swap contracts in the system and or shadow or simulated clearing of a portfolio derivates within the electronic exchange computer system and pr providing Shadow Clearing Reports. Component can be configured to perform at least some of the steps of the processes of A .

In one embodiment the steps may be modified to manage analysis and reporting with respect to the swap contract exchange. In particular The process and interfaces of step may be performed by the processes of . The process of step for generating reports may be performed by the processes of . In an alternate embodiment the process of step may also perform the process of . In other embodiments the process of A F may be performed independently of the process of .

Swap contracts unlike futures contracts continue to pay and receive cash flows over their life. There is no concept of settlement on expiry under a swap in the way that there is in a future. The impact of this on the holder of a swap portfolio is that the passage of time has an effect on the value of the portfolio.

As used herein the Carry refers to the differential between the interest accrued on the fixed and floating legs over the period. As used herein the Decay refers to the differential between the initial yield of the swap and that predicted by the yield curve at the end of the period.

At step the impact s of the Carry are computed and provided for the swap contract. The Carry parameter can be provided through the interface. To consider the impact of Carry as an example the system may manage a swap with notional of USD 1 000 000 and look at the period from 26 Sep. 08 to 27 Oct. 08 i.e. 1 month. The system then calculates the interest accruals and uses the Day Count Fraction DCF conventions used in the USD Swap Market interest Accrual National Rate DCF

For the floating interest accrual the rate is LIBOR in this case 3.47625 and the DCF is calculated using an Actual 360 convention. This means the actual number of days in the period are divided by 360. So in the example

For the fixed interest accrual the rate is the fixed coupon of the swap in this case 4.13 and the DCF is calculated using a 30 360 or Bond Basis convention. The 30 360 convention is a little more involved than Actual 360 but it essentially just assumes that each month has a length of 30 days. It is best explained as a formula

D1 is the calendar day expressed as a number of the start date of the interest period unless such number would be 31 in which case D1 will be 30 and

D2 is the calendar day expressed as a number of the end date of the interest period unless such number would be 31 and D1 is greater than 29 in which case D2 will be 30.

Now by netting these two accruals the system determines the carry for holding this particular swap for 1 month as 562.95 a gain if you receive fixed sell and a cost if you pay fixed buy .

This leaves us with the Decay to contend with this process is not dissimilar to the way that a futures contract and its spot index converge as you approach expiry. Using the same example swap at the end of the period the rate at which the system can close out the swap is no longer the prevailing 5 year rate but the 4 year 11 month rate. In one embodiment if the system is configured such that the market is assumed not move over the period and rates travel in a straight line between the 5 year and 4 year this rate is 4.12 .

With the initial fixed rate 4.13 and the decayed fixed rate 4.12 the system determines a measure of duration or the Basis Point Value BPV to determine the impact of Decay in the following way 413 412 448.67 44867

For example if the system receives a transaction to fix sell the swap contract over the 1 month period the system earns 562.95 in Carry and an additional 448.87 in Decay for a total gain of 1 011.82. It is sometimes useful to determine this number in breakeven terms. This is easily done by using the BPV used in the Decay calculation

This means the swap rate can rise over the period by 2.25 bp before the discount curve starts to experience a loss. This is often referred to a Positive Carry or just a Carry Trade.

In this example the Carry and Decay performance of a swap over a 1 month period has been examined and determined. This choice of period is important. If the system had chosen to look at a different period the system may have generated significantly different answers. In fact the swap example would experience periods of both positive and negative Carry and Decay over its life.

Carry and Decay can be important components to the evaluation of a trading strategy expressed in the swap space. In one embodiment the period over which Carry and Decay are implied are constrained to match the potential time horizon of the underlying strategy.

PCA is a special case of Factor Analysis where error terms are assumed to have equal variance. It involves the formation of the eigenvalue decomposition of a data covariance matrix after mean centering and normalizing the data for each attribute. In this example the system uses the six months of USD Interest Rate Swap data from 18 Mar. 2008 to 18 Sep. 2008 to demonstrate the PCA technique and interpret its results. Six months is a commonly used sample for PCA but is by no means the only way to capture the underlying market dynamic and other ways can be used without departing from the scope of the invention.

PCA can be performed by mathematical software packages such as Mathematica ViSta The Visual Statistics System Spectramap MATLAB Multivariate Data Analysis Software Weka and or custom statistical software packages that models and computes among other things Karhunen Lo ve transform KLT the Hotelling transform or proper orthogonal decomposition POD or the like.

At step the input data feeds for the computation of the PCA are gathered. In this example the system may gather 1 yr 2 yr 3 yr 4 yr 5 yr 6 yr 7 yr 8 yr 9 yr 10 yr 12 yr 15 yr 20 yr 25 yr and 30 yr closing yields from Bloomberg for the period 18 Mar. 2008 to 18 Sep. 2008. The system next creates a matrix of 15 columns corresponding to the curve points and 133 rows corresponding to each day s closing change in yields.

At step the system centers and or normalizes the data. This is achieved by for example subtracting the sample mean and dividing by the sample standard deviation for each dimension of the data matrix. This is done to among other things ensure the data set is stationary and to reduce the dominance of the input variable with the greatest volatility. Different methods of standardization exponential smoothing etc. are used by different software packages which is why slightly different results can be produced.

At step the system calculates the covariance matrix. In one embodiment the full covariance matrix can be the matrix shown in . The matrix reveals the typical conduct of a swap yield curve with tightly spaced pairs being more correlated than more distant pairs. As seen the matrix is both square and symmetrical this is an important requirement for the next step.

At step the system calculates the eigenvectors and eigenvalues of the covariance matrix. Most statistical software packages will perform the eignvalue decomposition of the covariance matrix with built in routines. Here the results of this process are applied against the input data. In one embodiment there are some assumptions to perform this analysis namely that the principal components are orthogonal. Practically this means that the relationships in the data set are linear and that the mean and variance are sufficient statistics to describe their distribution.

In one embodiment the first few principal components Pn describe the vast majority of the variation in the data set. shows that in the example data set the first 3 principal components explain 99.5 of the variability in the data. This efficiency in explanation and computation is one of the great attractions of PCA.

Turning now to the eigenvectors in the computed data can be applied to a swap curve. P1 weights are very similar for each of the instruments in the data set this effect can also be seen in the very high correlation between these points and can be interpreted as the impact of roughly parallel moves in the yield curve. P2 weights are consistently decreasing which can be seen to reflect a change in slope of the yield curve. As an aside it is interesting to note the pivot point of this slope component is around 7 yr. This pivot point may be part of the data provided to users for their analysis and use. Finally P3 weights can be determined to represent the convexity or bowing of the yield curve. Again it is interesting to see where this bowing is greatest impact in the case the 5 yr region. This bowing point may be part of the data provided to users for their analysis and use.

Although the example data set included only one asset class swaps the system can be programmed to incorporate government backed products or another currency and apply the data to the first four principal components discussed above one of which would represent the change in spread between asset classes.

At step the computed data analysis of the PCA of the various swap contract data are provided. As seen PCA can be a valuable tool when examining the overall risk of a portfolio similar to Value At Risk VAR analysis but with greater descriptive power. It is also useful in deriving weighting for strategies which immunize the trade or portfolio against the effects of shift curve spread and or bowing of a yield curve. This is of particular interest when identifying strategies with mean reverting potential.

At step the transactions in the portfolio of a user is configured for simulated trading within the system. If the transactions in the flat file provided by the user does not match exactly the system s current contract specifications the system can make some assumptions and modifications to the trade details in order for them to conform for shadow clearing. There are three key areas of difference which can me harmonized by the system based on the client data Frequency of the floating leg Margins on the floating leg Embedded call options.

While the flat file contains a mix of floating leg frequencies the system s current contract specifications can allow for quarterly rolls. For shadow clearing purposes the system can be configured such that the floating legs roll on a quarterly basis. In some embodiments the system my make no adjustment to the valuations which will contribute to some difference between the system and the swap counterparts. In one embodiment the system can provided a set of proposed contract specifications which allow for monthly rolls to the Federal Farm Credit Banks Funding Corporation which will eliminate this issue.

Where there are margins on the floating leg of the deals they have been converted into fixed rate equivalents using the following approximation 

Finally there are a number of callable structures within the portfolio which the system has treated as bullet transactions to the call date of the contract given the strikes of these contracts this is a reasonable representation of the exposure.

At step past and or current data of trades within the portfolio are provided into a simulation of the execution of the system wherein the simulation includes real trade data from the system as well as the trade data from the portfolio. The simulation generates the simulated discount curve and provides data as described in . Valuations are generated by the system discount curve. The details of the construction of this curve are described herein.

At step the system simulates the execution of the trades of the portfolio using the discount curve generation and margin maintenance processes described herein for example using the process of . In one embodiment the simulation is based on simulated trades using the clearinghouse as a simulated counterparty to the trades.

At step a Shadow Daily Report is generated. Daily Reports can include five main sections Summary Report Open Position Report Closed Position Report Coupon Paid Report Yield Curve Details. The Shadow Summary Report can show the pricing of the trades and or the Initial and Variation Margin requirements of the portfolio along with any coupons due and the Base Margin which is equivalent to the NPV of the open contracts. As the shadow clearing exercise moves forward the changes in these numbers from the previous day will also be displayed here. All of the numbers in the reports are from the clearinghouse s point of view i.e. a positive number is money owed to the clearinghouse and a negative number is money owed to the participant. The open position report will give trade level valuation detail mapped to the original ID the order of trade and the contract s series identifier. For information original counterpart gives a summary. If there are any closed positions or coupons paid they will appear in their respective reports with the same information as in the open position report. On the final page the curve inputs are displayed. Processing then returns to other processing

At step a portfolio provided by a participant is analyzed e.g. by shadowing the portfolio. The system models the current interest rate exposure of the portfolio and how the value of the same contracts decays over time. The simulated exposure can be determined by the data including the simulated daily reports of the process of . Hedges to this exposure are then created or simulated whose commercial terms can be replicated by contracts currently listed and cleared by the system and its affiliates. By executing these hedges and contracts simultaneously the party can move the bulk of the counter party credit exposure from a bilateral environment to a centrally cleared solution without impacting the interest rate risk profile of the portfolio or the accounting treatment of its valuation. In one embodiment there has been some loss of granularity in the very front end of the yield curve in this analysis as exposures less than two years have been combined. But this is done more for ease of illustration than any technical constraint. In other embodiments no such loss of granularity is created by use less than two years of exposure.

Based on user input options about how the party wanted to view these shorter end exposures the system can add further details if required. There are at least two solutions offered by the system one which crystallizes the counter party exposure at current levels and one which attempts to minimize the exposure by executing the hedges and contracts off market. Both are included as minimizing the exposure has a more significant funding implication for a trader s counterparts and as such may impact on the cost of the solution. The hedges can continue to be amended over their life to ensure they are serving their original purpose.

At step the modeling of the interest rate exposure and how the valuation exposure decays over time for the portfolio are determined and displayed for example as shown in the reports of . shows the maturity profile of the interest rate exposure measured by the sensitivity to a 0.01 fall in swap yields. It shows a predominately short position of upwards of 20 million per basis point between 5 year and 15 year with some offset in the 10 year. shows how the NPV decays as the positions mature with the NPV changing sign at around the 2 year point and maintaining a relatively stable trend towards zero after 5 years.

While there is some natural netting in the portfolio this reduced the gross notional by 263 Million or less than 1 and the deal population by 3 or around 2 . The portfolio can be one which has significant underlying risk the summary details of the analysis of risk exposures are as follows in one embodiment and can be provided to the user as various reports 

By entering into just 15 swap transactions in the OTC market and related cleared futures contracts the vast majority of the interest rate exposure can be transferred into a centrally cleared environment. The residual interest rate exposure in the OTC environment can be seen in again measured by the sensitivity to a 0.01 fall in swap yields. The report may indicate that the Interest Rate Exposure has been reduced to around 58 Thousand per Basis Point and is constrained to the front of the curve.

At this stage the valuation exposure remains in the OTC space because the transactions employed to transfer the interest rate risk exposure have been executed at market. Using the same 15 swap transactions struck at off market levels the valuation exposure can also be moved. The impact of this can be seen in the report of . There is some jaggedness in the residual valuation exposure because of the relatively small number of transactions that have been used to address its profile a smoother result could be achieved by employing more than 15 hedge transactions.

At step a report of an ongoing maintenance or margin to keep both of the residual OTC profiles portfolios at a minimum level are determined and displayed as show in the example report of . As shown the fewer transactions used to replicate the profile of the original portfolio the greater this maintenance demand would be in both magnitude and frequency. However as can be seen in this example it is a relatively simple and efficient process to transfer the bulk of the counter party credit exposure of the portfolio to a centrally cleared solution.

As described above in conjunction with show various user interfaces provided by the process of shadowing a portfolio within the system including maturity profile of the interest rate exposure residual interest rate exposure in the OTC environment valuation exposure and simulated ongoing maintenance or margin requirements.

At the steps interfaces of the system provides a spot starting swap traded on a date e.g. February 10 and the margin effect of that contract carried as a position overnight to the next date e.g. February 11 . The yellow highlights the margin change.

At the steps interfaces of the system provides the margin and coupon changes of an aged transaction of a receiver In the Money that is sent into the clearinghouse. reflects and displays the day the system first gets the trade showing Variation margin collection. reflects and displays the next day carried. F and G reflects and displays a coupon payment and floating reset and the change over a couple of days.

At the steps interfaces of the system provides substantially the same information as other than the system shows a user out of the money.

At the step interface of the system provides the calendar screen which allows a user to select the end date of a contracts which gives the system sufficient information to provide the swap trade ticket for trade entry. C is the same as A but is configured for a spot swap versus a forward starting swap.

At the step interface of the system provides the IDCH discount curve and rates displayed the current real time curve most recent e.g. 11 am and 3 pm mark to market and prior day e.g. 11 am and 3 pm .

At the step interface of the system provides the Present Value of a Basis Point sensitivity to a certain account in our risk system. So it means any 1 basis point move in the curve will shift risk by that number for each account.

At the step interface of the system provides the current level of variation margin of a given account.

At the steps interfaces of the system provides various views of overall margin levels and risk levels on accounts

At the step interface of the system provides a graphical display of PVO1 sensitivity. In one embodiment PV01 is the present value impact of 1 basis point move in an interest rate.

For the sake of brevity it should be understood that certain structures and functionality or aspects thereof of embodiments of the present invention that are evident from the illustrations of the Figures have not been necessarily restated herein.

A computer or processor readable medium such as a floppy disk CD ROM DVD etc. may be use to store the processes techniques software and information illustratively described herein. The media may store instructions which when executed by a computer processor causes the processor to perform the processes described herein. The media can also be stored on devices such as a server device within a database within main memory within secondary storage or the like.

It is to be understood that the invention is not to be limited to the exact configuration as illustrated and described herein. Accordingly all expedient modifications readily attainable by one of ordinary skill in the art from the disclosure set forth herein or by routine experimentation there from are deemed to be within the spirit and scope of the invention as defined by the appended claims.

