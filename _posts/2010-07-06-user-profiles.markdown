---

title: User profiles
abstract: A method, system and computer-readable product for a fixed mobile convergence system. The method includes analyzing at least one rule set associated with at least one user profile with the user profile being associated with at least one mobile device supporting more than one line. Each line offering one or more transports and options for establishing a telephone call. After analyzing the one or more rule sets, a context-specific real-time usage mode is determined based on the analysis which include selections of a telephone line, a transport and establishment options. After determining the usage mode, a call is established between one of the devices and a telephony endpoint, either incoming or outgoing, based on the determined usage mode.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08423030&OS=08423030&RS=08423030
owner: Research In Motion Limited
number: 08423030
owner_city: Waterloo
owner_country: CA
publication_date: 20100706
---
The present disclosure relates generally to an enterprise fixed mobile convergence system. More specifically the present disclosure relates to an enterprise fixed mobile convergence system which analyzes user profiles to choose a phone line transport and direction for incoming and outgoing calls.

Enterprise fixed mobile convergence systems are becoming more prevalent. One of the benefits of such systems is the convenience of having one work phone number and one voice mailbox for a user while having the possibility of multiple actual phones for example a work phone device and a mobile device allowing for a single work persona for incoming and outgoing call regardless of the actual location of the user. The work phone device is typically a fixed phone that a worker can use in the office and the mobile device is a handheld electronic device such as a cell phone or a personal digital assistant PDA that is capable of handling phone calls emails and text messages. The mobile device may already have a number allocated by the cellular carrier associated with it in which case the work FMC number becomes a second line on that mobile device. The mobile device may use traditional cellular technology to establish a call for example enhanced data GSM environment EDGE or code division multiple access CDMA or the call may be placed over a voice over internet protocol VoIP connection either using cellular or wireless local access network WLAN technology for example Wi Fi 802.11 or WiMAX 802.16. Although a user can use either number on the mobile device a company may prefer that one number be used over the other. Similarly the company may prefer one transport technology over another. For example if the user is in the office the company may prefer that all business calls are on the work number and are through VoIP rather than Cellular. In addition the user may have preferences in how the mobile device is utilized for example using the cellular line for friends and family but an Enterprise FMC line for work related calls.

Reference will now be made in detail to implementations of the technology. Each example is provided by way of explanation of the technology only not as a limitation of the technology. It will be apparent to those skilled in the art that various modifications and variations can be made in the present technology without departing from the scope or spirit of the technology. For instance features described as part of one implementation can be used on another implementation to yield a still further implementation. Thus it is intended that the present technology cover such modifications and variations that come within the scope of the technology. Other aspects of the present technology will be apparent to those of ordinary skill in the art from a review of the following detailed description in conjunction with the drawings. Implementations of the present technology are not limited to any particular operating system mobile device architecture server architecture or computer programming language.

The present technology relates to the control and management of communications. Although reference may be made to calls in the description of example implementations below it will be appreciated that the described systems and methods are applicable to session based communications in general and not limited to voice calls. It will also be appreciated that the systems and methods may not be limited to sessions and may be applicable to messaging based communications in some implementations.

Reference is now made to which shows in block diagram form an example system generally designated for the control and management of communications. The system can include an enterprise or business system which in many implementations can include a local area network LAN . In the description below the enterprise or business system can be referred to as an enterprise network . It will be appreciated that the enterprise network can include more than one network and can be located in multiple geographic areas in some implementations.

The enterprise network can be connected often through a firewall to a wide area network WAN such as the Internet. The enterprise network can also be connected to a public switched telephone network PSTN via direct inward dialing DID trunks or primary rate interface PRI trunks. In some cases the Enterprise can connect directly with a public land mobile network PLMN for circuit switched calls to mobile devices.

The enterprise network can also communicate with a public land mobile network PLMN which can also be referred to as a wireless wide area network WWAN or in some cases a cellular network for packet switched communications. The connection with the PLMN can be made via a relay as known in the art.

The enterprise network can also provide a wireless local area network WLAN featuring wireless access points. Other WLANs can exist outside the enterprise network . For example WLAN can be connected to WAN .

The system can include a number of enterprise associated mobile devices only one shown . The mobile devices can include devices equipped for cellular communication through the PLMN mobile devices equipped for Wi Fi communications over one of the WLANs or dual mode devices capable of both cellular and WLAN communications. WLANs can be configured in accordance with one of the IEEE 802.11 specifications.

It will be understood that the mobile devices can include one or more radio transceivers and associated processing hardware and software to enable wireless communications with the PLMN and or one of the WLANs . In various implementations the PLMN and mobile devices can be configured to operate in compliance with any one or more of a number of wireless protocols including GSM GPRS CDMA EDGE UMTS EvDO HSPA LTE or a variety of others. It will be appreciated that the mobile device can roam within the PLMN and across PLMNs in known manner as the device moves. In some instances the dual mode mobile devices and or the enterprise network can be configured to facilitate roaming between the PLMN and a WLAN and are thus capable of seamlessly transferring sessions such as voice calls from a connection with the cellular interface of the dual mode device to the WLAN interface of the dual mode device and vice versa.

The enterprise network typically can include a number of networked servers computers and other devices. For example the enterprise network can connect one or more desktop or laptop computers one shown . The connection can be wired or wireless in some implementations. The enterprise network can connect to one or more digital telephone sets one shown .

The relay can serve to route messages received over the PLMN from the mobile device to the corresponding enterprise network . The relay can push messages from the enterprise network to the mobile device via the PLMN .

As is typical in many enterprises the enterprise network can include a Private Branch eXchange although in various implementations the PBX can be a standard PBX or an Internet Protocol IP PBX for simplicity the description herein uses the term PBX to refer to both having a connection with the PSTN or PLMN for routing incoming and outgoing voice calls for the enterprise. The PBX can be connected to the PSTN or PLMN via DID trunks or PRI trunks for example. The PBX can use Integrated Services Digital Network ISDN signaling protocols for setting up and tearing down circuit switched connections through the PSTN or PLMN and related signaling and communications. In some implementations the PBX can be connected to one or more conventional analog telephones . The PBX can be connected to the enterprise network and through it to telephone terminal devices such as digital telephone sets softphones operating on computers etc. Within the enterprise each individual can have an associated extension number sometimes referred to as a PNP private numbering plan or direct dial phone number. Calls outgoing from the PBX to the PSTN or PLMN or incoming from the PSTN or PLMN to the PBX can be circuit switched calls. Within the enterprise e.g. between the PBX and terminal devices voice calls can be packet switched calls for example Voice over IP VoIP calls.

The enterprise network can further include a Service Management Platform SMP for performing some aspects of messaging or session control like call control and advanced call processing features. The SMP can in some cases also perform some media handling. Collectively the SMP and PBX can be referred to as the enterprise communications platform generally designated . It will be appreciated that the enterprise communications platform and in particular the SMP can be implemented on one or more servers having suitable communications interfaces for connecting to and communicating with the PBX and or DID PRI trunks. Although the SMP can be implemented on a stand alone server it will be appreciated that it can be implemented into an existing control agent server as a logical software component. As will be described below the SMP can be implemented as a multi layer platform.

The enterprise network can include an enterprise server . Together with the relay the enterprise server can function to connect the SMP with the device over the packet switched network so that commands and response can be exchanged between an application on the SMP and a corresponding application on the mobile device .

The enterprise communications platform can implement the switching to connect session legs and can provide the conversion between for example a circuit switched call and a VoIP call or to connect legs of other media sessions. In some implementations in the context of voice calls the enterprise communications platform can provide a number of additional functions including automated attendant interactive voice response call forwarding voice mail etc. It can implement certain usage restrictions on enterprise users such as blocking international calls or 1 900 calls. In many implementations Session Initiation Protocol SIP can be used to set up manage and terminate media sessions for voice calls. Other protocols can be employed by the enterprise communications platform for example Web Services Computer Telephony Integration CTI protocol Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions SIMPLE and various custom Application Programming Interfaces APIs as are known to those of skill in the art and may be described in greater detail below.

One of the functions of the enterprise communications platform can be to extend the features of enterprise telephony to the mobile devices . For example the enterprise communications platform can allow the mobile device to perform functions akin to those normally available on a standard office telephone such as the digital telephone set or analog telephone set . Example features can include direct extension dialing enterprise voice mail conferencing call transfer call park etc.

Reference is now made to which show example implementations of the enterprise communications system . Again although references are made below to calls or call centric features it will be appreciated that the architectures and systems depicted and described can be applicable to session based communications in general and in some instances to messaging based communications.

In this implementation the SMP can assume control over both call processing and the media itself. This architecture can be referred to as First Party Call Control. Many of the media handling functions normally implemented by the PBX can be handled by the SMP in this architecture. Incoming calls addressed to any extension or direct dial number within the enterprise for example can be first routed to the SMP . Thereafter a call leg can be established from the SMP to the called party within the enterprise and the two legs are bridged. Accordingly the SMP can include a digital trunk interface and a digital signal processing DSP conferencing bridge . The DSP conferencing bridge can perform the bridging of calls for implementation of various call features such as conferencing call transfer etc. The digital trunk interface can be implemented as a plurality of telephonic cards e.g. Intel Dialogic cards interconnected by a bus and operating under the control of a processor. The digital trunk interface can be partly implemented using a processor module such as for example a Host Media Processing HMP processor.

The SMP can include various scripts for managing call processing. The scripts can be implemented as software modules routines functions etc. stored in non volatile memory and executed by the processor of the SMP . The scripts can implement call flow logic business logic user preferences call service processes and various feature applications.

The call control server can be coupled to the PBX for example through the LAN enabling packet based communications and more specifically IP based communications. In one implementation communications between the PBX and the call control server can be carried out in accordance with SIP. In other words the call control server can use SIP based communications to manage the set up tear down and control of media handled by the PBX . In one example implementation the call control server can employ a communications protocol conforming to the ECMA 269 or ECMA 323 standards for Computer Supported Telecommunications Applications CSTA .

The SIP server can interact with the media server using SIP based media handling commands. For example the SIP server and media server can communicate using Media Server Markup Language MSML as defined in IETF document Saleem A. Media Server Markup Language Internet Draft draft saleem msml 07 Aug. 7 2008. The media server can be configured to perform Host Media Processing HMP . Other architectures or configurations for the enterprise communications system can be appreciated by those of ordinarily skilled in the art.

Reference is now made to which shows an implementation of the enterprise communications system with a Third Party Call Control architecture. In this implementation the SMP can be a multi layer platform that includes a protocol layer a services layer and an application layer . The protocol layer can include a plurality of interfaces operating in accordance with various protocols each interface can be configured for enabling operation of corresponding applications in the application layer . The services layer can include a plurality of services that can be leveraged by the interface protocols to create richer applications. Finally the application layer can include a plurality of applications that are exposed out to the communication devices and that leverage corresponding ones of the services and interface protocols for enabling the applications.

Specifically the protocol layer can preferable include protocols which allow media to be controlled separate from data. For example the protocol layer can include among other things a Session Initiation Protocol or SIP a Web Services protocol an Application Programming Interface or API a Computer Telephony Integration protocol or CTI and a Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions or SIMPLE protocol . It is contemplated that the interface protocols can be plug ins that interface directly with corresponding servers in the enterprise network which are further described below.

For the purposes of this disclosure SIP can be utilized although it is appreciated that the system can operate using the above disclosed or additional protocols. As known by those of ordinary skill in the art SIP is the IETF Internet Engineering Task Force standard for multimedia session management and more specifically is an application layer control protocol for establishing maintaining modifying and terminating multimedia sessions between two or more endpoints. As further known by those of ordinary skill in the art the SIP protocol can provide for two interfaces for signaling SIP Trunk hereinafter referred to as SIP T and SIP Line hereinafter referred to as SIP L . The SIP T interface can be utilized when the endpoint is a non specific entity or not registered i.e. when communicating between two network entities . In contrast the SIP L interface can be utilized when the endpoint is registered i.e. when dialing to a specific extension . The specific operation of the system can utilize SIP which is described in further detail below.

The SMP can include a plurality of enablers among other things a VoIP enabler a Fixed Mobile Convergence or FMC enabler a conference services enabler a presence enabler an Instant Messaging or IM enabler and a mobility over cellular enabler not shown . Each of the enablers can be used by corresponding services in the services layer that combine one or more of the enablers. Each of the applications in the application layer can then be combined with one or more of the services to perform the desired application. For example a phone call service can use the FMC VoIP or Mobility over Cellular enabler and an emergency response application can use the phone call service an Instant Messenger service a video call service and email service and or a conference service.

To allow a company having an enterprise phone system to control how its employees use the enterprise phone system user profiles can be implemented. In the enterprise phone system one employee can be assigned one telephone number that is associated with at least one work device e.g. work phone device and at least one mobile device e.g. PDA or a separate number can be assigned to each device. Each device can have one or more lines associated with the device each line representing a unique persona. For example the mobile device can have a regular cellular line and also a work line provided by a FMC VoIP or Mobility over cellular enabler. When the user makes a call on the cellular line or receives a call on the cellular number corresponding to the cellular line the user can present a specific persona that is distinct from when the user makes a call on the work line or receives a call on the work number corresponding to the work line. To assist in the setting up and management of the user profiles one or more class of service COS can be used. The COS can allow an administrator to globally set rules or rule sets for each COS with each rule being modifiable by the administrator. For example an employee in the management COS can have different rules being applied to the employee s calls e.g. permitting calls overseas compared to the rules being applied to the staff COS e.g. not permitting calls overseas. As well as a COS there can be one or more rules that are specific to an individual user set by the administrator and can be in some cases modifiable by the user. For example the list of callers who are considered to be important or the list of callers who should be blocked can be modifiable by the user. Included in the COS the individual user rules or a combination thereof there can be rules that control the selection of a line for an FMC line rules that control the selection of the transport VoIP or Mobility over Cellular rules to control when lines can be used by time and day etc. These rules both from the COS and individual rules make up a rule set. Depending on how the rule sets are setup some rule sets can be overridden by other rule sets or individual rules within a rule set can be overridden by a corresponding rule in a different rule set. A complete rule set is known as a Line and Call Control Policy.

At a minimum each employee can have a Default Line and Call Control Policy. Depending on the COS for the employee the employee can have an Additional Line and Call Control Policies for example the Default Line and Call Control Policy can define the behavior of the device for work calls while a user specified Private Additional Line and Call Control Policy can define the rule set for private calls or as another example the user can define an Out of Hours Additional Line and Call Control Policy that can define how calls are handled while outside normal office hours. Each Line and Call Control Policy can include the type of rule set the rule set and an override. The type of rule set can be the name of the rule set the rule set can include the available options and the override can determine if the rule set can be overridden. If the Default Line and Call Control Policy allows for a rule to be overridden the applicable rule in the Additional Line and Call Control Policy can override the rule. A Line and Call Control Policy for an FMC line can include for example the following types line selection criteria transport selection criteria WLAN profiles that are allowed to be used for VoIP calls direction of the cellular call establishment for Mobility over Cellular time of day control over when a call is sent from the enterprise to the FMC line on the mobile device and caller restrictions such as allowed lists blocked lists handling of unknown caller identify etc. In one or more implementations more or less types can be implemented.

The line preference controls which or how the lines are used. The line preference typically consists of two lines a work line VoIP Mobility over Cellular or FMC and a mobile line. In other implementations more than two lines can be used for example a third line provided by a VoIP carrier such as Skype or GoogleTalk or through Alternative Line Service. The line preference can control when the work line or mobile line is the default line and how to handle a call when the default line is unavailable. Exemplary line preference options are Work Line Preferred Mobile Auto Work Line Preferred Mobile Prompt Work Line Only and Mobile Preferred. In the Work Line Preferred Mobile Auto mode the work line is the default line. If the work line is not available then the call can be automatically placed directly over the cellular line. In the Work Line Preferred Mobile Prompt mode the work line is the default line. If the work line is unavailable then the call can be placed over the cellular line only after prompting the user and receiving approval for switching of personas. In the Work Line Only mode the work line is the default line. If the work line is unavailable then the call fails. Typically the user cannot change the work line to access other lines or personas. This mode would be used for example if the mobile device is provided by the enterprise and all calls on that device need to be recorded by the enterprise. In the Mobile Preferred mode the mobile line can be the default line. Typically for the options that express a preference the user can change the preference line to a different line although this behavior can be explicitly disallowed by the administrator in the Class of Service.

The transport preference can control which transport is the preferred transport if two or more transports are available for example in the case of an FMC line where the call can be established over VoIP or over Mobility over Cellular If several VoIP options exist for example VoIP over Cellular VoIP over WLAN 802.11 or VoIP over WiMAX 802.16 this option can control the selection of the VoIP transport. In an exemplary implementation both the Mobility over Cellular transport and the VoWLAN transport can be available to the work line. In the Mobility over Cellular Preferred mode the Mobility over Cellular line can be preferred and the VoWLAN transport can only be used if the Mobility over Cellular transport is unavailable. In the VoWLAN Preferred mode the VoWLAN transport is preferred whenever it is available. In the Mobility over Cellular Only mode the VoWLAN transport is never available to the user and as a result all calls go over the Mobility over Cellular transport. In the VoWLAN Preferred mode the Mobility over Cellular transport is never available to the user and so all calls go over the VoWLAN transport.

The WLAN preference can control which transport e.g. VoWLAN is enabled by controlling which WLAN Profiles support the voice transport. A WLAN profile can include the details stored on the device that identifies a specific WLAN network or hotspot such as the BSSID security secrets etc. A WLAN Profile can be added by the enterprise using an IT Policy Enterprise WLAN Profile or can be configured by the user Private WLAN Profile . Thus the transport rules can define which WLAN Profiles are allowed to be used for VoWLAN and whether the user can add VoWLAN to the Private WLAN Profiles. A user can have multiple Private WLAN Profiles e.g. work home Starbucks.

The direction preference controls how incoming and outgoing calls can be made via the mobile device using Mobility over Cellular. For example a Mobility over Cellular call can be established by the enterprise calling the mobile number or the mobile device calling a pre defined enterprise number. The direction can be based on the location of the mobile device e.g. in the home PLMN or in a visiting PLMN on geographical location of the enterprise provides gateways from the PSTN as well as whether the network for the mobile device is capable of receiving data. For example an enterprise can have a preferential rate with a cellular carrier that results in calls from the mobile into the enterprise being substantially cheaper than calls set up in the other direction. However these rates may not apply if the device is roaming internationally in which case the call is less expensive if the mobile is called from the enterprise. Another example can be where the enterprise has a PSTN gateway located in two countries and so the cellular call cost can be reduced by calling into the local gateway for a roaming device rather than being called by the enterprise.

The Time of Day preferences can filter both incoming and outgoing calls based on the time of day. Incoming call filtering can consist of whether the call is allowed to be extended to the mobile device while outgoing filtering selects whether the call is made over the work line or cellular line. The time of day can be broken into the individual week days Monday through to Sunday and twenty four hours a day as well as other increments. This rule can combine with the line preference rule. Thus the line preference can be set to work line but the time of day outgoing rule overrides the line preference for outgoing calls being made before work hours e.g. 8 AM and after 5 PM Monday to Friday and all calls on Saturday and Sunday. The time of day can be set by the administrator and applied in the time zone of the user s home office. Thus in the COS the administrator can set the rules described above then 8 to 5 work hours can be applied using the time zone of the user s home office. Other administration rules can allow for the user to override the times set by the administrator and also vary depending on the time zone of the device compared to the time zone of the user s regular office.

The Call Number Filtering preferences can filter incoming calls extended to the mobile device. This filtering can occur before the time of day filtering occurs. The filtering can include allowed list blocked list and unknown caller. The al lowed list can include numbers that are always forwarded to the mobile device. The blocked list can include numbers that are not forwarded or blocked from being forwarded to the mobile device. The unknown caller can be a Boolean option on whether calls that do not have caller identification are forwarded to the mobile device.

Referring to a Default Line and Call Control Policy in accordance with an exemplary implementation is illustrated. This Default Line and Call Control Policy or Default user profile can be for an employee COS and defines the capabilities allocated to each employee in a company. For example for each employee the work line is preferred during working hours but the second line after hours allows VoWLAN calls only on the enterprise s WLAN network has no blocked or allowed numbers and wishes that PBX mobility calls are established as mobile initiated.

Referring to a Private Additional Line and Call Control Policy in accordance with an exemplary implementation is illustrated. The Private Additional Line and Call Control Policy or Private user profile can override specific aspects of the Default Line and Call Control Policy. This can provide for fine control of dual persona management contacts control how calls are made and received. The administrator can define the Private user profile with the rule sets that can override the rules sets of the Default user profile. Thus for example using the Default user profile the administrator can realize that there can be times where the user wishes not to use his work line. For example if a worker is calling a spouse or is making a call related to a task in the mobile device such as checking the tide times at the local port the worker can prefer to use the mobile device.

The user profiles can be associated with an item or the application associated with the item e.g. the context. For example an item can be a contact a calendar event a task a note or a specific web page. One or more rule sets can be associated with the item or the application associated with the item with the rule set controlling how a phone call established using information in an attached item can be used. Thus the user can associate his wife with the Private user profile for example and all calls to and from his wife go over the second line. For these calls the user can prefer to use the second line directly. Similarly click to call can also be tied to the Private user profile. For example if an employee is reading an email from his wife that contains the phone number of a local window cleaner the employee can click on the phone number in the email and call the window cleaner on the mobile device rather than the work phone device. The call can be made over the mobile device because the contact the wife can be associated with the Private user profile. In yet another example if the employee clicked on a telephone number listed in a web browser the call would be made based on the rules sets in the Default user profile.

Referring to an Out of Hours Additional Line and Call Control Policy in accordance with an exemplary implementation is illustrated. The Out of Hours Additional Line and Call Control Policy or Out of Hours user profile can be used when the employee needs to use the work line or second line during off hours outside of the normal work hours . For example an employee may need to make a work call out of hours e.g. calling overseas in response to a pre arranged meeting. Therefore the user creates the Out of Hours user profile which can override the Time of Day filtering for outgoing calls while leaving all the other rules as is. The user can associate this rule with a specific calendar appointment and when the appointment prompts the user the call is placed automatically over the first line despite the time of day.

Referring to a flowchart of a method for using a user profile in an enterprise fixed mobile convergence system in accordance with an exemplary implementation is illustrated. The exemplary method is provided by way of example as there are a variety of ways to carry out the method. In one or more implementations the method can be performed using one or more servers e.g. enterprise server enterprise communication platform SMP or any other suitable server or servers or can be pushed down to the devices e.g. the work phone device such as the digital telephone laptop or computer or mobile device such as the mobile device . The method can be executed or otherwise performed by one or a combination of various systems. The method described below can be carried out using the communication devices and communication network shown in by way of example and various elements of these figures are referenced in explaining exemplary method . Each block shown in represents one or more processes methods or subroutines carried out in exemplary method . The exemplary method may begin at block .

At block one or more rule sets are initially set in accordance with a COS. For example an administrator can set one or more rule sets for at least the Default user profile for each COS. In one or more implementations the administrator can initially set one or more rule sets of additional user profiles such as the Private user profile and the Out of Hours user profile. After initially setting the one or more rule sets the method can proceed to block .

At block a user profile associated with a work phone device e.g. a first device and a mobile device e.g. a second device such as a cell phone or PDA is analyzed in response to an incoming or outgoing call. For example the work phone device mobile device or enterprise server enterprise communication platform SMP of the enterprise fixed mobile convergence system can analyze the user profile or profiles in response to the call. The user profile can be the user profile associated with the work phone device and mobile device that is receiving the call or making the call. In one or more implementations if the other device third device e.g. the non work phone device or mobile device that is being called or calling the work phone device or mobile device is also associated with the same enterprise fixed mobile convergence system the user profile associated with the user of the third device can also be analyzed. The user profile can be the Default Line Call Control Policy. In one or more implementations additional user profiles such as the Private Additional Line Call Control Policy Out of Hours Additional Line Call Control Policy or other user profiles can also be analyzed. The number of user profiles can be dependent on the COS that is associated with the user. After analyzing the user profile or profiles the method can proceed to block .

At block a usage mode is determined based on the rule sets of the user profile or profiles. For example the work phone device mobile device or enterprise server enterprise communication platform SMP of the enterprise fixed mobile convergence system can determine the usage mode based on the rule sets of the user profile or profiles. At a minimum the rules associated with the phone line and transport can be determined. In one or more implementations other rules sets can also be analyzed to determine the usage mode. For example the WLAN profile allowance Direction Time of Day Caller Restriction and context rule sets can be analyzed to the determine the usage mode. After determining the usage mode the method can proceed to block .

At block the call is established. For example the work phone device mobile device or enterprise server enterprise communication platform SMP of the enterprise fixed mobile convergence system can communicatively couple either the work phone device or mobile device to the third device based on the usage mode. For example using the three user profiles illustrated in if a call is made to a number in the enterprise fixed mobile convergence system during normal business hours on a weekday the call would go to the work phone device and if the work phone device is not answered the call would be sent to the mobile device which would prompt the user whether to answer the call or not.

In an another example the three user profiles Default Private and Out of Flours can be pushed down to the devices associated with the user as part of the COS. The user profiles can be displayed on the device e.g. work phone device or mobile device in the phone options menu. As illustrated in in normal operation only the default user profile is used so that during office hours all calls go over the work line VoWLAN if the user is in the office and to the mobile line PBX Mobility if the user is not in the office. If the user has a list of contacts having associated telephone numbers calls to the user s friends can be made over the mobile line directly and avoid going through the enterprise. In this scenario the Private user profile associates the Private user profile to the contact directly. Thus if the user tries to call his wife since the spouse s contact information specifies the Private user profile then the call is made using the mobile line. For incoming calls that go directly to the mobile line the enterprise should block all the calls unless the caller is in the contact list of the user associated with the mobile device.

In yet another example if there is a work call to be made out of hours e.g. a conference call to a colleague on the west coast with the mobile device being on the east coast. The Out of Hours user profile can be used to arrange the call. The list of contacts associated with the mobile device can associate the colleague to the Default user profile and the meeting appointment can associate the meeting appointment to the Out of Hours user profile. So for example if an employee has scheduled a conference call for 8 PM local time the call can be made directly from the appointment or reminder with the Out of Hours user profile controlling the call. In such an implementation the call can be controlled by one or more rule sets associated with the context of the call e.g. the contact the appointment and the time.

The present technology can take the form of hardware software or both hardware and software elements. In some implementations the technology is implemented in software which includes but is not limited to firmware resident software microcode a Field Programmable Gate Array FPGA or an Application Specific Integrated Circuit ASIC etc. In particular for real time or near real time use an FPGA or ASIC implementation is desirable.

Furthermore the present technology can take the form of a computer program product comprising program modules accessible from computer usable or computer readable medium storing program code for use by or in connection with one or more computers processors or instruction execution system. For the purposes of this description a computer usable or computer readable medium can be any apparatus that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device. The medium can be an electronic magnetic optical electromagnetic infrared or semiconductor system or apparatus or device or a propagation medium though propagation mediums in and of themselves as signal carriers are not included in the definition of physical computer readable medium . Examples of a physical computer readable medium include a semiconductor or solid state memory magnetic tape a removable computer diskette a random access memory RAM a read only memory ROM a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk read only memory CD ROM compact disk read write CD R W and DVD. Both processors and program code for implementing each as aspect of the technology can be centralized or distributed or a combination thereof as known to those skilled in the art.

A data processing system suitable for storing a computer program product of the present technology and for executing the program code of the computer program product will include at least one processor coupled directly or indirectly to memory elements through a system bus. The memory elements can include local memory employed during actual execution of the program code bulk storage and cache memories that provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution. Input output or I O devices including but not limited to keyboards displays pointing devices etc. can be coupled to the system either directly or through intervening I O controllers. Network adapters can also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks. Modems cable modem and Ethernet cards are just a few of the currently available types of network adapters. Such systems can be centralized or distributed e.g. in peer to peer and client server configurations. In some implementations the data processing system is implemented using one or both of FPGAs and ASICs.

