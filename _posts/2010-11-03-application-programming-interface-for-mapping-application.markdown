---

title: Application programming interface for mapping application
abstract: A method of and mobile device are provided. The method comprises: receiving, at an application programming interface associated with a mapping application on a device, one or more tagging commands to associate specified geospatial data with a specified tag; in response to receiving each tagging command, updating a memory of the device to store an association between the specified geospatial data and the specified tag; receiving, at the application programming interface, a function command, wherein the function command references one of the specified tags; and in response to receiving the function command, executing a function associated with the function command for all geospatial data associated with the tag referenced by the function command.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09094785&OS=09094785&RS=09094785
owner: BLACKBERRY LIMITED
number: 09094785
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20101103
---
This application claims the benefit of and priority to U.S. Provisional Application No. 61 364 849 filed Jul. 16 2010 under the title APPLICATION PROGRAMMING INTERFACE FOR MAPPING APPLICATION . The content of the above noted patent application is hereby expressly incorporated by reference into the detailed description hereof.

The present disclosure relates generally to mobile device applications and more particularly to an application programming interface for managing geospatial data for a mapping application on a device.

Mobile devices are sometimes equipped with a mapping application which allows visual representations of a geographic area to be displayed on a display screen of such devices. Such mapping applications may among other things display street maps and or topographic maps and may provide navigational assistance such as a route planner for travelling by vehicle foot and or public transit.

Some mapping applications may allow geospatial data identifiers such as pushpins which identify geospatial data to be displayed on a map. Geospatial data includes data which is related to geographic and or spatial information. By way of example geospatial data may pertain to a location of a feature which may be natural or constructed. Such features may include for example objects businesses or structures. By way of example latitude and longitude coordinates are a form of geospatial data.

The functionality of other applications on a mobile device may be enhanced by permitting the other applications to access one or more functions which are provided by the mapping application.

In one aspect the present application provides a method comprising receiving at an application programming interface associated with a mapping application on a device one or more tagging commands to associate specified geospatial data with a specified tag in response to receiving each tagging command updating a memory of the device to store an association between the specified geospatial data and the specified tag receiving at the application programming interface a function command wherein the function command references one of the specified tags and in response to receiving the function command executing a function associated with the function command for all geospatial data associated with the tag referenced by the function command.

In another aspect the present application provides a mobile device. The mobile device includes at least one processor and at least one memory storing a mapping application having an application programming interface. The application programming interface is configured to cause the processor to receive at an application programming interface associated with a mapping application on a device one or more tagging commands to associate specified geospatial data with a specified tag in response to receiving each tagging command update a memory of the device to store the an association between the specified geospatial data and the specified tag receive at the application programming interface a function command wherein the function command references one of the specified tags and in response to receiving the function command execute a function associated with the function command for all geospatial data associated with the tag referenced by the function command.

Other aspects of the present application will be apparent to those of ordinary skill in the art from a review of the following detailed description in conjunction with the drawings.

Embodiments of the present application are not limited to any particular operating system mobile device architecture server architecture or computer programming language.

The present application describes among other things an electronic device having a mapping application which includes an application programming interface API which permits other applications on the device to access at least some of the features provided by the mapping application.

The device may in some embodiments be a mobile wireless device having mobile communication capabilities such as for example data communication capabilities. However depending on the functionality of the device in various embodiments the device may be a mobile wireless device a data communication device a multiple mode communication device configured for both data and voice communication a smartphone a mobile telephone or a PDA personal digital assistant enabled for wireless communication or a computer system with a wireless modem. It will be appreciated that in some embodiments the systems and methods presented herein may be applied to an electronic device that does not necessarily have communication capabilities such as for example a PDA which is not enabled for communication. In some embodiments the device may be a global positioning system GPS device.

Accordingly the device may in various instances throughout this disclosure be referred to as a mobile device a mobile communication device or an electronic device .

In order to facilitate an understanding of one possible environment in which example embodiments described herein can operate reference is first made to which shows in block diagram form a communication system in which example embodiments of the present disclosure can be applied. The communication system includes a number of mobile communication devices which may be connected to the remainder of the system in any of several different ways. Accordingly several instances of mobile communication devices are depicted in employing different example ways of connecting to system . Mobile communication devices are connected to a wireless network which may include one or more of a Wireless Wide Area Network WWAN and a Wireless Local Area Network WLAN or other suitable network arrangements. In some example embodiments the mobile communication devices are configured to communicate over both the WWAN and WLAN and to roam between these networks. In some example embodiments the wireless network may include multiple WWANs and WLANs .

The WWAN may be implemented as any suitable wireless access network technology. By way of example but not limitation the WWAN may be implemented as a wireless network that includes a number of transceiver base stations one of which is shown in where each of the base stations provides wireless Radio Frequency RF coverage to a corresponding area or cell. The WWAN is typically operated by a mobile network service provider that provides subscription packages to users of the mobile communication devices . In some example embodiments the WWAN conforms to one or more of the following wireless network types Mobitex Radio Network DataTAC GSM Global System for Mobile Communication GPRS General Packet Radio System TDMA Time Division Multiple Access CDMA Code Division Multiple Access CDPD Cellular Digital Packet Data iDEN integrated Digital Enhanced Network EvDO Evolution Data Optimized CDMA1010 EDGE Enhanced Data rates for GSM Evolution UMTS Universal Mobile Telecommunication Systems HSPDA High Speed Downlink Packet Access IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or various other networks. Although WWAN is described as a Wide Area network that term is intended herein also to incorporate wireless Metropolitan Area Networks WMAN and other similar technologies for providing coordinated service wirelessly over an area larger than that covered by typical WLANs.

The WWAN may further include a wireless network gateway which connects the mobile communication devices to transport facilities and through the transport facilities to a wireless connector system . Transport facilities may include one or more private networks or lines the public Internet a virtual private network or any other suitable network. The wireless connector system may be operated for example by an organization or enterprise such as a corporation university or governmental department which allows access to a network such as an internal or enterprise network and its resources or the wireless connector system may be operated by a mobile network provider. In some example embodiments the network may be realized using the Internet rather than an internal or enterprise network.

The wireless network gateway provides an interface between the wireless connector system and the WWAN which facilitates communication between the mobile communication devices and other devices not shown connected directly or indirectly to the WWAN . Accordingly communications sent via the mobile communication devices are transported via the WWAN and the wireless network gateway through transport facilities to the wireless connector system . Communications sent from the wireless connector system are received by the wireless network gateway and transported via the WWAN to the mobile communication devices .

The WLAN includes a wireless network which in some example embodiments conforms to IEEE 802.11x standards sometimes referred to as Wi Fi such as for example the IEEE 802.11a 802.11b and or 802.11g standard. Other communication protocols may be used for the WLAN in other example embodiments such as for example IEEE 802.11n IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or IEEE 802.20 also referred to as Mobile Wireless Broadband Access . The WLAN includes one or more wireless RF Access Points AP one of which is shown in that collectively provide a WLAN coverage area.

The WLAN may be a personal network of the user an enterprise network or a hotspot offered by an Internet service provider ISP a mobile network provider or a property owner in a public or semi public area for example. The access points are connected to an access point AP interface which may connect to the wireless connector system directly for example if the access point is part of an enterprise WLAN in which the wireless connector system resides or indirectly via the transport facilities if the access point is a personal Wi Fi network or Wi Fi hotspot in which case a mechanism for securely connecting to the wireless connector system such as a virtual private network VPN may be used . The AP interface provides translation and routing services between the access points and the wireless connector system to facilitate communication directly or indirectly with the wireless connector system .

The wireless connector system may be implemented as one or more servers and is typically located behind a firewall . The wireless connector system manages communications including email communications to and from a set of managed mobile communication devices . The wireless connector system also provides administrative control and management capabilities over users and mobile communication devices which may connect to the wireless connector system .

The wireless connector system allows the mobile communication devices to access the network and connected resources and services such as a messaging server for example a Microsoft Exchange IBM Lotus Domino or Novell GroupWise email server and a content server for providing content such as Internet content or content from an organization s internal servers and application servers for implementing server based applications such as instant messaging IM applications to mobile communication devices and a map server for providing map data to the device .

The wireless connector system typically provides a secure exchange of data e.g. email messages personal information manager PIM data and IM data with the mobile communication devices . In some example embodiments communications between the wireless connector system and the mobile communication devices are encrypted. In some example embodiments communications are encrypted using a symmetric encryption key implemented using Advanced Encryption Standard AES or Triple Data Encryption Standard Triple DES encryption. Private encryption keys are generated in a secure two way authenticated environment and are used for both encryption and decryption of data. In some example embodiments the private encryption key is stored only in the user s mailbox on the messaging server and on the mobile communication device and can typically be regenerated by the user on mobile communication devices . Data sent to the mobile communication devices is encrypted by the wireless connector system using the private encryption key retrieved from the user s mailbox. The encrypted data when received on the mobile communication devices is decrypted using the private encryption key stored in memory. Similarly data sent to the wireless connector system from the mobile communication devices is encrypted using the private encryption key stored in the memory of the mobile communication device . The encrypted data when received on the wireless connector system is decrypted using the private encryption key retrieved from the user s mailbox.

The wireless network gateway is adapted to send data packets received from the mobile communication device over the WWAN to the wireless connector system . The wireless connector system then sends the data packets to the appropriate connection point such as the messaging server content server map server or application servers . Conversely the wireless connector system sends data packets received for example from the messaging server content server map server or application servers to the wireless network gateway which then transmit the data packets to the destination mobile communication device . The AP interfaces of the WLAN provide similar sending functions between the mobile communication device the wireless connector system and network connection point such as the messaging server content server map server and application server .

The network may include a private local area network metropolitan area network wide area network the public Internet or combinations thereof and may include virtual networks constructed using any of these alone or in combination.

A link may be provided for exchanging information between the mobile communication device and a host computer connected to a network such as the Internet. The link may include one or both of a physical interface and short range wireless communication interface. The physical interface may include one or combinations of an Ethernet connection Universal Serial Bus USB connection Firewire also known as an IEEE 1394 interface connection or other serial data connection via respective ports or interfaces of the mobile communication device and host computer . In one embodiments the link is a USB connection to the mobile communication device .

The device may access a map server through the network . The map server may store map data such as for example map images which may include satellite images or a traditional visual representation of a geographical area.

In at least some embodiments map data which is stored on the map server may be accessed by the mobile communication device . A mapping application running on the device may display the map data on a display of the device . The mapping application running on the device may request map data as such data is required. For example when the mapping application needs to display map data for an area which it has not previously displayed the mapping application may request map data from the map server .

In other embodiments as shown in the map data may be stored locally on the mobile device and the mapping application running on the device may access the local map data and display the map data on a display of the device . In such embodiments the mobile device may not necessarily have communication capabilities.

It will also be appreciated that in some embodiments map data may be provided both on a map server and in local memory of the device . The local memory of the device may store a portion of the map data available through the map server . For example the local memory may store frequently used map data. For example the local memory may store map data for a home city of a user of the device i.e. a city in which the device is often located . When the device travels outside the area defined by the locally stored map data or when a user or application wishes to display map data for an area which is not defined by the locally stored map data then the map data may be retrieved from the map server .

It will be appreciated that the above described communication system is provided for the purpose of illustration only and that the above described communication system includes one possible communication network configuration of a multitude of possible configurations for use with the mobile communication devices . The teachings of the present disclosure may be employed in connection with other types of networks and associated devices that are effective in implementing or facilitating wireless communication. Suitable variations of the communication system will be understood to a person of skill in the art and are intended to fall within the scope of the present disclosure.

Reference is now made to which illustrates a block diagram of a mobile device in which example embodiments described in the present disclosure can be applied. In the embodiment shown the mobile device is a two way mobile communication device having data and possibly also voice communication capabilities and the capability to communicate with other computer systems for example via the Internet. Depending on the functionality provided by the mobile device in various embodiments the device may be a data communication device a multiple mode communication device configured for both data and voice communication a smartphone a mobile telephone or a PDA personal digital assistant enabled for wireless communication or a computer system with a wireless modem. It will be appreciated that in some embodiments the systems and methods presented herein may be applied to an electronic device that does not necessarily have communication capabilities such as for example a PDA or GPS which is not enabled for communication.

The mobile device includes at least one controller comprising at least one processor such as a microprocessor which controls the overall operation of the mobile device and a wireless communication subsystem for exchanging radio frequency signals with a wireless network . The processor interacts with the communication subsystem which performs communication functions. The processor interacts with additional device subsystems. In some embodiments the device may include a touchscreen display which includes a display screen such as a liquid crystal display LCD screen with a touch sensitive input surface or overlay connected to an electronic controller . The touch sensitive overlay and the electronic controller provide a touch sensitive input device and the processor interacts with the touch sensitive overlay via the electronic controller . The touch sensitive overlay acts as an input mechanism allowing the user of the device to input commands to the processor .

In some embodiments the device may include other input mechanisms instead of or in addition to the touchscreen. The other input mechanisms may include for example a depressible scroll wheel which may also be referred to as a trackball a touch pad such as an optical touchpad an optical jog ball and or a physical keyboard.

It will be appreciated that the specific input mechanisms associated with the device will vary from device to device. That is some devices may have a first input mechanism or first set of input mechanisms while other devices may have a second input mechanism or second set of input mechanisms .

The processor interacts with additional device subsystems including flash memory random access memory RAM read only memory ROM auxiliary input output I O subsystems data port such as serial data port such as a Universal Serial Bus USB data port speaker microphone input mechanisms switch short range communication subsystem location sensing feature and other device subsystems generally designated as . Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions.

The communication subsystem includes a receiver a transmitter and associated components such as one or more antenna elements and local oscillators LOs and a processing module such as a digital signal processor DSP . The antenna elements and may be embedded or internal to the mobile device and a single antenna may be shared by both receiver and transmitter as is known in the art. As will be apparent to those skilled in the field of communication the particular design of the communication subsystem depends on the wireless network in which the mobile device is intended to operate.

The mobile device may communicate with any one of a plurality of fixed transceiver base stations not shown of the wireless network within its geographic coverage area. The mobile device may send and receive communication signals over the wireless network after a network registration or activation procedures have been completed. Signals received by the antenna through the wireless network are input to the receiver which may perform such common receiver functions as signal amplification frequency down conversion filtering channel selection etc. as well as analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP . In a similar manner signals to be transmitted are processed including modulation and encoding for example by the DSP . These DSP processed signals are input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission to the wireless network via the antenna . The DSP not only processes communication signals but may also provides for receiver and transmitter control. For example the gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

The processor operates under stored program control and executes software modules stored in memory such as persistent memory for example in the flash memory . As illustrated in the software modules comprise operating system software and applications .

The applications include a mapping application and other applications . The mapping application is configured to render a map on the display of the device . The map may be an image which may in some embodiments be a photograph which has been captured on a camera such as a camera operating on a satellite. That is the map may be a satellite image. In other embodiments the map may be a traditional visual representation of a geographic area such as a street map or a topographic map.

The map may be defined by map data which may in some embodiments be stored in whole or in part in the memory of the device . The map data includes graphic data which may be used to render the map on the display. The map data also includes coordinating data such as latitude and longitude values which may be used to determine the location of the map relative to one or more features of the earth such as the equator and the prime meridian.

The mapping application also has the ability to display one or more overlays on the map. That is the mapping application has the ability to display a layer of data on the map. The data which may be displayed on the map may represent geospatial data . Geospatial data is information which is related to a geographic location. For example geospatial data may pertain to characteristics of natural or constructed features and boundaries on the earth s surface. Geospatial data includes coordinating data such as latitude and longitude values which may be used to determine the location of the geospatial data relative to the map.

Geospatial data may for example include coordinating data to identify a point of interest on a map such as a location of a person place or thing a route or a geographic area. The geospatial data may be defined relative to one or more features of the earth such as the equator and the prime meridian. Where the geospatial data identifies a point the geospatial data may be defined by coordinates such as latitude and longitude coordinates. Where the geospatial data identifies an area the geospatial data may be defined by a polygon a circle an ellipse or another shape. Similarly where the geospatial data identifies a route or line the geospatial data may for example be defined as a vector or as a series of points. It will be appreciated that other methods of defining geospatial data are also possible.

The geospatial data may include other information associated with the coordinating data such as for example identifying information such as a name associated with a business place or thing defined by the coordinating data.

The mapping application may include features in addition to the ability to render a map defined by map data and an overlay of geospatial data. For example the mapping application may include navigation features such as the ability to determine a route between a first location and a second location and or the ability to provide directions such as turn by turn directions.

The mapping application may in some embodiments access a location sensing feature of the device . The location sensing feature may include a global positioning system GPS receiver. In some embodiments the location sensing feature may be provided by a cell site location method which triangulates the signal strengths of different cell transmitters and uses their location which may be determined from an online cell site database to determine a current location of the device . In other embodiments the location sensing feature may be provided by discovering nearby WiFi hotspots and using their location property which may be retrieved from an online WiFi database to determine a location of the device . Other location sensing features are also possible.

The mapping application may use the location sensing feature to determine a current location of the device and in some embodiments to display a map of the current location of the device based on the map data. The mapping application may use the location sensing feature to provide navigation functions such as route determination and or turn by turn directions which navigate to a destination from the current location of the device .

The mapping application includes an application programming interface API which is configured to allow other applications to access features of the mapping application . The API allows third party developers to integrate features provided by the mapping application into other applications .

The API is in at least some embodiments configured to receive instructions from other applications to allow those other applications to cause a map defined by the map data to be displayed on the display. The API is in at least some embodiments configured to receive instructions for managing geospatial data. Such instructions may among other things add or remove geospatial data to one or more containers tag or untag geospatial data and or execute one or more functions on all geospatial data having a specified tag. Features of the API are discussed in greater detail below with reference to .

By way of example the other applications which may access some of the features of the mapping application through the API may include a range of applications including for example third party navigation applications Internet browser applications address book applications messaging applications calendar applications and or notepad applications. In some embodiments the other applications include an email message application a push content viewing application a voice communication i.e. telephony application and a media player application. Each of the other applications may include layout information defining the placement of particular fields and graphic elements e.g. text fields input fields icons etc. in the user interface i.e. the display device . It will be appreciated that other application apart from those specifically listed above may access functions of the mapping application through the API .

Those skilled in the art will appreciate that the software modules or parts thereof may be temporarily loaded into volatile memory such as the RAM . The RAM is used for storing runtime data variables and other types of data or information as will be apparent to those skilled in the art. Although specific functions are described for various types of memory this is merely one example and those skilled in the art will appreciate that a different assignment of functions to types of memory could also be used.

In some embodiments the auxiliary input output I O subsystems may comprise an external communication link or interface for example an Ethernet connection. The mobile device may comprise other wireless communication interfaces for communicating with other types of wireless networks for example a wireless network such as an orthogonal frequency division multiplexed OFDM network. The auxiliary I O subsystems may comprise a vibrator for providing vibratory notifications in response to various events on the mobile device such as receipt of a wireless communication or incoming phone call or for other purposes such as haptic feedback touch feedback .

The mobile device also includes a storage memory . The storage memory may in various embodiments be comprised of a removable memory card typically comprising flash memory such as for example a Secure Digital SD mini Secure Digital miniSD micro Secure Digital microSD or CompactFlash card. In some embodiments the storage memory may be comprised of an internal non removable memory which is designated by the operating system as storage memory. For example the storage memory may be e MMC memory. The storage memory is inserted in or connected to a storage memory interface of the mobile device .

The serial data port may be used for synchronization with a user s host computer system . The serial data port enables a user to set preferences through an external device or software application and extends the capabilities of the mobile device by providing for information or software downloads to the mobile device other than through the wireless network . The alternate download path may for example be used to load an encryption key onto the mobile device through a direct reliable and trusted connection to thereby provide secure device communication.

The mobile device also includes a battery as a power source which is typically one or more rechargeable batteries that may be charged for example through charging circuitry coupled to a battery interface such as the serial data port . The battery provides electrical power to at least some of the electrical circuitry in the mobile device and the battery interface provides a mechanical and electrical connection for the battery . The battery interface is coupled to a regulator not shown which provides power V to the circuitry of the mobile device .

The short range communication subsystem is an additional optional component which provides for communication between the mobile device and different systems or devices which need not necessarily be similar devices. For example the subsystem may include an infrared device and associated circuits and components or a wireless bus protocol compliant communication mechanism such as a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

A predetermined set of applications that control basic device operations including data and possibly voice communication applications may be installed on the mobile device during or after manufacture. Additional applications and or upgrades to the operating system or software applications may also be loaded onto the mobile device through the wireless network the auxiliary I O subsystem the serial port the short range communication subsystem or other suitable subsystem other wireless communication interfaces. The downloaded programs or code modules may be permanently installed for example written into the flash memory or written into and executed from the RAM for execution by the processor at runtime.

The mobile device may in some embodiments provide two principal modes of communication a data communication mode and a voice communication mode. In the data communication mode a received data signal such as a text message an email message or Web page download will be processed by the communication subsystem and input to the processor for further processing. For example a downloaded Web page may be further processed by a browser application or an email message may be processed by an email message application and output to the display . A user of the mobile device may also compose data items such as email messages for example using the touch sensitive overlay in conjunction with the display device and possibly other input mechanisms and or the auxiliary I O subsystems . These composed items may be transmitted through the communication subsystem over the wireless network .

In the voice communication mode the mobile device provides telephony functions and operates as a typical cellular phone. The overall operation is similar except that the received signals would be output to the speaker and signals for transmission would be generated by a transducer such as the microphone . The telephony functions are provided by a combination of software firmware i.e. the voice communication module and hardware i.e. the microphone the speaker and input devices . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the mobile wireless device . Although voice or audio signal output is typically accomplished primarily through the speaker the display device may also be used to provide an indication of the identity of a calling party duration of a voice call or other voice call related information.

Referring now to an example map screen is illustrated. The example map screen may be displayed in the display of the mobile device . The example map screen may in some embodiments occupy all of the screen area of the display . In other embodiments the map screen may be displayed within another window or screen such as for example a window or screen that is provided by a software application which interacts with and accesses features of the mapping application through the API .

The map screen includes a map which is defined by map data . The map data required to display the map may be retrieved from local memory of the device as shown in the embodiment of or from a remote map server as shown in the embodiment of . The map data may in some embodiments include one or more labels an example of which is labelled Nelson St which identify street names or other geographic locators. The labels which may be included in the map data and or displayed on the map may depend on a zoom level associated with the map. For example zooming in on a map may in at least some embodiments cause additional street names or other geographic locators to be displayed on the display .

The map screen also includes one or more geospatial data identifiers which in the embodiment shown is comprised of a pushpin and identification text which in the embodiment shown is labelled Ridout Maybee LLP . The geospatial data identifiers are displayed at a location determined by the geospatial data . More particularly the geospatial data identifiers are displayed at locations specified by the coordinating data of the geospatial data . That is coordinating data of the geospatial data is used to display the geospatial data identifiers on the map at a location on the map which corresponds to the coordinating data.

The specific nature of the geospatial data identifiers may depend at least in part on the nature of the geospatial data . For example geospatial data which represents an area such as a polygon circle or other shape may be associated with geospatial data identifiers which are comprised of a shaded or filled overlay corresponding to that shape. Similarly geospatial data which represents a line or a series of lines may be associated with geospatial data identifiers which cause a corresponding line to be drawn on the map in a predetermined color. That is a line may be drawn on the map based on the geospatial data defining that line. More particularly the line may be drawn on the map in a position on the map which is determined by the coordinating data of the geospatial data . The predetermined color of the line may be selected to avoid colors which are used for other purposes on the map.

A container is a class data structure or abstract data type whose instances are collections of other objects. The container may for example be a list a set an array or a tree. The container stores data in a memory.

Containers may be used in at least some embodiments to store geospatial data which may be used to overlay geospatial data identifiers on a map .

As will be explained in greater detail below in at least some embodiments a mapping application may access a plurality of containers in order to retrieve geospatial data stored in each of the containers in order to cause an overlay based on the geospatial data of the plurality of containers to be displayed on top of a map .

Referring now to a block diagram of an example memory data structure is illustrated. The memory data structure is a data structure which is stored in memory of the mobile device such as for example the flash memory of the mobile device .

The memory data structure includes a plurality of containers . In the example illustrated the memory data structure includes two containers which include a first container and a second container . While two containers are illustrated in it will be appreciated that in some embodiments more than two containers may be included. It will also be appreciated that in some embodiments only a single container will be used.

Each container is associated with a container identifier . The first container is associated with a first container identifier which in the embodiment illustrated is Container . Similarly the second container is associated with a second container identifier which in the embodiment illustrated is Container . 

The container identifier identifies the containers . The container identifier may be used to store data in a specific container and to retrieve data from a specific container. That is the container identifier may be used to specify the specific container which a command to store data or a command to retrieve data relates to. As will be discussed in greater detail with reference to the container identifier may be used when adding data to one of the containers in order to ensure that the data is added to the correct container. Similarly the container identifier may also be used when removing data from one of the containers in order to ensure that the data is removed from the correct container.

The containers may each store geospatial data . As noted above geospatial data is information which is related to a geographic location. For example geospatial data may pertain to characteristics of natural or constructed features and boundaries on the earth s surface. Geospatial data includes coordinating data such as latitude and longitude values which may be used to determine the location of the geospatial data on the map.

Geospatial data may for example include coordinating data to identify a point of interest on a map such as a location of a person place or thing a route or a geographic area. Where the geospatial data identifies a point the geospatial data may be defined by coordinates such as latitude and longitude coordinates. Where the geospatial data identifies an area the geospatial data may be defined by a polygon a circle an ellipse or another shape. Similarly where the geospatial data identifies a route or line the geospatial data may for example be defined as a vector or as a series of points. It will be appreciated that other methods of defining geospatial data are also possible.

The geospatial data may include other information associated with the coordinating data such as for example identifying information such as a name associated with a business place or thing defined by the coordinating data.

As will be explained in greater detail below with reference to the mapping application may be configured to render a map based on map data on the display of the device . The mapping application may also be configured to render geospatial data identifiers related to the geospatial data stored in one or more of the containers as an overlay on the map .

The mapping application may be configured to receive instructions through an API to among other things provide one or more of the following functions for use by other applications functions to add geospatial data to one or more containers functions to remove geospatial data from one or more container and or functions to display a map having overlaid thereon geospatial data identifiers corresponding to the geospatial data .

Referring now to a process for adding geospatial data to a container removing geospatial data from a container and displaying a map having an overlay comprising one or more geospatial data identifiers is illustrated.

The mobile device may be configured to perform the process of . More particularly the API may be configured to cause one or more controllers of the device such as the processor to execute the steps of the process of . In the following discussion of the process of all reference numerals which relate to device or system components as opposed to steps of a process or method such as processor refer to components such as those illustrated by example in .

At an instruction is received through the API from another application i.e. an application other than the mapping application associated with the device .

The API may be equipped to receive a plurality of instructions from the other applications which allow the other applications to access features provided by the mapping application . For example the API may permit the other applications to add geospatial data to one or more container to remove geospatial data from one or more container and or cause a map and geospatial data identifiers to be displayed on a display of the device .

The instruction received at may be an instruction to add geospatial data to a container. In such cases the geospatial data associated with the instruction is provided to the API by the other application . The geospatial data provided to the API may include for example coordinating data such as a latitude and longitude value associated with the geospatial data. The geospatial data may also include unique identification information such as a name of a business place or thing located at the location specified by the latitude and longitude value.

If the instruction received at is an instruction to add geospatial data to a container as determined at then at the geospatial data associated with the instruction is added to the container.

As noted above in the discussion of in some embodiments the mapping application may allow for the use of more than one container for storing geospatial data. In such embodiments the instruction received at may include a container identifier which identifies the specific container to which the geospatial data will be added. In such embodiments at the geospatial data is added to the container specified in the instruction received at . For example in some embodiments an instruction to add geospatial data to a first container may be received. In response to receiving such an instruction the geospatial data may be stored in the first container. Similarly an instruction to add geospatial data to a second container may also be received. In response to receiving such an instruction the geospatial data may be stored in the second container.

The instruction received at may be an instruction to remove geospatial data from a container. In such cases information which permits the API to determine which geospatial data is to be removed from the container may be provided to the API from the other application . For example the other application may provide unique identification information such as a name of a business place or thing which allows the API to identify the desired geospatial data.

If the instruction received at is an instruction to remove geospatial data from a container as determined at then at the geospatial data is removed from the container.

As noted above in some embodiments the mapping application may allow for the use of more than one container for storing geospatial data. In such embodiments the instruction received at may include a container identifier which identifies the specific container from which the geospatial data will be removed. In such embodiments at the geospatial data is removed from the container specified in the instruction received at . For example in some embodiments an instruction to remove geospatial data from a first container may be received. In response to receiving such an instruction the geospatial data may be removed from the first container. Similarly an instruction to remove geospatial data from a second container may also be received. In response to receiving such an instruction the geospatial data may be removed from the second container.

The instruction received at may be an instruction to display a map on the display . The instruction may specify the area of the map which is to be displayed. The area may be specified in terms of a center point and zoom level of the map. For example the instruction may specify the center point in terms of latitude and longitude values. The zoom level may be specified in terms of a zoom multiplier value which describes the zoom level relative to a standard zoom level. In other embodiments the area of the map to be displayed may be specified using latitude and longitude values of opposing corners of a rectangular map area. Other methods of defining the area of the map to be displayed are also possible.

If the instruction received at is an instruction to display a map on the display as determined at then at the map is displayed on the display as a map screen such as the map screen of . The map screen may be displayed within another window or screen such as for example a window or screen that is provided by a software application which interacts with the mapping application through the API .

The instruction received at may also include an instruction to display one or more geospatial data identifiers on the map . The instruction to display one or more geospatial data identifiers on the map may be an instruction which is separate from the instruction to display a map on the display. That is at in some embodiments two separate instructions may be received. The first is an instruction to display the map and the second is an instruction to display at least one geospatial data identifier. Alternatively in other embodiments a single instruction may be received at . For example in some embodiments an instruction to display a map may be interpreted as an instruction to display a map and also an instruction to overlay on the map geospatial data identifiers associated with geospatial data in one or more containers.

If the instruction received at is interpreted by the API as an instruction to display one or more geospatial data identifier on the map then at geospatial data is retrieved from one or more containers in memory of the device .

As noted above in some embodiments the mapping application may allow for the use of more than one container for storing geospatial data. In such embodiments the instruction received at may include a container identifier which identifies the specific container from which the geospatial data will be retrieved. In such embodiments at the geospatial data is retrieved from the container specified in the instruction received at . For example in some embodiments an instruction to display one or more geospatial data identifier based on geospatial data from a first container may be received. In response to receiving such an instruction the geospatial data may be retrieved from the first container at . Similarly an instruction to display one or more geospatial data identifier based on geospatial data from a second container may be received. In response to receiving such an instruction the geospatial data may be retrieved from the first container at .

The instruction received at may specify more than one container from which geospatial data is to be retrieved. In such embodiments at geospatial data may be retrieved from more than one container. For example the instruction to display geospatial data identifiers may specify a first container and a second container. In such embodiments geospatial data may be retrieved from both the first container and the second container at .

In at least some embodiments the instruction to display geospatial data identifiers may not specify a container. Instead at geospatial data may be retrieved from all available containers. In other embodiments at geospatial data may be retrieved from one or more predetermined geospatial containers.

At one or more geospatial data identifiers are displayed as an overlay on top of the map in accordance with the geospatial data retrieved from the one or more containers. For example where geospatial data was retrieved from a first container and a second container at one or more geospatial data identifiers are displayed as an overlay on the map in accordance with the geospatial data in the first container and the geospatial data in the second container.

The geospatial data identifiers may in various embodiments include any one or combination of the following identification text an example of which is illustrated in a pushpin an example of which is illustrated in an area marker such as a shaded or filled shape a line of a predetermined color. Other geospatial data identifiers are also possible.

As noted above in some embodiments the mapping application may allow for the use of more than one container for storing geospatial data. In at least some such embodiments the geospatial data identifiers which are displayed at may be displayed irrespective of the container in which the geospatial data associated with the geospatial data identifier was located. That is when displaying geospatial data identifiers at the API may not consider the location at which the geospatial data associated with the identifiers was stored. However in other embodiments the geospatial data identifiers which are displayed at may be displayed with rendering options which are associated with each container. For example geospatial data identifiers for geospatial data in a first container may be displayed in a first color and geospatial data identifiers for geospatial data in a second container may be displayed in a second color.

It will be appreciated that while illustrates an API which is configured for at least three functions adding data to a container removing data from a container and displaying a map screen other embodiments may provide an API which includes only a subset of the functions of . For example in some embodiments an API may allow other applications to add geospatial data to a container but not remove geospatial data from a container. It will also be appreciated that the API may include functions in addition to the functions described in . For example the API may also include features described below with reference to .

Referring now to further features which are in some embodiments included in the API are described. illustrates a flowchart of a process for managing geospatial data through the use of one or more tags.

The mobile device may be configured to perform the process of . More particularly the API may be configured to cause one or more controller of the device such as the processor to execute the steps of the process of . In the following discussion of the process of all reference numerals which relate to device or system components as opposed to steps of a process or method such as processor refer to components such as those illustrated by way of example in .

At an instruction is received through the API from another application i.e. an application other than the mapping application associated with the device .

As noted above in the discussion of the API may be equipped to receive a plurality of instructions from the other applications which allow the other applications to access features provided by the mapping application . For example the API may permit the other applications to associate geospatial data with one or more tag to remove the association between geospatial data and one or more tag and or cause a map and geospatial data identifiers to be displayed on a display of the device .

If an instruction received at the API from another application is a tagging command as determined at then at the geospatial data associated with the instruction received at is tagged. A tagging command is an instruction to tag geospatial data. Tagging is a process of associating geospatial data with one or more tags or labels. The tags or labels are used to indicate that the geospatial data belongs to a specific group of geospatial data. The tag may be a text based label. A plurality of geospatial data may be associated with the same tag to indicate that the geospatial data belong to a common group. By way of example a grocery store tag may be used to indicate geospatial data associated with grocery stores. By way of further example a home tag may be used to indicate geospatial data associated with a user s home. A work tag may be used to indicate geospatial data associated with a user s work. A restaurant tag may be used to indicate geospatial data associated with a restaurant.

Specific geographic data may be associated with more than one tag. For example a restaurant which is also a user s work may be associated with both a restaurant tag and a work tag.

The tagging command received at may specify geospatial data and a tag which will be applied to the specified geospatial data. In response to receiving a tagging command at the API may cause memory of the device to be updated to store the association between the specified geospatial data and the specified tag. That is in response to receiving a tagging command the API may cause the specified geospatial data to be tagged with the specified tag.

The association between the specified geospatial data and the specified tag may be created in a container . That is the contents of at least one container may be updated to store the specified geospatial data the specified tag and an indication that the specified geospatial data is associated with the specified tag.

It will be appreciated that the containers of differ from the tags described with respect to in one or more of the following aspects. A container refers to a memory construct. That is the container refers to a class data structure or abstract data type whose instances are collections of other objects. The container may for example be a list a set an array or a tree. That is the container relates to the location at which the data is stored. In contrast the tag relates to a group to which the data belongs. Generally each instance of geospatial data is stored in only one container. However geospatial data may have more than one tag. Since tags relate to the nature of geospatial data as opposed to where the geospatial is stored tags may be stored with geospatial data in containers.

By way of example in at least some embodiments the following example commands may be used to instruct the API to define three locations and then tag the locations using the tags RIM or justinHome .

It will be appreciated that the specific commands or syntax which may be used may vary from that described above.

If an instruction received at is an untagging command to untag geospatial data as determined at then at the association between the geospatial data and the tag is removed from the memory of the device . It will be appreciated that untagging geospatial data does not in at least some embodiments cause the geospatial data to be removed from memory. Rather the untagging simply removes the association between the geospatial data and the tag. That is the step of untagging may in at least some embodiments be contrasted with the step of removing geospatial data illustrated in .

The untagging command received at specifies identification information which permits the API to determine the geospatial data and or the tag related to the untagging command. The identification information may in various embodiments specify a specific tag specific geospatial data or both a specific tag and specific geospatial data. Where the identification information specifies a specific tag but not specific geospatial data any association between any geospatial data and the specified tag may be removed from memory. Where the identification information specifies geospatial data but not a tag any association between the specified geospatial data and any tags may be removed from memory. Where the identification information specifies geospatial data and one or more tags the association between the specified tag and the specified geospatial data may be removed from memory.

If an instruction received at is a function command which is determined at then at a function associated with the command is executed. In at least some embodiments the function command received at references a tag associated with one or more geospatial data. For example the function command may reference the tag which is associated with the geospatial data at . In such embodiments at the function associated with the function command may be executed for all geospatial data associated with the tag referenced by the function command. That is by specifying a tag with the function command a function may be applied to all geospatial data which has been associated with that tag.

In at least some embodiments the function associated with the function command is an option to set one or more rendering options associated with geospatial data to a setting which is specified by the function command. The rendering option may in at least some embodiments specify a format of a geospatial data identifier. The rendering option may in some embodiments specify a font to use when displaying geospatial data identifiers associated with the geospatial data. For example the rendering option may specify a font to use when displaying identification text associated with the geospatial data. The rendering option may in some embodiments specify a type of geospatial data identifier to be used in association with the tagged geospatial data. For example the rendering option may indicate that a pushpin geospatial data identifier is to be rendered as an overlay on the display in a location determined by the geospatial data.

The rendering option may in some embodiments specify a color associated with a geospatial data identifier which is to be used in association with the tagged geospatial data. For example the rendering option may specify that a green pushpin should be displayed as an overlay on the map at a location determined by the geospatial data.

Accordingly where the function command specifies a rendering option when the map is rendered an overlay may also be displayed which displays at least one geospatial data identifier in accordance with the rendering option. The geospatial data identifier may be displayed at a location which is determined according to the geospatial data. For example where the rendering option is a pushpin when the map is rendered a pushpin may be rendered on the map in accordance with the geospatial data.

In some embodiments an example of which is illustrated in the function command may be a command to set a visibility control associated with geospatial data. The visibility control indicates whether a geospatial data identifier associated with the geospatial data will be displayed i.e. whether it will be visible on an overlay on a map when the geospatial data is located within a view provided by a map rendered on the display. The visibility control may be set to visible or not visible.

In at least some embodiments the visibility control of geospatial data is by default set to visible. That is when geospatial data is added to a container it is initially associated with a visibility control of visible. The default visibility control may however be overridden by if a function command is received from another application to indicate that the visibility control is to be set to not visible.

By way of example in at least some embodiments the following example command may be used to instruct the API to set geospatial data with a tag of RIM as visible 

Referring now to a process of rendering an overlay on a map in accordance with geospatial data is illustrated. The mobile device may be configured to perform the process of . More particularly the API may be configured to cause one or more controller of the device such as the processor to execute the steps of the process of . In the following discussion of the process of all reference numerals which relate to device or system components as opposed to steps of a process or method such as processor refer to components such as those illustrated by way of example in .

As described above with reference to the process may include a step in which an instruction is received through the API from another application i.e. an application other than the mapping application associated with the device .

As discussed above with reference to the instruction may in some embodiments be an instruction to tag geospatial data as determined at step . If the instruction is an instruction to tag geospatial data then at step the geospatial data is tagged in the manner discussed above with reference to .

If the instruction is an instruction to untag geospatial data as determined at step then at step the geospatial data is untagged in the manner described above with reference to .

In some embodiments the instruction received at step may be an instruction to set a visibility control to a specified value. The instruction references a tag associated with geospatial data. If at the API determines that the instruction is a command to set a visibility control then at the API sets the visibility control for all geospatial data associated with the tag specified in the instruction to a value specified in the instruction. The value may be either visible or not visible.

If the instruction received at is an instruction to display a map on the display as determined at then at the map is displayed on the display as a map screen such as the map screen of . The steps and are discussed in greater detail above with reference to . The map screen may be displayed within another window or screen such as for example a window or screen that is provided by a software application which interacts with the mapping application through the API .

The instruction received at may also include an instruction to display one or more geospatial data identifiers on the map. The instruction to display one or more geospatial data identifiers on the map may be an instruction which is separate from the instruction to display a map on the display. That is at in some embodiments two separate instructions may be received. The first is an instruction to display the map and the second is an instruction to display at least one geospatial data identifier. Alternatively in other embodiments a single instruction may be received at . For example in some embodiments an instruction to display a map may be interpreted as an instruction to display a map and also an instruction to overlay on the map geospatial data identifiers associated with geospatial data in one or more containers.

If the instruction received at is interpreted by the API as an instruction to display one or more geospatial data identifiers on the map then at geospatial data is retrieved from one or more containers in memory of the device in the manner described above with reference to .

At one or more geospatial data identifiers are displayed as an overlay on top of the map in accordance with the geospatial data retrieved from the one or more containers and in accordance with the visibility control.

That is the geospatial data identifiers are rendered as an overlay on the map for geospatial data with a visibility control which is set to visible. Geospatial data identifiers for geospatial data with a visibility control which is set to not visible are excluded from being rendered on the display. That is the overlay does not display a geospatial data identifier for geospatial data with a visibility control which is set to not visible.

It will be appreciated that the use of containers and visibility settings permits data to remain in a container and to be managed by a mapping application even if the geospatial data is not presently displayed on the display.

In accordance with further example embodiments of the present disclosure a development tool is provided for developing applications which interact with the API . The development tool provides assistance to developers in the form of prompts on a display associated with a computer used by a developer to develop applications which interact with the API . The development tool may among other things provide a list of functions provided by the API and a description of the syntax of requests to the API and a description of the meaning of values returned from the API .

In accordance with a further example embodiment of the present disclosure there is provided an application which is configured to interact with the API . The application is configured to send requests to the API in the manner described above with reference to and to receive feature information from the API .

In accordance with further embodiments of the present disclosure there are provided a computer program product comprising a computer readable medium having stored thereon computer executable instructions comprising instructions for practising the methods of the present disclosure.

The term computer readable medium as used herein means any medium which can store instructions for use by or execution by a computer or other computing device including but not limited to a portable computer diskette a hard disk drive HDD a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or flash memory an optical disc such as a Compact Disc CD Digital Versatile Disc DVD or Blu ray Disc and a solid state storage device e.g. NAND flash or synchronous dynamic RAM SDRAM .

While the present disclosure is primarily described as a method a person of ordinary skill in the art will understand that the present disclosure is also directed to various apparatus such as a mobile wireless device for carrying out at least some of the aspects and features of the described methods and including components for performing at least some of the described method steps be it by way of hardware components a computer programmed by appropriate software to enable the practice of the disclosed method by any combination of the two or in any other manner. Moreover an article of manufacture for use with the apparatus such as a pre recorded storage device or other similar computer readable medium including program instructions recorded thereon or a computer data signal carrying computer readable program instructions may direct an apparatus to facilitate the practice of the disclosed method. It is understood that such apparatus articles of manufacture and computer data signals also come within the scope of the present disclosure.

The embodiments of the present disclosure described above are intended to be examples only. Those of skill in the art may effect alterations modifications and variations to the particular embodiments without departing from the intended scope of the present disclosure. In particular features from one or more of the above described embodiments may be selected to create alternate embodiments comprised of a sub combination of features which may not be explicitly described above. In addition features from one or more of the above described embodiments may be selected and combined to create alternate embodiments comprised of a combination of features which may not be explicitly described above. Features suitable for such combinations and sub combinations would be readily apparent to persons skilled in the art upon review of the present disclosure as a whole. The subject matter described herein and in the recited claims intends to cover and embrace all suitable changes in technology.

