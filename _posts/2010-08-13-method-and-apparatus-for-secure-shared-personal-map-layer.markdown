---

title: Method and apparatus for secure shared personal map layer
abstract: Techniques to provide a secure, shared personal map layer include determining a geographic location. The geographic location is associated with operation of a device. The techniques also include determining indication that describes a relationship between the geographic location and a first user of the device. The techniques also include determining a privacy level for the indication. Then, the first user of the device is associated with the indication and the geographic location and the privacy level. In some embodiments, the techniques also include determining a personal description vocabulary word based, at least in part, on the geographic location and a context for the device. Then it is determined to present on the device a prompt that includes the personal description vocabulary word.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09076009&OS=09076009&RS=09076009
owner: NOKIA TECHNOLOGIES OY
number: 09076009
owner_city: Espoo
owner_country: FI
publication_date: 20100813
---
Service providers and device manufacturers e.g. wireless cellular etc. are continually challenged to deliver value and convenience to consumers by for example providing compelling network services. Widely popular network services include mapping services that provide services based on items indexed to a map such as roads railroad tracks buildings commercial establishments rights of way utilities and public facilities such as parks. Example mapping services include direction and navigation services based on a user s known past current or proposed future position for example as input at a keyboard or deduced from a positioning system included in or otherwise co located with a device of the user. Other example mapping services include information storage and retrieval based on locations such as geographical information systems. Some mapping services allow a user to post comments about a location such as reviews of a concert held at a particular venue or food served at a particular restaurant to be viewed on a public network or within a social networking circle of contacts. The mapping services that can be provided however are limited by lack of information about the personal context of mapped items with respect to an individual user. For example while the address of a particular building is known by the mapping service to be school the fact that the building is the school of a child of a user is not typically known by the mapping server.

Therefore there is a need for an approach to provide a personal map layer that indicates the personal context of one or more mapped items for each of one or more users. Some of this personal information should be shared such as the user s office location while other information such as the location of a school of a child of the user should not be shared or shared only with a very close circle of confidants. Thus there is a need for an approach for some combination of a secure shared personal map layer.

According to one embodiment a method comprises determining a geographic location. The geographic location is associated with operation of a device. The method also comprises determining an indication such as text that describes a relationship between the geographic location and a first user of the device. The method further comprises determining a privacy level for the indication. Then the first user of the device is associated with the indication and the geographic location and the privacy level.

According to another embodiment an apparatus comprises at least one processor and at least one memory including computer program code the at least one memory and the computer program code configured to with the at least one processor cause at least in part the apparatus to determine a geographic location. The geographic location is indicated by operation of a second apparatus which can be the same or a different apparatus. The apparatus is also caused to determine indication that describes a relationship between the geographic location and a first user of the second apparatus. The apparatus is further caused to determine a privacy level for the indication. The apparatus is also caused to associate the first user of the device with the indication and the geographic location and the privacy level such as in a data structure.

According to another embodiment a computer readable storage medium carries one or more sequences of one or more instructions which when executed by one or more processors cause at least in part an apparatus to perform at least the steps of the above method.

According to another embodiment an apparatus comprises at least means for performing steps of the above method.

According to another embodiment a computer program product including one or more sequences of one or more instructions which when executed by one or more processors cause an apparatus to at least perform the steps of the above method.

Still other aspects features and advantages of the invention are readily apparent from the following detailed description simply by illustrating a number of particular embodiments and implementations including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments and its several details can be modified in various obvious respects all without departing from the spirit and scope of the invention. Accordingly the drawings and description are to be regarded as illustrative in nature and not as restrictive.

Examples of a method apparatus and computer program are disclosed for providing a secure shared personal map layer. In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent however to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances well known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.

Although various embodiments are described with respect to map applications on a mobile terminal it is contemplated that the approach described herein may be used with other user equipment and other applications such as messaging applications and social networking applications.

One or more map services are available such as a navigation directions service a map presentation service a commercial look up service or a geographical information systems GIS service alone or in some combination. The map services includes map items such as location data for boundaries such as shorelines and state and country borders location data for rights of way such as roads and railroad tracks and ferries or location data for points of interest POI such as parks and places of business and government buildings or some combination in one or more data structures such as illustrated POI data structure . One or more of the network services such as the non map network services may utilize the map services through an API for one or more map related functions.

However the map services typically are unaware of one or more relationships between the map items in the one or more data structures and one or more users such as a user of UE . Thus for example while the map services includes data that indicates the locations of multiple banks in a region the map services are unaware of which bank is the personal bank and branch of the user of UE . Therefore the user is inhibited from operating the UE to indicate such simple concepts as get directions to my bank or lookup a telephone number of my bank or send data indicating my bank to a contact of the user. Instead the user is often forced to identify the bank to the map services using objective identifiers such as bank name and street name and city name and state name and country name or some combination each time the user wishes to indicate the user s bank. This is wasteful of time and computational resources on the UE or bandwidth on the communications network or computational resources on a host of the map services or some combination. In some services the user can label or comment on a map item however the posting is public at least to subscribers of a subscriptions service such as subscription service . Thus the user is inhibited from labeling a bank as the user s own bank or bank branch to avoid exposing such confidential information to a large segment of the subscribers or to the general public.

To address this problem a system of introduces the capability to provide a secure personal map layer. The system introduces a personal map layer client on the UE or a personal map layer service on a remote device or both to securely determine map items to which the user of UE has a personal relationship. The relationship is stored for future secure use in one or more data structures such as personal map layer data structure . The personal map layer service or client or both are further configured to allow the user to share the personal relationship information with the same or different services of one or more other users who have permission to share that personal relationship information. Furthermore by relating a user s social network described by people ontology and relating location with semantic representation one can build highly intelligent system with wide knowledge through reasoning.

As shown in the system comprises user equipment UE having connectivity to non map network services map services and personal map layer PML service via a communication network . By way of example the communication network of system includes one or more networks such as a data network not shown a wireless network not shown a telephony network not shown or any combination thereof. It is contemplated that the data network may be any local area network LAN metropolitan area network MAN wide area network WAN a public data network e.g. the Internet short range wireless network or any other suitable packet switched network such as a commercially owned proprietary packet switched network e.g. a proprietary cable or fiber optic network and the like or any combination thereof. In addition the wireless network may be for example a cellular network and may employ various technologies including enhanced data rates for global evolution EDGE general packet radio service GPRS global system for mobile communications GSM Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. worldwide interoperability for microwave access WiMAX Long Term Evolution LTE networks code division multiple access CDMA wideband code division multiple access WCDMA wireless fidelity WiFi wireless LAN WLAN Bluetooth Internet Protocol IP data casting satellite mobile ad hoc network MANET and the like or any combination thereof.

The UE is any type of mobile terminal fixed terminal or portable terminal including a mobile handset station unit device multimedia computer multimedia tablet Internet node communicator desktop computer laptop computer notebook computer netbook computer tablet computer Personal Digital Assistants PDAs audio video player digital camera camcorder positioning device television receiver radio broadcast receiver electronic book device game device or any combination thereof including the accessories and peripherals of these devices or any combination thereof. It is also contemplated that the UE can support any type of interface to the user such as wearable circuitry etc. .

By way of example the UE and network services and communicate with each other and other components of the communication network using well known new or still developing protocols. In this context a protocol includes a set of rules defining how the network nodes within the communication network interact with each other based on information sent over the communication links. The protocols are effective at different layers of operation within each node from generating and receiving physical signals of various types to selecting a link for transferring those signals to the format of information indicated by those signals to identifying which software application executing on a computer system sends or receives the information. The conceptually different layers of protocols for exchanging information over a network are described in the Open Systems Interconnection OSI Reference Model.

Communications between the network nodes are typically effected by exchanging discrete packets of data. Each packet typically comprises 1 header information associated with a particular protocol and 2 payload information that follows the header information and contains information that may be processed independently of that particular protocol. In some protocols the packet includes 3 trailer information following the payload and indicating the end of the payload information. The header includes information such as the source of the packet its destination the length of the payload and other properties used by the protocol. Often the data in the payload for the particular protocol includes a header and payload for a different protocol associated with a different higher layer of the OSI Reference Model. The header for a particular protocol typically indicates a type for the next protocol contained in its payload. The higher layer protocol is said to be encapsulated in the lower layer protocol. The headers included in a packet traversing multiple heterogeneous networks such as the Internet typically include a physical layer 1 header a data link layer 2 header an internetwork layer 3 header and a transport layer 4 header and various application headers layer 5 layer 6 and layer 7 as defined by the OST Reference Model.

Processes executing on various devices often communicate using the client server model of network communications widely known and used. According to the client server model a client process sends a message including a request to a server process and the server process responds by providing a service. The server process may also return a message with a response to the client process. Often the client process and server process execute on different computer devices called hosts and communicate via a network using one or more protocols for network communications. The term server is conventionally used to refer to the process that provides the service or the host on which the process operates. Similarly the term client is conventionally used to refer to the process that makes the request or the host on which the process operates. As used herein the terms client and server refer to the processes rather than the hosts unless otherwise clear from the context. In addition the process performed by a server can be broken up to run as multiple processes on multiple hosts sometimes called tiers for reasons that include reliability scalability and redundancy among others. Similarly a client process can be downloaded and executed in small portions from a cloud of client portions distributed across the network . A well known client process available on most nodes connected to a communications network is a World Wide Web client called a web browser or simply browser that interacts through messages formatted according to the hypertext transfer protocol HTTP with any of a large number of servers called World Wide Web WWW servers that provide web pages

In the illustrated embodiment the UE includes a browser and an application and a context engine in addition to the personal map layer client . The context engine determines the local context of UE and any user thereof such as local time geographic position from a positioning system ambient temperature pressures sound and light and applications currently executing on UE content currently being rendered on UE and user input through a user interface UI alone or in some combination. In some embodiments the application is a client for at least one of the network services or . In some embodiments application is script delivered through the browser .

Although processes and data structures are depicted in as integral blocks arranged on particular nodes connected to the communications network for purposes of illustration in other embodiments one or more processes or data structures or portions thereof are arranged in a different order on the same or different nodes or data structures including one or more databases connected to the communications network . For example in various other embodiments including cloud computing embodiments one or more of the processes of the context engine browser personal map layer client and application client or portions thereof execute in whole or in part on one or more nodes of the communications network remote from the UE .

The user interface module presents data such as prompts to a user of the device such as UE . In some embodiments the user interface module is a generator of HTML statements and forms that are presented to the user through browser . In some embodiments the user interface module interacts with a user interface of another application on the UE such as a user interface of application . In some embodiments the UI module operates on a portion of the user interface though an operating system on the UE .

The personal layer engine PLE controls information from various sources to build maintain and use the personal map layer PML data structure that is described in more detail below with reference to . The PML associates a map item such as coordinates of a position or a path of multiple positions or a point of interest POI with a description determined by a user e.g. a user of UE .

In some embodiments the PLE also uses the PML data structure to associate a privacy level with the user determined description. For example the PLE first creates different layers varying in details of user determined description e.g. based on the personal description vocabulary PDV described below and associates a privacy level that indicates one or more classes of information obfuscation. The top privacy level describes a general overview of user personal space such as s My Home My Office etc while the next layer would contain more confidential information such as My Child s School My Hospital My Shopping Area My Wife s favorite restaurant My Parent s House etc. Since there are semantics attached to the PDV descriptions the PLE can associate a more confidential privacy level with certain highly personal contacts. For example a most confidential privacy level is associated automatically with the PDV contact terms My Wifc and My Daughter compared to other confidential privacy levels associated automatically with other contacts such as My Colleague. In some embodiments the privacy level is associated with a circle of contacts in a social networking service. The different privacy levels are useful to preserve privacy when PML information is shared among different users and different applications.

In the illustrated embodiment the PML data structure is a common data store local to the device. The data store can synchronize itself based on user account information with a remote PML service with the remote PML data structure . Having a common store also allows other applications to access the data and use it with user permission .

The PDV interface module utilizes information in the personal description vocabulary PDV data structure that is described in more detail below with reference to . The PDV data structure contains descriptions of map items in user understandable and personal vocabulary. For example a hospital can have an entry in PDV as My nearby hospital . In some embodiments the proper vocabulary terms to present in association with a map location are inferred based on a primary inference such as the location of the user s home after that primary reference location is determined. Once a description has been obtained from the PDV data structure by the PDV interface the description is then shown to the user through the UI interface . The user can select one of the suggested descriptions for that place such as My nearby Hospital My work place My home My shopping area My child s school etc. Alternatively or in addition the user can also provide a self description such as adding for my father in law to the PDV for My nearby hospital. Using the system provided terms of the PDV also helps with attaching semantic meaning to those descriptions as is understood by the system. This helps in tying together descriptions in personal map layers for multiple users or multiple applications or both. The PDV also includes terms for persons in the user s contacts lists with attached semantics like My Father My Wife My Daughter My Work Colleague etc.

The API module processes information requests from other processes on the same UE or other device in communication with the communications network . The map interface module interacts with one or more map services e.g. by exchanging messages with the map services API .

The context analyzer interacts with the context engine to obtain the context at the UE and expresses the context using the context vocabulary in the context vocabulary data structure . In various embodiments a context vocabulary is developed that identifies words and topics related to consumers contexts. Any method known in the art may be used to generate the context vocabulary and topology. In some embodiments context vocabulary is defined based on output from the context engine which reflects all context that can be inferred from the device side such as user location current activity transport mode in car in bus driving etc relations social contacts . For example based on spatial inferences such as determining user positions where concentration of user movements have been observed the analyzer retrieves data from map POT data structure . In some embodiments call logs or social network services are mined for context information. For example based on call logs certain social relations that exist between the user and some contacts in the user contact list can be determined. For example the user can be prompted through the user interface module to annotate certain people in the contact database based on terms in the PDV like My Father etc. Similarly based on dwell times certain relations that exist between the subscriber and some locations can be determined such as a particular frequent overnight stay location has a certain probability of being the subscriber s home.

The AAA service is used to identify a user to determine whether that user is permitted to view the personal map layer of another user. Any AAA service known in the art may be used. In an illustrated embodiment a subscription service such as a social networking service is used to identify a user. For example user credentials such as a username and password are passed to the subscription service API and a results message is received indicating whether that user is authenticated i.e. whether that user really is the entity indicated. Similarly in some embodiments permission levels of other users are determined from the AAA service such as the contacts of the user in various circles of friends of the social networking service.

The personal layer access manager controls the interaction among various components of the PML server . For example the personal layer access manager adds and retrieves entries for the personal map layer to the combined PML data structure identifies a user and a requestor using the AAA service and provides the PML client and context vocabulary data structure and PDV data structure to the UE . The functions of the personal layer access manager are accessed by other applications such as other network services through the API module .

The personal map layer data of multiple users are put into a common data store. The combined PML data structure holds entries for the PMLs of multiple users so that the PML information can be shared across multiple applications and network services.

The API module processes information requests from other processes on the same UE or other device in communication with the communications network such as other user devices and other network services or map service .

The PDV data structure comprises one or more vocabulary entries such as vocabulary entry and others indicated ellipsis. Each vocabulary entry includes a semantic token field and a context token field .

The semantic token field holds data that represents a standard language concept useful for labeling locations in mapping applications. As used herein a token is a data structure that is capable of holding the desired information such as a vector of semantic concepts. For example in some embodiments the standard labels include such terms as home work school bank food store restaurant clothing store. In some embodiments the concepts include personal relationships such as myself spouse friend colleague acquaintance relative in law mother father parent child daughter son etc. Such semantic tokens are well known in the art and in some embodiments include hierarchical relationships among concepts. For example a relative concept is at a high level of the hierarchy and encompasses concepts such as parent child uncle aunt sibling cousin etc. One or more of these in turn encompasses one or more other concepts at lower levels of the hierarchy. For example child concept includes son daughter grandson granddaughter etc. Similarly the map concepts can also be hierarchical in some embodiments. For example the bank concept encompasses bank branch concept. In some embodiments each token includes synonyms for the concept such as one the terms store and shop for the same concept including words in different languages that represent the same concept.

The context token field holds data that indicates a context associated with the semantic token. Context includes location nearby points of interest time and duration of stay and applications in process on the UE . Context token is used to suggest one or more semantic token labels for a map item to a user. For example the home concept is associated with residential addresses and overnight times on most days of the month or year and such applications as games and videos. The concept work is associated with non residential and non recreational locations business hours on weekdays and applications such as email and telephone calls to work colleagues or word processors or spreadsheets. A context token is an array of values corresponding to context parameters. Accordingly in the illustrated embodiment the context token field includes a map point of interest POI type field a time and duration field and an application types executing field .

The POI type field holds data that indicates the types of map POIs that are at or near the location that is labeled as in the semantic token field such as shopping center park train terminal etc. For semantic tokens related to personal relationships such as myself mother father etc. the POI type field may be empty. The time and duration field holds data that indicates what days of year or day of week or durations or number of occurrences are associated with the label in the semantic token field . The application types executing field holds data that indicates types of applications such as email voice call text video audio game social network website news website word processors and spreadsheets among others are associated with the label in the semantic token field . In some embodiments the application types executing field also includes data that indicates the circle of friends in a social network service which is associated with the label.

Each personal map item field includes a map data field a PDV field a user text field a privacy level field and a user history field . At various times one or more of the fields of a personal map item field may be empty or omitted.

The map data field hold data that indicates a map feature in the map service such as a location a path of multiple locations e.g. a route from home to work or a POT identifier ID .

The PDV field holds data that indicates one of the personal description vocabulary terms such as a semantic token from the PDV . The PDV field is an example means of achieving the advantage of using a standard vocabulary to label a personal map item so that applications can retrieve map information based on the standard vocabulary such as home work or school of a particular user. The user text field holds text provided by a user in response to a prompt as described in more detail below. The text field is an example means to achieve the advantage of tailoring a label to the specific desires of a user. Together the data in the PDV field and the user text field constitute a personal map label field . The personal map label fields are an example means to achieve the advantage of allowing a user or contact of the user to identify a map item by its relationship to the user or contact. Thus a user can refer to the home of another user e.g. a contact without knowing more about the location of the home.

The privacy level field holds data that indicates a privacy level. Any privacy scale may be used. For example a privacy level 1 indicates only the user may retrieve the data associated with the personal map item a level 2 indicates that an immediate family member parent spouse child may retrieve the information a level 3 indicates any family member a level 4 indicates any friend in a social network service a level 5 indicates any contact in a telephone or email log and a level 6 indicates the general public. In some embodiments a default level e.g. level 3 is assumed for any personal map item unless overridden by the user identified in user ID field e.g. using a user interface described below with reference to . A privacy level N allows all persons associated with privacy levels from 1 to N to access the associated personal map item . The privacy level field is an example means of achieving the advantage of sharing personal map layer information securely.

The user history field holds data that indicates the user context when the user was at the location indicated by the map data field including the time duration frequency and applications running. This information helps the system to recommend a PDV label based on the user history when the user is prompted to provide information for field and field as described below with reference to . Thus the user history field and the context token field are example means to provide the advantage of suggesting a PDV label to a user when prompting the user for a personal map label to associate with map data . In some embodiments the user history field holds data that indicates one or more context tokens that describe the user or UE context when at or in the vicinity of the map item indicated in field .

Thus the user entry field associates the first user of the device identified in field with the text and the geographic location and the privacy level included in the personal map item field . The user entry field is an example means of achieving the advantaging of associating a personal map layer with one or more locations or POIs or paths of a mapping service.

The user ID field holds data that indicates a user whose PML data structure or is to be examined. In some embodiments fields and support a request for a list of all the labels in the PML for the user identified in field . A list is provided based on the permission level of the requestor and the privacy level of the personal map item. Based on the list one of the labeled map items may be selected and requested by its label using fields or or both.

PDV field and user text field hold data that indicates a particular personal map label that is being requested. The map data associated with that label is returned to the requestor if the requestor has permission to view personal map items of the privacy level of the requested map item.

In step the user identification ID and user contacts are determined. Any method may be used to determine the user ID and user contacts. For example in some embodiments the user is prompted for this information and the user responses are recorded. In some embodiments the user ID or contacts or both are provided by a remote service either in response to a query or unsolicited. In some embodiments the personal map layer client is installed from the personal map layer service in response to a command by a subscription service that provides the user ID and contacts from subscriber profiles data structure . In some embodiments the client monitors the user activity on UE and detects logon at a social networking service such as subscription service In response to detecting the logon the client records the user ID for the social networking service and any credentials used. The client then requests the user s contacts from the social networking service through the API either directly or indirectly through the personal map layer service . In some embodiments the user is prompted to associates the contacts with a relationship semantic token such as mother brother daughter spouse colleague classmate etc.

In step the device locations times dwell durations and paths are determined. For example a user types a location address or coordinates and associated time or duration. In some embodiments a global positioning system co located near or within the UE is tracked to determine position history. Thus determining the geographic location indicated by operation of the device further comprises determining the time and duration of pausing in a vicinity of the geographic location based on a positioning system co located with the device. In some embodiments the context engine performs some or all of step . In some embodiments the PML client polls the context engine for current position and derives dwell times and paths from the returned positions and the current time. In some embodiments step includes deducing home context or office context for a position based on duration and timing of dwell times. A dwell time is a time interval during which the UE is relatively stationary e.g. moving less than about 100 meters for more than a few minutes. An average position during the dwell time is called a dwell position. Thus step includes determining a geographic location indicated by operation of a device e.g. UE .

In step a POI associated with a position during a dwell time if any is determined e.g. by sending a query with the dwell position to the map service .

In step the rest of the context for the user device is determined e.g. by requesting a context token from the context engine . Step includes determining the applications currently executing on the user device e.g. UE and contacts currently in communication with the user through the user device. In step some or all of the context token is stored in the user history field of the PML.

In step it is determined whether the user is annotating a position. For example it is determined whether the user has selected a position on a display provided by a map service and indicated through a user interface that a label is to be attached as described in more detail below with reference to and . If so then in step the user is prompted to label the location with a PDV term and subjective text as described in more detail below. If not then in step it is determined if sufficient statistics have been accumulated in user history to deduce a location of apparent interest to the user. For example after a month of spending evenings in predominately one place and workdays in predominately another the two places are likely home and work and the user should be prompted to label them if not already labeled so control passes to step . If sufficient statistics are not available e.g. during the first two weeks of operating the user device e.g. UE when the user might be on vacation control passes back to step and following steps to continue to track the device positions and associated contexts.

In step a PDV and privacy level are suggested for one or more positions of apparent interest deduced from the user history. For example based on a month of tracking position and other context information it is deduced that location A is a home or dormitory of the user position B is a workplace or library and position C is a school of the user s child or sibling and positions D E and F are shopping centers for the user. A privacy level is based on default rules such as a level of 5 for the user s home and work 4 for the shopping centers and 3 for the school. Thus step includes determining a personal description vocabulary PDV term based at least in part on the geographic location and a context for the device. Alternatively or in addition step includes determining a personal description vocabulary word based at least in part on a type of a point of interest associated with the geographic location in a mapping database.

In step the user is prompted to label the selected one or more positions. The one or more positions are selected by the user in step e.g. by touching the map portion area at the position of pointer or by the system based on statistics of user history in step . For example a user interface is presented that depicts a map section with one or more selected positions highlighted. The user is presented with a pull down menu of the PDV terms either the entire list or a portion considered relevant based on the suggestions determined in step . Thus step includes determining to present the personal description vocabulary term. In step the user is prompted for a privacy level e.g. by confirming or overriding the automatically suggested default privacy level. For example the user is presented with the GUI of .

The window includes a PDV pull down menu a personal text box and a privacy level pull down menu. Pull down menus are active areas that are well known in the art of graphical user interfaces. The PDV pull down menu will include at least the suggested PDV terms determined in step or a more complete set if step is skipped. For example by selecting the downward pointing triangle a list of PDV terms is presented to the user such as some or all of my home relative home friend home my work relative work friend work my hospital relative hospital friend hospital my school relative school friend school my shopping center relative shopping center friend shopping center my bank relative bank friend bank among others. These terms may be ordered along levels of probability determined by the context engine. In some embodiments after making a selection form the PDV pull down menu a secondary menu is presented e.g. to identify the friend or relative. Depending on user history and contact lists determined in step e.g. contact abc123 mother or alice246 child the secondary PDV terms may be more specific e.g. mother home brother home parents in law home etc child hospital child school in response to selecting relative home. Thus active area is an example means to achieve the advantage of providing a personalized standard recognized semantic concept to a map location

The user is prompted to add subjective text in the personal text box . For example a location labeled mother home using the PDV terms can be further characterized by user text as city condominium or some other more specific and subjective description. Thus active area is an example means to achieve the advantage of providing a personalized subjective label to a map location. Thus step includes determining text that describes a relationship between the geographic location and a first user of the device. The text is some combination of the PDV and the subjective text. Step includes determining the text by determining to present a prompt that solicits the text from the first user user of UE .

In step the user is prompted to indicate the privacy level using the privacy level pull down menu . For example the privacy level is shown as the default e.g. Family level 3 but the pull down menu makes the other options available Your Eyes Only level 1 Immediate Family level 2 Friends level 4 Contacts level 5 or Public level 6 . Thus active area is example means to achieve the advantage of providing a secure method of sharing personal map information. Step thus includes determining a privacy level for the text. In some embodiments the privacy level presented in the prompt is based on the location and context e.g. school or shopping center at certain times of the day. Thus determining the privacy level further comprises determining a suggested privacy level based on the geographic location and a context for the device. In the illustrated embodiment determining the privacy level further comprises determining to present the suggested privacy level in the prompt e.g. in active area .

In step the user entry is updated in the personal map layer data structure based on the user responses to the prompts. For example the user entry field for the user is updated with a new personal map item field or an extant personal map item field is updated. In some embodiments step includes sending the update alone or in combination with one or more other updates to the PML server to add to the combined PML data structure . Thus step includes associating the first user of the device with the text and the geographic location and the privacy level. Furthermore in the illustrated embodiment associating the first user of the device with the text and the geographic location and the privacy level is based at least in part on a response received in response to presenting the prompt. Since the field includes the PDV term in field at least in some embodiments associating the first user with the text and the geographic location and the privacy level based on the response further comprises associating the first user and the text and the geographic location and the privacy level with the personal description vocabulary PDV term. Step includes determining to store the association of the first user with the text and the geographic location and the privacy level into a common data structure either PML or combined PML for access by a plurality of user device.

For example to update the PML the user is presented with the GUI depicted in . is a diagram that illustrates a client graphical user interface GUI for labeling a selected position according to an embodiment. The GUI includes the map portion area and buttons as described above. The selected position is indicated in map portion area by pointer . As stated above the selected position is selected directly by the user in step or suggested by the PML client based on user history in step . The user is prompted to accept edit or cancel the label privacy level for the selected position by presenting the location summary window . Window is presented through the client user interface module as described above. Window includes text presenting the current labels and privacy level for the selected position. Window also includes three active areas to accept edit or cancel the label and level for the selected position e.g. as buttons and respectively. Upon activation of the cancel button the window is closed and the position label is not updated. Upon activation of the edit button window is closed and window is reopened to allow the label and level to be changed. Upon activation of the accept button window is closed and the user entry is updated in the PML data structure such as data structures or or both.

The above steps are related to the formation of the PML. The following steps are related to using the PML in one or more applications including one or more non map applications.

In step a request is received for a user entry field from the user s PML. For example a request is received from a messaging application on the UE or from an application on a different user device for one or more personal map items from the PML data structure . For example a request message is received from a messaging application on the UE or from an application on a different user device or from a network service or map service for one or more personal map items from the PML data structure . The request message identifies the requestor in the requestor ID field such as a source field in an Internet Protocol header. The request message identifies the user in the user ID field . Thus the request indicates the first user of UE . If the PDV field and user text field are blank the request is for a list of the labels for personal map items the requestor is permitted to see. Based on selecting one or more items from that list a subsequent request message indicates the PDV and user text of the label in fields and respectively. Thus in some embodiments the request indicates the text and in some embodiments the request indicates a personal description vocabulary term associated with the text. Thus step includes receiving a request for an association between the text and the geographic location for the first user.

If such a request message is received then in step the requesting entity is authenticated. For example credentials for the requestor are sent to the AAA service e.g. by sending a message to the PML server or though the PML server API . In step it is determined whether the requestor is permitted access to the requested personal map items of the user in fields . For example it is determined whether the requestor is a contact labeled as the user the immediate family family friend other contact or not labeled hence a member of the general public and the privacy level of the requested item. Thus it is determined whether the requestor is permitted to see the personal map item. Step effectively determines whether a second user associated with the request has permission for the privacy level associated with the text. If so then in step the requested personal map items or items are returned to the requestor e.g. the application . Thus step includes determining to send the association between the text and the geographic location if the second user does have permission for the privacy level. If not then in step the user is requested to add the requestor to a different category of contact or change the privacy level of the item or otherwise permit the requestor to receive the requested personal map item If nothing is changed the requestor is denied the personal map item. Thus step includes determining not to send the association between the text and the geographic location if the second user does not have permission for the privacy level. If a change is made to permit the requestor then the requested personal map item or items are returned to the requestor. IN some embodiments when seeking another user s personal layer the UI also provides means to ask for a specific item of the personal layer and at a requested level of privacy. For example user A might seek only user B s daughters play school even though user A may be a friend whose default may be a type C permission. User B upon seeing the request can grant permission for the same.

According to some embodiments personal map items can also be inserted into a message as indicated by the my map item active area and contact map item active area . When active area is selected the user of application attempts to insert a personal map items of the user s own PML. When active area is selected the user of the application attempts to insert a personal map items of the PML of a different user e.g. from the combined PML from a PML server or from a PML of a different user of the UE . In some embodiments the active areas and are presented in the user interface in response to a request sent to the client API by the application . Thus active areas and are presented through the client user interface module as described above.

For purposes of illustration it is assumed that active area is selected. In response the window opens. Window is presented through the client user interface module as described above. In some embodiments the window is presented in the user interface in response to a request sent to the client API by the application . The window includes a contacts pull down menu a permissions pull down menu and a personal map item list pull down menu . The contacts pull down menu is operated to select a contact whose personal map item is to be inserted.

Once such a contact is inserted the permissions pull down menu is operated to change a permission level for the contact in case the contact ever requests the requestor s PML. The default or formerly assigned permission level e.g. friend level 4 is presented in active area . The pull down menu is operated to change the permission level e.g. to Your Eyes Only level 1 Immediate Family level 2 Family level 3 Contacts level 5 or Public level 6 . In other embodiments pull menu is presented in other applications such as a social networking user interface when a contact is added or edited. It is convenient to depict active area in window to reduce the number of different user interfaces to describe. Similarly in some embodiments certain levels of permission are provided for individual items on personal layer while keeping rest of items as default.

Once such a contact is inserted and the requestor s permission to access the items of that contact is determined the list pull down menu is populated with the labels of the allowed items. One of the labels can then be selected to insert an object that represents that position into the message. For example if the child Alice school item is selected an object labeled child Alice school is inserted into the message. The object includes the map data associated with the child Alice School in the PML such as the position or POI or path. It is assumed that Alice246 was associated with the child using the contacts prompts described above. Because a person may have multiple children the PDV relationship child is modified by the contact information associated with that category. Alternatively the modifier Alice can be inserted as subjective text associated with the PDV term child. Thus one can distinguish child Alice from child Betty.

In step it is determined whether end conditions are satisfied. If so the process ends. Otherwise control passes back to step and following to continue tracking the device locations and context to learn other locations of import.

In step the personal description vocabulary PDV for map items is determined and stored e.g. in PDV data structure . Any method may be used to determine the PDV. For example the PDV is based on types of POI if any such as school hospital etc and the context such as time and duration of dwell and applications executing for test subjects while at their corresponding points of interest or non POI addresses. In some embodiments values for one or more entries or fields thereof are determined based on manual input by one or more experts. Thus vocabulary entries are added to a data structure .

In step a context vocabulary is determined and stored e.g. in context vocabulary data structure . In various embodiments a context vocabulary and topology is developed that identifies words and topics related to consumers contexts. Any method known in the art may be used to generate the context vocabulary and topology. For example several documents are collected that discuss and describe consumer context such as documents that describe the significance of whether the consumer is working for pay or performing other duties or at leisure whether the current time is a weeknight or weekend whether the current season is summer or winter whether the consumer is at home or away or whether the consumer is at a destination or en route whether a document is invoking a place name or a person name whether the consumer is stationary or moving and at what speeds and directions whether it is light or dark and what applications are available on a user equipment belonging to the consumer. These documents are mined to determine words related to consumer context collections of words related to context or relative usage of those words or some combination. In some embodiments the vocabulary topology includes topics imposed on or deduced from relative occurrences of words within the documents. For example in various embodiments probabilistic latent semantic indexing pLSI or latent Dirichlet allocation LDA well known in the art are used to deduce topics from words in a set of documents. Such methods can be used to derive context words and context topics from a set of documents that are directed to the circumstances of consumers of network services. Because each topic is associated with a group of words in certain relative abundances there is a topology relating topics to words and subtopics to higher level topics. In some embodiments a context vocabulary is built manually or by relying on or extending some standard topology such as Open Directory Project ODP vocabulary. In these embodiments LDA is not used in building the context vocabulary itself but once a vocabulary is established documents can be mined using LDA to see what topics context is contained within the document. The context vocabulary topology is used in various embodiments described herein to determine context for UE and for map items.

In some embodiments there are only two levels of categories e.g. topics and words below the root level context vocabulary. Each topic is defined by a set of words each with a particular range of occurrence percentages. In some of these embodiments a vocabulary of V words is represented by a V dimensional vector and each word is represented by a V dimensional vector with zeros in all positions but the position that corresponds to that particular word. Typically words of low meaning such as articles prepositions pronouns and commonly used words are ignored. Each of T topics is represented by a V dimensional vector with relative occurrences of each word in the topic represented by a percentage in the corresponding word positions. All topics are represented by a V T matrix.

When a word from the context vocabulary is found in a document e.g. a message from a user or a product description e.g. in field that word is considered a mixture of the different topics that include that word with a percent probability assigned to each topic based on the percentage of words in the document for example using the well known methods of LDA. As a result the entire document can be represented by a set of topics found in the document with a probability metric assigned to each topic e.g. a T dimensional vector with varying probabilities in each position of the vector. Such a vector is an example of a context token herein. Two documents such as a description of a product and a description of the current state of a UE can be compared by computing a similarity of the two T dimensional vectors tokens representing those documents such as a sum of products of corresponding terms. Alternatively or in addition a distance metric can be computed between the two documents which increases as the two tokens become less similar. Any distance metric can be used such as an order zero distance absolute value of the coordinate with the largest difference an order 1 distance a sum of the absolute values of the T differences an order two distance a sum of the squares of the T differences equivalent to the Euclidean distance an order three distance a sum of cubes of absolute values etc. The more similar are tokens from two documents or the smaller the distance between those tokens the more relevant are the documents to each other. In the following description it is assumed that a context vocabulary has been defined and is stored in a context vocabulary data structure. The context of a document or resource is represented by a context token. The more similar the context tokens of two documents e.g. the smaller the distance measure between them the more relevant one document is to the consumer context indicated by the other document.

Context vocabulary and tokens are not obtained only from mining a user text base but more often directly on context data from the device. Thus in some embodiments context vocabulary is defined based on output from the context engine which reflects all context that can be inferred from the device side e.g. as user location current activity transport mode in car in bus driving etc relations social contacts and executing applications e.g. messaging audio video games word processor spreadsheet etc .

In step user is registered for the personal map layer service. For example a subscriber to a subscription service such as a social networking service selects an icon to add a personal map layer application to the user s device. The user information is sent by the subscription service to the PML server through the server API . In another embodiment a user operates a browser to contact the PML server . During step one or more web pages for registering a user are presented to the user of UE through the browser . The user is registered or not based on those responses.

In step in response to a successful registration the client process including copies of the PDV data structure and context vocabulary data structure are made available to the client e.g. are sent to and installed on the user s device e.g. UE as modules and and as PDV data structure and context vocabulary data structure . Thus step to provide the client process on the UE is a means for doing any or all steps of the client described above. Thus step includes determining a geographic location indicated by operation of a device UE and determining text that describes a relationship between the geographic location and a first user of the device UE and determining a privacy level for the text.

In step the user contacts and permission levels are determined. For example the user contacts are sent by the subscription service to the PML server through the server API . Based on circles of friends in a social network service or responses to active area in window sent by the PML client the permission level of each contact is determined. In some embodiments a person not listed among the user s contacts is considered a member of the public and is permitted only to see map items with the public privacy level e.g. level 6.

In step it is determined whether a user entry update is received e.g. whether a message is received with one or more fields of data structure . For example such a message is sent by the PML client in step described above. If so then in step the updated entry is stored in the combined personal map layer data structure . The updated information either replaces data in one or more fields of a personal map item field already associated with the user who sent the message as indicated in field or is added as a new personal map item field . Thus step includes associating the first user of the device UE with the text and the geographic location and the privacy level in combined PML data structure . Step includes determining to store the association of the first user with the text and the geographic location and the privacy level into a common data structure for access by a plurality of user devices.

The above steps through are related to the formation of the combined PML data structure for multiple users. The following steps are related to using the PML in one or more applications including one or more non map applications.

In step a request is received for a user entry from the combined PML data structure . For example request message described above is received. Thus step includes receiving a request for an association between the text and the geographic location for the first user.

If such a request is received then in step the requesting entity is authenticated. For example credentials for the requestor are sent to the AAA service . In step it is determined whether the requestor is permitted access to the requested personal map items in fields of the user indicated in field . For example it is determined whether the requestor is a contact labeled as the user the immediate family family friend other contact or not labeled hence a member of the general public and the privacy level of the requested item. Thus it is determined whether the requestor is permitted to see the personal map item e.g. it is determined whether a second user associated with the request has permission for the privacy level associated with the text. If so then in step the requested personal map items or items are returned to the requestor e.g. to the application . For example a list of labels to be presented for example in area is returned if field or field is blank in the request. Alternatively for example the map data from field associated with the label specified in the request is returned if field and field hold information indicating the personal label. Thus step includes determining to send the association between the text and the geographic location if the second user does have permission for the privacy level.

If the requestor is not permitted to access the requested personal map item then in step the user is requested to add the requestor to a different category of contact e.g. in active area or change the privacy level of the item e.g. in active area or otherwise permit the requestor to receive the requested personal map item. If nothing is changed the requestor is denied the personal map item. Thus step includes determining not to send the association between the text and the geographic location if the second user does not have permission for the privacy level. If a change is made to permit the requestor then the requested personal map item or items are returned to the requestor.

In step it is determined whether another user is to be registered. If so control passes back to step and following to register that user. In step it is determined whether end conditions are satisfied for ending the PML service e.g. for maintenance or equipment change. If so the process ends. Otherwise control passes back to step and following to process any updates or requests for personal map layer information as described above.

One or more register user messages are sent from the process to the PML service e.g. in step . In some embodiments the register user messages are sent from the AAA service or a social network service . In response one or more messages are sent to the UE to install the PML client e.g. in step described above.

In process the PML client tracks the position and context including dwell times of the UE e.g. in steps to described above. Map data such as POI IDs and paths along roads are determined in one or more messages exchanged with the map service . In process the user is prompted to tag a map location POI or path with a personal tag e.g. in steps through described above and update the user s PML data structure e.g. in step . The update is sent in one or more messages to the PML service to update the combined PML e.g. combined PML data structure . This process is described on the client side in step and on the server side in steps and .

Subsequently in some embodiments one or more request messages are sent from the browser or UE application on UE or from network service or to the PML client . In process the requestor is authenticated e.g. by exchanging one or more authentication messages with AAA service and a successful or unsuccessful result is sent in one or more return result messages . Process is performed for example in steps to described above.

Similarly in some embodiments one or more request messages are sent from the browser or UE application on UE or from network service or to the PML server . In process the requestor is authenticated e.g. by exchanging one or more authentication messages with AAA service and a successful or unsuccessful result is sent in one or more return result messages . Process is performed for example in steps to described above.

The processes described herein for providing a secure shared personal map layer may be advantageously implemented via software hardware firmware or a combination of software and or firmware and or hardware. For example the processes described herein may be advantageously implemented via processor s Digital Signal Processing DSP chip an Application Specific Integrated Circuit ASIC Field Programmable Gate Arrays FPGAs etc. Such exemplary hardware for performing the described functions is detailed below.

A bus includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors for processing information are coupled with the bus .

A processor or multiple processors performs a set of operations on information as specified by computer program code related to providing a secure shared personal map layer. The computer program code is a set of instructions or statements providing instructions for the operation of the processor and or the computer system to perform specified functions. The code for example may be written in a computer programming language that is compiled into a native instruction set of the processor. The code may also be written directly using the native instruction set e.g. machine language . The set of operations include bringing information in from the bus and placing information on the bus . The set of operations also typically include comparing two or more units of information shifting positions of units of information and combining two or more units of information such as by addition or multiplication or logical operations like OR exclusive OR XOR and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions such as an operation code of one or more digits. A sequence of operations to be executed by the processor such as a sequence of operation codes constitute processor instructions also called computer system instructions or simply computer instructions. Processors may be implemented as mechanical electrical magnetic optical chemical or quantum components among others alone or in combination.

Computer system also includes a memory coupled to bus . The memory such as a random access memory RAM or other dynamic storage device stores information including processor instructions for providing a secure shared personal map layer. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory is also used by the processor to store temporary values during execution of processor instructions. The computer system also includes a read only memory ROM or other static storage device coupled to the bus for storing static information including instructions that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus is a non volatile persistent storage device such as a magnetic disk optical disk or flash card for storing information including instructions that persists even when the computer system is turned off or otherwise loses power.

Information including instructions for providing a secure shared personal map layer providing a secure shared personal map layer is provided to the bus for use by the processor from an external input device such as a keyboard containing alphanumeric keys operated by a human user or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus used primarily for interacting with humans include a display device such as a cathode ray tube CRT or a liquid crystal display LCD or plasma screen or printer for presenting text or images and a pointing device such as a mouse or a trackball or cursor direction keys or motion sensor for controlling a position of a small cursor image presented on the display and issuing commands associated with graphical elements presented on the display . In some embodiments for example in embodiments in which the computer system performs all functions automatically without human input one or more of external input device display device and pointing device is omitted.

In the illustrated embodiment special purpose hardware such as an application specific integrated circuit ASIC is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display cryptographic boards for encrypting and decrypting messages sent over a network speech recognition and interfaces to special external devices such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.

Computer system also includes one or more instances of a communications interface coupled to bus . Communication interface provides a one way or two way communication coupling to a variety of external devices that operate with their own processors such as printers scanners and external disks. In general the coupling is with a network link that is connected to a local network to which a variety of external devices with their own processors are connected. For example communication interface may be a parallel port or a serial port or a universal serial bus USB port on a personal computer. In some embodiments communications interface is an integrated services digital network ISDN card or a digital subscriber line DSL card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments a communication interface is a cable modem that converts signals on bus into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example communications interface may be a local area network LAN card to provide a data communication connection to a compatible LAN such as Ethernet. Wireless links may also be implemented. For wireless links the communications interface sends or receives or both sends and receives electrical acoustic or electromagnetic signals including infrared and optical signals that carry information streams such as digital data. For example in wireless handheld devices such as mobile telephones like cell phones the communications interface includes a radio band electromagnetic transmitter and receiver called a radio transceiver. In certain embodiments the communications interface enables connection to the communication network for providing a secure shared personal map layer to the UE .

The term computer readable medium as used herein refers to any medium that participates in providing information to processor including instructions for execution. Such a medium may take many forms including but not limited to computer readable storage medium e.g. non volatile media volatile media and transmission media. Non transitory media such as non volatile media include for example optical or magnetic disks such as storage device . Volatile media include for example dynamic memory . Transmission media include for example coaxial cables copper wire fiber optic cables and carrier waves that travel through space without wires or cables such as acoustic waves and electromagnetic waves including radio optical and infrared waves. Signals include man made transient variations in amplitude frequency phase polarization or other physical properties transmitted through the transmission media. Common forms of computer readable media include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM CDRW DVD any other optical medium punch cards paper tape optical mark sheets any other physical medium with patterns of holes or other optically recognizable indicia a RAM a PROM an EPROM a FLASH EPROM any other memory chip or cartridge a carrier wave or any other medium from which a computer can read. The term computer readable storage medium is used herein to refer to any computer readable medium except transmission media.

Logic encoded in one or more tangible media includes one or both of processor instructions on a computer readable storage media and special purpose hardware such as ASIC .

Network link typically provides information communication using transmission media through one or more networks to other devices that use or process the information. For example network link may provide a connection through local network to a host computer or to equipment operated by an Internet Service Provider ISP . ISP equipment in turn provides data communication services through the public world wide packet switching communication network of networks now commonly referred to as the Internet .

A computer called a server host connected to the Internet hosts a process that provides a service in response to information received over the Internet. For example server host hosts a process that provides information representing video data for presentation at display . It is contemplated that the components of system can be deployed in various configurations within other computer systems e.g. host and server .

At least some embodiments of the invention are related to the use of computer system for implementing some or all of the techniques described herein. According to one embodiment of the invention those techniques are performed by computer system in response to processor executing one or more sequences of one or more processor instructions contained in memory . Such instructions also called computer instructions software and program code may be read into memory from another computer readable medium such as storage device or network link . Execution of the sequences of instructions contained in memory causes processor to perform one or more of the method steps described herein. In alternative embodiments hardware such as ASIC may be used in place of or in combination with software to implement the invention. Thus embodiments of the invention are not limited to any specific combination of hardware and software unless otherwise explicitly stated herein.

The signals transmitted over network link and other networks through communications interface carry information to and from computer system . Computer system can send and receive information including program code through the networks among others through network link and communications interface . In an example using the Internet a server host transmits program code for a particular application requested by a message sent from computer through Internet ISP equipment local network and communications interface . The received code may be executed by processor as it is received or may be stored in memory or in storage device or other non volatile storage for later execution or both. In this manner computer system may obtain application program code in the form of signals on a carrier wave.

Various forms of computer readable media may be involved in carrying one or more sequence of instructions or data or both to processor for execution. For example instructions and data may initially be carried on a magnetic disk of a remote computer such as host . The remote computer loads the instructions and data into its dynamic memory and sends the instructions and data over a telephone line using a modem. A modem local to the computer system receives the instructions and data on a telephone line and uses an infra red transmitter to convert the instructions and data to a signal on an infra red carrier wave serving as the network link . An infrared detector serving as communications interface receives the instructions and data carried in the infrared signal and places information representing the instructions and data onto bus . Bus carries the information to memory from which processor retrieves and executes the instructions using some of the data sent with the instructions. The instructions and data received in memory may optionally be stored on storage device either before or after execution by the processor .

In one embodiment the chip set or chip includes a communication mechanism such as a bus for passing information among the components of the chip set . A processor has connectivity to the bus to execute instructions and process information stored in for example a memory . The processor may include one or more processing cores with each core configured to perform independently. A multi core processor enables multiprocessing within a single physical package. Examples of a multi core processor include two four eight or greater numbers of processing cores. Alternatively or in addition the processor may include one or more microprocessors configured in tandem via the bus to enable independent execution of instructions pipelining and multithreading. The processor may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors DSP or one or more application specific integrated circuits ASIC . A DSP typically is configured to process real world signals e.g. sound in real time independently of the processor . Similarly an ASIC can be configured to performed specialized functions not easily performed by a more general purpose processor. Other specialized components to aid in performing the inventive functions described herein may include one or more field programmable gate arrays FPGA not shown one or more controllers not shown or one or more other special purpose computer chips.

In one embodiment the chip set or chip includes merely one or more processors and some software and or firmware supporting and or relating to and or for the one or more processors.

The processor and accompanying components have connectivity to the memory via the bus . The memory includes both dynamic memory e.g. RAM magnetic disk writable optical disk etc. and static memory e.g. ROM CD ROM etc. for storing executable instructions that when executed perform the inventive steps described herein to provide a secure shared personal map layer. The memory also stores the data associated with or generated by the execution of the inventive steps.

Pertinent internal components of the telephone include a Main Control Unit MCU a Digital Signal Processor DSP and a receiver transmitter unit including a microphone gain control unit and a speaker gain control unit. A main display unit provides a display to the user in support of various applications and mobile terminal functions that perform or support the steps of providing a secure shared personal map layer. The display includes display circuitry configured to display at least a portion of a user interface of the mobile terminal e.g. mobile telephone . Additionally the display and display circuitry are configured to facilitate user control of at least some functions of the mobile terminal. An audio function circuitry includes a microphone and microphone amplifier that amplifies the speech signal output from the microphone . The amplified speech signal output from the microphone is fed to a coder decoder CODEC .

A radio section amplifies power and converts frequency in order to communicate with a base station which is included in a mobile communication system via antenna . The power amplifier PA and the transmitter modulation circuitry are operationally responsive to the MCU with an output from the PA coupled to the duplexer or circulator or antenna switch as known in the art. The PA also couples to a battery interface and power control unit .

In use a user of mobile terminal speaks into the microphone and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter ADC . The control unit routes the digital signal into the DSP for processing therein such as speech encoding channel encoding encrypting and interleaving. In one embodiment the processed voice signals are encoded by units not separately shown using a cellular transmission protocol such as global evolution EDGE general packet radio service GPRS global system for mobile communications GSM Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. microwave access WiMAX Long Term Evolution LTE networks code division multiple access CDMA wideband code division multiple access WCDMA wireless fidelity WiFi satellite and the like.

The encoded signals are then routed to an equalizer for compensation of any frequency dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream the modulator combines the signal with a RF signal generated in the RF interface . The modulator generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission an up converter combines the sine wave output from the modulator with another sine wave generated by a synthesizer to achieve the desired frequency of transmission. The signal is then sent through a PA to increase the signal to an appropriate power level. In practical systems the PA acts as a variable gain amplifier whose gain is controlled by the DSP from information received from a network base station. The signal is then filtered within the duplexer and optionally sent to an antenna coupler to match impedances to provide maximum power transfer. Finally the signal is transmitted via antenna to a local base station. An automatic gain control AGC can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone other mobile phone or a land line connected to a Public Switched Telephone Network PSTN or other telephony networks.

Voice signals transmitted to the mobile terminal are received via antenna and immediately amplified by a low noise amplifier LNA . A down converter lowers the carrier frequency while the demodulator strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer and is processed by the DSP . A Digital to Analog Converter DAC converts the signal and the resulting output is transmitted to the user through the speaker all under control of a Main Control Unit MCU which can be implemented as a Central Processing Unit CPU not shown .

The MCU receives various signals including input signals from the keyboard . The keyboard and or the MCU in combination with other user input components e.g. the microphone comprise a user interface circuitry for managing user input. The MCU runs a user interface software to facilitate user control of at least some functions of the mobile terminal to provide a secure shared personal map layer. The MCU also delivers a display command and a switch command to the display and to the speech output switching controller respectively. Further the MCU exchanges information with the DSP and can access an optionally incorporated SIM card and a memory . In addition the MCU executes various control functions required of the terminal. The DSP may depending upon the implementation perform any of a variety of conventional digital processing functions on the voice signals. Additionally DSP determines the background noise level of the local environment from the signals detected by microphone and sets the gain of microphone to a level selected to compensate for the natural tendency of the user of the mobile terminal .

The CODEC includes the ADC and DAC . The memory stores various data including call incoming tone data and is capable of storing other data including music data received via e.g. the global Internet. The software module could reside in RAM memory flash memory registers or any other form of writable storage medium known in the art. The memory device may be but not limited to a single memory CD DVD ROM RAM EEPROM optical storage or any other non volatile storage medium capable of storing digital data.

An optionally incorporated SIM card carries for instance important information such as the cellular phone number the carrier supplying service subscription details and security information. The SIM card serves primarily to identify the mobile terminal on a radio network. The card also contains a memory for storing a personal telephone number registry text messages and user specific mobile terminal settings.

While the invention has been described in connection with a number of embodiments and implementations the invention is not so limited but covers various obvious modifications and equivalent arrangements which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims it is contemplated that these features can be arranged in any combination and order.

